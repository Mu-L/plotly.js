/**
* plotly.js (gl3d - minified) v3.2.0
* Copyright 2012-2025, Plotly, Inc.
* All rights reserved.
* Licensed under the MIT license
*/
(
 function(root, factory) {
  if (typeof module === "object" && module.exports) {
   module.exports = factory();
  } else {
   root.moduleName = factory();
  }
} (typeof self !== "undefined" ? self : this, () => {
"use strict";var Plotly=(()=>{var EB=Object.defineProperty,LB=Object.defineProperties;var DB=Object.getOwnPropertyDescriptors;var lx=Object.getOwnPropertySymbols;var RB=Object.prototype.hasOwnProperty,PB=Object.prototype.propertyIsEnumerable;var sx=(e,r,t)=>r in e?EB(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,xl=(e,r)=>{for(var t in r||(r={}))RB.call(r,t)&&sx(e,t,r[t]);if(lx)for(var t of lx(r))PB.call(r,t)&&sx(e,t,r[t]);return e},xc=(e,r)=>LB(e,DB(r));var de=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var _c=de(ux=>{"use strict";ux.version="3.2.0"});var cx=de((fx,wc)=>{(function(r,t,n){t[r]=t[r]||n(),typeof wc!="undefined"&&wc.exports&&(wc.exports=t[r])})("Promise",typeof window!="undefined"?window:fx,function(){"use strict";var r,t,n,a=Object.prototype.toString,o=typeof setImmediate!="undefined"?function(k){return setImmediate(k)}:setTimeout;try{Object.defineProperty({},"x",{}),r=function(k,S,b,M){return Object.defineProperty(k,S,{value:b,writable:!0,configurable:M!==!1})}}catch(y){r=function(S,b,M){return S[b]=M,S}}n=function(){var k,S,b;function M(d,x){this.fn=d,this.self=x,this.next=void 0}return{add:function(x,g){b=new M(x,g),S?S.next=b:k=b,S=b,b=void 0},drain:function(){var x=k;for(k=S=t=void 0;x;)x.fn.call(x.self),x=x.next}}}();function i(y,k){n.add(y,k),t||(t=o(n.drain))}function l(y){var k,S=typeof y;return y!=null&&(S=="object"||S=="function")&&(k=y.then),typeof k=="function"?k:!1}function u(){for(var y=0;y<this.chain.length;y++)s(this,this.state===1?this.chain[y].success:this.chain[y].failure,this.chain[y]);this.chain.length=0}function s(y,k,S){var b,M;try{k===!1?S.reject(y.msg):(k===!0?b=y.msg:b=k.call(void 0,y.msg),b===S.promise?S.reject(TypeError("Promise-chain cycle")):(M=l(b))?M.call(b,S.resolve,S.reject):S.resolve(b))}catch(d){S.reject(d)}}function f(y){var k,S=this;if(!S.triggered){S.triggered=!0,S.def&&(S=S.def);try{(k=l(y))?i(function(){var b=new _(S);try{k.call(y,function(){f.apply(b,arguments)},function(){h.apply(b,arguments)})}catch(M){h.call(b,M)}}):(S.msg=y,S.state=1,S.chain.length>0&&i(u,S))}catch(b){h.call(new _(S),b)}}}function h(y){var k=this;k.triggered||(k.triggered=!0,k.def&&(k=k.def),k.msg=y,k.state=2,k.chain.length>0&&i(u,k))}function p(y,k,S,b){for(var M=0;M<k.length;M++)(function(x){y.resolve(k[x]).then(function(c){S(x,c)},b)})(M)}function _(y){this.def=y,this.triggered=!1}function m(y){this.promise=y,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(y){if(typeof y!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var k=new m(this);this.then=function(b,M){var d={success:typeof b=="function"?b:!0,failure:typeof M=="function"?M:!1};return d.promise=new this.constructor(function(g,c){if(typeof g!="function"||typeof c!="function")throw TypeError("Not a function");d.resolve=g,d.reject=c}),k.chain.push(d),k.state!==0&&i(u,k),d.promise},this.catch=function(b){return this.then(void 0,b)};try{y.call(void 0,function(b){f.call(k,b)},function(b){h.call(k,b)})}catch(S){h.call(k,S)}}var T=r({},"constructor",w,!1);return w.prototype=T,r(T,"__NPO__",0,!1),r(w,"resolve",function(k){var S=this;return k&&typeof k=="object"&&k.__NPO__===1?k:new S(function(M,d){if(typeof M!="function"||typeof d!="function")throw TypeError("Not a function");M(k)})}),r(w,"reject",function(k){return new this(function(b,M){if(typeof b!="function"||typeof M!="function")throw TypeError("Not a function");M(k)})}),r(w,"all",function(k){var S=this;return a.call(k)!="[object Array]"?S.reject(TypeError("Not an array")):k.length===0?S.resolve([]):new S(function(M,d){if(typeof M!="function"||typeof d!="function")throw TypeError("Not a function");var x=k.length,g=Array(x),c=0;p(S,k,function(v,D){g[v]=D,++c===x&&M(g)},d)})}),r(w,"race",function(k){var S=this;return a.call(k)!="[object Array]"?S.reject(TypeError("Not an array")):new S(function(M,d){if(typeof M!="function"||typeof d!="function")throw TypeError("Not a function");p(S,k,function(g,c){M(c)},d)})}),w})});var it=de(($ue,Mc)=>{(function(){var e={version:"3.8.2"},r=[].slice,t=function(C){return r.call(C)},n=self.document;function a(C){return C&&(C.ownerDocument||C.document||C).documentElement}function o(C){return C&&(C.ownerDocument&&C.ownerDocument.defaultView||C.document&&C||C.defaultView)}if(n)try{t(n.documentElement.childNodes)[0].nodeType}catch(C){t=function(z){for(var B=z.length,G=new Array(B);B--;)G[B]=z[B];return G}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch(C){var i=this.Element.prototype,l=i.setAttribute,u=i.setAttributeNS,s=this.CSSStyleDeclaration.prototype,f=s.setProperty;i.setAttribute=function(z,B){l.call(this,z,B+"")},i.setAttributeNS=function(z,B,G){u.call(this,z,B,G+"")},s.setProperty=function(z,B,G){f.call(this,z,B+"",G)}}e.ascending=h;function h(C,z){return C<z?-1:C>z?1:C>=z?0:NaN}e.descending=function(C,z){return z<C?-1:z>C?1:z>=C?0:NaN},e.min=function(C,z){var B=-1,G=C.length,W,Z;if(arguments.length===1){for(;++B<G;)if((Z=C[B])!=null&&Z>=Z){W=Z;break}for(;++B<G;)(Z=C[B])!=null&&W>Z&&(W=Z)}else{for(;++B<G;)if((Z=z.call(C,C[B],B))!=null&&Z>=Z){W=Z;break}for(;++B<G;)(Z=z.call(C,C[B],B))!=null&&W>Z&&(W=Z)}return W},e.max=function(C,z){var B=-1,G=C.length,W,Z;if(arguments.length===1){for(;++B<G;)if((Z=C[B])!=null&&Z>=Z){W=Z;break}for(;++B<G;)(Z=C[B])!=null&&Z>W&&(W=Z)}else{for(;++B<G;)if((Z=z.call(C,C[B],B))!=null&&Z>=Z){W=Z;break}for(;++B<G;)(Z=z.call(C,C[B],B))!=null&&Z>W&&(W=Z)}return W},e.extent=function(C,z){var B=-1,G=C.length,W,Z,le;if(arguments.length===1){for(;++B<G;)if((Z=C[B])!=null&&Z>=Z){W=le=Z;break}for(;++B<G;)(Z=C[B])!=null&&(W>Z&&(W=Z),le<Z&&(le=Z))}else{for(;++B<G;)if((Z=z.call(C,C[B],B))!=null&&Z>=Z){W=le=Z;break}for(;++B<G;)(Z=z.call(C,C[B],B))!=null&&(W>Z&&(W=Z),le<Z&&(le=Z))}return[W,le]};function p(C){return C===null?NaN:+C}function _(C){return!isNaN(C)}e.sum=function(C,z){var B=0,G=C.length,W,Z=-1;if(arguments.length===1)for(;++Z<G;)_(W=+C[Z])&&(B+=W);else for(;++Z<G;)_(W=+z.call(C,C[Z],Z))&&(B+=W);return B},e.mean=function(C,z){var B=0,G=C.length,W,Z=-1,le=G;if(arguments.length===1)for(;++Z<G;)_(W=p(C[Z]))?B+=W:--le;else for(;++Z<G;)_(W=p(z.call(C,C[Z],Z)))?B+=W:--le;if(le)return B/le},e.quantile=function(C,z){var B=(C.length-1)*z+1,G=Math.floor(B),W=+C[G-1],Z=B-G;return Z?W+Z*(C[G]-W):W},e.median=function(C,z){var B=[],G=C.length,W,Z=-1;if(arguments.length===1)for(;++Z<G;)_(W=p(C[Z]))&&B.push(W);else for(;++Z<G;)_(W=p(z.call(C,C[Z],Z)))&&B.push(W);if(B.length)return e.quantile(B.sort(h),.5)},e.variance=function(C,z){var B=C.length,G=0,W,Z,le=0,ie=-1,fe=0;if(arguments.length===1)for(;++ie<B;)_(W=p(C[ie]))&&(Z=W-G,G+=Z/++fe,le+=Z*(W-G));else for(;++ie<B;)_(W=p(z.call(C,C[ie],ie)))&&(Z=W-G,G+=Z/++fe,le+=Z*(W-G));if(fe>1)return le/(fe-1)},e.deviation=function(){var C=e.variance.apply(this,arguments);return C&&Math.sqrt(C)};function m(C){return{left:function(z,B,G,W){for(arguments.length<3&&(G=0),arguments.length<4&&(W=z.length);G<W;){var Z=G+W>>>1;C(z[Z],B)<0?G=Z+1:W=Z}return G},right:function(z,B,G,W){for(arguments.length<3&&(G=0),arguments.length<4&&(W=z.length);G<W;){var Z=G+W>>>1;C(z[Z],B)>0?W=Z:G=Z+1}return G}}}var w=m(h);e.bisectLeft=w.left,e.bisect=e.bisectRight=w.right,e.bisector=function(C){return m(C.length===1?function(z,B){return h(C(z),B)}:C)},e.shuffle=function(C,z,B){(G=arguments.length)<3&&(B=C.length,G<2&&(z=0));for(var G=B-z,W,Z;G;)Z=Math.random()*G--|0,W=C[G+z],C[G+z]=C[Z+z],C[Z+z]=W;return C},e.permute=function(C,z){for(var B=z.length,G=new Array(B);B--;)G[B]=C[z[B]];return G},e.pairs=function(C){for(var z=0,B=C.length-1,G,W=C[0],Z=new Array(B<0?0:B);z<B;)Z[z]=[G=W,W=C[++z]];return Z},e.transpose=function(C){if(!(Z=C.length))return[];for(var z=-1,B=e.min(C,T),G=new Array(B);++z<B;)for(var W=-1,Z,le=G[z]=new Array(Z);++W<Z;)le[W]=C[W][z];return G};function T(C){return C.length}e.zip=function(){return e.transpose(arguments)},e.keys=function(C){var z=[];for(var B in C)z.push(B);return z},e.values=function(C){var z=[];for(var B in C)z.push(C[B]);return z},e.entries=function(C){var z=[];for(var B in C)z.push({key:B,value:C[B]});return z},e.merge=function(C){for(var z=C.length,B,G=-1,W=0,Z,le;++G<z;)W+=C[G].length;for(Z=new Array(W);--z>=0;)for(le=C[z],B=le.length;--B>=0;)Z[--W]=le[B];return Z};var y=Math.abs;e.range=function(C,z,B){if(arguments.length<3&&(B=1,arguments.length<2&&(z=C,C=0)),(z-C)/B===1/0)throw new Error("infinite range");var G=[],W=k(y(B)),Z=-1,le;if(C*=W,z*=W,B*=W,B<0)for(;(le=C+B*++Z)>z;)G.push(le/W);else for(;(le=C+B*++Z)<z;)G.push(le/W);return G};function k(C){for(var z=1;C*z%1;)z*=10;return z}function S(C,z){for(var B in z)Object.defineProperty(C.prototype,B,{value:z[B],enumerable:!1})}e.map=function(C,z){var B=new b;if(C instanceof b)C.forEach(function(ie,fe){B.set(ie,fe)});else if(Array.isArray(C)){var G=-1,W=C.length,Z;if(arguments.length===1)for(;++G<W;)B.set(G,C[G]);else for(;++G<W;)B.set(z.call(C,Z=C[G],G),Z)}else for(var le in C)B.set(le,C[le]);return B};function b(){this._=Object.create(null)}var M="__proto__",d="\0";S(b,{has:c,get:function(C){return this._[x(C)]},set:function(C,z){return this._[x(C)]=z},remove:A,keys:v,values:function(){var C=[];for(var z in this._)C.push(this._[z]);return C},entries:function(){var C=[];for(var z in this._)C.push({key:g(z),value:this._[z]});return C},size:D,empty:E,forEach:function(C){for(var z in this._)C.call(this,g(z),this._[z])}});function x(C){return(C+="")===M||C[0]===d?d+C:C}function g(C){return(C+="")[0]===d?C.slice(1):C}function c(C){return x(C)in this._}function A(C){return(C=x(C))in this._&&delete this._[C]}function v(){var C=[];for(var z in this._)C.push(g(z));return C}function D(){var C=0;for(var z in this._)++C;return C}function E(){for(var C in this._)return!1;return!0}e.nest=function(){var C={},z=[],B=[],G,W;function Z(ie,fe,xe){if(xe>=z.length)return W?W.call(C,fe):G?fe.sort(G):fe;for(var _e=-1,Ie=fe.length,Fe=z[xe++],Je,rr,Oe,Ge=new b,We;++_e<Ie;)(We=Ge.get(Je=Fe(rr=fe[_e])))?We.push(rr):Ge.set(Je,[rr]);return ie?(rr=ie(),Oe=function(je,tr){rr.set(je,Z(ie,tr,xe))}):(rr={},Oe=function(je,tr){rr[je]=Z(ie,tr,xe)}),Ge.forEach(Oe),rr}function le(ie,fe){if(fe>=z.length)return ie;var xe=[],_e=B[fe++];return ie.forEach(function(Ie,Fe){xe.push({key:Ie,values:le(Fe,fe)})}),_e?xe.sort(function(Ie,Fe){return _e(Ie.key,Fe.key)}):xe}return C.map=function(ie,fe){return Z(fe,ie,0)},C.entries=function(ie){return le(Z(e.map,ie,0),0)},C.key=function(ie){return z.push(ie),C},C.sortKeys=function(ie){return B[z.length-1]=ie,C},C.sortValues=function(ie){return G=ie,C},C.rollup=function(ie){return W=ie,C},C},e.set=function(C){var z=new R;if(C)for(var B=0,G=C.length;B<G;++B)z.add(C[B]);return z};function R(){this._=Object.create(null)}S(R,{has:c,add:function(C){return this._[x(C+="")]=!0,C},remove:A,values:v,size:D,empty:E,forEach:function(C){for(var z in this._)C.call(this,g(z))}}),e.behavior={};function N(C){return C}e.rebind=function(C,z){for(var B=1,G=arguments.length,W;++B<G;)C[W=arguments[B]]=F(C,z,z[W]);return C};function F(C,z,B){return function(){var G=B.apply(z,arguments);return G===z?C:G}}function I(C,z){if(z in C)return z;z=z.charAt(0).toUpperCase()+z.slice(1);for(var B=0,G=L.length;B<G;++B){var W=L[B]+z;if(W in C)return W}}var L=["webkit","ms","moz","Moz","o","O"];function P(){}e.dispatch=function(){for(var C=new O,z=-1,B=arguments.length;++z<B;)C[arguments[z]]=U(C);return C};function O(){}O.prototype.on=function(C,z){var B=C.indexOf("."),G="";if(B>=0&&(G=C.slice(B+1),C=C.slice(0,B)),C)return arguments.length<2?this[C].on(G):this[C].on(G,z);if(arguments.length===2){if(z==null)for(C in this)this.hasOwnProperty(C)&&this[C].on(G,null);return this}};function U(C){var z=[],B=new b;function G(){for(var W=z,Z=-1,le=W.length,ie;++Z<le;)(ie=W[Z].on)&&ie.apply(this,arguments);return C}return G.on=function(W,Z){var le=B.get(W),ie;return arguments.length<2?le&&le.on:(le&&(le.on=null,z=z.slice(0,ie=z.indexOf(le)).concat(z.slice(ie+1)),B.remove(W)),Z&&z.push(B.set(W,{on:Z})),C)},G}e.event=null;function X(){e.event.preventDefault()}function $(){for(var C=e.event,z;z=C.sourceEvent;)C=z;return C}function j(C){for(var z=new O,B=0,G=arguments.length;++B<G;)z[arguments[B]]=U(z);return z.of=function(W,Z){return function(le){try{var ie=le.sourceEvent=e.event;le.target=C,e.event=le,z[le.type].apply(W,Z)}finally{e.event=ie}}},z}e.requote=function(C){return C.replace(Y,"\\$&")};var Y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(C,z){C.__proto__=z}:function(C,z){for(var B in z)C[B]=z[B]};function K(C){return q(C,re),C}var ne=function(C,z){return z.querySelector(C)},Q=function(C,z){return z.querySelectorAll(C)},oe=function(C,z){var B=C.matches||C[I(C,"matchesSelector")];return oe=function(G,W){return B.call(G,W)},oe(C,z)};typeof Sizzle=="function"&&(ne=function(C,z){return Sizzle(C,z)[0]||null},Q=Sizzle,oe=Sizzle.matchesSelector),e.selection=function(){return e.select(n.documentElement)};var re=e.selection.prototype=[];re.select=function(C){var z=[],B,G,W,Z;C=H(C);for(var le=-1,ie=this.length;++le<ie;){z.push(B=[]),B.parentNode=(W=this[le]).parentNode;for(var fe=-1,xe=W.length;++fe<xe;)(Z=W[fe])?(B.push(G=C.call(Z,Z.__data__,fe,le)),G&&"__data__"in Z&&(G.__data__=Z.__data__)):B.push(null)}return K(z)};function H(C){return typeof C=="function"?C:function(){return ne(C,this)}}re.selectAll=function(C){var z=[],B,G;C=ee(C);for(var W=-1,Z=this.length;++W<Z;)for(var le=this[W],ie=-1,fe=le.length;++ie<fe;)(G=le[ie])&&(z.push(B=t(C.call(G,G.__data__,ie,W))),B.parentNode=G);return K(z)};function ee(C){return typeof C=="function"?C:function(){return Q(C,this)}}var V="http://www.w3.org/1999/xhtml",te={svg:"http://www.w3.org/2000/svg",xhtml:V,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:te,qualify:function(C){var z=C.indexOf(":"),B=C;return z>=0&&(B=C.slice(0,z))!=="xmlns"&&(C=C.slice(z+1)),te.hasOwnProperty(B)?{space:te[B],local:C}:C}},re.attr=function(C,z){if(arguments.length<2){if(typeof C=="string"){var B=this.node();return C=e.ns.qualify(C),C.local?B.getAttributeNS(C.space,C.local):B.getAttribute(C)}for(z in C)this.each(ue(z,C[z]));return this}return this.each(ue(C,z))};function ue(C,z){C=e.ns.qualify(C);function B(){this.removeAttribute(C)}function G(){this.removeAttributeNS(C.space,C.local)}function W(){this.setAttribute(C,z)}function Z(){this.setAttributeNS(C.space,C.local,z)}function le(){var fe=z.apply(this,arguments);fe==null?this.removeAttribute(C):this.setAttribute(C,fe)}function ie(){var fe=z.apply(this,arguments);fe==null?this.removeAttributeNS(C.space,C.local):this.setAttributeNS(C.space,C.local,fe)}return z==null?C.local?G:B:typeof z=="function"?C.local?ie:le:C.local?Z:W}function ve(C){return C.trim().replace(/\s+/g," ")}re.classed=function(C,z){if(arguments.length<2){if(typeof C=="string"){var B=this.node(),G=(C=Se(C)).length,W=-1;if(z=B.classList){for(;++W<G;)if(!z.contains(C[W]))return!1}else for(z=B.getAttribute("class");++W<G;)if(!ke(C[W]).test(z))return!1;return!0}for(z in C)this.each(he(z,C[z]));return this}return this.each(he(C,z))};function ke(C){return new RegExp("(?:^|\\s+)"+e.requote(C)+"(?:\\s+|$)","g")}function Se(C){return(C+"").trim().split(/^|\s+/)}function he(C,z){C=Se(C).map(Ae);var B=C.length;function G(){for(var Z=-1;++Z<B;)C[Z](this,z)}function W(){for(var Z=-1,le=z.apply(this,arguments);++Z<B;)C[Z](this,le)}return typeof z=="function"?W:G}function Ae(C){var z=ke(C);return function(B,G){if(W=B.classList)return G?W.add(C):W.remove(C);var W=B.getAttribute("class")||"";G?(z.lastIndex=0,z.test(W)||B.setAttribute("class",ve(W+" "+C))):B.setAttribute("class",ve(W.replace(z," ")))}}re.style=function(C,z,B){var G=arguments.length;if(G<3){if(typeof C!="string"){G<2&&(z="");for(B in C)this.each(Ce(B,C[B],z));return this}if(G<2){var W=this.node();return o(W).getComputedStyle(W,null).getPropertyValue(C)}B=""}return this.each(Ce(C,z,B))};function Ce(C,z,B){function G(){this.style.removeProperty(C)}function W(){this.style.setProperty(C,z,B)}function Z(){var le=z.apply(this,arguments);le==null?this.style.removeProperty(C):this.style.setProperty(C,le,B)}return z==null?G:typeof z=="function"?Z:W}re.property=function(C,z){if(arguments.length<2){if(typeof C=="string")return this.node()[C];for(z in C)this.each(Pe(z,C[z]));return this}return this.each(Pe(C,z))};function Pe(C,z){function B(){delete this[C]}function G(){this[C]=z}function W(){var Z=z.apply(this,arguments);Z==null?delete this[C]:this[C]=Z}return z==null?B:typeof z=="function"?W:G}re.text=function(C){return arguments.length?this.each(typeof C=="function"?function(){var z=C.apply(this,arguments);this.textContent=z==null?"":z}:C==null?function(){this.textContent=""}:function(){this.textContent=C}):this.node().textContent},re.html=function(C){return arguments.length?this.each(typeof C=="function"?function(){var z=C.apply(this,arguments);this.innerHTML=z==null?"":z}:C==null?function(){this.innerHTML=""}:function(){this.innerHTML=C}):this.node().innerHTML},re.append=function(C){return C=Ee(C),this.select(function(){return this.appendChild(C.apply(this,arguments))})};function Ee(C){function z(){var G=this.ownerDocument,W=this.namespaceURI;return W===V&&G.documentElement.namespaceURI===V?G.createElement(C):G.createElementNS(W,C)}function B(){return this.ownerDocument.createElementNS(C.space,C.local)}return typeof C=="function"?C:(C=e.ns.qualify(C)).local?B:z}re.insert=function(C,z){return C=Ee(C),z=H(z),this.select(function(){return this.insertBefore(C.apply(this,arguments),z.apply(this,arguments)||null)})},re.remove=function(){return this.each(Ne)};function Ne(){var C=this.parentNode;C&&C.removeChild(this)}re.data=function(C,z){var B=-1,G=this.length,W,Z;if(!arguments.length){for(C=new Array(G=(W=this[0]).length);++B<G;)(Z=W[B])&&(C[B]=Z.__data__);return C}function le(_e,Ie){var Fe,Je=_e.length,rr=Ie.length,Oe=Math.min(Je,rr),Ge=new Array(rr),We=new Array(rr),je=new Array(Je),tr,Ze;if(z){var or=new b,pr=new Array(Je),mr;for(Fe=-1;++Fe<Je;)(tr=_e[Fe])&&(or.has(mr=z.call(tr,tr.__data__,Fe))?je[Fe]=tr:or.set(mr,tr),pr[Fe]=mr);for(Fe=-1;++Fe<rr;)(tr=or.get(mr=z.call(Ie,Ze=Ie[Fe],Fe)))?tr!==!0&&(Ge[Fe]=tr,tr.__data__=Ze):We[Fe]=Ue(Ze),or.set(mr,!0);for(Fe=-1;++Fe<Je;)Fe in pr&&or.get(pr[Fe])!==!0&&(je[Fe]=_e[Fe])}else{for(Fe=-1;++Fe<Oe;)tr=_e[Fe],Ze=Ie[Fe],tr?(tr.__data__=Ze,Ge[Fe]=tr):We[Fe]=Ue(Ze);for(;Fe<rr;++Fe)We[Fe]=Ue(Ie[Fe]);for(;Fe<Je;++Fe)je[Fe]=_e[Fe]}We.update=Ge,We.parentNode=Ge.parentNode=je.parentNode=_e.parentNode,ie.push(We),fe.push(Ge),xe.push(je)}var ie=me([]),fe=K([]),xe=K([]);if(typeof C=="function")for(;++B<G;)le(W=this[B],C.call(W,W.parentNode.__data__,B));else for(;++B<G;)le(W=this[B],C);return fe.enter=function(){return ie},fe.exit=function(){return xe},fe};function Ue(C){return{__data__:C}}re.datum=function(C){return arguments.length?this.property("__data__",C):this.property("__data__")},re.filter=function(C){var z=[],B,G,W;typeof C!="function"&&(C=ge(C));for(var Z=0,le=this.length;Z<le;Z++){z.push(B=[]),B.parentNode=(G=this[Z]).parentNode;for(var ie=0,fe=G.length;ie<fe;ie++)(W=G[ie])&&C.call(W,W.__data__,ie,Z)&&B.push(W)}return K(z)};function ge(C){return function(){return oe(this,C)}}re.order=function(){for(var C=-1,z=this.length;++C<z;)for(var B=this[C],G=B.length-1,W=B[G],Z;--G>=0;)(Z=B[G])&&(W&&W!==Z.nextSibling&&W.parentNode.insertBefore(Z,W),W=Z);return this},re.sort=function(C){C=we.apply(this,arguments);for(var z=-1,B=this.length;++z<B;)this[z].sort(C);return this.order()};function we(C){return arguments.length||(C=h),function(z,B){return z&&B?C(z.__data__,B.__data__):!z-!B}}re.each=function(C){return Te(this,function(z,B,G){C.call(z,z.__data__,B,G)})};function Te(C,z){for(var B=0,G=C.length;B<G;B++)for(var W=C[B],Z=0,le=W.length,ie;Z<le;Z++)(ie=W[Z])&&z(ie,Z,B);return C}re.call=function(C){var z=t(arguments);return C.apply(z[0]=this,z),this},re.empty=function(){return!this.node()},re.node=function(){for(var C=0,z=this.length;C<z;C++)for(var B=this[C],G=0,W=B.length;G<W;G++){var Z=B[G];if(Z)return Z}return null},re.size=function(){var C=0;return Te(this,function(){++C}),C};function me(C){return q(C,ye),C}var ye=[];e.selection.enter=me,e.selection.enter.prototype=ye,ye.append=re.append,ye.empty=re.empty,ye.node=re.node,ye.call=re.call,ye.size=re.size,ye.select=function(C){for(var z=[],B,G,W,Z,le,ie=-1,fe=this.length;++ie<fe;){W=(Z=this[ie]).update,z.push(B=[]),B.parentNode=Z.parentNode;for(var xe=-1,_e=Z.length;++xe<_e;)(le=Z[xe])?(B.push(W[xe]=G=C.call(Z.parentNode,le.__data__,xe,ie)),G.__data__=le.__data__):B.push(null)}return K(z)},ye.insert=function(C,z){return arguments.length<2&&(z=pe(this)),re.insert.call(this,C,z)};function pe(C){var z,B;return function(G,W,Z){var le=C[Z].update,ie=le.length,fe;for(Z!=B&&(B=Z,z=0),W>=z&&(z=W+1);!(fe=le[z])&&++z<ie;);return fe}}e.select=function(C){var z;return typeof C=="string"?(z=[ne(C,n)],z.parentNode=n.documentElement):(z=[C],z.parentNode=a(C)),K([z])},e.selectAll=function(C){var z;return typeof C=="string"?(z=t(Q(C,n)),z.parentNode=n.documentElement):(z=t(C),z.parentNode=null),K([z])},re.on=function(C,z,B){var G=arguments.length;if(G<3){if(typeof C!="string"){G<2&&(z=!1);for(B in C)this.each(ce(B,C[B],z));return this}if(G<2)return(G=this.node()["__on"+C])&&G._;B=!1}return this.each(ce(C,z,B))};function ce(C,z,B){var G="__on"+C,W=C.indexOf("."),Z=Le;W>0&&(C=C.slice(0,W));var le=be.get(C);le&&(C=le,Z=qe);function ie(){var _e=this[G];_e&&(this.removeEventListener(C,_e,_e.$),delete this[G])}function fe(){var _e=Z(z,t(arguments));ie.call(this),this.addEventListener(C,this[G]=_e,_e.$=B),_e._=z}function xe(){var _e=new RegExp("^__on([^.]+)"+e.requote(C)+"$"),Ie;for(var Fe in this)if(Ie=Fe.match(_e)){var Je=this[Fe];this.removeEventListener(Ie[1],Je,Je.$),delete this[Fe]}}return W?z?fe:ie:z?P:xe}var be=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});n&&be.forEach(function(C){"on"+C in n&&be.remove(C)});function Le(C,z){return function(B){var G=e.event;e.event=B,z[0]=this.__data__;try{C.apply(this,z)}finally{e.event=G}}}function qe(C,z){var B=Le(C,z);return function(G){var W=this,Z=G.relatedTarget;(!Z||Z!==W&&!(Z.compareDocumentPosition(W)&8))&&B.call(W,G)}}var ze,$e=0;function Ve(C){var z=".dragsuppress-"+ ++$e,B="click"+z,G=e.select(o(C)).on("touchmove"+z,X).on("dragstart"+z,X).on("selectstart"+z,X);if(ze==null&&(ze="onselectstart"in C?!1:I(C.style,"userSelect")),ze){var W=a(C).style,Z=W[ze];W[ze]="none"}return function(le){if(G.on(z,null),ze&&(W[ze]=Z),le){var ie=function(){G.on(B,null)};G.on(B,function(){X(),ie()},!0),setTimeout(ie,0)}}}e.mouse=function(C){return Ye(C,$())};var Be=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ye(C,z){z.changedTouches&&(z=z.changedTouches[0]);var B=C.ownerSVGElement||C;if(B.createSVGPoint){var G=B.createSVGPoint();if(Be<0){var W=o(C);if(W.scrollX||W.scrollY){B=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var Z=B[0][0].getScreenCTM();Be=!(Z.f||Z.e),B.remove()}}return Be?(G.x=z.pageX,G.y=z.pageY):(G.x=z.clientX,G.y=z.clientY),G=G.matrixTransform(C.getScreenCTM().inverse()),[G.x,G.y]}var le=C.getBoundingClientRect();return[z.clientX-le.left-C.clientLeft,z.clientY-le.top-C.clientTop]}e.touch=function(C,z,B){if(arguments.length<3&&(B=z,z=$().changedTouches),z){for(var G=0,W=z.length,Z;G<W;++G)if((Z=z[G]).identifier===B)return Ye(C,Z)}},e.behavior.drag=function(){var C=j(W,"drag","dragstart","dragend"),z=null,B=Z(P,e.mouse,o,"mousemove","mouseup"),G=Z(Me,e.touch,N,"touchmove","touchend");function W(){this.on("mousedown.drag",B).on("touchstart.drag",G)}function Z(le,ie,fe,xe,_e){return function(){var Ie=this,Fe=e.event.target.correspondingElement||e.event.target,Je=Ie.parentNode,rr=C.of(Ie,arguments),Oe=0,Ge=le(),We=".drag"+(Ge==null?"":"-"+Ge),je,tr=e.select(fe(Fe)).on(xe+We,pr).on(_e+We,mr),Ze=Ve(Fe),or=ie(Je,Ge);z?(je=z.apply(Ie,arguments),je=[je.x-or[0],je.y-or[1]]):je=[0,0],rr({type:"dragstart"});function pr(){var gr=ie(Je,Ge),_r,wr;gr&&(_r=gr[0]-or[0],wr=gr[1]-or[1],Oe|=_r|wr,or=gr,rr({type:"drag",x:gr[0]+je[0],y:gr[1]+je[1],dx:_r,dy:wr}))}function mr(){ie(Je,Ge)&&(tr.on(xe+We,null).on(_e+We,null),Ze(Oe),rr({type:"dragend"}))}}}return W.origin=function(le){return arguments.length?(z=le,W):z},e.rebind(W,C,"on")};function Me(){return e.event.changedTouches[0].identifier}e.touches=function(C,z){return arguments.length<2&&(z=$().touches),z?t(z).map(function(B){var G=Ye(C,B);return G.identifier=B.identifier,G}):[]};var Re=1e-6,Qe=Re*Re,Ke=Math.PI,ar=2*Ke,se=ar-Re,J=Ke/2,ae=Ke/180,De=180/Ke;function He(C){return C>0?1:C<0?-1:0}function er(C,z,B){return(z[0]-C[0])*(B[1]-C[1])-(z[1]-C[1])*(B[0]-C[0])}function nr(C){return C>1?0:C<-1?Ke:Math.acos(C)}function fr(C){return C>1?J:C<-1?-J:Math.asin(C)}function xr(C){return((C=Math.exp(C))-1/C)/2}function Sr(C){return((C=Math.exp(C))+1/C)/2}function Mr(C){return((C=Math.exp(2*C))-1)/(C+1)}function Ar(C){return(C=Math.sin(C/2))*C}var ft=Math.SQRT2,sr=2,Pr=4;e.interpolateZoom=function(C,z){var B=C[0],G=C[1],W=C[2],Z=z[0],le=z[1],ie=z[2],fe=Z-B,xe=le-G,_e=fe*fe+xe*xe,Ie,Fe;if(_e<Qe)Fe=Math.log(ie/W)/ft,Ie=function(je){return[B+je*fe,G+je*xe,W*Math.exp(ft*je*Fe)]};else{var Je=Math.sqrt(_e),rr=(ie*ie-W*W+Pr*_e)/(2*W*sr*Je),Oe=(ie*ie-W*W-Pr*_e)/(2*ie*sr*Je),Ge=Math.log(Math.sqrt(rr*rr+1)-rr),We=Math.log(Math.sqrt(Oe*Oe+1)-Oe);Fe=(We-Ge)/ft,Ie=function(je){var tr=je*Fe,Ze=Sr(Ge),or=W/(sr*Je)*(Ze*Mr(ft*tr+Ge)-xr(Ge));return[B+or*fe,G+or*xe,W*Ze/Sr(ft*tr+Ge)]}}return Ie.duration=Fe*1e3,Ie},e.behavior.zoom=function(){var C={x:0,y:0,k:1},z,B,G,W=[960,500],Z=$r,le=250,ie=0,fe="mousedown.zoom",xe="mousemove.zoom",_e="mouseup.zoom",Ie,Fe="touchstart.zoom",Je,rr=j(tr,"zoomstart","zoom","zoomend"),Oe,Ge,We,je;Gr||(Gr="onwheel"in n?(Fr=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(Fr=function(){return e.event.wheelDelta},"mousewheel"):(Fr=function(){return-e.event.detail},"MozMousePixelScroll"));function tr(hr){hr.on(fe,Ir).on(Gr+".zoom",Bt).on("dblclick.zoom",vt).on(Fe,st)}tr.event=function(hr){hr.each(function(){var Br=rr.of(this,arguments),Hr=C;yl?e.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},wr(Br)}).tween("zoom:zoom",function(){var ut=W[0],Pt=W[1],Qt=B?B[0]:ut/2,bn=B?B[1]:Pt/2,Fn=e.interpolateZoom([(Qt-C.x)/C.k,(bn-C.y)/C.k,ut/C.k],[(Qt-Hr.x)/Hr.k,(bn-Hr.y)/Hr.k,ut/Hr.k]);return function(Yn){var Nn=Fn(Yn),$n=ut/Nn[2];this.__chart__=C={x:Qt-Nn[0]*$n,y:bn-Nn[1]*$n,k:$n},Or(Br)}}).each("interrupt.zoom",function(){Tr(Br)}).each("end.zoom",function(){Tr(Br)}):(this.__chart__=C,wr(Br),Or(Br),Tr(Br))})},tr.translate=function(hr){return arguments.length?(C={x:+hr[0],y:+hr[1],k:C.k},_r(),tr):[C.x,C.y]},tr.scale=function(hr){return arguments.length?(C={x:C.x,y:C.y,k:null},pr(+hr),_r(),tr):C.k},tr.scaleExtent=function(hr){return arguments.length?(Z=hr==null?$r:[+hr[0],+hr[1]],tr):Z},tr.center=function(hr){return arguments.length?(G=hr&&[+hr[0],+hr[1]],tr):G},tr.size=function(hr){return arguments.length?(W=hr&&[+hr[0],+hr[1]],tr):W},tr.duration=function(hr){return arguments.length?(le=+hr,tr):le},tr.x=function(hr){return arguments.length?(Ge=hr,Oe=hr.copy(),C={x:0,y:0,k:1},tr):Ge},tr.y=function(hr){return arguments.length?(je=hr,We=hr.copy(),C={x:0,y:0,k:1},tr):je};function Ze(hr){return[(hr[0]-C.x)/C.k,(hr[1]-C.y)/C.k]}function or(hr){return[hr[0]*C.k+C.x,hr[1]*C.k+C.y]}function pr(hr){C.k=Math.max(Z[0],Math.min(Z[1],hr))}function mr(hr,Br){Br=or(Br),C.x+=hr[0]-Br[0],C.y+=hr[1]-Br[1]}function gr(hr,Br,Hr,ut){hr.__chart__={x:C.x,y:C.y,k:C.k},pr(Math.pow(2,ut)),mr(B=Br,Hr),hr=e.select(hr),le>0&&(hr=hr.transition().duration(le)),hr.call(tr.event)}function _r(){Ge&&Ge.domain(Oe.range().map(function(hr){return(hr-C.x)/C.k}).map(Oe.invert)),je&&je.domain(We.range().map(function(hr){return(hr-C.y)/C.k}).map(We.invert))}function wr(hr){ie++||hr({type:"zoomstart"})}function Or(hr){_r(),hr({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function Tr(hr){--ie||(hr({type:"zoomend"}),B=null)}function Ir(){var hr=this,Br=rr.of(hr,arguments),Hr=0,ut=e.select(o(hr)).on(xe,bn).on(_e,Fn),Pt=Ze(e.mouse(hr)),Qt=Ve(hr);gc.call(hr),wr(Br);function bn(){Hr=1,mr(e.mouse(hr),Pt),Or(Br)}function Fn(){ut.on(xe,null).on(_e,null),Qt(Hr),Tr(Br)}}function st(){var hr=this,Br=rr.of(hr,arguments),Hr={},ut=0,Pt,Qt=".zoom-"+e.event.changedTouches[0].identifier,bn="touchmove"+Qt,Fn="touchend"+Qt,Yn=[],Nn=e.select(hr),$n=Ve(hr);jn(),wr(Br),Nn.on(fe,null).on(Fe,jn);function An(){var Za=e.touches(hr);return Pt=C.k,Za.forEach(function(xn){xn.identifier in Hr&&(Hr[xn.identifier]=Ze(xn))}),Za}function jn(){var Za=e.event.target;e.select(Za).on(bn,ml).on(Fn,CB),Yn.push(Za);for(var xn=e.event.changedTouches,Ta=0,Mi=xn.length;Ta<Mi;++Ta)Hr[xn[Ta].identifier]=null;var Aa=An(),ks=Date.now();if(Aa.length===1){if(ks-Je<500){var bl=Aa[0];gr(hr,bl,Hr[bl.identifier],Math.floor(Math.log(C.k)/Math.LN2)+1),X()}Je=ks}else if(Aa.length>1){var bl=Aa[0],_o=Aa[1],bc=bl[0]-_o[0],ox=bl[1]-_o[1];ut=bc*bc+ox*ox}}function ml(){var Za=e.touches(hr),xn,Ta,Mi,Aa;gc.call(hr);for(var ks=0,bl=Za.length;ks<bl;++ks,Aa=null)if(Mi=Za[ks],Aa=Hr[Mi.identifier]){if(Ta)break;xn=Mi,Ta=Aa}if(Aa){var _o=(_o=Mi[0]-xn[0])*_o+(_o=Mi[1]-xn[1])*_o,bc=ut&&Math.sqrt(_o/ut);xn=[(xn[0]+Mi[0])/2,(xn[1]+Mi[1])/2],Ta=[(Ta[0]+Aa[0])/2,(Ta[1]+Aa[1])/2],pr(bc*Pt)}Je=null,mr(xn,Ta),Or(Br)}function CB(){if(e.event.touches.length){for(var Za=e.event.changedTouches,xn=0,Ta=Za.length;xn<Ta;++xn)delete Hr[Za[xn].identifier];for(var Mi in Hr)return void An()}e.selectAll(Yn).on(Qt,null),Nn.on(fe,Ir).on(Fe,st),$n(),Tr(Br)}}function Bt(){var hr=rr.of(this,arguments);Ie?clearTimeout(Ie):(gc.call(this),z=Ze(B=G||e.mouse(this)),wr(hr)),Ie=setTimeout(function(){Ie=null,Tr(hr)},50),X(),pr(Math.pow(2,Fr()*.002)*C.k),mr(B,z),Or(hr)}function vt(){var hr=e.mouse(this),Br=Math.log(C.k)/Math.LN2;gr(this,hr,Ze(hr),e.event.shiftKey?Math.ceil(Br)-1:Math.floor(Br)+1)}return e.rebind(tr,rr,"on")};var $r=[0,1/0],Fr,Gr;e.color=pt;function pt(){}pt.prototype.toString=function(){return this.rgb()+""},e.hsl=Rr;function Rr(C,z,B){return this instanceof Rr?(this.h=+C,this.s=+z,void(this.l=+B)):arguments.length<2?C instanceof Rr?new Rr(C.h,C.s,C.l):at(""+C,ct,Rr):new Rr(C,z,B)}var jr=Rr.prototype=new pt;jr.brighter=function(C){return C=Math.pow(.7,arguments.length?C:1),new Rr(this.h,this.s,this.l/C)},jr.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new Rr(this.h,this.s,C*this.l)},jr.rgb=function(){return hn(this.h,this.s,this.l)};function hn(C,z,B){var G,W;C=isNaN(C)?0:(C%=360)<0?C+360:C,z=isNaN(z)||z<0?0:z>1?1:z,B=B<0?0:B>1?1:B,W=B<=.5?B*(1+z):B+z-B*z,G=2*B-W;function Z(ie){return ie>360?ie-=360:ie<0&&(ie+=360),ie<60?G+(W-G)*ie/60:ie<180?W:ie<240?G+(W-G)*(240-ie)/60:G}function le(ie){return Math.round(Z(ie)*255)}return new tn(le(C+120),le(C),le(C-120))}e.hcl=Et;function Et(C,z,B){return this instanceof Et?(this.h=+C,this.c=+z,void(this.l=+B)):arguments.length<2?C instanceof Et?new Et(C.h,C.c,C.l):C instanceof xt?bi(C.l,C.a,C.b):bi((C=yr((C=e.rgb(C)).r,C.g,C.b)).l,C.a,C.b):new Et(C,z,B)}var Tn=Et.prototype=new pt;Tn.brighter=function(C){return new Et(this.h,this.c,Math.min(100,this.l+gt*(arguments.length?C:1)))},Tn.darker=function(C){return new Et(this.h,this.c,Math.max(0,this.l-gt*(arguments.length?C:1)))},Tn.rgb=function(){return Ot(this.h,this.c,this.l).rgb()};function Ot(C,z,B){return isNaN(C)&&(C=0),isNaN(z)&&(z=0),new xt(B,Math.cos(C*=ae)*z,Math.sin(C)*z)}e.lab=xt;function xt(C,z,B){return this instanceof xt?(this.l=+C,this.a=+z,void(this.b=+B)):arguments.length<2?C instanceof xt?new xt(C.l,C.a,C.b):C instanceof Et?Ot(C.h,C.c,C.l):yr((C=tn(C)).r,C.g,C.b):new xt(C,z,B)}var gt=18,Ft=.95047,ha=1,Qn=1.08883,In=xt.prototype=new pt;In.brighter=function(C){return new xt(Math.min(100,this.l+gt*(arguments.length?C:1)),this.a,this.b)},In.darker=function(C){return new xt(Math.max(0,this.l-gt*(arguments.length?C:1)),this.a,this.b)},In.rgb=function(){return wa(this.l,this.a,this.b)};function wa(C,z,B){var G=(C+16)/116,W=G+z/500,Z=G-B/200;return W=Gi(W)*Ft,G=Gi(G)*ha,Z=Gi(Z)*Qn,new tn(Wi(3.2404542*W-1.5371385*G-.4985314*Z),Wi(-.969266*W+1.8760108*G+.041556*Z),Wi(.0556434*W-.2040259*G+1.0572252*Z))}function bi(C,z,B){return C>0?new Et(Math.atan2(B,z)*De,Math.sqrt(z*z+B*B),C):new Et(NaN,NaN,C)}function Gi(C){return C>.206893034?C*C*C:(C-4/29)/7.787037}function Yi(C){return C>.008856?Math.pow(C,1/3):7.787037*C+4/29}function Wi(C){return Math.round(255*(C<=.00304?12.92*C:1.055*Math.pow(C,1/2.4)-.055))}e.rgb=tn;function tn(C,z,B){return this instanceof tn?(this.r=~~C,this.g=~~z,void(this.b=~~B)):arguments.length<2?C instanceof tn?new tn(C.r,C.g,C.b):at(""+C,tn,hn):new tn(C,z,B)}function bo(C){return new tn(C>>16,C>>8&255,C&255)}function xi(C){return bo(C)+""}var _i=tn.prototype=new pt;_i.brighter=function(C){C=Math.pow(.7,arguments.length?C:1);var z=this.r,B=this.g,G=this.b,W=30;return!z&&!B&&!G?new tn(W,W,W):(z&&z<W&&(z=W),B&&B<W&&(B=W),G&&G<W&&(G=W),new tn(Math.min(255,z/C),Math.min(255,B/C),Math.min(255,G/C)))},_i.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new tn(C*this.r,C*this.g,C*this.b)},_i.hsl=function(){return ct(this.r,this.g,this.b)},_i.toString=function(){return"#"+kr(this.r)+kr(this.g)+kr(this.b)};function kr(C){return C<16?"0"+Math.max(0,C).toString(16):Math.min(255,C).toString(16)}function at(C,z,B){var G=0,W=0,Z=0,le,ie,fe;if(le=/([a-z]+)\((.*)\)/.exec(C=C.toLowerCase()),le)switch(ie=le[2].split(","),le[1]){case"hsl":return B(parseFloat(ie[0]),parseFloat(ie[1])/100,parseFloat(ie[2])/100);case"rgb":return z(_t(ie[0]),_t(ie[1]),_t(ie[2]))}return(fe=mn.get(C))?z(fe.r,fe.g,fe.b):(C!=null&&C.charAt(0)==="#"&&!isNaN(fe=parseInt(C.slice(1),16))&&(C.length===4?(G=(fe&3840)>>4,G=G>>4|G,W=fe&240,W=W>>4|W,Z=fe&15,Z=Z<<4|Z):C.length===7&&(G=(fe&16711680)>>16,W=(fe&65280)>>8,Z=fe&255)),z(G,W,Z))}function ct(C,z,B){var G=Math.min(C/=255,z/=255,B/=255),W=Math.max(C,z,B),Z=W-G,le,ie,fe=(W+G)/2;return Z?(ie=fe<.5?Z/(W+G):Z/(2-W-G),C==W?le=(z-B)/Z+(z<B?6:0):z==W?le=(B-C)/Z+2:le=(C-z)/Z+4,le*=60):(le=NaN,ie=fe>0&&fe<1?0:le),new Rr(le,ie,fe)}function yr(C,z,B){C=yn(C),z=yn(z),B=yn(B);var G=Yi((.4124564*C+.3575761*z+.1804375*B)/Ft),W=Yi((.2126729*C+.7151522*z+.072175*B)/ha),Z=Yi((.0193339*C+.119192*z+.9503041*B)/Qn);return xt(116*W-16,500*(G-W),200*(W-Z))}function yn(C){return(C/=255)<=.04045?C/12.92:Math.pow((C+.055)/1.055,2.4)}function _t(C){var z=parseFloat(C);return C.charAt(C.length-1)==="%"?Math.round(z*2.55):z}var mn=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});mn.forEach(function(C,z){mn.set(C,bo(z))});function Wr(C){return typeof C=="function"?C:function(){return C}}e.functor=Wr,e.xhr=Wa(N);function Wa(C){return function(z,B,G){return arguments.length===2&&typeof B=="function"&&(G=B,B=null),vl(z,B,C,G)}}function vl(C,z,B,G){var W={},Z=e.dispatch("beforesend","progress","load","error"),le={},ie=new XMLHttpRequest,fe=null;self.XDomainRequest&&!("withCredentials"in ie)&&/^(http(s)?:)?\/\//.test(C)&&(ie=new XDomainRequest),"onload"in ie?ie.onload=ie.onerror=xe:ie.onreadystatechange=function(){ie.readyState>3&&xe()};function xe(){var _e=ie.status,Ie;if(!_e&&Lq(ie)||_e>=200&&_e<300||_e===304){try{Ie=B.call(W,ie)}catch(Fe){Z.error.call(W,Fe);return}Z.load.call(W,Ie)}else Z.error.call(W,ie)}return ie.onprogress=function(_e){var Ie=e.event;e.event=_e;try{Z.progress.call(W,ie)}finally{e.event=Ie}},W.header=function(_e,Ie){return _e=(_e+"").toLowerCase(),arguments.length<2?le[_e]:(Ie==null?delete le[_e]:le[_e]=Ie+"",W)},W.mimeType=function(_e){return arguments.length?(z=_e==null?null:_e+"",W):z},W.responseType=function(_e){return arguments.length?(fe=_e,W):fe},W.response=function(_e){return B=_e,W},["get","post"].forEach(function(_e){W[_e]=function(){return W.send.apply(W,[_e].concat(t(arguments)))}}),W.send=function(_e,Ie,Fe){if(arguments.length===2&&typeof Ie=="function"&&(Fe=Ie,Ie=null),ie.open(_e,C,!0),z!=null&&!("accept"in le)&&(le.accept=z+",*/*"),ie.setRequestHeader)for(var Je in le)ie.setRequestHeader(Je,le[Je]);return z!=null&&ie.overrideMimeType&&ie.overrideMimeType(z),fe!=null&&(ie.responseType=fe),Fe!=null&&W.on("error",Fe).on("load",function(rr){Fe(null,rr)}),Z.beforesend.call(W,ie),ie.send(Ie==null?null:Ie),W},W.abort=function(){return ie.abort(),W},e.rebind(W,Z,"on"),G==null?W:W.get(Eq(G))}function Eq(C){return C.length===1?function(z,B){C(z==null?B:null)}:C}function Lq(C){var z=C.responseType;return z&&z!=="text"?C.response:C.responseText}e.dsv=function(C,z){var B=new RegExp('["'+C+`
]`),G=C.charCodeAt(0);function W(xe,_e,Ie){arguments.length<3&&(Ie=_e,_e=null);var Fe=vl(xe,z,_e==null?Z:le(_e),Ie);return Fe.row=function(Je){return arguments.length?Fe.response((_e=Je)==null?Z:le(Je)):_e},Fe}function Z(xe){return W.parse(xe.responseText)}function le(xe){return function(_e){return W.parse(_e.responseText,xe)}}W.parse=function(xe,_e){var Ie;return W.parseRows(xe,function(Fe,Je){if(Ie)return Ie(Fe,Je-1);var rr=function(Oe){for(var Ge={},We=Fe.length,je=0;je<We;++je)Ge[Fe[je]]=Oe[je];return Ge};Ie=_e?function(Oe,Ge){return _e(rr(Oe),Ge)}:rr})},W.parseRows=function(xe,_e){var Ie={},Fe={},Je=[],rr=xe.length,Oe=0,Ge=0,We,je;function tr(){if(Oe>=rr)return Fe;if(je)return je=!1,Ie;var or=Oe;if(xe.charCodeAt(or)===34){for(var pr=or;pr++<rr;)if(xe.charCodeAt(pr)===34){if(xe.charCodeAt(pr+1)!==34)break;++pr}Oe=pr+2;var mr=xe.charCodeAt(pr+1);return mr===13?(je=!0,xe.charCodeAt(pr+2)===10&&++Oe):mr===10&&(je=!0),xe.slice(or+1,pr).replace(/""/g,'"')}for(;Oe<rr;){var mr=xe.charCodeAt(Oe++),gr=1;if(mr===10)je=!0;else if(mr===13)je=!0,xe.charCodeAt(Oe)===10&&(++Oe,++gr);else if(mr!==G)continue;return xe.slice(or,Oe-gr)}return xe.slice(or)}for(;(We=tr())!==Fe;){for(var Ze=[];We!==Ie&&We!==Fe;)Ze.push(We),We=tr();_e&&(Ze=_e(Ze,Ge++))==null||Je.push(Ze)}return Je},W.format=function(xe){if(Array.isArray(xe[0]))return W.formatRows(xe);var _e=new R,Ie=[];return xe.forEach(function(Fe){for(var Je in Fe)_e.has(Je)||Ie.push(_e.add(Je))}),[Ie.map(fe).join(C)].concat(xe.map(function(Fe){return Ie.map(function(Je){return fe(Fe[Je])}).join(C)})).join(`
`)},W.formatRows=function(xe){return xe.map(ie).join(`
`)};function ie(xe){return xe.map(fe).join(C)}function fe(xe){return B.test(xe)?'"'+xe.replace(/\"/g,'""')+'"':xe}return W},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var Q0,$0,j0,ec,W5=this[I(this,"requestAnimationFrame")]||function(C){setTimeout(C,17)};e.timer=function(){rc.apply(this,arguments)};function rc(C,z,B){var G=arguments.length;G<2&&(z=0),G<3&&(B=Date.now());var W=B+z,Z={c:C,t:W,n:null};return $0?$0.n=Z:Q0=Z,$0=Z,j0||(ec=clearTimeout(ec),j0=1,W5(Id)),Z}function Id(){var C=X5(),z=Z5()-C;z>24?(isFinite(z)&&(clearTimeout(ec),ec=setTimeout(Id,z)),j0=0):(j0=1,W5(Id))}e.timer.flush=function(){X5(),Z5()};function X5(){for(var C=Date.now(),z=Q0;z;)C>=z.t&&z.c(C-z.t)&&(z.c=null),z=z.n;return C}function Z5(){for(var C,z=Q0,B=1/0;z;)z.c?(z.t<B&&(B=z.t),z=(C=z).n):z=C?C.n=z.n:Q0=z.n;return $0=C,B}e.round=function(C,z){return z?Math.round(C*(z=Math.pow(10,z)))/z:Math.round(C)},e.geom={};function xs(C){return C[0]}function Qu(C){return C[1]}e.geom.hull=function(C){var z=xs,B=Qu;if(arguments.length)return G(C);function G(W){if(W.length<3)return[];var Z=Wr(z),le=Wr(B),ie,fe=W.length,xe=[],_e=[];for(ie=0;ie<fe;ie++)xe.push([+Z.call(this,W[ie],ie),+le.call(this,W[ie],ie),ie]);for(xe.sort(Dq),ie=0;ie<fe;ie++)_e.push([xe[ie][0],-xe[ie][1]]);var Ie=J5(xe),Fe=J5(_e),Je=Fe[0]===Ie[0],rr=Fe[Fe.length-1]===Ie[Ie.length-1],Oe=[];for(ie=Ie.length-1;ie>=0;--ie)Oe.push(W[xe[Ie[ie]][2]]);for(ie=+Je;ie<Fe.length-rr;++ie)Oe.push(W[xe[Fe[ie]][2]]);return Oe}return G.x=function(W){return arguments.length?(z=W,G):z},G.y=function(W){return arguments.length?(B=W,G):B},G};function J5(C){for(var z=C.length,B=[0,1],G=2,W=2;W<z;W++){for(;G>1&&er(C[B[G-2]],C[B[G-1]],C[W])<=0;)--G;B[G++]=W}return B.slice(0,G)}function Dq(C,z){return C[0]-z[0]||C[1]-z[1]}e.geom.polygon=function(C){return q(C,tc),C};var tc=e.geom.polygon.prototype=[];tc.area=function(){for(var C=-1,z=this.length,B,G=this[z-1],W=0;++C<z;)B=G,G=this[C],W+=B[1]*G[0]-B[0]*G[1];return W*.5},tc.centroid=function(C){var z=-1,B=this.length,G=0,W=0,Z,le=this[B-1],ie;for(arguments.length||(C=-1/(6*this.area()));++z<B;)Z=le,le=this[z],ie=Z[0]*le[1]-le[0]*Z[1],G+=(Z[0]+le[0])*ie,W+=(Z[1]+le[1])*ie;return[G*C,W*C]},tc.clip=function(C){for(var z,B=K5(C),G=-1,W=this.length-K5(this),Z,le,ie=this[W-1],fe,xe,_e;++G<W;){for(z=C.slice(),C.length=0,fe=this[G],xe=z[(le=z.length-B)-1],Z=-1;++Z<le;)_e=z[Z],Fd(_e,ie,fe)?(Fd(xe,ie,fe)||C.push(Nd(xe,_e,ie,fe)),C.push(_e)):Fd(xe,ie,fe)&&C.push(Nd(xe,_e,ie,fe)),xe=_e;B&&C.push(C[0]),ie=fe}return C};function Fd(C,z,B){return(B[0]-z[0])*(C[1]-z[1])<(B[1]-z[1])*(C[0]-z[0])}function Nd(C,z,B,G){var W=C[0],Z=B[0],le=z[0]-W,ie=G[0]-Z,fe=C[1],xe=B[1],_e=z[1]-fe,Ie=G[1]-xe,Fe=(ie*(fe-xe)-Ie*(W-Z))/(Ie*le-ie*_e);return[W+Fe*le,fe+Fe*_e]}function K5(C){var z=C[0],B=C[C.length-1];return!(z[0]-B[0]||z[1]-B[1])}var _s,dl,ws,Q5=[],zd,$u,$5=[];function Rq(){ic(this),this.edge=this.site=this.circle=null}function j5(C){var z=Q5.pop()||new Rq;return z.site=C,z}function qd(C){Ts(C),ws.remove(C),Q5.push(C),ic(C)}function Pq(C){var z=C.circle,B=z.x,G=z.cy,W={x:B,y:G},Z=C.P,le=C.N,ie=[C];qd(C);for(var fe=Z;fe.circle&&y(B-fe.circle.x)<Re&&y(G-fe.circle.cy)<Re;)Z=fe.P,ie.unshift(fe),qd(fe),fe=Z;ie.unshift(fe),Ts(fe);for(var xe=le;xe.circle&&y(B-xe.circle.x)<Re&&y(G-xe.circle.cy)<Re;)le=xe.N,ie.push(xe),qd(xe),xe=le;ie.push(xe),Ts(xe);var _e=ie.length,Ie;for(Ie=1;Ie<_e;++Ie)xe=ie[Ie],fe=ie[Ie-1],nc(xe.edge,fe.site,xe.site,W);fe=ie[0],xe=ie[_e-1],xe.edge=ju(fe.site,xe.site,null,W),Ms(fe),Ms(xe)}function Iq(C){for(var z=C.x,B=C.y,G,W,Z,le,ie=ws._;ie;)if(Z=eb(ie,B)-z,Z>Re)ie=ie.L;else if(le=z-Fq(ie,B),le>Re){if(!ie.R){G=ie;break}ie=ie.R}else{Z>-Re?(G=ie.P,W=ie):le>-Re?(G=ie,W=ie.N):G=W=ie;break}var fe=j5(C);if(ws.insert(G,fe),!(!G&&!W)){if(G===W){Ts(G),W=j5(G.site),ws.insert(fe,W),fe.edge=W.edge=ju(G.site,fe.site),Ms(G),Ms(W);return}if(!W){fe.edge=ju(G.site,fe.site);return}Ts(G),Ts(W);var xe=G.site,_e=xe.x,Ie=xe.y,Fe=C.x-_e,Je=C.y-Ie,rr=W.site,Oe=rr.x-_e,Ge=rr.y-Ie,We=2*(Fe*Ge-Je*Oe),je=Fe*Fe+Je*Je,tr=Oe*Oe+Ge*Ge,Ze={x:(Ge*je-Je*tr)/We+_e,y:(Fe*tr-Oe*je)/We+Ie};nc(W.edge,xe,rr,Ze),fe.edge=ju(xe,C,null,Ze),W.edge=ju(C,rr,null,Ze),Ms(G),Ms(W)}}function eb(C,z){var B=C.site,G=B.x,W=B.y,Z=W-z;if(!Z)return G;var le=C.P;if(!le)return-1/0;B=le.site;var ie=B.x,fe=B.y,xe=fe-z;if(!xe)return ie;var _e=ie-G,Ie=1/Z-1/xe,Fe=_e/xe;return Ie?(-Fe+Math.sqrt(Fe*Fe-2*Ie*(_e*_e/(-2*xe)-fe+xe/2+W-Z/2)))/Ie+G:(G+ie)/2}function Fq(C,z){var B=C.N;if(B)return eb(B,z);var G=C.site;return G.y===z?G.x:1/0}function rb(C){this.site=C,this.edges=[]}rb.prototype.prepare=function(){for(var C=this.edges,z=C.length,B;z--;)B=C[z].edge,(!B.b||!B.a)&&C.splice(z,1);return C.sort(tb),C.length};function Nq(C){for(var z=C[0][0],B=C[1][0],G=C[0][1],W=C[1][1],Z,le,ie,fe,xe=dl,_e=xe.length,Ie,Fe,Je,rr,Oe,Ge;_e--;)if(Ie=xe[_e],!(!Ie||!Ie.prepare()))for(Je=Ie.edges,rr=Je.length,Fe=0;Fe<rr;)Ge=Je[Fe].end(),ie=Ge.x,fe=Ge.y,Oe=Je[++Fe%rr].start(),Z=Oe.x,le=Oe.y,(y(ie-Z)>Re||y(fe-le)>Re)&&(Je.splice(Fe,0,new ac(Uq(Ie.site,Ge,y(ie-z)<Re&&W-fe>Re?{x:z,y:y(Z-z)<Re?le:W}:y(fe-W)<Re&&B-ie>Re?{x:y(le-W)<Re?Z:B,y:W}:y(ie-B)<Re&&fe-G>Re?{x:B,y:y(Z-B)<Re?le:G}:y(fe-G)<Re&&ie-z>Re?{x:y(le-G)<Re?Z:z,y:G}:null),Ie.site,null)),++rr)}function tb(C,z){return z.angle-C.angle}function zq(){ic(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ms(C){var z=C.P,B=C.N;if(!(!z||!B)){var G=z.site,W=C.site,Z=B.site;if(G!==Z){var le=W.x,ie=W.y,fe=G.x-le,xe=G.y-ie,_e=Z.x-le,Ge=Z.y-ie,Ie=2*(fe*Ge-xe*_e);if(!(Ie>=-Qe)){var Fe=fe*fe+xe*xe,Je=_e*_e+Ge*Ge,rr=(Ge*Fe-xe*Je)/Ie,Oe=(fe*Je-_e*Fe)/Ie,Ge=Oe+ie,We=$5.pop()||new zq;We.arc=C,We.site=W,We.x=rr+le,We.y=Ge+Math.sqrt(rr*rr+Oe*Oe),We.cy=Ge,C.circle=We;for(var je=null,tr=$u._;tr;)if(We.y<tr.y||We.y===tr.y&&We.x<=tr.x)if(tr.L)tr=tr.L;else{je=tr.P;break}else if(tr.R)tr=tr.R;else{je=tr;break}$u.insert(je,We),je||(zd=We)}}}}function Ts(C){var z=C.circle;z&&(z.P||(zd=z.N),$u.remove(z),$5.push(z),ic(z),C.circle=null)}function qq(C,z,B,G){return function(W){var Z=W.a,le=W.b,ie=Z.x,fe=Z.y,xe=le.x,_e=le.y,Ie=0,Fe=1,Je=xe-ie,rr=_e-fe,Oe;if(Oe=C-ie,!(!Je&&Oe>0)){if(Oe/=Je,Je<0){if(Oe<Ie)return;Oe<Fe&&(Fe=Oe)}else if(Je>0){if(Oe>Fe)return;Oe>Ie&&(Ie=Oe)}if(Oe=B-ie,!(!Je&&Oe<0)){if(Oe/=Je,Je<0){if(Oe>Fe)return;Oe>Ie&&(Ie=Oe)}else if(Je>0){if(Oe<Ie)return;Oe<Fe&&(Fe=Oe)}if(Oe=z-fe,!(!rr&&Oe>0)){if(Oe/=rr,rr<0){if(Oe<Ie)return;Oe<Fe&&(Fe=Oe)}else if(rr>0){if(Oe>Fe)return;Oe>Ie&&(Ie=Oe)}if(Oe=G-fe,!(!rr&&Oe<0)){if(Oe/=rr,rr<0){if(Oe>Fe)return;Oe>Ie&&(Ie=Oe)}else if(rr>0){if(Oe<Ie)return;Oe<Fe&&(Fe=Oe)}return Ie>0&&(W.a={x:ie+Ie*Je,y:fe+Ie*rr}),Fe<1&&(W.b={x:ie+Fe*Je,y:fe+Fe*rr}),W}}}}}}function Oq(C){for(var z=_s,B=qq(C[0][0],C[0][1],C[1][0],C[1][1]),G=z.length,W;G--;)W=z[G],(!Bq(W,C)||!B(W)||y(W.a.x-W.b.x)<Re&&y(W.a.y-W.b.y)<Re)&&(W.a=W.b=null,z.splice(G,1))}function Bq(C,z){var B=C.b;if(B)return!0;var G=C.a,W=z[0][0],Z=z[1][0],le=z[0][1],ie=z[1][1],fe=C.l,xe=C.r,_e=fe.x,Ie=fe.y,Fe=xe.x,Je=xe.y,rr=(_e+Fe)/2,Oe=(Ie+Je)/2,Ge,We;if(Je===Ie){if(rr<W||rr>=Z)return;if(_e>Fe){if(!G)G={x:rr,y:le};else if(G.y>=ie)return;B={x:rr,y:ie}}else{if(!G)G={x:rr,y:ie};else if(G.y<le)return;B={x:rr,y:le}}}else if(Ge=(_e-Fe)/(Je-Ie),We=Oe-Ge*rr,Ge<-1||Ge>1)if(_e>Fe){if(!G)G={x:(le-We)/Ge,y:le};else if(G.y>=ie)return;B={x:(ie-We)/Ge,y:ie}}else{if(!G)G={x:(ie-We)/Ge,y:ie};else if(G.y<le)return;B={x:(le-We)/Ge,y:le}}else if(Ie<Je){if(!G)G={x:W,y:Ge*W+We};else if(G.x>=Z)return;B={x:Z,y:Ge*Z+We}}else{if(!G)G={x:Z,y:Ge*Z+We};else if(G.x<W)return;B={x:W,y:Ge*W+We}}return C.a=G,C.b=B,!0}function nb(C,z){this.l=C,this.r=z,this.a=this.b=null}function ju(C,z,B,G){var W=new nb(C,z);return _s.push(W),B&&nc(W,C,z,B),G&&nc(W,z,C,G),dl[C.i].edges.push(new ac(W,C,z)),dl[z.i].edges.push(new ac(W,z,C)),W}function Uq(C,z,B){var G=new nb(C,null);return G.a=z,G.b=B,_s.push(G),G}function nc(C,z,B,G){!C.a&&!C.b?(C.a=G,C.l=z,C.r=B):C.l===B?C.b=G:C.a=G}function ac(C,z,B){var G=C.a,W=C.b;this.edge=C,this.site=z,this.angle=B?Math.atan2(B.y-z.y,B.x-z.x):C.l===z?Math.atan2(W.x-G.x,G.y-W.y):Math.atan2(G.x-W.x,W.y-G.y)}ac.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Od(){this._=null}function ic(C){C.U=C.C=C.L=C.R=C.P=C.N=null}Od.prototype={insert:function(C,z){var B,G,W;if(C){if(z.P=C,z.N=C.N,C.N&&(C.N.P=z),C.N=z,C.R){for(C=C.R;C.L;)C=C.L;C.L=z}else C.R=z;B=C}else this._?(C=ab(this._),z.P=null,z.N=C,C.P=C.L=z,B=C):(z.P=z.N=null,this._=z,B=null);for(z.L=z.R=null,z.U=B,z.C=!0,C=z;B&&B.C;)G=B.U,B===G.L?(W=G.R,W&&W.C?(B.C=W.C=!1,G.C=!0,C=G):(C===B.R&&(ef(this,B),C=B,B=C.U),B.C=!1,G.C=!0,rf(this,G))):(W=G.L,W&&W.C?(B.C=W.C=!1,G.C=!0,C=G):(C===B.L&&(rf(this,B),C=B,B=C.U),B.C=!1,G.C=!0,ef(this,G))),B=C.U;this._.C=!1},remove:function(C){C.N&&(C.N.P=C.P),C.P&&(C.P.N=C.N),C.N=C.P=null;var z=C.U,B,G=C.L,W=C.R,Z,le;if(G?W?Z=ab(W):Z=G:Z=W,z?z.L===C?z.L=Z:z.R=Z:this._=Z,G&&W?(le=Z.C,Z.C=C.C,Z.L=G,G.U=Z,Z!==W?(z=Z.U,Z.U=C.U,C=Z.R,z.L=C,Z.R=W,W.U=Z):(Z.U=z,z=Z,C=Z.R)):(le=C.C,C=Z),C&&(C.U=z),!le){if(C&&C.C){C.C=!1;return}do{if(C===this._)break;if(C===z.L){if(B=z.R,B.C&&(B.C=!1,z.C=!0,ef(this,z),B=z.R),B.L&&B.L.C||B.R&&B.R.C){(!B.R||!B.R.C)&&(B.L.C=!1,B.C=!0,rf(this,B),B=z.R),B.C=z.C,z.C=B.R.C=!1,ef(this,z),C=this._;break}}else if(B=z.L,B.C&&(B.C=!1,z.C=!0,rf(this,z),B=z.L),B.L&&B.L.C||B.R&&B.R.C){(!B.L||!B.L.C)&&(B.R.C=!1,B.C=!0,ef(this,B),B=z.L),B.C=z.C,z.C=B.L.C=!1,rf(this,z),C=this._;break}B.C=!0,C=z,z=z.U}while(!C.C);C&&(C.C=!1)}}};function ef(C,z){var B=z,G=z.R,W=B.U;W?W.L===B?W.L=G:W.R=G:C._=G,G.U=W,B.U=G,B.R=G.L,B.R&&(B.R.U=B),G.L=B}function rf(C,z){var B=z,G=z.L,W=B.U;W?W.L===B?W.L=G:W.R=G:C._=G,G.U=W,B.U=G,B.L=G.R,B.L&&(B.L.U=B),G.R=B}function ab(C){for(;C.L;)C=C.L;return C}function Bd(C,z){var B=C.sort(Hq).pop(),G,W,Z;for(_s=[],dl=new Array(C.length),ws=new Od,$u=new Od;;)if(Z=zd,B&&(!Z||B.y<Z.y||B.y===Z.y&&B.x<Z.x))(B.x!==G||B.y!==W)&&(dl[B.i]=new rb(B),Iq(B),G=B.x,W=B.y),B=C.pop();else if(Z)Pq(Z.arc);else break;z&&(Oq(z),Nq(z));var le={cells:dl,edges:_s};return ws=$u=_s=dl=null,le}function Hq(C,z){return z.y-C.y||z.x-C.x}e.geom.voronoi=function(C){var z=xs,B=Qu,G=z,W=B,Z=oc;if(C)return le(C);function le(fe){var xe=new Array(fe.length),_e=Z[0][0],Ie=Z[0][1],Fe=Z[1][0],Je=Z[1][1];return Bd(ie(fe),Z).cells.forEach(function(rr,Oe){var Ge=rr.edges,We=rr.site,je=xe[Oe]=Ge.length?Ge.map(function(tr){var Ze=tr.start();return[Ze.x,Ze.y]}):We.x>=_e&&We.x<=Fe&&We.y>=Ie&&We.y<=Je?[[_e,Je],[Fe,Je],[Fe,Ie],[_e,Ie]]:[];je.point=fe[Oe]}),xe}function ie(fe){return fe.map(function(xe,_e){return{x:Math.round(G(xe,_e)/Re)*Re,y:Math.round(W(xe,_e)/Re)*Re,i:_e}})}return le.links=function(fe){return Bd(ie(fe)).edges.filter(function(xe){return xe.l&&xe.r}).map(function(xe){return{source:fe[xe.l.i],target:fe[xe.r.i]}})},le.triangles=function(fe){var xe=[];return Bd(ie(fe)).cells.forEach(function(_e,Ie){for(var Fe=_e.site,Je=_e.edges.sort(tb),rr=-1,Oe=Je.length,Ge,We,je=Je[Oe-1].edge,tr=je.l===Fe?je.r:je.l;++rr<Oe;)Ge=je,We=tr,je=Je[rr].edge,tr=je.l===Fe?je.r:je.l,Ie<We.i&&Ie<tr.i&&Vq(Fe,We,tr)<0&&xe.push([fe[Ie],fe[We.i],fe[tr.i]])}),xe},le.x=function(fe){return arguments.length?(G=Wr(z=fe),le):z},le.y=function(fe){return arguments.length?(W=Wr(B=fe),le):B},le.clipExtent=function(fe){return arguments.length?(Z=fe==null?oc:fe,le):Z===oc?null:Z},le.size=function(fe){return arguments.length?le.clipExtent(fe&&[[0,0],fe]):Z===oc?null:Z&&Z[1]},le};var oc=[[-1e6,-1e6],[1e6,1e6]];function Vq(C,z,B){return(C.x-B.x)*(z.y-C.y)-(C.x-z.x)*(B.y-C.y)}e.geom.delaunay=function(C){return e.geom.voronoi().triangles(C)},e.geom.quadtree=function(C,z,B,G,W){var Z=xs,le=Qu,ie;if(ie=arguments.length)return Z=Gq,le=Yq,ie===3&&(W=B,G=z,B=z=0),fe(C);function fe(xe){var _e,Ie=Wr(Z),Fe=Wr(le),Je,rr,Oe,Ge,We,je,tr,Ze;if(z!=null)We=z,je=B,tr=G,Ze=W;else if(tr=Ze=-(We=je=1/0),Je=[],rr=[],Ge=xe.length,ie)for(Oe=0;Oe<Ge;++Oe)_e=xe[Oe],_e.x<We&&(We=_e.x),_e.y<je&&(je=_e.y),_e.x>tr&&(tr=_e.x),_e.y>Ze&&(Ze=_e.y),Je.push(_e.x),rr.push(_e.y);else for(Oe=0;Oe<Ge;++Oe){var or=+Ie(_e=xe[Oe],Oe),pr=+Fe(_e,Oe);or<We&&(We=or),pr<je&&(je=pr),or>tr&&(tr=or),pr>Ze&&(Ze=pr),Je.push(or),rr.push(pr)}var mr=tr-We,gr=Ze-je;mr>gr?Ze=je+mr:tr=We+gr;function _r(Tr,Ir,st,Bt,vt,hr,Br,Hr){if(!(isNaN(st)||isNaN(Bt)))if(Tr.leaf){var ut=Tr.x,Pt=Tr.y;if(ut!=null)if(y(ut-st)+y(Pt-Bt)<.01)wr(Tr,Ir,st,Bt,vt,hr,Br,Hr);else{var Qt=Tr.point;Tr.x=Tr.y=Tr.point=null,wr(Tr,Qt,ut,Pt,vt,hr,Br,Hr),wr(Tr,Ir,st,Bt,vt,hr,Br,Hr)}else Tr.x=st,Tr.y=Bt,Tr.point=Ir}else wr(Tr,Ir,st,Bt,vt,hr,Br,Hr)}function wr(Tr,Ir,st,Bt,vt,hr,Br,Hr){var ut=(vt+Br)*.5,Pt=(hr+Hr)*.5,Qt=st>=ut,bn=Bt>=Pt,Fn=bn<<1|Qt;Tr.leaf=!1,Tr=Tr.nodes[Fn]||(Tr.nodes[Fn]=ib()),Qt?vt=ut:Br=ut,bn?hr=Pt:Hr=Pt,_r(Tr,Ir,st,Bt,vt,hr,Br,Hr)}var Or=ib();if(Or.add=function(Tr){_r(Or,Tr,+Ie(Tr,++Oe),+Fe(Tr,Oe),We,je,tr,Ze)},Or.visit=function(Tr){tf(Tr,Or,We,je,tr,Ze)},Or.find=function(Tr){return Wq(Or,Tr[0],Tr[1],We,je,tr,Ze)},Oe=-1,z==null){for(;++Oe<Ge;)_r(Or,xe[Oe],Je[Oe],rr[Oe],We,je,tr,Ze);--Oe}else xe.forEach(Or.add);return Je=rr=xe=_e=null,Or}return fe.x=function(xe){return arguments.length?(Z=xe,fe):Z},fe.y=function(xe){return arguments.length?(le=xe,fe):le},fe.extent=function(xe){return arguments.length?(xe==null?z=B=G=W=null:(z=+xe[0][0],B=+xe[0][1],G=+xe[1][0],W=+xe[1][1]),fe):z==null?null:[[z,B],[G,W]]},fe.size=function(xe){return arguments.length?(xe==null?z=B=G=W=null:(z=B=0,G=+xe[0],W=+xe[1]),fe):z==null?null:[G-z,W-B]},fe};function Gq(C){return C.x}function Yq(C){return C.y}function ib(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function tf(C,z,B,G,W,Z){if(!C(z,B,G,W,Z)){var le=(B+W)*.5,ie=(G+Z)*.5,fe=z.nodes;fe[0]&&tf(C,fe[0],B,G,le,ie),fe[1]&&tf(C,fe[1],le,G,W,ie),fe[2]&&tf(C,fe[2],B,ie,le,Z),fe[3]&&tf(C,fe[3],le,ie,W,Z)}}function Wq(C,z,B,G,W,Z,le){var ie=1/0,fe;return function xe(_e,Ie,Fe,Je,rr){if(!(Ie>Z||Fe>le||Je<G||rr<W)){if(Oe=_e.point){var Oe,Ge=z-_e.x,We=B-_e.y,je=Ge*Ge+We*We;if(je<ie){var tr=Math.sqrt(ie=je);G=z-tr,W=B-tr,Z=z+tr,le=B+tr,fe=Oe}}for(var Ze=_e.nodes,or=(Ie+Je)*.5,pr=(Fe+rr)*.5,mr=z>=or,gr=B>=pr,_r=gr<<1|mr,wr=_r+4;_r<wr;++_r)if(_e=Ze[_r&3])switch(_r&3){case 0:xe(_e,Ie,Fe,or,pr);break;case 1:xe(_e,or,Fe,Je,pr);break;case 2:xe(_e,Ie,pr,or,rr);break;case 3:xe(_e,or,pr,Je,rr);break}}}(C,G,W,Z,le),fe}e.interpolateRgb=Ud;function Ud(C,z){C=e.rgb(C),z=e.rgb(z);var B=C.r,G=C.g,W=C.b,Z=z.r-B,le=z.g-G,ie=z.b-W;return function(fe){return"#"+kr(Math.round(B+Z*fe))+kr(Math.round(G+le*fe))+kr(Math.round(W+ie*fe))}}e.interpolateObject=ob;function ob(C,z){var B={},G={},W;for(W in C)W in z?B[W]=pl(C[W],z[W]):G[W]=C[W];for(W in z)W in C||(G[W]=z[W]);return function(Z){for(W in B)G[W]=B[W](Z);return G}}e.interpolateNumber=Xi;function Xi(C,z){return C=+C,z=+z,function(B){return C*(1-B)+z*B}}e.interpolateString=lb;function lb(C,z){var B=Hd.lastIndex=Vd.lastIndex=0,G,W,Z,le=-1,ie=[],fe=[];for(C=C+"",z=z+"";(G=Hd.exec(C))&&(W=Vd.exec(z));)(Z=W.index)>B&&(Z=z.slice(B,Z),ie[le]?ie[le]+=Z:ie[++le]=Z),(G=G[0])===(W=W[0])?ie[le]?ie[le]+=W:ie[++le]=W:(ie[++le]=null,fe.push({i:le,x:Xi(G,W)})),B=Vd.lastIndex;return B<z.length&&(Z=z.slice(B),ie[le]?ie[le]+=Z:ie[++le]=Z),ie.length<2?fe[0]?(z=fe[0].x,function(xe){return z(xe)+""}):function(){return z}:(z=fe.length,function(xe){for(var _e=0,Ie;_e<z;++_e)ie[(Ie=fe[_e]).i]=Ie.x(xe);return ie.join("")})}var Hd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vd=new RegExp(Hd.source,"g");e.interpolate=pl;function pl(C,z){for(var B=e.interpolators.length,G;--B>=0&&!(G=e.interpolators[B](C,z)););return G}e.interpolators=[function(C,z){var B=typeof z;return(B==="string"?mn.has(z.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(z)?Ud:lb:z instanceof pt?Ud:Array.isArray(z)?lc:B==="object"&&isNaN(z)?ob:Xi)(C,z)}],e.interpolateArray=lc;function lc(C,z){var B=[],G=[],W=C.length,Z=z.length,le=Math.min(C.length,z.length),ie;for(ie=0;ie<le;++ie)B.push(pl(C[ie],z[ie]));for(;ie<W;++ie)G[ie]=C[ie];for(;ie<Z;++ie)G[ie]=z[ie];return function(fe){for(ie=0;ie<le;++ie)G[ie]=B[ie](fe);return G}}var sb=function(){return N},Xq=e.map({linear:sb,poly:jq,quad:function(){return Kq},cubic:function(){return Qq},sin:function(){return eO},exp:function(){return rO},circle:function(){return tO},elastic:nO,back:aO,bounce:function(){return iO}}),Zq=e.map({in:N,out:ub,"in-out":fb,"out-in":function(C){return fb(ub(C))}});e.ease=function(C){var z=C.indexOf("-"),B=z>=0?C.slice(0,z):C,G=z>=0?C.slice(z+1):"in";return B=Xq.get(B)||sb,G=Zq.get(G)||N,Jq(G(B.apply(null,r.call(arguments,1))))};function Jq(C){return function(z){return z<=0?0:z>=1?1:C(z)}}function ub(C){return function(z){return 1-C(1-z)}}function fb(C){return function(z){return .5*(z<.5?C(2*z):2-C(2-2*z))}}function Kq(C){return C*C}function Qq(C){return C*C*C}function $q(C){if(C<=0)return 0;if(C>=1)return 1;var z=C*C,B=z*C;return 4*(C<.5?B:3*(C-z)+B-.75)}function jq(C){return function(z){return Math.pow(z,C)}}function eO(C){return 1-Math.cos(C*J)}function rO(C){return Math.pow(2,10*(C-1))}function tO(C){return 1-Math.sqrt(1-C*C)}function nO(C,z){var B;return arguments.length<2&&(z=.45),arguments.length?B=z/ar*Math.asin(1/C):(C=1,B=z/4),function(G){return 1+C*Math.pow(2,-10*G)*Math.sin((G-B)*ar/z)}}function aO(C){return C||(C=1.70158),function(z){return z*z*((C+1)*z-C)}}function iO(C){return C<1/2.75?7.5625*C*C:C<2/2.75?7.5625*(C-=1.5/2.75)*C+.75:C<2.5/2.75?7.5625*(C-=2.25/2.75)*C+.9375:7.5625*(C-=2.625/2.75)*C+.984375}e.interpolateHcl=oO;function oO(C,z){C=e.hcl(C),z=e.hcl(z);var B=C.h,G=C.c,W=C.l,Z=z.h-B,le=z.c-G,ie=z.l-W;return isNaN(le)&&(le=0,G=isNaN(G)?z.c:G),isNaN(Z)?(Z=0,B=isNaN(B)?z.h:B):Z>180?Z-=360:Z<-180&&(Z+=360),function(fe){return Ot(B+Z*fe,G+le*fe,W+ie*fe)+""}}e.interpolateHsl=lO;function lO(C,z){C=e.hsl(C),z=e.hsl(z);var B=C.h,G=C.s,W=C.l,Z=z.h-B,le=z.s-G,ie=z.l-W;return isNaN(le)&&(le=0,G=isNaN(G)?z.s:G),isNaN(Z)?(Z=0,B=isNaN(B)?z.h:B):Z>180?Z-=360:Z<-180&&(Z+=360),function(fe){return hn(B+Z*fe,G+le*fe,W+ie*fe)+""}}e.interpolateLab=sO;function sO(C,z){C=e.lab(C),z=e.lab(z);var B=C.l,G=C.a,W=C.b,Z=z.l-B,le=z.a-G,ie=z.b-W;return function(fe){return wa(B+Z*fe,G+le*fe,W+ie*fe)+""}}e.interpolateRound=cb;function cb(C,z){return z-=C,function(B){return Math.round(C+z*B)}}e.transform=function(C){var z=n.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(B){if(B!=null){z.setAttribute("transform",B);var G=z.transform.baseVal.consolidate()}return new hb(G?G.matrix:fO)})(C)};function hb(C){var z=[C.a,C.b],B=[C.c,C.d],G=db(z),W=vb(z,B),Z=db(uO(B,z,-W))||0;z[0]*B[1]<B[0]*z[1]&&(z[0]*=-1,z[1]*=-1,G*=-1,W*=-1),this.rotate=(G?Math.atan2(z[1],z[0]):Math.atan2(-B[0],B[1]))*De,this.translate=[C.e,C.f],this.scale=[G,Z],this.skew=Z?Math.atan2(W,Z)*De:0}hb.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function vb(C,z){return C[0]*z[0]+C[1]*z[1]}function db(C){var z=Math.sqrt(vb(C,C));return z&&(C[0]/=z,C[1]/=z),z}function uO(C,z,B){return C[0]+=B*z[0],C[1]+=B*z[1],C}var fO={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=pb;function As(C){return C.length?C.pop()+",":""}function cO(C,z,B,G){if(C[0]!==z[0]||C[1]!==z[1]){var W=B.push("translate(",null,",",null,")");G.push({i:W-4,x:Xi(C[0],z[0])},{i:W-2,x:Xi(C[1],z[1])})}else(z[0]||z[1])&&B.push("translate("+z+")")}function hO(C,z,B,G){C!==z?(C-z>180?z+=360:z-C>180&&(C+=360),G.push({i:B.push(As(B)+"rotate(",null,")")-2,x:Xi(C,z)})):z&&B.push(As(B)+"rotate("+z+")")}function vO(C,z,B,G){C!==z?G.push({i:B.push(As(B)+"skewX(",null,")")-2,x:Xi(C,z)}):z&&B.push(As(B)+"skewX("+z+")")}function dO(C,z,B,G){if(C[0]!==z[0]||C[1]!==z[1]){var W=B.push(As(B)+"scale(",null,",",null,")");G.push({i:W-4,x:Xi(C[0],z[0])},{i:W-2,x:Xi(C[1],z[1])})}else(z[0]!==1||z[1]!==1)&&B.push(As(B)+"scale("+z+")")}function pb(C,z){var B=[],G=[];return C=e.transform(C),z=e.transform(z),cO(C.translate,z.translate,B,G),hO(C.rotate,z.rotate,B,G),vO(C.skew,z.skew,B,G),dO(C.scale,z.scale,B,G),C=z=null,function(W){for(var Z=-1,le=G.length,ie;++Z<le;)B[(ie=G[Z]).i]=ie.x(W);return B.join("")}}function pO(C,z){return z=(z-=C=+C)||1/z,function(B){return(B-C)/z}}function gO(C,z){return z=(z-=C=+C)||1/z,function(B){return Math.max(0,Math.min(1,(B-C)/z))}}e.layout={},e.layout.bundle=function(){return function(C){for(var z=[],B=-1,G=C.length;++B<G;)z.push(yO(C[B]));return z}};function yO(C){for(var z=C.source,B=C.target,G=mO(z,B),W=[z];z!==G;)z=z.parent,W.push(z);for(var Z=W.length;B!==G;)W.splice(Z,0,B),B=B.parent;return W}function gb(C){for(var z=[],B=C.parent;B!=null;)z.push(C),C=B,B=B.parent;return z.push(C),z}function mO(C,z){if(C===z)return C;for(var B=gb(C),G=gb(z),W=B.pop(),Z=G.pop(),le=null;W===Z;)le=W,W=B.pop(),Z=G.pop();return le}e.layout.chord=function(){var C={},z,B,G,W,Z=0,le,ie,fe;function xe(){var Ie={},Fe=[],Je=e.range(W),rr=[],Oe,Ge,We,je,tr;for(z=[],B=[],Oe=0,je=-1;++je<W;){for(Ge=0,tr=-1;++tr<W;)Ge+=G[je][tr];Fe.push(Ge),rr.push(e.range(W)),Oe+=Ge}for(le&&Je.sort(function(Or,Tr){return le(Fe[Or],Fe[Tr])}),ie&&rr.forEach(function(Or,Tr){Or.sort(function(Ir,st){return ie(G[Tr][Ir],G[Tr][st])})}),Oe=(ar-Z*W)/Oe,Ge=0,je=-1;++je<W;){for(We=Ge,tr=-1;++tr<W;){var Ze=Je[je],or=rr[Ze][tr],pr=G[Ze][or],mr=Ge,gr=Ge+=pr*Oe;Ie[Ze+"-"+or]={index:Ze,subindex:or,startAngle:mr,endAngle:gr,value:pr}}B[Ze]={index:Ze,startAngle:We,endAngle:Ge,value:Fe[Ze]},Ge+=Z}for(je=-1;++je<W;)for(tr=je-1;++tr<W;){var _r=Ie[je+"-"+tr],wr=Ie[tr+"-"+je];(_r.value||wr.value)&&z.push(_r.value<wr.value?{source:wr,target:_r}:{source:_r,target:wr})}fe&&_e()}function _e(){z.sort(function(Ie,Fe){return fe((Ie.source.value+Ie.target.value)/2,(Fe.source.value+Fe.target.value)/2)})}return C.matrix=function(Ie){return arguments.length?(W=(G=Ie)&&G.length,z=B=null,C):G},C.padding=function(Ie){return arguments.length?(Z=Ie,z=B=null,C):Z},C.sortGroups=function(Ie){return arguments.length?(le=Ie,z=B=null,C):le},C.sortSubgroups=function(Ie){return arguments.length?(ie=Ie,z=null,C):ie},C.sortChords=function(Ie){return arguments.length?(fe=Ie,z&&_e(),C):fe},C.chords=function(){return z||xe(),z},C.groups=function(){return B||xe(),B},C},e.layout.force=function(){var C={},z=e.dispatch("start","tick","end"),B,G=[1,1],W,Z,le=.9,ie=MO,fe=TO,xe=-30,_e=AO,Ie=.1,Fe=.64,Je=[],rr=[],Oe,Ge,We;function je(Ze){return function(or,pr,mr,gr){if(or.point!==Ze){var _r=or.cx-Ze.x,wr=or.cy-Ze.y,Or=gr-pr,Tr=_r*_r+wr*wr;if(Or*Or/Fe<Tr){if(Tr<_e){var Ir=or.charge/Tr;Ze.px-=_r*Ir,Ze.py-=wr*Ir}return!0}if(or.point&&Tr&&Tr<_e){var Ir=or.pointCharge/Tr;Ze.px-=_r*Ir,Ze.py-=wr*Ir}}return!or.charge}}C.tick=function(){if((Z*=.99)<.005)return B=null,z.end({type:"end",alpha:Z=0}),!0;var Ze=Je.length,or=rr.length,pr,mr,gr,_r,wr,Or,Tr,Ir,st;for(mr=0;mr<or;++mr)gr=rr[mr],_r=gr.source,wr=gr.target,Ir=wr.x-_r.x,st=wr.y-_r.y,(Or=Ir*Ir+st*st)&&(Or=Z*Ge[mr]*((Or=Math.sqrt(Or))-Oe[mr])/Or,Ir*=Or,st*=Or,wr.x-=Ir*(Tr=_r.weight+wr.weight?_r.weight/(_r.weight+wr.weight):.5),wr.y-=st*Tr,_r.x+=Ir*(Tr=1-Tr),_r.y+=st*Tr);if((Tr=Z*Ie)&&(Ir=G[0]/2,st=G[1]/2,mr=-1,Tr))for(;++mr<Ze;)gr=Je[mr],gr.x+=(Ir-gr.x)*Tr,gr.y+=(st-gr.y)*Tr;if(xe)for(yb(pr=e.geom.quadtree(Je),Z,We),mr=-1;++mr<Ze;)(gr=Je[mr]).fixed||pr.visit(je(gr));for(mr=-1;++mr<Ze;)gr=Je[mr],gr.fixed?(gr.x=gr.px,gr.y=gr.py):(gr.x-=(gr.px-(gr.px=gr.x))*le,gr.y-=(gr.py-(gr.py=gr.y))*le);z.tick({type:"tick",alpha:Z})},C.nodes=function(Ze){return arguments.length?(Je=Ze,C):Je},C.links=function(Ze){return arguments.length?(rr=Ze,C):rr},C.size=function(Ze){return arguments.length?(G=Ze,C):G},C.linkDistance=function(Ze){return arguments.length?(ie=typeof Ze=="function"?Ze:+Ze,C):ie},C.distance=C.linkDistance,C.linkStrength=function(Ze){return arguments.length?(fe=typeof Ze=="function"?Ze:+Ze,C):fe},C.friction=function(Ze){return arguments.length?(le=+Ze,C):le},C.charge=function(Ze){return arguments.length?(xe=typeof Ze=="function"?Ze:+Ze,C):xe},C.chargeDistance=function(Ze){return arguments.length?(_e=Ze*Ze,C):Math.sqrt(_e)},C.gravity=function(Ze){return arguments.length?(Ie=+Ze,C):Ie},C.theta=function(Ze){return arguments.length?(Fe=Ze*Ze,C):Math.sqrt(Fe)},C.alpha=function(Ze){return arguments.length?(Ze=+Ze,Z?Ze>0?Z=Ze:(B.c=null,B.t=NaN,B=null,z.end({type:"end",alpha:Z=0})):Ze>0&&(z.start({type:"start",alpha:Z=Ze}),B=rc(C.tick)),C):Z},C.start=function(){var Ze,or=Je.length,pr=rr.length,mr=G[0],gr=G[1],_r,wr;for(Ze=0;Ze<or;++Ze)(wr=Je[Ze]).index=Ze,wr.weight=0;for(Ze=0;Ze<pr;++Ze)wr=rr[Ze],typeof wr.source=="number"&&(wr.source=Je[wr.source]),typeof wr.target=="number"&&(wr.target=Je[wr.target]),++wr.source.weight,++wr.target.weight;for(Ze=0;Ze<or;++Ze)wr=Je[Ze],isNaN(wr.x)&&(wr.x=Or("x",mr)),isNaN(wr.y)&&(wr.y=Or("y",gr)),isNaN(wr.px)&&(wr.px=wr.x),isNaN(wr.py)&&(wr.py=wr.y);if(Oe=[],typeof ie=="function")for(Ze=0;Ze<pr;++Ze)Oe[Ze]=+ie.call(this,rr[Ze],Ze);else for(Ze=0;Ze<pr;++Ze)Oe[Ze]=ie;if(Ge=[],typeof fe=="function")for(Ze=0;Ze<pr;++Ze)Ge[Ze]=+fe.call(this,rr[Ze],Ze);else for(Ze=0;Ze<pr;++Ze)Ge[Ze]=fe;if(We=[],typeof xe=="function")for(Ze=0;Ze<or;++Ze)We[Ze]=+xe.call(this,Je[Ze],Ze);else for(Ze=0;Ze<or;++Ze)We[Ze]=xe;function Or(Tr,Ir){if(!_r){for(_r=new Array(or),vt=0;vt<or;++vt)_r[vt]=[];for(vt=0;vt<pr;++vt){var st=rr[vt];_r[st.source.index].push(st.target),_r[st.target.index].push(st.source)}}for(var Bt=_r[Ze],vt=-1,hr=Bt.length,Br;++vt<hr;)if(!isNaN(Br=Bt[vt][Tr]))return Br;return Math.random()*Ir}return C.resume()},C.resume=function(){return C.alpha(.1)},C.stop=function(){return C.alpha(0)},C.drag=function(){if(W||(W=e.behavior.drag().origin(N).on("dragstart.force",bO).on("drag.force",tr).on("dragend.force",xO)),!arguments.length)return W;this.on("mouseover.force",_O).on("mouseout.force",wO).call(W)};function tr(Ze){Ze.px=e.event.x,Ze.py=e.event.y,C.resume()}return e.rebind(C,z,"on")};function bO(C){C.fixed|=2}function xO(C){C.fixed&=-7}function _O(C){C.fixed|=4,C.px=C.x,C.py=C.y}function wO(C){C.fixed&=-5}function yb(C,z,B){var G=0,W=0;if(C.charge=0,!C.leaf)for(var Z=C.nodes,le=Z.length,ie=-1,fe;++ie<le;)fe=Z[ie],fe!=null&&(yb(fe,z,B),C.charge+=fe.charge,G+=fe.charge*fe.cx,W+=fe.charge*fe.cy);if(C.point){C.leaf||(C.point.x+=Math.random()-.5,C.point.y+=Math.random()-.5);var xe=z*B[C.point.index];C.charge+=C.pointCharge=xe,G+=xe*C.point.x,W+=xe*C.point.y}C.cx=G/C.charge,C.cy=W/C.charge}var MO=20,TO=1,AO=1/0;e.layout.hierarchy=function(){var C=CO,z=kO,B=SO;function G(W){var Z=[W],le=[],ie;for(W.depth=0;(ie=Z.pop())!=null;)if(le.push(ie),(xe=z.call(G,ie,ie.depth))&&(fe=xe.length)){for(var fe,xe,_e;--fe>=0;)Z.push(_e=xe[fe]),_e.parent=ie,_e.depth=ie.depth+1;B&&(ie.value=0),ie.children=xe}else B&&(ie.value=+B.call(G,ie,ie.depth)||0),delete ie.children;return wi(W,function(Ie){var Fe,Je;C&&(Fe=Ie.children)&&Fe.sort(C),B&&(Je=Ie.parent)&&(Je.value+=Ie.value)}),le}return G.sort=function(W){return arguments.length?(C=W,G):C},G.children=function(W){return arguments.length?(z=W,G):z},G.value=function(W){return arguments.length?(B=W,G):B},G.revalue=function(W){return B&&(af(W,function(Z){Z.children&&(Z.value=0)}),wi(W,function(Z){var le;Z.children||(Z.value=+B.call(G,Z,Z.depth)||0),(le=Z.parent)&&(le.value+=Z.value)})),W},G};function nf(C,z){return e.rebind(C,z,"sort","children","value"),C.nodes=C,C.links=EO,C}function af(C,z){for(var B=[C];(C=B.pop())!=null;)if(z(C),(W=C.children)&&(G=W.length))for(var G,W;--G>=0;)B.push(W[G])}function wi(C,z){for(var B=[C],G=[];(C=B.pop())!=null;)if(G.push(C),(le=C.children)&&(Z=le.length))for(var W=-1,Z,le;++W<Z;)B.push(le[W]);for(;(C=G.pop())!=null;)z(C)}function kO(C){return C.children}function SO(C){return C.value}function CO(C,z){return z.value-C.value}function EO(C){return e.merge(C.map(function(z){return(z.children||[]).map(function(B){return{source:z,target:B}})}))}e.layout.partition=function(){var C=e.layout.hierarchy(),z=[1,1];function B(Z,le,ie,fe){var xe=Z.children;if(Z.x=le,Z.y=Z.depth*fe,Z.dx=ie,Z.dy=fe,xe&&(Ie=xe.length)){var _e=-1,Ie,Fe,Je;for(ie=Z.value?ie/Z.value:0;++_e<Ie;)B(Fe=xe[_e],le,Je=Fe.value*ie,fe),le+=Je}}function G(Z){var le=Z.children,ie=0;if(le&&(xe=le.length))for(var fe=-1,xe;++fe<xe;)ie=Math.max(ie,G(le[fe]));return 1+ie}function W(Z,le){var ie=C.call(this,Z,le);return B(ie[0],0,z[0],z[1]/G(ie[0])),ie}return W.size=function(Z){return arguments.length?(z=Z,W):z},nf(W,C)},e.layout.pie=function(){var C=Number,z=mb,B=0,G=ar,W=0;function Z(le){var ie=le.length,fe=le.map(function(je,tr){return+C.call(Z,je,tr)}),xe=+(typeof B=="function"?B.apply(this,arguments):B),_e=(typeof G=="function"?G.apply(this,arguments):G)-xe,Ie=Math.min(Math.abs(_e)/ie,+(typeof W=="function"?W.apply(this,arguments):W)),Fe=Ie*(_e<0?-1:1),Je=e.sum(fe),rr=Je?(_e-ie*Fe)/Je:0,Oe=e.range(ie),Ge=[],We;return z!=null&&Oe.sort(z===mb?function(je,tr){return fe[tr]-fe[je]}:function(je,tr){return z(le[je],le[tr])}),Oe.forEach(function(je){Ge[je]={data:le[je],value:We=fe[je],startAngle:xe,endAngle:xe+=We*rr+Fe,padAngle:Ie}}),Ge}return Z.value=function(le){return arguments.length?(C=le,Z):C},Z.sort=function(le){return arguments.length?(z=le,Z):z},Z.startAngle=function(le){return arguments.length?(B=le,Z):B},Z.endAngle=function(le){return arguments.length?(G=le,Z):G},Z.padAngle=function(le){return arguments.length?(W=le,Z):W},Z};var mb={};e.layout.stack=function(){var C=N,z=Gd,B=Yd,G=RO,W=LO,Z=DO;function le(ie,fe){if(!(rr=ie.length))return ie;var xe=ie.map(function(je,tr){return C.call(le,je,tr)}),_e=xe.map(function(je){return je.map(function(tr,Ze){return[W.call(le,tr,Ze),Z.call(le,tr,Ze)]})}),Ie=z.call(le,_e,fe);xe=e.permute(xe,Ie),_e=e.permute(_e,Ie);var Fe=B.call(le,_e,fe),Je=xe[0].length,rr,Oe,Ge,We;for(Ge=0;Ge<Je;++Ge)for(G.call(le,xe[0][Ge],We=Fe[Ge],_e[0][Ge][1]),Oe=1;Oe<rr;++Oe)G.call(le,xe[Oe][Ge],We+=_e[Oe-1][Ge][1],_e[Oe][Ge][1]);return ie}return le.values=function(ie){return arguments.length?(C=ie,le):C},le.order=function(ie){return arguments.length?(z=typeof ie=="function"?ie:PO.get(ie)||Gd,le):z},le.offset=function(ie){return arguments.length?(B=typeof ie=="function"?ie:IO.get(ie)||Yd,le):B},le.x=function(ie){return arguments.length?(W=ie,le):W},le.y=function(ie){return arguments.length?(Z=ie,le):Z},le.out=function(ie){return arguments.length?(G=ie,le):G},le};function LO(C){return C.x}function DO(C){return C.y}function RO(C,z,B){C.y0=z,C.y=B}var PO=e.map({"inside-out":function(C){var z=C.length,B,G,W=C.map(FO),Z=C.map(NO),le=e.range(z).sort(function(Ie,Fe){return W[Ie]-W[Fe]}),ie=0,fe=0,xe=[],_e=[];for(B=0;B<z;++B)G=le[B],ie<fe?(ie+=Z[G],xe.push(G)):(fe+=Z[G],_e.push(G));return _e.reverse().concat(xe)},reverse:function(C){return e.range(C.length).reverse()},default:Gd}),IO=e.map({silhouette:function(C){var z=C.length,B=C[0].length,G=[],W=0,Z,le,ie,fe=[];for(le=0;le<B;++le){for(Z=0,ie=0;Z<z;Z++)ie+=C[Z][le][1];ie>W&&(W=ie),G.push(ie)}for(le=0;le<B;++le)fe[le]=(W-G[le])/2;return fe},wiggle:function(C){var z=C.length,B=C[0],G=B.length,W,Z,le,ie,fe,xe,_e,Ie,Fe,Je=[];for(Je[0]=Ie=Fe=0,Z=1;Z<G;++Z){for(W=0,ie=0;W<z;++W)ie+=C[W][Z][1];for(W=0,fe=0,_e=B[Z][0]-B[Z-1][0];W<z;++W){for(le=0,xe=(C[W][Z][1]-C[W][Z-1][1])/(2*_e);le<W;++le)xe+=(C[le][Z][1]-C[le][Z-1][1])/_e;fe+=xe*C[W][Z][1]}Je[Z]=Ie-=ie?fe/ie*_e:0,Ie<Fe&&(Fe=Ie)}for(Z=0;Z<G;++Z)Je[Z]-=Fe;return Je},expand:function(C){var z=C.length,B=C[0].length,G=1/z,W,Z,le,ie=[];for(Z=0;Z<B;++Z){for(W=0,le=0;W<z;W++)le+=C[W][Z][1];if(le)for(W=0;W<z;W++)C[W][Z][1]/=le;else for(W=0;W<z;W++)C[W][Z][1]=G}for(Z=0;Z<B;++Z)ie[Z]=0;return ie},zero:Yd});function Gd(C){return e.range(C.length)}function Yd(C){for(var z=-1,B=C[0].length,G=[];++z<B;)G[z]=0;return G}function FO(C){for(var z=1,B=0,G=C[0][1],W,Z=C.length;z<Z;++z)(W=C[z][1])>G&&(B=z,G=W);return B}function NO(C){return C.reduce(zO,0)}function zO(C,z){return C+z[1]}e.layout.histogram=function(){var C=!0,z=Number,B=OO,G=qO;function W(Z,Fe){for(var ie=[],fe=Z.map(z,this),xe=B.call(this,fe,Fe),_e=G.call(this,xe,fe,Fe),Ie,Fe=-1,Je=fe.length,rr=_e.length-1,Oe=C?1:1/Je,Ge;++Fe<rr;)Ie=ie[Fe]=[],Ie.dx=_e[Fe+1]-(Ie.x=_e[Fe]),Ie.y=0;if(rr>0)for(Fe=-1;++Fe<Je;)Ge=fe[Fe],Ge>=xe[0]&&Ge<=xe[1]&&(Ie=ie[e.bisect(_e,Ge,1,rr)-1],Ie.y+=Oe,Ie.push(Z[Fe]));return ie}return W.value=function(Z){return arguments.length?(z=Z,W):z},W.range=function(Z){return arguments.length?(B=Wr(Z),W):B},W.bins=function(Z){return arguments.length?(G=typeof Z=="number"?function(le){return bb(le,Z)}:Wr(Z),W):G},W.frequency=function(Z){return arguments.length?(C=!!Z,W):C},W};function qO(C,z){return bb(C,Math.ceil(Math.log(z.length)/Math.LN2+1))}function bb(C,z){for(var B=-1,G=+C[0],W=(C[1]-G)/z,Z=[];++B<=z;)Z[B]=W*B+G;return Z}function OO(C){return[e.min(C),e.max(C)]}e.layout.pack=function(){var C=e.layout.hierarchy().sort(BO),z=0,B=[1,1],G;function W(Z,le){var ie=C.call(this,Z,le),fe=ie[0],xe=B[0],_e=B[1],Ie=G==null?Math.sqrt:typeof G=="function"?G:function(){return G};if(fe.x=fe.y=0,wi(fe,function(Je){Je.r=+Ie(Je.value)}),wi(fe,wb),z){var Fe=z*(G?1:Math.max(2*fe.r/xe,2*fe.r/_e))/2;wi(fe,function(Je){Je.r+=Fe}),wi(fe,wb),wi(fe,function(Je){Je.r-=Fe})}return Mb(fe,xe/2,_e/2,G?1:1/Math.max(2*fe.r/xe,2*fe.r/_e)),ie}return W.size=function(Z){return arguments.length?(B=Z,W):B},W.radius=function(Z){return arguments.length?(G=Z==null||typeof Z=="function"?Z:+Z,W):G},W.padding=function(Z){return arguments.length?(z=+Z,W):z},nf(W,C)};function BO(C,z){return C.value-z.value}function Wd(C,z){var B=C._pack_next;C._pack_next=z,z._pack_prev=C,z._pack_next=B,B._pack_prev=z}function xb(C,z){C._pack_next=z,z._pack_prev=C}function _b(C,z){var B=z.x-C.x,G=z.y-C.y,W=C.r+z.r;return .999*W*W>B*B+G*G}function wb(C){if(!(z=C.children)||!(Fe=z.length))return;var z,B=1/0,G=-1/0,W=1/0,Z=-1/0,le,ie,fe,xe,_e,Ie,Fe;function Je(Ze){B=Math.min(Ze.x-Ze.r,B),G=Math.max(Ze.x+Ze.r,G),W=Math.min(Ze.y-Ze.r,W),Z=Math.max(Ze.y+Ze.r,Z)}if(z.forEach(UO),le=z[0],le.x=-le.r,le.y=0,Je(le),Fe>1&&(ie=z[1],ie.x=ie.r,ie.y=0,Je(ie),Fe>2))for(fe=z[2],Tb(le,ie,fe),Je(fe),Wd(le,fe),le._pack_prev=fe,Wd(fe,ie),ie=le._pack_next,xe=3;xe<Fe;xe++){Tb(le,ie,fe=z[xe]);var rr=0,Oe=1,Ge=1;for(_e=ie._pack_next;_e!==ie;_e=_e._pack_next,Oe++)if(_b(_e,fe)){rr=1;break}if(rr==1)for(Ie=le._pack_prev;Ie!==_e._pack_prev&&!_b(Ie,fe);Ie=Ie._pack_prev,Ge++);rr?(Oe<Ge||Oe==Ge&&ie.r<le.r?xb(le,ie=_e):xb(le=Ie,ie),xe--):(Wd(le,fe),ie=fe,Je(fe))}var We=(B+G)/2,je=(W+Z)/2,tr=0;for(xe=0;xe<Fe;xe++)fe=z[xe],fe.x-=We,fe.y-=je,tr=Math.max(tr,fe.r+Math.sqrt(fe.x*fe.x+fe.y*fe.y));C.r=tr,z.forEach(HO)}function UO(C){C._pack_next=C._pack_prev=C}function HO(C){delete C._pack_next,delete C._pack_prev}function Mb(C,z,B,G){var W=C.children;if(C.x=z+=G*C.x,C.y=B+=G*C.y,C.r*=G,W)for(var Z=-1,le=W.length;++Z<le;)Mb(W[Z],z,B,G)}function Tb(C,z,B){var G=C.r+B.r,W=z.x-C.x,Z=z.y-C.y;if(G&&(W||Z)){var le=z.r+B.r,ie=W*W+Z*Z;le*=le,G*=G;var fe=.5+(G-le)/(2*ie),xe=Math.sqrt(Math.max(0,2*le*(G+ie)-(G-=ie)*G-le*le))/(2*ie);B.x=C.x+fe*W+xe*Z,B.y=C.y+fe*Z-xe*W}else B.x=C.x+G,B.y=C.y}e.layout.tree=function(){var C=e.layout.hierarchy().sort(null).value(null),z=Ab,B=[1,1],G=null;function W(_e,Ie){var Fe=C.call(this,_e,Ie),Je=Fe[0],rr=Z(Je);if(wi(rr,le),rr.parent.m=-rr.z,af(rr,ie),G)af(Je,xe);else{var Oe=Je,Ge=Je,We=Je;af(Je,function(or){or.x<Oe.x&&(Oe=or),or.x>Ge.x&&(Ge=or),or.depth>We.depth&&(We=or)});var je=z(Oe,Ge)/2-Oe.x,tr=B[0]/(Ge.x+z(Ge,Oe)/2+je),Ze=B[1]/(We.depth||1);af(Je,function(or){or.x=(or.x+je)*tr,or.y=or.depth*Ze})}return Fe}function Z(_e){for(var Ie={A:null,children:[_e]},Fe=[Ie],Je;(Je=Fe.pop())!=null;)for(var rr=Je.children,Oe,Ge=0,We=rr.length;Ge<We;++Ge)Fe.push((rr[Ge]=Oe={_:rr[Ge],parent:Je,children:(Oe=rr[Ge].children)&&Oe.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ge}).a=Oe);return Ie.children[0]}function le(_e){var Ie=_e.children,Fe=_e.parent.children,Je=_e.i?Fe[_e.i-1]:null;if(Ie.length){GO(_e);var rr=(Ie[0].z+Ie[Ie.length-1].z)/2;Je?(_e.z=Je.z+z(_e._,Je._),_e.m=_e.z-rr):_e.z=rr}else Je&&(_e.z=Je.z+z(_e._,Je._));_e.parent.A=fe(_e,Je,_e.parent.A||Fe[0])}function ie(_e){_e._.x=_e.z+_e.parent.m,_e.m+=_e.parent.m}function fe(_e,Ie,Fe){if(Ie){for(var Je=_e,rr=_e,Oe=Ie,Ge=Je.parent.children[0],We=Je.m,je=rr.m,tr=Oe.m,Ze=Ge.m,or;Oe=Zd(Oe),Je=Xd(Je),Oe&&Je;)Ge=Xd(Ge),rr=Zd(rr),rr.a=_e,or=Oe.z+tr-Je.z-We+z(Oe._,Je._),or>0&&(VO(YO(Oe,_e,Fe),_e,or),We+=or,je+=or),tr+=Oe.m,We+=Je.m,Ze+=Ge.m,je+=rr.m;Oe&&!Zd(rr)&&(rr.t=Oe,rr.m+=tr-je),Je&&!Xd(Ge)&&(Ge.t=Je,Ge.m+=We-Ze,Fe=_e)}return Fe}function xe(_e){_e.x*=B[0],_e.y=_e.depth*B[1]}return W.separation=function(_e){return arguments.length?(z=_e,W):z},W.size=function(_e){return arguments.length?(G=(B=_e)==null?xe:null,W):G?null:B},W.nodeSize=function(_e){return arguments.length?(G=(B=_e)==null?null:xe,W):G?B:null},nf(W,C)};function Ab(C,z){return C.parent==z.parent?1:2}function Xd(C){var z=C.children;return z.length?z[0]:C.t}function Zd(C){var z=C.children,B;return(B=z.length)?z[B-1]:C.t}function VO(C,z,B){var G=B/(z.i-C.i);z.c-=G,z.s+=B,C.c+=G,z.z+=B,z.m+=B}function GO(C){for(var z=0,B=0,G=C.children,W=G.length,Z;--W>=0;)Z=G[W],Z.z+=z,Z.m+=z,z+=Z.s+(B+=Z.c)}function YO(C,z,B){return C.a.parent===z.parent?C.a:B}e.layout.cluster=function(){var C=e.layout.hierarchy().sort(null).value(null),z=Ab,B=[1,1],G=!1;function W(Z,le){var ie=C.call(this,Z,le),fe=ie[0],xe,_e=0;wi(fe,function(Oe){var Ge=Oe.children;Ge&&Ge.length?(Oe.x=XO(Ge),Oe.y=WO(Ge)):(Oe.x=xe?_e+=z(Oe,xe):0,Oe.y=0,xe=Oe)});var Ie=kb(fe),Fe=Sb(fe),Je=Ie.x-z(Ie,Fe)/2,rr=Fe.x+z(Fe,Ie)/2;return wi(fe,G?function(Oe){Oe.x=(Oe.x-fe.x)*B[0],Oe.y=(fe.y-Oe.y)*B[1]}:function(Oe){Oe.x=(Oe.x-Je)/(rr-Je)*B[0],Oe.y=(1-(fe.y?Oe.y/fe.y:1))*B[1]}),ie}return W.separation=function(Z){return arguments.length?(z=Z,W):z},W.size=function(Z){return arguments.length?(G=(B=Z)==null,W):G?null:B},W.nodeSize=function(Z){return arguments.length?(G=(B=Z)!=null,W):G?B:null},nf(W,C)};function WO(C){return 1+e.max(C,function(z){return z.y})}function XO(C){return C.reduce(function(z,B){return z+B.x},0)/C.length}function kb(C){var z=C.children;return z&&z.length?kb(z[0]):C}function Sb(C){var z=C.children,B;return z&&(B=z.length)?Sb(z[B-1]):C}e.layout.treemap=function(){var C=e.layout.hierarchy(),z=Math.round,B=[1,1],G=null,W=Jd,Z=!1,le,ie="squarify",fe=.5*(1+Math.sqrt(5));function xe(Oe,Ge){for(var We=-1,je=Oe.length,tr,Ze;++We<je;)Ze=(tr=Oe[We]).value*(Ge<0?0:Ge),tr.area=isNaN(Ze)||Ze<=0?0:Ze}function _e(Oe){var Ge=Oe.children;if(Ge&&Ge.length){var We=W(Oe),je=[],tr=Ge.slice(),Ze,or=1/0,pr,mr=ie==="slice"?We.dx:ie==="dice"?We.dy:ie==="slice-dice"?Oe.depth&1?We.dy:We.dx:Math.min(We.dx,We.dy),gr;for(xe(tr,We.dx*We.dy/Oe.value),je.area=0;(gr=tr.length)>0;)je.push(Ze=tr[gr-1]),je.area+=Ze.area,ie!=="squarify"||(pr=Fe(je,mr))<=or?(tr.pop(),or=pr):(je.area-=je.pop().area,Je(je,mr,We,!1),mr=Math.min(We.dx,We.dy),je.length=je.area=0,or=1/0);je.length&&(Je(je,mr,We,!0),je.length=je.area=0),Ge.forEach(_e)}}function Ie(Oe){var Ge=Oe.children;if(Ge&&Ge.length){var We=W(Oe),je=Ge.slice(),tr,Ze=[];for(xe(je,We.dx*We.dy/Oe.value),Ze.area=0;tr=je.pop();)Ze.push(tr),Ze.area+=tr.area,tr.z!=null&&(Je(Ze,tr.z?We.dx:We.dy,We,!je.length),Ze.length=Ze.area=0);Ge.forEach(Ie)}}function Fe(Oe,Ge){for(var We=Oe.area,je,tr=0,Ze=1/0,or=-1,pr=Oe.length;++or<pr;)(je=Oe[or].area)&&(je<Ze&&(Ze=je),je>tr&&(tr=je));return We*=We,Ge*=Ge,We?Math.max(Ge*tr*fe/We,We/(Ge*Ze*fe)):1/0}function Je(Oe,Ge,We,je){var tr=-1,Ze=Oe.length,or=We.x,pr=We.y,mr=Ge?z(Oe.area/Ge):0,gr;if(Ge==We.dx){for((je||mr>We.dy)&&(mr=We.dy);++tr<Ze;)gr=Oe[tr],gr.x=or,gr.y=pr,gr.dy=mr,or+=gr.dx=Math.min(We.x+We.dx-or,mr?z(gr.area/mr):0);gr.z=!0,gr.dx+=We.x+We.dx-or,We.y+=mr,We.dy-=mr}else{for((je||mr>We.dx)&&(mr=We.dx);++tr<Ze;)gr=Oe[tr],gr.x=or,gr.y=pr,gr.dx=mr,pr+=gr.dy=Math.min(We.y+We.dy-pr,mr?z(gr.area/mr):0);gr.z=!1,gr.dy+=We.y+We.dy-pr,We.x+=mr,We.dx-=mr}}function rr(Oe){var Ge=le||C(Oe),We=Ge[0];return We.x=We.y=0,We.value?(We.dx=B[0],We.dy=B[1]):We.dx=We.dy=0,le&&C.revalue(We),xe([We],We.dx*We.dy/We.value),(le?Ie:_e)(We),Z&&(le=Ge),Ge}return rr.size=function(Oe){return arguments.length?(B=Oe,rr):B},rr.padding=function(Oe){if(!arguments.length)return G;function Ge(tr){var Ze=Oe.call(rr,tr,tr.depth);return Ze==null?Jd(tr):Cb(tr,typeof Ze=="number"?[Ze,Ze,Ze,Ze]:Ze)}function We(tr){return Cb(tr,Oe)}var je;return W=(G=Oe)==null?Jd:(je=typeof Oe)=="function"?Ge:(je==="number"&&(Oe=[Oe,Oe,Oe,Oe]),We),rr},rr.round=function(Oe){return arguments.length?(z=Oe?Math.round:Number,rr):z!=Number},rr.sticky=function(Oe){return arguments.length?(Z=Oe,le=null,rr):Z},rr.ratio=function(Oe){return arguments.length?(fe=Oe,rr):fe},rr.mode=function(Oe){return arguments.length?(ie=Oe+"",rr):ie},nf(rr,C)};function Jd(C){return{x:C.x,y:C.y,dx:C.dx,dy:C.dy}}function Cb(C,z){var B=C.x+z[3],G=C.y+z[0],W=C.dx-z[1]-z[3],Z=C.dy-z[0]-z[2];return W<0&&(B+=W/2,W=0),Z<0&&(G+=Z/2,Z=0),{x:B,y:G,dx:W,dy:Z}}e.random={normal:function(C,z){var B=arguments.length;return B<2&&(z=1),B<1&&(C=0),function(){var G,W,Z;do G=Math.random()*2-1,W=Math.random()*2-1,Z=G*G+W*W;while(!Z||Z>1);return C+z*G*Math.sqrt(-2*Math.log(Z)/Z)}},logNormal:function(){var C=e.random.normal.apply(e,arguments);return function(){return Math.exp(C())}},bates:function(C){var z=e.random.irwinHall(C);return function(){return z()/C}},irwinHall:function(C){return function(){for(var z=0,B=0;B<C;B++)z+=Math.random();return z}}},e.scale={};function sc(C){var z=C[0],B=C[C.length-1];return z<B?[z,B]:[B,z]}function uc(C){return C.rangeExtent?C.rangeExtent():sc(C.range())}function ZO(C,z,B,G){var W=B(C[0],C[1]),Z=G(z[0],z[1]);return function(le){return Z(W(le))}}function Kd(C,z){var B=0,G=C.length-1,W=C[B],Z=C[G],le;return Z<W&&(le=B,B=G,G=le,le=W,W=Z,Z=le),C[B]=z.floor(W),C[G]=z.ceil(Z),C}function Eb(C){return C?{floor:function(z){return Math.floor(z/C)*C},ceil:function(z){return Math.ceil(z/C)*C}}:JO}var JO={floor:N,ceil:N};function KO(C,z,B,G){var W=[],Z=[],le=0,ie=Math.min(C.length,z.length)-1;for(C[ie]<C[0]&&(C=C.slice().reverse(),z=z.slice().reverse());++le<=ie;)W.push(B(C[le-1],C[le])),Z.push(G(z[le-1],z[le]));return function(fe){var xe=e.bisect(C,fe,1,ie)-1;return Z[xe](W[xe](fe))}}e.scale.linear=function(){return Lb([0,1],[0,1],pl,!1)};function Lb(C,z,B,G){var W,Z;function le(){var fe=Math.min(C.length,z.length)>2?KO:ZO,xe=G?gO:pO;return W=fe(C,z,xe,B),Z=fe(z,C,xe,pl),ie}function ie(fe){return W(fe)}return ie.invert=function(fe){return Z(fe)},ie.domain=function(fe){return arguments.length?(C=fe.map(Number),le()):C},ie.range=function(fe){return arguments.length?(z=fe,le()):z},ie.rangeRound=function(fe){return ie.range(fe).interpolate(cb)},ie.clamp=function(fe){return arguments.length?(G=fe,le()):G},ie.interpolate=function(fe){return arguments.length?(B=fe,le()):B},ie.ticks=function(fe){return $d(C,fe)},ie.tickFormat=function(fe,xe){return d3_scale_linearTickFormat(C,fe,xe)},ie.nice=function(fe){return Rb(C,fe),le()},ie.copy=function(){return Lb(C,z,B,G)},le()}function Db(C,z){return e.rebind(C,z,"range","rangeRound","interpolate","clamp")}function Rb(C,z){return Kd(C,Eb(Qd(C,z)[2])),Kd(C,Eb(Qd(C,z)[2])),C}function Qd(C,z){z==null&&(z=10);var B=sc(C),G=B[1]-B[0],W=Math.pow(10,Math.floor(Math.log(G/z)/Math.LN10)),Z=z/G*W;return Z<=.15?W*=10:Z<=.35?W*=5:Z<=.75&&(W*=2),B[0]=Math.ceil(B[0]/W)*W,B[1]=Math.floor(B[1]/W)*W+W*.5,B[2]=W,B}function $d(C,z){return e.range.apply(e,Qd(C,z))}var QO={s:1,g:1,p:1,r:1,e:1};function Pb(C){return-Math.floor(Math.log(C)/Math.LN10+.01)}function Jue(C,z){var B=Pb(z[2]);return C in QO?Math.abs(B-Pb(Math.max(y(z[0]),y(z[1]))))+ +(C!=="e"):B-(C==="%")*2}e.scale.log=function(){return Ib(e.scale.linear().domain([0,1]),10,!0,[1,10])};function Ib(C,z,B,G){function W(ie){return(B?Math.log(ie<0?0:ie):-Math.log(ie>0?0:-ie))/Math.log(z)}function Z(ie){return B?Math.pow(z,ie):-Math.pow(z,-ie)}function le(ie){return C(W(ie))}return le.invert=function(ie){return Z(C.invert(ie))},le.domain=function(ie){return arguments.length?(B=ie[0]>=0,C.domain((G=ie.map(Number)).map(W)),le):G},le.base=function(ie){return arguments.length?(z=+ie,C.domain(G.map(W)),le):z},le.nice=function(){var ie=Kd(G.map(W),B?Math:$O);return C.domain(ie),G=ie.map(Z),le},le.ticks=function(){var ie=sc(G),fe=[],xe=ie[0],_e=ie[1],Ie=Math.floor(W(xe)),Fe=Math.ceil(W(_e)),Je=z%1?2:z;if(isFinite(Fe-Ie)){if(B){for(;Ie<Fe;Ie++)for(var rr=1;rr<Je;rr++)fe.push(Z(Ie)*rr);fe.push(Z(Ie))}else for(fe.push(Z(Ie));Ie++<Fe;)for(var rr=Je-1;rr>0;rr--)fe.push(Z(Ie)*rr);for(Ie=0;fe[Ie]<xe;Ie++);for(Fe=fe.length;fe[Fe-1]>_e;Fe--);fe=fe.slice(Ie,Fe)}return fe},le.copy=function(){return Ib(C.copy(),z,B,G)},Db(le,C)}var $O={floor:function(C){return-Math.ceil(-C)},ceil:function(C){return-Math.floor(-C)}};e.scale.pow=function(){return Fb(e.scale.linear(),1,[0,1])};function Fb(C,z,B){var G=fc(z),W=fc(1/z);function Z(le){return C(G(le))}return Z.invert=function(le){return W(C.invert(le))},Z.domain=function(le){return arguments.length?(C.domain((B=le.map(Number)).map(G)),Z):B},Z.ticks=function(le){return $d(B,le)},Z.tickFormat=function(le,ie){return d3_scale_linearTickFormat(B,le,ie)},Z.nice=function(le){return Z.domain(Rb(B,le))},Z.exponent=function(le){return arguments.length?(G=fc(z=le),W=fc(1/z),C.domain(B.map(G)),Z):z},Z.copy=function(){return Fb(C.copy(),z,B)},Db(Z,C)}function fc(C){return function(z){return z<0?-Math.pow(-z,C):Math.pow(z,C)}}e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return Nb([],{t:"range",a:[[]]})};function Nb(C,z){var B,G,W;function Z(ie){return G[((B.get(ie)||(z.t==="range"?B.set(ie,C.push(ie)):NaN))-1)%G.length]}function le(ie,fe){return e.range(C.length).map(function(xe){return ie+fe*xe})}return Z.domain=function(ie){if(!arguments.length)return C;C=[],B=new b;for(var fe=-1,xe=ie.length,_e;++fe<xe;)B.has(_e=ie[fe])||B.set(_e,C.push(_e));return Z[z.t].apply(Z,z.a)},Z.range=function(ie){return arguments.length?(G=ie,W=0,z={t:"range",a:arguments},Z):G},Z.rangePoints=function(ie,fe){arguments.length<2&&(fe=0);var xe=ie[0],_e=ie[1],Ie=C.length<2?(xe=(xe+_e)/2,0):(_e-xe)/(C.length-1+fe);return G=le(xe+Ie*fe/2,Ie),W=0,z={t:"rangePoints",a:arguments},Z},Z.rangeRoundPoints=function(ie,fe){arguments.length<2&&(fe=0);var xe=ie[0],_e=ie[1],Ie=C.length<2?(xe=_e=Math.round((xe+_e)/2),0):(_e-xe)/(C.length-1+fe)|0;return G=le(xe+Math.round(Ie*fe/2+(_e-xe-(C.length-1+fe)*Ie)/2),Ie),W=0,z={t:"rangeRoundPoints",a:arguments},Z},Z.rangeBands=function(ie,fe,xe){arguments.length<2&&(fe=0),arguments.length<3&&(xe=fe);var _e=ie[1]<ie[0],Ie=ie[_e-0],Fe=ie[1-_e],Je=(Fe-Ie)/(C.length-fe+2*xe);return G=le(Ie+Je*xe,Je),_e&&G.reverse(),W=Je*(1-fe),z={t:"rangeBands",a:arguments},Z},Z.rangeRoundBands=function(ie,fe,xe){arguments.length<2&&(fe=0),arguments.length<3&&(xe=fe);var _e=ie[1]<ie[0],Ie=ie[_e-0],Fe=ie[1-_e],Je=Math.floor((Fe-Ie)/(C.length-fe+2*xe));return G=le(Ie+Math.round((Fe-Ie-(C.length-fe)*Je)/2),Je),_e&&G.reverse(),W=Math.round(Je*(1-fe)),z={t:"rangeRoundBands",a:arguments},Z},Z.rangeBand=function(){return W},Z.rangeExtent=function(){return sc(z.a[0])},Z.copy=function(){return Nb(C,z)},Z.domain(C)}e.scale.category10=function(){return e.scale.ordinal().range(jO)},e.scale.category20=function(){return e.scale.ordinal().range(eB)},e.scale.category20b=function(){return e.scale.ordinal().range(rB)},e.scale.category20c=function(){return e.scale.ordinal().range(tB)};var jO=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xi),eB=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xi),rB=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xi),tB=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xi);e.scale.quantile=function(){return zb([],[])};function zb(C,z){var B;function G(){var Z=0,le=z.length;for(B=[];++Z<le;)B[Z-1]=e.quantile(C,Z/le);return W}function W(Z){if(!isNaN(Z=+Z))return z[e.bisect(B,Z)]}return W.domain=function(Z){return arguments.length?(C=Z.map(p).filter(_).sort(h),G()):C},W.range=function(Z){return arguments.length?(z=Z,G()):z},W.quantiles=function(){return B},W.invertExtent=function(Z){return Z=z.indexOf(Z),Z<0?[NaN,NaN]:[Z>0?B[Z-1]:C[0],Z<B.length?B[Z]:C[C.length-1]]},W.copy=function(){return zb(C,z)},G()}e.scale.quantize=function(){return qb(0,1,[0,1])};function qb(C,z,B){var G,W;function Z(ie){return B[Math.max(0,Math.min(W,Math.floor(G*(ie-C))))]}function le(){return G=B.length/(z-C),W=B.length-1,Z}return Z.domain=function(ie){return arguments.length?(C=+ie[0],z=+ie[ie.length-1],le()):[C,z]},Z.range=function(ie){return arguments.length?(B=ie,le()):B},Z.invertExtent=function(ie){return ie=B.indexOf(ie),ie=ie<0?NaN:ie/G+C,[ie,ie+1/G]},Z.copy=function(){return qb(C,z,B)},le()}e.scale.threshold=function(){return Ob([.5],[0,1])};function Ob(C,z){function B(G){if(G<=G)return z[e.bisect(C,G)]}return B.domain=function(G){return arguments.length?(C=G,B):C},B.range=function(G){return arguments.length?(z=G,B):z},B.invertExtent=function(G){return G=z.indexOf(G),[C[G-1],C[G]]},B.copy=function(){return Ob(C,z)},B}e.scale.identity=function(){return Bb([0,1])};function Bb(C){function z(B){return+B}return z.invert=z,z.domain=z.range=function(B){return arguments.length?(C=B.map(z),z):C},z.ticks=function(B){return $d(C,B)},z.tickFormat=function(B,G){return d3_scale_linearTickFormat(C,B,G)},z.copy=function(){return Bb(C)},z}e.svg={};function nB(){return 0}e.svg.arc=function(){var C=aB,z=iB,B=nB,G=cc,W=Ub,Z=Hb,le=oB;function ie(){var xe=Math.max(0,+C.apply(this,arguments)),_e=Math.max(0,+z.apply(this,arguments)),Ie=W.apply(this,arguments)-J,Fe=Z.apply(this,arguments)-J,Je=Math.abs(Fe-Ie),rr=Ie>Fe?0:1;if(_e<xe&&(Oe=_e,_e=xe,xe=Oe),Je>=se)return fe(_e,rr)+(xe?fe(xe,1-rr):"")+"Z";var Oe,Ge,We,je,tr=0,Ze=0,or,pr,mr,gr,_r,wr,Or,Tr,Ir=[];if((je=(+le.apply(this,arguments)||0)/2)&&(We=G===cc?Math.sqrt(xe*xe+_e*_e):+G.apply(this,arguments),rr||(Ze*=-1),_e&&(Ze=fr(We/_e*Math.sin(je))),xe&&(tr=fr(We/xe*Math.sin(je)))),_e){or=_e*Math.cos(Ie+Ze),pr=_e*Math.sin(Ie+Ze),mr=_e*Math.cos(Fe-Ze),gr=_e*Math.sin(Fe-Ze);var st=Math.abs(Fe-Ie-2*Ze)<=Ke?0:1;if(Ze&&hc(or,pr,mr,gr)===rr^st){var Bt=(Ie+Fe)/2;or=_e*Math.cos(Bt),pr=_e*Math.sin(Bt),mr=gr=null}}else or=pr=0;if(xe){_r=xe*Math.cos(Fe-tr),wr=xe*Math.sin(Fe-tr),Or=xe*Math.cos(Ie+tr),Tr=xe*Math.sin(Ie+tr);var vt=Math.abs(Ie-Fe+2*tr)<=Ke?0:1;if(tr&&hc(_r,wr,Or,Tr)===1-rr^vt){var hr=(Ie+Fe)/2;_r=xe*Math.cos(hr),wr=xe*Math.sin(hr),Or=Tr=null}}else _r=wr=0;if(Je>Re&&(Oe=Math.min(Math.abs(_e-xe)/2,+B.apply(this,arguments)))>.001){Ge=xe<_e^rr?0:1;var Br=Oe,Hr=Oe;if(Je<Ke){var ut=Or==null?[_r,wr]:mr==null?[or,pr]:Nd([or,pr],[Or,Tr],[mr,gr],[_r,wr]),Pt=or-ut[0],Qt=pr-ut[1],bn=mr-ut[0],Fn=gr-ut[1],Yn=1/Math.sin(Math.acos((Pt*bn+Qt*Fn)/(Math.sqrt(Pt*Pt+Qt*Qt)*Math.sqrt(bn*bn+Fn*Fn)))/2),Nn=Math.sqrt(ut[0]*ut[0]+ut[1]*ut[1]);Hr=Math.min(Oe,(xe-Nn)/(Yn-1)),Br=Math.min(Oe,(_e-Nn)/(Yn+1))}if(mr!=null){var $n=vc(Or==null?[_r,wr]:[Or,Tr],[or,pr],_e,Br,rr),An=vc([mr,gr],[_r,wr],_e,Br,rr);Oe===Br?Ir.push("M",$n[0],"A",Br,",",Br," 0 0,",Ge," ",$n[1],"A",_e,",",_e," 0 ",1-rr^hc($n[1][0],$n[1][1],An[1][0],An[1][1]),",",rr," ",An[1],"A",Br,",",Br," 0 0,",Ge," ",An[0]):Ir.push("M",$n[0],"A",Br,",",Br," 0 1,",Ge," ",An[0])}else Ir.push("M",or,",",pr);if(Or!=null){var jn=vc([or,pr],[Or,Tr],xe,-Hr,rr),ml=vc([_r,wr],mr==null?[or,pr]:[mr,gr],xe,-Hr,rr);Oe===Hr?Ir.push("L",ml[0],"A",Hr,",",Hr," 0 0,",Ge," ",ml[1],"A",xe,",",xe," 0 ",rr^hc(ml[1][0],ml[1][1],jn[1][0],jn[1][1]),",",1-rr," ",jn[1],"A",Hr,",",Hr," 0 0,",Ge," ",jn[0]):Ir.push("L",ml[0],"A",Hr,",",Hr," 0 0,",Ge," ",jn[0])}else Ir.push("L",_r,",",wr)}else Ir.push("M",or,",",pr),mr!=null&&Ir.push("A",_e,",",_e," 0 ",st,",",rr," ",mr,",",gr),Ir.push("L",_r,",",wr),Or!=null&&Ir.push("A",xe,",",xe," 0 ",vt,",",1-rr," ",Or,",",Tr);return Ir.push("Z"),Ir.join("")}function fe(xe,_e){return"M0,"+xe+"A"+xe+","+xe+" 0 1,"+_e+" 0,"+-xe+"A"+xe+","+xe+" 0 1,"+_e+" 0,"+xe}return ie.innerRadius=function(xe){return arguments.length?(C=Wr(xe),ie):C},ie.outerRadius=function(xe){return arguments.length?(z=Wr(xe),ie):z},ie.cornerRadius=function(xe){return arguments.length?(B=Wr(xe),ie):B},ie.padRadius=function(xe){return arguments.length?(G=xe==cc?cc:Wr(xe),ie):G},ie.startAngle=function(xe){return arguments.length?(W=Wr(xe),ie):W},ie.endAngle=function(xe){return arguments.length?(Z=Wr(xe),ie):Z},ie.padAngle=function(xe){return arguments.length?(le=Wr(xe),ie):le},ie.centroid=function(){var xe=(+C.apply(this,arguments)+ +z.apply(this,arguments))/2,_e=(+W.apply(this,arguments)+ +Z.apply(this,arguments))/2-J;return[Math.cos(_e)*xe,Math.sin(_e)*xe]},ie};var cc="auto";function aB(C){return C.innerRadius}function iB(C){return C.outerRadius}function Ub(C){return C.startAngle}function Hb(C){return C.endAngle}function oB(C){return C&&C.padAngle}function hc(C,z,B,G){return(C-B)*z-(z-G)*C>0?0:1}function vc(C,z,B,G,W){var Z=C[0]-z[0],le=C[1]-z[1],ie=(W?G:-G)/Math.sqrt(Z*Z+le*le),fe=ie*le,xe=-ie*Z,_e=C[0]+fe,Ie=C[1]+xe,Fe=z[0]+fe,Je=z[1]+xe,rr=(_e+Fe)/2,Oe=(Ie+Je)/2,Ge=Fe-_e,We=Je-Ie,je=Ge*Ge+We*We,tr=B-G,Ze=_e*Je-Fe*Ie,or=(We<0?-1:1)*Math.sqrt(Math.max(0,tr*tr*je-Ze*Ze)),pr=(Ze*We-Ge*or)/je,mr=(-Ze*Ge-We*or)/je,gr=(Ze*We+Ge*or)/je,_r=(-Ze*Ge+We*or)/je,wr=pr-rr,Or=mr-Oe,Tr=gr-rr,Ir=_r-Oe;return wr*wr+Or*Or>Tr*Tr+Ir*Ir&&(pr=gr,mr=_r),[[pr-fe,mr-xe],[pr*B/tr,mr*B/tr]]}function Vb(){return!0}function Gb(C){var z=xs,B=Qu,G=Vb,W=Xa,Z=W.key,le=.7;function ie(fe){var xe=[],_e=[],Ie=-1,Fe=fe.length,Je,rr=Wr(z),Oe=Wr(B);function Ge(){xe.push("M",W(C(_e),le))}for(;++Ie<Fe;)G.call(this,Je=fe[Ie],Ie)?_e.push([+rr.call(this,Je,Ie),+Oe.call(this,Je,Ie)]):_e.length&&(Ge(),_e=[]);return _e.length&&Ge(),xe.length?xe.join(""):null}return ie.x=function(fe){return arguments.length?(z=fe,ie):z},ie.y=function(fe){return arguments.length?(B=fe,ie):B},ie.defined=function(fe){return arguments.length?(G=fe,ie):G},ie.interpolate=function(fe){return arguments.length?(typeof fe=="function"?Z=W=fe:Z=(W=jd.get(fe)||Xa).key,ie):Z},ie.tension=function(fe){return arguments.length?(le=fe,ie):le},ie}e.svg.line=function(){return Gb(N)};var jd=e.map({linear:Xa,"linear-closed":Yb,step:lB,"step-before":ep,"step-after":rp,basis:Wb,"basis-open":cB,"basis-closed":hB,bundle:vB,cardinal:fB,"cardinal-open":sB,"cardinal-closed":uB,monotone:gB});jd.forEach(function(C,z){z.key=C,z.closed=/-closed$/.test(C)});function Xa(C){return C.length>1?C.join("L"):C+"Z"}function Yb(C){return C.join("L")+"Z"}function lB(C){for(var z=0,B=C.length,G=C[0],W=[G[0],",",G[1]];++z<B;)W.push("H",(G[0]+(G=C[z])[0])/2,"V",G[1]);return B>1&&W.push("H",G[0]),W.join("")}function ep(C){for(var z=0,B=C.length,G=C[0],W=[G[0],",",G[1]];++z<B;)W.push("V",(G=C[z])[1],"H",G[0]);return W.join("")}function rp(C){for(var z=0,B=C.length,G=C[0],W=[G[0],",",G[1]];++z<B;)W.push("H",(G=C[z])[0],"V",G[1]);return W.join("")}function sB(C,z){return C.length<4?Xa(C):C[1]+dc(C.slice(1,-1),tp(C,z))}function uB(C,z){return C.length<3?Yb(C):C[0]+dc((C.push(C[0]),C),tp([C[C.length-2]].concat(C,[C[1]]),z))}function fB(C,z){return C.length<3?Xa(C):C[0]+dc(C,tp(C,z))}function dc(C,z){if(z.length<1||C.length!=z.length&&C.length!=z.length+2)return Xa(C);var B=C.length!=z.length,G="",W=C[0],Z=C[1],le=z[0],ie=le,fe=1;if(B&&(G+="Q"+(Z[0]-le[0]*2/3)+","+(Z[1]-le[1]*2/3)+","+Z[0]+","+Z[1],W=C[1],fe=2),z.length>1){ie=z[1],Z=C[fe],fe++,G+="C"+(W[0]+le[0])+","+(W[1]+le[1])+","+(Z[0]-ie[0])+","+(Z[1]-ie[1])+","+Z[0]+","+Z[1];for(var xe=2;xe<z.length;xe++,fe++)Z=C[fe],ie=z[xe],G+="S"+(Z[0]-ie[0])+","+(Z[1]-ie[1])+","+Z[0]+","+Z[1]}if(B){var _e=C[fe];G+="Q"+(Z[0]+ie[0]*2/3)+","+(Z[1]+ie[1]*2/3)+","+_e[0]+","+_e[1]}return G}function tp(C,z){for(var B=[],G=(1-z)/2,W,Z=C[0],le=C[1],ie=1,fe=C.length;++ie<fe;)W=Z,Z=le,le=C[ie],B.push([G*(le[0]-W[0]),G*(le[1]-W[1])]);return B}function Wb(C){if(C.length<3)return Xa(C);var z=1,B=C.length,G=C[0],W=G[0],Z=G[1],le=[W,W,W,(G=C[1])[0]],ie=[Z,Z,Z,G[1]],fe=[W,",",Z,"L",Ma(xo,le),",",Ma(xo,ie)];for(C.push(C[B-1]);++z<=B;)G=C[z],le.shift(),le.push(G[0]),ie.shift(),ie.push(G[1]),np(fe,le,ie);return C.pop(),fe.push("L",G),fe.join("")}function cB(C){if(C.length<4)return Xa(C);for(var z=[],B=-1,G=C.length,W,Z=[0],le=[0];++B<3;)W=C[B],Z.push(W[0]),le.push(W[1]);for(z.push(Ma(xo,Z)+","+Ma(xo,le)),--B;++B<G;)W=C[B],Z.shift(),Z.push(W[0]),le.shift(),le.push(W[1]),np(z,Z,le);return z.join("")}function hB(C){for(var z,B=-1,G=C.length,W=G+4,Z,le=[],ie=[];++B<4;)Z=C[B%G],le.push(Z[0]),ie.push(Z[1]);for(z=[Ma(xo,le),",",Ma(xo,ie)],--B;++B<W;)Z=C[B%G],le.shift(),le.push(Z[0]),ie.shift(),ie.push(Z[1]),np(z,le,ie);return z.join("")}function vB(C,z){var B=C.length-1;if(B)for(var G=C[0][0],W=C[0][1],Z=C[B][0]-G,le=C[B][1]-W,ie=-1,fe,xe;++ie<=B;)fe=C[ie],xe=ie/B,fe[0]=z*fe[0]+(1-z)*(G+xe*Z),fe[1]=z*fe[1]+(1-z)*(W+xe*le);return Wb(C)}function Ma(C,z){return C[0]*z[0]+C[1]*z[1]+C[2]*z[2]+C[3]*z[3]}var Xb=[0,2/3,1/3,0],Zb=[0,1/3,2/3,0],xo=[0,1/6,2/3,1/6];function np(C,z,B){C.push("C",Ma(Xb,z),",",Ma(Xb,B),",",Ma(Zb,z),",",Ma(Zb,B),",",Ma(xo,z),",",Ma(xo,B))}function ap(C,z){return(z[1]-C[1])/(z[0]-C[0])}function dB(C){for(var z=0,B=C.length-1,G=[],W=C[0],Z=C[1],le=G[0]=ap(W,Z);++z<B;)G[z]=(le+(le=ap(W=Z,Z=C[z+1])))/2;return G[z]=le,G}function pB(C){for(var z=[],B,G,W,Z,le=dB(C),ie=-1,fe=C.length-1;++ie<fe;)B=ap(C[ie],C[ie+1]),y(B)<Re?le[ie]=le[ie+1]=0:(G=le[ie]/B,W=le[ie+1]/B,Z=G*G+W*W,Z>9&&(Z=B*3/Math.sqrt(Z),le[ie]=Z*G,le[ie+1]=Z*W));for(ie=-1;++ie<=fe;)Z=(C[Math.min(fe,ie+1)][0]-C[Math.max(0,ie-1)][0])/(6*(1+le[ie]*le[ie])),z.push([Z||0,le[ie]*Z||0]);return z}function gB(C){return C.length<3?Xa(C):C[0]+dc(C,pB(C))}e.svg.line.radial=function(){var C=Gb(Jb);return C.radius=C.x,delete C.x,C.angle=C.y,delete C.y,C};function Jb(C){for(var z,B=-1,G=C.length,W,Z;++B<G;)z=C[B],W=z[0],Z=z[1]-J,z[0]=W*Math.cos(Z),z[1]=W*Math.sin(Z);return C}function Kb(C){var z=xs,B=xs,G=0,W=Qu,Z=Vb,le=Xa,ie=le.key,fe=le,xe="L",_e=.7;function Ie(Fe){var Je=[],rr=[],Oe=[],Ge=-1,We=Fe.length,je,tr=Wr(z),Ze=Wr(G),or=z===B?function(){return mr}:Wr(B),pr=G===W?function(){return gr}:Wr(W),mr,gr;function _r(){Je.push("M",le(C(Oe),_e),xe,fe(C(rr.reverse()),_e),"Z")}for(;++Ge<We;)Z.call(this,je=Fe[Ge],Ge)?(rr.push([mr=+tr.call(this,je,Ge),gr=+Ze.call(this,je,Ge)]),Oe.push([+or.call(this,je,Ge),+pr.call(this,je,Ge)])):rr.length&&(_r(),rr=[],Oe=[]);return rr.length&&_r(),Je.length?Je.join(""):null}return Ie.x=function(Fe){return arguments.length?(z=B=Fe,Ie):B},Ie.x0=function(Fe){return arguments.length?(z=Fe,Ie):z},Ie.x1=function(Fe){return arguments.length?(B=Fe,Ie):B},Ie.y=function(Fe){return arguments.length?(G=W=Fe,Ie):W},Ie.y0=function(Fe){return arguments.length?(G=Fe,Ie):G},Ie.y1=function(Fe){return arguments.length?(W=Fe,Ie):W},Ie.defined=function(Fe){return arguments.length?(Z=Fe,Ie):Z},Ie.interpolate=function(Fe){return arguments.length?(typeof Fe=="function"?ie=le=Fe:ie=(le=jd.get(Fe)||Xa).key,fe=le.reverse||le,xe=le.closed?"M":"L",Ie):ie},Ie.tension=function(Fe){return arguments.length?(_e=Fe,Ie):_e},Ie}ep.reverse=rp,rp.reverse=ep,e.svg.area=function(){return Kb(N)},e.svg.area.radial=function(){var C=Kb(Jb);return C.radius=C.x,delete C.x,C.innerRadius=C.x0,delete C.x0,C.outerRadius=C.x1,delete C.x1,C.angle=C.y,delete C.y,C.startAngle=C.y0,delete C.y0,C.endAngle=C.y1,delete C.y1,C};function Qb(C){return C.source}function $b(C){return C.target}e.svg.chord=function(){var C=Qb,z=$b,B=yB,G=Ub,W=Hb;function Z(_e,Ie){var Fe=le(this,C,_e,Ie),Je=le(this,z,_e,Ie);return"M"+Fe.p0+fe(Fe.r,Fe.p1,Fe.a1-Fe.a0)+(ie(Fe,Je)?xe(Fe.r,Fe.p1,Fe.r,Fe.p0):xe(Fe.r,Fe.p1,Je.r,Je.p0)+fe(Je.r,Je.p1,Je.a1-Je.a0)+xe(Je.r,Je.p1,Fe.r,Fe.p0))+"Z"}function le(_e,Ie,Fe,Je){var rr=Ie.call(_e,Fe,Je),Oe=B.call(_e,rr,Je),Ge=G.call(_e,rr,Je)-J,We=W.call(_e,rr,Je)-J;return{r:Oe,a0:Ge,a1:We,p0:[Oe*Math.cos(Ge),Oe*Math.sin(Ge)],p1:[Oe*Math.cos(We),Oe*Math.sin(We)]}}function ie(_e,Ie){return _e.a0==Ie.a0&&_e.a1==Ie.a1}function fe(_e,Ie,Fe){return"A"+_e+","+_e+" 0 "+ +(Fe>Ke)+",1 "+Ie}function xe(_e,Ie,Fe,Je){return"Q 0,0 "+Je}return Z.radius=function(_e){return arguments.length?(B=Wr(_e),Z):B},Z.source=function(_e){return arguments.length?(C=Wr(_e),Z):C},Z.target=function(_e){return arguments.length?(z=Wr(_e),Z):z},Z.startAngle=function(_e){return arguments.length?(G=Wr(_e),Z):G},Z.endAngle=function(_e){return arguments.length?(W=Wr(_e),Z):W},Z};function yB(C){return C.radius}e.svg.diagonal=function(){var C=Qb,z=$b,B=jb;function G(W,Z){var le=C.call(this,W,Z),ie=z.call(this,W,Z),fe=(le.y+ie.y)/2,xe=[le,{x:le.x,y:fe},{x:ie.x,y:fe},ie];return xe=xe.map(B),"M"+xe[0]+"C"+xe[1]+" "+xe[2]+" "+xe[3]}return G.source=function(W){return arguments.length?(C=Wr(W),G):C},G.target=function(W){return arguments.length?(z=Wr(W),G):z},G.projection=function(W){return arguments.length?(B=W,G):B},G};function jb(C){return[C.x,C.y]}e.svg.diagonal.radial=function(){var C=e.svg.diagonal(),z=jb,B=C.projection;return C.projection=function(G){return arguments.length?B(mB(z=G)):z},C};function mB(C){return function(){var z=C.apply(this,arguments),B=z[0],G=z[1]-J;return[B*Math.cos(G),B*Math.sin(G)]}}e.svg.symbol=function(){var C=xB,z=bB;function B(G,W){return(rx.get(C.call(this,G,W))||ex)(z.call(this,G,W))}return B.type=function(G){return arguments.length?(C=Wr(G),B):C},B.size=function(G){return arguments.length?(z=Wr(G),B):z},B};function bB(){return 64}function xB(){return"circle"}function ex(C){var z=Math.sqrt(C/Ke);return"M0,"+z+"A"+z+","+z+" 0 1,1 0,"+-z+"A"+z+","+z+" 0 1,1 0,"+z+"Z"}var rx=e.map({circle:ex,cross:function(C){var z=Math.sqrt(C/5)/2;return"M"+-3*z+","+-z+"H"+-z+"V"+-3*z+"H"+z+"V"+-z+"H"+3*z+"V"+z+"H"+z+"V"+3*z+"H"+-z+"V"+z+"H"+-3*z+"Z"},diamond:function(C){var z=Math.sqrt(C/(2*tx)),B=z*tx;return"M0,"+-z+"L"+B+",0 0,"+z+" "+-B+",0Z"},square:function(C){var z=Math.sqrt(C)/2;return"M"+-z+","+-z+"L"+z+","+-z+" "+z+","+z+" "+-z+","+z+"Z"},"triangle-down":function(C){var z=Math.sqrt(C/pc),B=z*pc/2;return"M0,"+B+"L"+z+","+-B+" "+-z+","+-B+"Z"},"triangle-up":function(C){var z=Math.sqrt(C/pc),B=z*pc/2;return"M0,"+-B+"L"+z+","+B+" "+-z+","+B+"Z"}});e.svg.symbolTypes=rx.keys();var pc=Math.sqrt(3),tx=Math.tan(30*ae);re.transition=function(C){for(var z=yl||++ax,B=op(C),G=[],W,Z,le=yc||{time:Date.now(),ease:$q,delay:0,duration:250},ie=-1,fe=this.length;++ie<fe;){G.push(W=[]);for(var xe=this[ie],_e=-1,Ie=xe.length;++_e<Ie;)(Z=xe[_e])&&mc(Z,_e,B,z,le),W.push(Z)}return of(G,B,z)},re.interrupt=function(C){return this.each(C==null?gc:nx(op(C)))};var gc=nx(op());function nx(C){return function(){var z,B,G;(z=this[C])&&(G=z[B=z.active])&&(G.timer.c=null,G.timer.t=NaN,--z.count?delete z[B]:delete this[C],z.active+=.5,G.event&&G.event.interrupt.call(this,this.__data__,G.index))}}function of(C,z,B){return q(C,Kt),C.namespace=z,C.id=B,C}var Kt=[],ax=0,yl,yc;Kt.call=re.call,Kt.empty=re.empty,Kt.node=re.node,Kt.size=re.size,e.transition=function(C,z){return C&&C.transition?yl?C.transition(z):C:e.selection().transition(C)},e.transition.prototype=Kt,Kt.select=function(C){var z=this.id,B=this.namespace,G=[],W,Z,le;C=H(C);for(var ie=-1,fe=this.length;++ie<fe;){G.push(W=[]);for(var xe=this[ie],_e=-1,Ie=xe.length;++_e<Ie;)(le=xe[_e])&&(Z=C.call(le,le.__data__,_e,ie))?("__data__"in le&&(Z.__data__=le.__data__),mc(Z,_e,B,z,le[B][z]),W.push(Z)):W.push(null)}return of(G,B,z)},Kt.selectAll=function(C){var z=this.id,B=this.namespace,G=[],W,Z,le,ie,fe;C=ee(C);for(var xe=-1,_e=this.length;++xe<_e;)for(var Ie=this[xe],Fe=-1,Je=Ie.length;++Fe<Je;)if(le=Ie[Fe]){fe=le[B][z],Z=C.call(le,le.__data__,Fe,xe),G.push(W=[]);for(var rr=-1,Oe=Z.length;++rr<Oe;)(ie=Z[rr])&&mc(ie,rr,B,z,fe),W.push(ie)}return of(G,B,z)},Kt.filter=function(C){var z=[],B,G,W;typeof C!="function"&&(C=ge(C));for(var Z=0,le=this.length;Z<le;Z++){z.push(B=[]);for(var G=this[Z],ie=0,fe=G.length;ie<fe;ie++)(W=G[ie])&&C.call(W,W.__data__,ie,Z)&&B.push(W)}return of(z,this.namespace,this.id)},Kt.tween=function(C,z){var B=this.id,G=this.namespace;return arguments.length<2?this.node()[G][B].tween.get(C):Te(this,z==null?function(W){W[G][B].tween.remove(C)}:function(W){W[G][B].tween.set(C,z)})};function ip(C,z,B,G){var W=C.id,Z=C.namespace;return Te(C,typeof B=="function"?function(le,ie,fe){le[Z][W].tween.set(z,G(B.call(le,le.__data__,ie,fe)))}:(B=G(B),function(le){le[Z][W].tween.set(z,B)}))}Kt.attr=function(C,z){if(arguments.length<2){for(z in C)this.attr(z,C[z]);return this}var B=C=="transform"?pb:pl,G=e.ns.qualify(C);function W(){this.removeAttribute(G)}function Z(){this.removeAttributeNS(G.space,G.local)}function le(fe){return fe==null?W:(fe+="",function(){var xe=this.getAttribute(G),_e;return xe!==fe&&(_e=B(xe,fe),function(Ie){this.setAttribute(G,_e(Ie))})})}function ie(fe){return fe==null?Z:(fe+="",function(){var xe=this.getAttributeNS(G.space,G.local),_e;return xe!==fe&&(_e=B(xe,fe),function(Ie){this.setAttributeNS(G.space,G.local,_e(Ie))})})}return ip(this,"attr."+C,z,G.local?ie:le)},Kt.attrTween=function(C,z){var B=e.ns.qualify(C);function G(Z,le){var ie=z.call(this,Z,le,this.getAttribute(B));return ie&&function(fe){this.setAttribute(B,ie(fe))}}function W(Z,le){var ie=z.call(this,Z,le,this.getAttributeNS(B.space,B.local));return ie&&function(fe){this.setAttributeNS(B.space,B.local,ie(fe))}}return this.tween("attr."+C,B.local?W:G)},Kt.style=function(C,z,B){var G=arguments.length;if(G<3){if(typeof C!="string"){G<2&&(z="");for(B in C)this.style(B,C[B],z);return this}B=""}function W(){this.style.removeProperty(C)}function Z(le){return le==null?W:(le+="",function(){var ie=o(this).getComputedStyle(this,null).getPropertyValue(C),fe;return ie!==le&&(fe=pl(ie,le),function(xe){this.style.setProperty(C,fe(xe),B)})})}return ip(this,"style."+C,z,Z)},Kt.styleTween=function(C,z,B){arguments.length<3&&(B="");function G(W,Z){var le=z.call(this,W,Z,o(this).getComputedStyle(this,null).getPropertyValue(C));return le&&function(ie){this.style.setProperty(C,le(ie),B)}}return this.tween("style."+C,G)},Kt.text=function(C){return ip(this,"text",C,_B)};function _B(C){return C==null&&(C=""),function(){this.textContent=C}}Kt.remove=function(){var C=this.namespace;return this.each("end.transition",function(){var z;this[C].count<2&&(z=this.parentNode)&&z.removeChild(this)})},Kt.ease=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].ease:(typeof C!="function"&&(C=e.ease.apply(e,arguments)),Te(this,function(G){G[B][z].ease=C}))},Kt.delay=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].delay:Te(this,typeof C=="function"?function(G,W,Z){G[B][z].delay=+C.call(G,G.__data__,W,Z)}:(C=+C,function(G){G[B][z].delay=C}))},Kt.duration=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].duration:Te(this,typeof C=="function"?function(G,W,Z){G[B][z].duration=Math.max(1,C.call(G,G.__data__,W,Z))}:(C=Math.max(1,C),function(G){G[B][z].duration=C}))},Kt.each=function(C,z){var B=this.id,G=this.namespace;if(arguments.length<2){var W=yc,Z=yl;try{yl=B,Te(this,function(le,ie,fe){yc=le[G][B],C.call(le,le.__data__,ie,fe)})}finally{yc=W,yl=Z}}else Te(this,function(le){var ie=le[G][B];(ie.event||(ie.event=e.dispatch("start","end","interrupt"))).on(C,z)});return this},Kt.transition=function(){for(var C=this.id,z=++ax,B=this.namespace,G=[],W,Z,le,ie,fe=0,xe=this.length;fe<xe;fe++){G.push(W=[]);for(var Z=this[fe],_e=0,Ie=Z.length;_e<Ie;_e++)(le=Z[_e])&&(ie=le[B][C],mc(le,_e,B,z,{time:ie.time,ease:ie.ease,delay:ie.delay+ie.duration,duration:ie.duration})),W.push(le)}return of(G,B,z)};function op(C){return C==null?"__transition__":"__transition_"+C+"__"}function mc(C,z,B,G,W){var Z=C[B]||(C[B]={active:0,count:0}),le=Z[G],ie,fe,xe,_e,Ie;function Fe(Oe){var Ge=le.delay;if(fe.t=Ge+ie,Ge<=Oe)return Je(Oe-Ge);fe.c=Je}function Je(Oe){var Ge=Z.active,We=Z[Ge];We&&(We.timer.c=null,We.timer.t=NaN,--Z.count,delete Z[Ge],We.event&&We.event.interrupt.call(C,C.__data__,We.index));for(var je in Z)if(+je<G){var tr=Z[je];tr.timer.c=null,tr.timer.t=NaN,--Z.count,delete Z[je]}fe.c=rr,rc(function(){return fe.c&&rr(Oe||1)&&(fe.c=null,fe.t=NaN),1},0,ie),Z.active=G,le.event&&le.event.start.call(C,C.__data__,z),Ie=[],le.tween.forEach(function(Ze,or){(or=or.call(C,C.__data__,z))&&Ie.push(or)}),_e=le.ease,xe=le.duration}function rr(Oe){for(var Ge=Oe/xe,We=_e(Ge),je=Ie.length;je>0;)Ie[--je].call(C,We);if(Ge>=1)return le.event&&le.event.end.call(C,C.__data__,z),--Z.count?delete Z[G]:delete C[B],1}le||(ie=W.time,fe=rc(Fe,0,ie),le=Z[G]={tween:new b,time:ie,timer:fe,delay:W.delay,duration:W.duration,ease:W.ease,index:z},W=null,++Z.count)}e.svg.axis=function(){var C=e.scale.linear(),z=ix,B=6,G=6,W=3,Z=[10],le=null,ie;function fe(xe){xe.each(function(){var _e=e.select(this),Ie=this.__chart__||C,Fe=this.__chart__=C.copy(),Je=le==null?Fe.ticks?Fe.ticks.apply(Fe,Z):Fe.domain():le,rr=ie==null?Fe.tickFormat?Fe.tickFormat.apply(Fe,Z):N:ie,Oe=_e.selectAll(".tick").data(Je,Fe),Ge=Oe.enter().insert("g",".domain").attr("class","tick").style("opacity",Re),We=e.transition(Oe.exit()).style("opacity",Re).remove(),je=e.transition(Oe.order()).style("opacity",1),tr=Math.max(B,0)+W,Ze,or=uc(Fe),pr=_e.selectAll(".domain").data([0]),mr=(pr.enter().append("path").attr("class","domain"),e.transition(pr));Ge.append("line"),Ge.append("text");var gr=Ge.select("line"),_r=je.select("line"),wr=Oe.select("text").text(rr),Or=Ge.select("text"),Tr=je.select("text"),Ir=z==="top"||z==="left"?-1:1,st,Bt,vt,hr;if(z==="bottom"||z==="top"?(Ze=MB,st="x",vt="y",Bt="x2",hr="y2",wr.attr("dy",Ir<0?"0em":".71em").style("text-anchor","middle"),mr.attr("d","M"+or[0]+","+Ir*G+"V0H"+or[1]+"V"+Ir*G)):(Ze=TB,st="y",vt="x",Bt="y2",hr="x2",wr.attr("dy",".32em").style("text-anchor",Ir<0?"end":"start"),mr.attr("d","M"+Ir*G+","+or[0]+"H0V"+or[1]+"H"+Ir*G)),gr.attr(hr,Ir*B),Or.attr(vt,Ir*tr),_r.attr(Bt,0).attr(hr,Ir*B),Tr.attr(st,0).attr(vt,Ir*tr),Fe.rangeBand){var Br=Fe,Hr=Br.rangeBand()/2;Ie=Fe=function(ut){return Br(ut)+Hr}}else Ie.rangeBand?Ie=Fe:We.call(Ze,Fe,Ie);Ge.call(Ze,Ie,Fe),je.call(Ze,Fe,Fe)})}return fe.scale=function(xe){return arguments.length?(C=xe,fe):C},fe.orient=function(xe){return arguments.length?(z=xe in wB?xe+"":ix,fe):z},fe.ticks=function(){return arguments.length?(Z=t(arguments),fe):Z},fe.tickValues=function(xe){return arguments.length?(le=xe,fe):le},fe.tickFormat=function(xe){return arguments.length?(ie=xe,fe):ie},fe.tickSize=function(xe){var _e=arguments.length;return _e?(B=+xe,G=+arguments[_e-1],fe):B},fe.innerTickSize=function(xe){return arguments.length?(B=+xe,fe):B},fe.outerTickSize=function(xe){return arguments.length?(G=+xe,fe):G},fe.tickPadding=function(xe){return arguments.length?(W=+xe,fe):W},fe.tickSubdivide=function(){return arguments.length&&fe},fe};var ix="bottom",wB={top:1,right:1,bottom:1,left:1};function MB(C,z,B){C.attr("transform",function(G){var W=z(G);return"translate("+(isFinite(W)?W:B(G))+",0)"})}function TB(C,z,B){C.attr("transform",function(G){var W=z(G);return"translate(0,"+(isFinite(W)?W:B(G))+")"})}e.svg.brush=function(){var C=j(_e,"brushstart","brush","brushend"),z=null,B=null,G=[0,0],W=[0,0],Z,le,ie=!0,fe=!0,xe=lp[0];function _e(Oe){Oe.each(function(){var Ge=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",rr).on("touchstart.brush",rr),We=Ge.selectAll(".background").data([0]);We.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ge.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var je=Ge.selectAll(".resize").data(xe,N);je.exit().remove(),je.enter().append("g").attr("class",function(pr){return"resize "+pr}).style("cursor",function(pr){return AB[pr]}).append("rect").attr("x",function(pr){return/[ew]$/.test(pr)?-3:null}).attr("y",function(pr){return/^[ns]/.test(pr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),je.style("display",_e.empty()?"none":null);var tr=e.transition(Ge),Ze=e.transition(We),or;z&&(or=uc(z),Ze.attr("x",or[0]).attr("width",or[1]-or[0]),Fe(tr)),B&&(or=uc(B),Ze.attr("y",or[0]).attr("height",or[1]-or[0]),Je(tr)),Ie(tr)})}_e.event=function(Oe){Oe.each(function(){var Ge=C.of(this,arguments),We={x:G,y:W,i:Z,j:le},je=this.__chart__||We;this.__chart__=We,yl?e.select(this).transition().each("start.brush",function(){Z=je.i,le=je.j,G=je.x,W=je.y,Ge({type:"brushstart"})}).tween("brush:brush",function(){var tr=lc(G,We.x),Ze=lc(W,We.y);return Z=le=null,function(or){G=We.x=tr(or),W=We.y=Ze(or),Ge({type:"brush",mode:"resize"})}}).each("end.brush",function(){Z=We.i,le=We.j,Ge({type:"brush",mode:"resize"}),Ge({type:"brushend"})}):(Ge({type:"brushstart"}),Ge({type:"brush",mode:"resize"}),Ge({type:"brushend"}))})};function Ie(Oe){Oe.selectAll(".resize").attr("transform",function(Ge){return"translate("+G[+/e$/.test(Ge)]+","+W[+/^s/.test(Ge)]+")"})}function Fe(Oe){Oe.select(".extent").attr("x",G[0]),Oe.selectAll(".extent,.n>rect,.s>rect").attr("width",G[1]-G[0])}function Je(Oe){Oe.select(".extent").attr("y",W[0]),Oe.selectAll(".extent,.e>rect,.w>rect").attr("height",W[1]-W[0])}function rr(){var Oe=this,Ge=e.select(e.event.target),We=C.of(Oe,arguments),je=e.select(Oe),tr=Ge.datum(),Ze=!/^(n|s)$/.test(tr)&&z,or=!/^(e|w)$/.test(tr)&&B,pr=Ge.classed("extent"),mr=Ve(Oe),gr,_r=e.mouse(Oe),wr,Or=e.select(o(Oe)).on("keydown.brush",st).on("keyup.brush",Bt);if(e.event.changedTouches?Or.on("touchmove.brush",vt).on("touchend.brush",Br):Or.on("mousemove.brush",vt).on("mouseup.brush",Br),je.interrupt().selectAll("*").interrupt(),pr)_r[0]=G[0]-_r[0],_r[1]=W[0]-_r[1];else if(tr){var Tr=+/w$/.test(tr),Ir=+/^n/.test(tr);wr=[G[1-Tr]-_r[0],W[1-Ir]-_r[1]],_r[0]=G[Tr],_r[1]=W[Ir]}else e.event.altKey&&(gr=_r.slice());je.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",Ge.style("cursor")),We({type:"brushstart"}),vt();function st(){e.event.keyCode==32&&(pr||(gr=null,_r[0]-=G[1],_r[1]-=W[1],pr=2),X())}function Bt(){e.event.keyCode==32&&pr==2&&(_r[0]+=G[1],_r[1]+=W[1],pr=0,X())}function vt(){var Hr=e.mouse(Oe),ut=!1;wr&&(Hr[0]+=wr[0],Hr[1]+=wr[1]),pr||(e.event.altKey?(gr||(gr=[(G[0]+G[1])/2,(W[0]+W[1])/2]),_r[0]=G[+(Hr[0]<gr[0])],_r[1]=W[+(Hr[1]<gr[1])]):gr=null),Ze&&hr(Hr,z,0)&&(Fe(je),ut=!0),or&&hr(Hr,B,1)&&(Je(je),ut=!0),ut&&(Ie(je),We({type:"brush",mode:pr?"move":"resize"}))}function hr(Hr,ut,Pt){var Qt=uc(ut),bn=Qt[0],Fn=Qt[1],Yn=_r[Pt],Nn=Pt?W:G,$n=Nn[1]-Nn[0],An,jn;if(pr&&(bn-=Yn,Fn-=$n+Yn),An=(Pt?fe:ie)?Math.max(bn,Math.min(Fn,Hr[Pt])):Hr[Pt],pr?jn=(An+=Yn)+$n:(gr&&(Yn=Math.max(bn,Math.min(Fn,2*gr[Pt]-An))),Yn<An?(jn=An,An=Yn):jn=Yn),Nn[0]!=An||Nn[1]!=jn)return Pt?le=null:Z=null,Nn[0]=An,Nn[1]=jn,!0}function Br(){vt(),je.style("pointer-events","all").selectAll(".resize").style("display",_e.empty()?"none":null),e.select("body").style("cursor",null),Or.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),mr(),We({type:"brushend"})}}return _e.x=function(Oe){return arguments.length?(z=Oe,xe=lp[!z<<1|!B],_e):z},_e.y=function(Oe){return arguments.length?(B=Oe,xe=lp[!z<<1|!B],_e):B},_e.clamp=function(Oe){return arguments.length?(z&&B?(ie=!!Oe[0],fe=!!Oe[1]):z?ie=!!Oe:B&&(fe=!!Oe),_e):z&&B?[ie,fe]:z?ie:B?fe:null},_e.extent=function(Oe){var Ge,We,je,tr,Ze;return arguments.length?(z&&(Ge=Oe[0],We=Oe[1],B&&(Ge=Ge[0],We=We[0]),Z=[Ge,We],z.invert&&(Ge=z(Ge),We=z(We)),We<Ge&&(Ze=Ge,Ge=We,We=Ze),(Ge!=G[0]||We!=G[1])&&(G=[Ge,We])),B&&(je=Oe[0],tr=Oe[1],z&&(je=je[1],tr=tr[1]),le=[je,tr],B.invert&&(je=B(je),tr=B(tr)),tr<je&&(Ze=je,je=tr,tr=Ze),(je!=W[0]||tr!=W[1])&&(W=[je,tr])),_e):(z&&(Z?(Ge=Z[0],We=Z[1]):(Ge=G[0],We=G[1],z.invert&&(Ge=z.invert(Ge),We=z.invert(We)),We<Ge&&(Ze=Ge,Ge=We,We=Ze))),B&&(le?(je=le[0],tr=le[1]):(je=W[0],tr=W[1],B.invert&&(je=B.invert(je),tr=B.invert(tr)),tr<je&&(Ze=je,je=tr,tr=Ze))),z&&B?[[Ge,je],[We,tr]]:z?[Ge,We]:B&&[je,tr])},_e.clear=function(){return _e.empty()||(G=[0,0],W=[0,0],Z=le=null),_e},_e.empty=function(){return!!z&&G[0]==G[1]||!!B&&W[0]==W[1]},e.rebind(_e,C,"on")};var AB={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},lp=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];e.text=Wa(function(C){return C.responseText}),e.json=function(C,z){return vl(C,"application/json",kB,z)};function kB(C){return JSON.parse(C.responseText)}e.html=function(C,z){return vl(C,"text/html",SB,z)};function SB(C){var z=n.createRange();return z.selectNode(n.body),z.createContextualFragment(C.responseText)}e.xml=Wa(function(C){return C.responseXML}),typeof Mc=="object"&&Mc.exports?Mc.exports=e:this.d3=e}).apply(self)});var sp=de((Tc,hx)=>{(function(e,r){typeof Tc=="object"&&typeof hx!="undefined"?r(Tc):(e=e||self,r(e.d3=e.d3||{}))})(Tc,function(e){"use strict";var r=new Date,t=new Date;function n(ge,we,Te,me){function ye(pe){return ge(pe=arguments.length===0?new Date:new Date(+pe)),pe}return ye.floor=function(pe){return ge(pe=new Date(+pe)),pe},ye.ceil=function(pe){return ge(pe=new Date(pe-1)),we(pe,1),ge(pe),pe},ye.round=function(pe){var ce=ye(pe),be=ye.ceil(pe);return pe-ce<be-pe?ce:be},ye.offset=function(pe,ce){return we(pe=new Date(+pe),ce==null?1:Math.floor(ce)),pe},ye.range=function(pe,ce,be){var Le=[],qe;if(pe=ye.ceil(pe),be=be==null?1:Math.floor(be),!(pe<ce)||!(be>0))return Le;do Le.push(qe=new Date(+pe)),we(pe,be),ge(pe);while(qe<pe&&pe<ce);return Le},ye.filter=function(pe){return n(function(ce){if(ce>=ce)for(;ge(ce),!pe(ce);)ce.setTime(ce-1)},function(ce,be){if(ce>=ce)if(be<0)for(;++be<=0;)for(;we(ce,-1),!pe(ce););else for(;--be>=0;)for(;we(ce,1),!pe(ce););})},Te&&(ye.count=function(pe,ce){return r.setTime(+pe),t.setTime(+ce),ge(r),ge(t),Math.floor(Te(r,t))},ye.every=function(pe){return pe=Math.floor(pe),!isFinite(pe)||!(pe>0)?null:pe>1?ye.filter(me?function(ce){return me(ce)%pe===0}:function(ce){return ye.count(0,ce)%pe===0}):ye}),ye}var a=n(function(){},function(ge,we){ge.setTime(+ge+we)},function(ge,we){return we-ge});a.every=function(ge){return ge=Math.floor(ge),!isFinite(ge)||!(ge>0)?null:ge>1?n(function(we){we.setTime(Math.floor(we/ge)*ge)},function(we,Te){we.setTime(+we+Te*ge)},function(we,Te){return(Te-we)/ge}):a};var o=a.range,i=1e3,l=6e4,u=36e5,s=864e5,f=6048e5,h=n(function(ge){ge.setTime(ge-ge.getMilliseconds())},function(ge,we){ge.setTime(+ge+we*i)},function(ge,we){return(we-ge)/i},function(ge){return ge.getUTCSeconds()}),p=h.range,_=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*i)},function(ge,we){ge.setTime(+ge+we*l)},function(ge,we){return(we-ge)/l},function(ge){return ge.getMinutes()}),m=_.range,w=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*i-ge.getMinutes()*l)},function(ge,we){ge.setTime(+ge+we*u)},function(ge,we){return(we-ge)/u},function(ge){return ge.getHours()}),T=w.range,y=n(function(ge){ge.setHours(0,0,0,0)},function(ge,we){ge.setDate(ge.getDate()+we)},function(ge,we){return(we-ge-(we.getTimezoneOffset()-ge.getTimezoneOffset())*l)/s},function(ge){return ge.getDate()-1}),k=y.range;function S(ge){return n(function(we){we.setDate(we.getDate()-(we.getDay()+7-ge)%7),we.setHours(0,0,0,0)},function(we,Te){we.setDate(we.getDate()+Te*7)},function(we,Te){return(Te-we-(Te.getTimezoneOffset()-we.getTimezoneOffset())*l)/f})}var b=S(0),M=S(1),d=S(2),x=S(3),g=S(4),c=S(5),A=S(6),v=b.range,D=M.range,E=d.range,R=x.range,N=g.range,F=c.range,I=A.range,L=n(function(ge){ge.setDate(1),ge.setHours(0,0,0,0)},function(ge,we){ge.setMonth(ge.getMonth()+we)},function(ge,we){return we.getMonth()-ge.getMonth()+(we.getFullYear()-ge.getFullYear())*12},function(ge){return ge.getMonth()}),P=L.range,O=n(function(ge){ge.setMonth(0,1),ge.setHours(0,0,0,0)},function(ge,we){ge.setFullYear(ge.getFullYear()+we)},function(ge,we){return we.getFullYear()-ge.getFullYear()},function(ge){return ge.getFullYear()});O.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(we){we.setFullYear(Math.floor(we.getFullYear()/ge)*ge),we.setMonth(0,1),we.setHours(0,0,0,0)},function(we,Te){we.setFullYear(we.getFullYear()+Te*ge)})};var U=O.range,X=n(function(ge){ge.setUTCSeconds(0,0)},function(ge,we){ge.setTime(+ge+we*l)},function(ge,we){return(we-ge)/l},function(ge){return ge.getUTCMinutes()}),$=X.range,j=n(function(ge){ge.setUTCMinutes(0,0,0)},function(ge,we){ge.setTime(+ge+we*u)},function(ge,we){return(we-ge)/u},function(ge){return ge.getUTCHours()}),Y=j.range,q=n(function(ge){ge.setUTCHours(0,0,0,0)},function(ge,we){ge.setUTCDate(ge.getUTCDate()+we)},function(ge,we){return(we-ge)/s},function(ge){return ge.getUTCDate()-1}),K=q.range;function ne(ge){return n(function(we){we.setUTCDate(we.getUTCDate()-(we.getUTCDay()+7-ge)%7),we.setUTCHours(0,0,0,0)},function(we,Te){we.setUTCDate(we.getUTCDate()+Te*7)},function(we,Te){return(Te-we)/f})}var Q=ne(0),oe=ne(1),re=ne(2),H=ne(3),ee=ne(4),V=ne(5),te=ne(6),ue=Q.range,ve=oe.range,ke=re.range,Se=H.range,he=ee.range,Ae=V.range,Ce=te.range,Pe=n(function(ge){ge.setUTCDate(1),ge.setUTCHours(0,0,0,0)},function(ge,we){ge.setUTCMonth(ge.getUTCMonth()+we)},function(ge,we){return we.getUTCMonth()-ge.getUTCMonth()+(we.getUTCFullYear()-ge.getUTCFullYear())*12},function(ge){return ge.getUTCMonth()}),Ee=Pe.range,Ne=n(function(ge){ge.setUTCMonth(0,1),ge.setUTCHours(0,0,0,0)},function(ge,we){ge.setUTCFullYear(ge.getUTCFullYear()+we)},function(ge,we){return we.getUTCFullYear()-ge.getUTCFullYear()},function(ge){return ge.getUTCFullYear()});Ne.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(we){we.setUTCFullYear(Math.floor(we.getUTCFullYear()/ge)*ge),we.setUTCMonth(0,1),we.setUTCHours(0,0,0,0)},function(we,Te){we.setUTCFullYear(we.getUTCFullYear()+Te*ge)})};var Ue=Ne.range;e.timeDay=y,e.timeDays=k,e.timeFriday=c,e.timeFridays=F,e.timeHour=w,e.timeHours=T,e.timeInterval=n,e.timeMillisecond=a,e.timeMilliseconds=o,e.timeMinute=_,e.timeMinutes=m,e.timeMonday=M,e.timeMondays=D,e.timeMonth=L,e.timeMonths=P,e.timeSaturday=A,e.timeSaturdays=I,e.timeSecond=h,e.timeSeconds=p,e.timeSunday=b,e.timeSundays=v,e.timeThursday=g,e.timeThursdays=N,e.timeTuesday=d,e.timeTuesdays=E,e.timeWednesday=x,e.timeWednesdays=R,e.timeWeek=b,e.timeWeeks=v,e.timeYear=O,e.timeYears=U,e.utcDay=q,e.utcDays=K,e.utcFriday=V,e.utcFridays=Ae,e.utcHour=j,e.utcHours=Y,e.utcMillisecond=a,e.utcMilliseconds=o,e.utcMinute=X,e.utcMinutes=$,e.utcMonday=oe,e.utcMondays=ve,e.utcMonth=Pe,e.utcMonths=Ee,e.utcSaturday=te,e.utcSaturdays=Ce,e.utcSecond=h,e.utcSeconds=p,e.utcSunday=Q,e.utcSundays=ue,e.utcThursday=ee,e.utcThursdays=he,e.utcTuesday=re,e.utcTuesdays=ke,e.utcWednesday=H,e.utcWednesdays=Se,e.utcWeek=Q,e.utcWeeks=ue,e.utcYear=Ne,e.utcYears=Ue,Object.defineProperty(e,"__esModule",{value:!0})})});var Ss=de((Ac,vx)=>{(function(e,r){typeof Ac=="object"&&typeof vx!="undefined"?r(Ac,sp()):(e=e||self,r(e.d3=e.d3||{},e.d3))})(Ac,function(e,r){"use strict";function t(Me){if(0<=Me.y&&Me.y<100){var Re=new Date(-1,Me.m,Me.d,Me.H,Me.M,Me.S,Me.L);return Re.setFullYear(Me.y),Re}return new Date(Me.y,Me.m,Me.d,Me.H,Me.M,Me.S,Me.L)}function n(Me){if(0<=Me.y&&Me.y<100){var Re=new Date(Date.UTC(-1,Me.m,Me.d,Me.H,Me.M,Me.S,Me.L));return Re.setUTCFullYear(Me.y),Re}return new Date(Date.UTC(Me.y,Me.m,Me.d,Me.H,Me.M,Me.S,Me.L))}function a(Me,Re,Qe){return{y:Me,m:Re,d:Qe,H:0,M:0,S:0,L:0}}function o(Me){var Re=Me.dateTime,Qe=Me.date,Ke=Me.time,ar=Me.periods,se=Me.days,J=Me.shortDays,ae=Me.months,De=Me.shortMonths,He=p(ar),er=_(ar),nr=p(se),fr=_(se),xr=p(J),Sr=_(J),Mr=p(ae),Ar=_(ae),ft=p(De),sr=_(De),Pr={a:ha,A:Qn,b:In,B:wa,c:null,d:L,e:L,f:$,H:P,I:O,j:U,L:X,m:j,M:Y,p:bi,q:Gi,Q:ce,s:be,S:q,u:K,U:ne,V:Q,w:oe,W:re,x:null,X:null,y:H,Y:ee,Z:V,"%":pe},$r={a:Yi,A:Wi,b:tn,B:bo,c:null,d:te,e:te,f:he,H:ue,I:ve,j:ke,L:Se,m:Ae,M:Ce,p:xi,q:_i,Q:ce,s:be,S:Pe,u:Ee,U:Ne,V:Ue,w:ge,W:we,x:null,X:null,y:Te,Y:me,Z:ye,"%":pe},Fr={a:hn,A:Et,b:Tn,B:Ot,c:xt,d:g,e:g,f:R,H:A,I:A,j:c,L:E,m:x,M:v,p:jr,q:d,Q:F,s:I,S:D,u:w,U:T,V:y,w:m,W:k,x:gt,X:Ft,y:b,Y:S,Z:M,"%":N};Pr.x=Gr(Qe,Pr),Pr.X=Gr(Ke,Pr),Pr.c=Gr(Re,Pr),$r.x=Gr(Qe,$r),$r.X=Gr(Ke,$r),$r.c=Gr(Re,$r);function Gr(kr,at){return function(ct){var yr=[],yn=-1,_t=0,mn=kr.length,Wr,Wa,vl;for(ct instanceof Date||(ct=new Date(+ct));++yn<mn;)kr.charCodeAt(yn)===37&&(yr.push(kr.slice(_t,yn)),(Wa=i[Wr=kr.charAt(++yn)])!=null?Wr=kr.charAt(++yn):Wa=Wr==="e"?" ":"0",(vl=at[Wr])&&(Wr=vl(ct,Wa)),yr.push(Wr),_t=yn+1);return yr.push(kr.slice(_t,yn)),yr.join("")}}function pt(kr,at){return function(ct){var yr=a(1900,void 0,1),yn=Rr(yr,kr,ct+="",0),_t,mn;if(yn!=ct.length)return null;if("Q"in yr)return new Date(yr.Q);if("s"in yr)return new Date(yr.s*1e3+("L"in yr?yr.L:0));if(at&&!("Z"in yr)&&(yr.Z=0),"p"in yr&&(yr.H=yr.H%12+yr.p*12),yr.m===void 0&&(yr.m="q"in yr?yr.q:0),"V"in yr){if(yr.V<1||yr.V>53)return null;"w"in yr||(yr.w=1),"Z"in yr?(_t=n(a(yr.y,0,1)),mn=_t.getUTCDay(),_t=mn>4||mn===0?r.utcMonday.ceil(_t):r.utcMonday(_t),_t=r.utcDay.offset(_t,(yr.V-1)*7),yr.y=_t.getUTCFullYear(),yr.m=_t.getUTCMonth(),yr.d=_t.getUTCDate()+(yr.w+6)%7):(_t=t(a(yr.y,0,1)),mn=_t.getDay(),_t=mn>4||mn===0?r.timeMonday.ceil(_t):r.timeMonday(_t),_t=r.timeDay.offset(_t,(yr.V-1)*7),yr.y=_t.getFullYear(),yr.m=_t.getMonth(),yr.d=_t.getDate()+(yr.w+6)%7)}else("W"in yr||"U"in yr)&&("w"in yr||(yr.w="u"in yr?yr.u%7:"W"in yr?1:0),mn="Z"in yr?n(a(yr.y,0,1)).getUTCDay():t(a(yr.y,0,1)).getDay(),yr.m=0,yr.d="W"in yr?(yr.w+6)%7+yr.W*7-(mn+5)%7:yr.w+yr.U*7-(mn+6)%7);return"Z"in yr?(yr.H+=yr.Z/100|0,yr.M+=yr.Z%100,n(yr)):t(yr)}}function Rr(kr,at,ct,yr){for(var yn=0,_t=at.length,mn=ct.length,Wr,Wa;yn<_t;){if(yr>=mn)return-1;if(Wr=at.charCodeAt(yn++),Wr===37){if(Wr=at.charAt(yn++),Wa=Fr[Wr in i?at.charAt(yn++):Wr],!Wa||(yr=Wa(kr,ct,yr))<0)return-1}else if(Wr!=ct.charCodeAt(yr++))return-1}return yr}function jr(kr,at,ct){var yr=He.exec(at.slice(ct));return yr?(kr.p=er[yr[0].toLowerCase()],ct+yr[0].length):-1}function hn(kr,at,ct){var yr=xr.exec(at.slice(ct));return yr?(kr.w=Sr[yr[0].toLowerCase()],ct+yr[0].length):-1}function Et(kr,at,ct){var yr=nr.exec(at.slice(ct));return yr?(kr.w=fr[yr[0].toLowerCase()],ct+yr[0].length):-1}function Tn(kr,at,ct){var yr=ft.exec(at.slice(ct));return yr?(kr.m=sr[yr[0].toLowerCase()],ct+yr[0].length):-1}function Ot(kr,at,ct){var yr=Mr.exec(at.slice(ct));return yr?(kr.m=Ar[yr[0].toLowerCase()],ct+yr[0].length):-1}function xt(kr,at,ct){return Rr(kr,Re,at,ct)}function gt(kr,at,ct){return Rr(kr,Qe,at,ct)}function Ft(kr,at,ct){return Rr(kr,Ke,at,ct)}function ha(kr){return J[kr.getDay()]}function Qn(kr){return se[kr.getDay()]}function In(kr){return De[kr.getMonth()]}function wa(kr){return ae[kr.getMonth()]}function bi(kr){return ar[+(kr.getHours()>=12)]}function Gi(kr){return 1+~~(kr.getMonth()/3)}function Yi(kr){return J[kr.getUTCDay()]}function Wi(kr){return se[kr.getUTCDay()]}function tn(kr){return De[kr.getUTCMonth()]}function bo(kr){return ae[kr.getUTCMonth()]}function xi(kr){return ar[+(kr.getUTCHours()>=12)]}function _i(kr){return 1+~~(kr.getUTCMonth()/3)}return{format:function(kr){var at=Gr(kr+="",Pr);return at.toString=function(){return kr},at},parse:function(kr){var at=pt(kr+="",!1);return at.toString=function(){return kr},at},utcFormat:function(kr){var at=Gr(kr+="",$r);return at.toString=function(){return kr},at},utcParse:function(kr){var at=pt(kr+="",!0);return at.toString=function(){return kr},at}}}var i={"-":"",_:" ",0:"0"},l=/^\s*\d+/,u=/^%/,s=/[\\^$*+?|[\]().{}]/g;function f(Me,Re,Qe){var Ke=Me<0?"-":"",ar=(Ke?-Me:Me)+"",se=ar.length;return Ke+(se<Qe?new Array(Qe-se+1).join(Re)+ar:ar)}function h(Me){return Me.replace(s,"\\$&")}function p(Me){return new RegExp("^(?:"+Me.map(h).join("|")+")","i")}function _(Me){for(var Re={},Qe=-1,Ke=Me.length;++Qe<Ke;)Re[Me[Qe].toLowerCase()]=Qe;return Re}function m(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+1));return Ke?(Me.w=+Ke[0],Qe+Ke[0].length):-1}function w(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+1));return Ke?(Me.u=+Ke[0],Qe+Ke[0].length):-1}function T(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Me.U=+Ke[0],Qe+Ke[0].length):-1}function y(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Me.V=+Ke[0],Qe+Ke[0].length):-1}function k(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Me.W=+Ke[0],Qe+Ke[0].length):-1}function S(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+4));return Ke?(Me.y=+Ke[0],Qe+Ke[0].length):-1}function b(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Me.y=+Ke[0]+(+Ke[0]>68?1900:2e3),Qe+Ke[0].length):-1}function M(Me,Re,Qe){var Ke=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Re.slice(Qe,Qe+6));return Ke?(Me.Z=Ke[1]?0:-(Ke[2]+(Ke[3]||"00")),Qe+Ke[0].length):-1}function d(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+1));return Ke?(Me.q=Ke[0]*3-3,Qe+Ke[0].length):-1}function x(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Me.m=Ke[0]-1,Qe+Ke[0].length):-1}function g(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Me.d=+Ke[0],Qe+Ke[0].length):-1}function c(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+3));return Ke?(Me.m=0,Me.d=+Ke[0],Qe+Ke[0].length):-1}function A(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Me.H=+Ke[0],Qe+Ke[0].length):-1}function v(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Me.M=+Ke[0],Qe+Ke[0].length):-1}function D(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+2));return Ke?(Me.S=+Ke[0],Qe+Ke[0].length):-1}function E(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+3));return Ke?(Me.L=+Ke[0],Qe+Ke[0].length):-1}function R(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe,Qe+6));return Ke?(Me.L=Math.floor(Ke[0]/1e3),Qe+Ke[0].length):-1}function N(Me,Re,Qe){var Ke=u.exec(Re.slice(Qe,Qe+1));return Ke?Qe+Ke[0].length:-1}function F(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe));return Ke?(Me.Q=+Ke[0],Qe+Ke[0].length):-1}function I(Me,Re,Qe){var Ke=l.exec(Re.slice(Qe));return Ke?(Me.s=+Ke[0],Qe+Ke[0].length):-1}function L(Me,Re){return f(Me.getDate(),Re,2)}function P(Me,Re){return f(Me.getHours(),Re,2)}function O(Me,Re){return f(Me.getHours()%12||12,Re,2)}function U(Me,Re){return f(1+r.timeDay.count(r.timeYear(Me),Me),Re,3)}function X(Me,Re){return f(Me.getMilliseconds(),Re,3)}function $(Me,Re){return X(Me,Re)+"000"}function j(Me,Re){return f(Me.getMonth()+1,Re,2)}function Y(Me,Re){return f(Me.getMinutes(),Re,2)}function q(Me,Re){return f(Me.getSeconds(),Re,2)}function K(Me){var Re=Me.getDay();return Re===0?7:Re}function ne(Me,Re){return f(r.timeSunday.count(r.timeYear(Me)-1,Me),Re,2)}function Q(Me,Re){var Qe=Me.getDay();return Me=Qe>=4||Qe===0?r.timeThursday(Me):r.timeThursday.ceil(Me),f(r.timeThursday.count(r.timeYear(Me),Me)+(r.timeYear(Me).getDay()===4),Re,2)}function oe(Me){return Me.getDay()}function re(Me,Re){return f(r.timeMonday.count(r.timeYear(Me)-1,Me),Re,2)}function H(Me,Re){return f(Me.getFullYear()%100,Re,2)}function ee(Me,Re){return f(Me.getFullYear()%1e4,Re,4)}function V(Me){var Re=Me.getTimezoneOffset();return(Re>0?"-":(Re*=-1,"+"))+f(Re/60|0,"0",2)+f(Re%60,"0",2)}function te(Me,Re){return f(Me.getUTCDate(),Re,2)}function ue(Me,Re){return f(Me.getUTCHours(),Re,2)}function ve(Me,Re){return f(Me.getUTCHours()%12||12,Re,2)}function ke(Me,Re){return f(1+r.utcDay.count(r.utcYear(Me),Me),Re,3)}function Se(Me,Re){return f(Me.getUTCMilliseconds(),Re,3)}function he(Me,Re){return Se(Me,Re)+"000"}function Ae(Me,Re){return f(Me.getUTCMonth()+1,Re,2)}function Ce(Me,Re){return f(Me.getUTCMinutes(),Re,2)}function Pe(Me,Re){return f(Me.getUTCSeconds(),Re,2)}function Ee(Me){var Re=Me.getUTCDay();return Re===0?7:Re}function Ne(Me,Re){return f(r.utcSunday.count(r.utcYear(Me)-1,Me),Re,2)}function Ue(Me,Re){var Qe=Me.getUTCDay();return Me=Qe>=4||Qe===0?r.utcThursday(Me):r.utcThursday.ceil(Me),f(r.utcThursday.count(r.utcYear(Me),Me)+(r.utcYear(Me).getUTCDay()===4),Re,2)}function ge(Me){return Me.getUTCDay()}function we(Me,Re){return f(r.utcMonday.count(r.utcYear(Me)-1,Me),Re,2)}function Te(Me,Re){return f(Me.getUTCFullYear()%100,Re,2)}function me(Me,Re){return f(Me.getUTCFullYear()%1e4,Re,4)}function ye(){return"+0000"}function pe(){return"%"}function ce(Me){return+Me}function be(Me){return Math.floor(+Me/1e3)}var Le;qe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qe(Me){return Le=o(Me),e.timeFormat=Le.format,e.timeParse=Le.parse,e.utcFormat=Le.utcFormat,e.utcParse=Le.utcParse,Le}var ze="%Y-%m-%dT%H:%M:%S.%LZ";function $e(Me){return Me.toISOString()}var Ve=Date.prototype.toISOString?$e:e.utcFormat(ze);function Be(Me){var Re=new Date(Me);return isNaN(Re)?null:Re}var Ye=+new Date("2000-01-01T00:00:00.000Z")?Be:e.utcParse(ze);e.isoFormat=Ve,e.isoParse=Ye,e.timeFormatDefaultLocale=qe,e.timeFormatLocale=o,Object.defineProperty(e,"__esModule",{value:!0})})});var up=de((kc,dx)=>{(function(e,r){typeof kc=="object"&&typeof dx!="undefined"?r(kc):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e.d3=e.d3||{}))})(kc,function(e){"use strict";function r(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function t(x,g){if((c=(x=g?x.toExponential(g-1):x.toExponential()).indexOf("e"))<0)return null;var c,A=x.slice(0,c);return[A.length>1?A[0]+A.slice(2):A,+x.slice(c+1)]}function n(x){return x=t(Math.abs(x)),x?x[1]:NaN}function a(x,g){return function(c,A){for(var v=c.length,D=[],E=0,R=x[0],N=0;v>0&&R>0&&(N+R+1>A&&(R=Math.max(1,A-N)),D.push(c.substring(v-=R,v+R)),!((N+=R+1)>A));)R=x[E=(E+1)%x.length];return D.reverse().join(g)}}function o(x){return function(g){return g.replace(/[0-9]/g,function(c){return x[+c]})}}var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(x){if(!(g=i.exec(x)))throw new Error("invalid format: "+x);var g;return new u({fill:g[1],align:g[2],sign:g[3],symbol:g[4],zero:g[5],width:g[6],comma:g[7],precision:g[8]&&g[8].slice(1),trim:g[9],type:g[10]})}l.prototype=u.prototype;function u(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s(x){e:for(var g=x.length,c=1,A=-1,v;c<g;++c)switch(x[c]){case".":A=v=c;break;case"0":A===0&&(A=c),v=c;break;default:if(!+x[c])break e;A>0&&(A=0);break}return A>0?x.slice(0,A)+x.slice(v+1):x}var f;function h(x,g){var c=t(x,g);if(!c)return x+"";var A=c[0],v=c[1],D=v-(f=Math.max(-8,Math.min(8,Math.floor(v/3)))*3)+1,E=A.length;return D===E?A:D>E?A+new Array(D-E+1).join("0"):D>0?A.slice(0,D)+"."+A.slice(D):"0."+new Array(1-D).join("0")+t(x,Math.max(0,g+D-1))[0]}function p(x,g){var c=t(x,g);if(!c)return x+"";var A=c[0],v=c[1];return v<0?"0."+new Array(-v).join("0")+A:A.length>v+1?A.slice(0,v+1)+"."+A.slice(v+1):A+new Array(v-A.length+2).join("0")}var _={"%":function(x,g){return(x*100).toFixed(g)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:r,e:function(x,g){return x.toExponential(g)},f:function(x,g){return x.toFixed(g)},g:function(x,g){return x.toPrecision(g)},o:function(x){return Math.round(x).toString(8)},p:function(x,g){return p(x*100,g)},r:p,s:h,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function m(x){return x}var w=Array.prototype.map,T=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function y(x){var g=x.grouping===void 0||x.thousands===void 0?m:a(w.call(x.grouping,Number),x.thousands+""),c=x.currency===void 0?"":x.currency[0]+"",A=x.currency===void 0?"":x.currency[1]+"",v=x.decimal===void 0?".":x.decimal+"",D=x.numerals===void 0?m:o(w.call(x.numerals,String)),E=x.percent===void 0?"%":x.percent+"",R=x.minus===void 0?"-":x.minus+"",N=x.nan===void 0?"NaN":x.nan+"";function F(L){L=l(L);var P=L.fill,O=L.align,U=L.sign,X=L.symbol,$=L.zero,j=L.width,Y=L.comma,q=L.precision,K=L.trim,ne=L.type;ne==="n"?(Y=!0,ne="g"):_[ne]||(q===void 0&&(q=12),K=!0,ne="g"),($||P==="0"&&O==="=")&&($=!0,P="0",O="=");var Q=X==="$"?c:X==="#"&&/[boxX]/.test(ne)?"0"+ne.toLowerCase():"",oe=X==="$"?A:/[%p]/.test(ne)?E:"",re=_[ne],H=/[defgprs%]/.test(ne);q=q===void 0?6:/[gprs]/.test(ne)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function ee(V){var te=Q,ue=oe,ve,ke,Se;if(ne==="c")ue=re(V)+ue,V="";else{V=+V;var he=V<0||1/V<0;if(V=isNaN(V)?N:re(Math.abs(V),q),K&&(V=s(V)),he&&+V==0&&U!=="+"&&(he=!1),te=(he?U==="("?U:R:U==="-"||U==="("?"":U)+te,ue=(ne==="s"?T[8+f/3]:"")+ue+(he&&U==="("?")":""),H){for(ve=-1,ke=V.length;++ve<ke;)if(Se=V.charCodeAt(ve),48>Se||Se>57){ue=(Se===46?v+V.slice(ve+1):V.slice(ve))+ue,V=V.slice(0,ve);break}}}Y&&!$&&(V=g(V,1/0));var Ae=te.length+V.length+ue.length,Ce=Ae<j?new Array(j-Ae+1).join(P):"";switch(Y&&$&&(V=g(Ce+V,Ce.length?j-ue.length:1/0),Ce=""),O){case"<":V=te+V+ue+Ce;break;case"=":V=te+Ce+V+ue;break;case"^":V=Ce.slice(0,Ae=Ce.length>>1)+te+V+ue+Ce.slice(Ae);break;default:V=Ce+te+V+ue;break}return D(V)}return ee.toString=function(){return L+""},ee}function I(L,P){var O=F((L=l(L),L.type="f",L)),U=Math.max(-8,Math.min(8,Math.floor(n(P)/3)))*3,X=Math.pow(10,-U),$=T[8+U/3];return function(j){return O(X*j)+$}}return{format:F,formatPrefix:I}}var k;S({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function S(x){return k=y(x),e.format=k.format,e.formatPrefix=k.formatPrefix,k}function b(x){return Math.max(0,-n(Math.abs(x)))}function M(x,g){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(g)/3)))*3-n(Math.abs(x)))}function d(x,g){return x=Math.abs(x),g=Math.abs(g)-x,Math.max(0,n(g)-n(x))+1}e.FormatSpecifier=u,e.formatDefaultLocale=S,e.formatLocale=y,e.formatSpecifier=l,e.precisionFixed=b,e.precisionPrefix=M,e.precisionRound=d,Object.defineProperty(e,"__esModule",{value:!0})})});var gx=de((jue,px)=>{"use strict";px.exports=function(e){for(var r=e.length,t,n=0;n<r;n++)if(t=e.charCodeAt(n),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}});var nt=de((efe,yx)=>{"use strict";var IB=gx();yx.exports=function(e){var r=typeof e;if(r==="string"){var t=e;if(e=+e,e===0&&IB(t))return!1}else if(r!=="number")return!1;return e-e<1}});var nn=de((rfe,mx)=>{"use strict";mx.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}});var fp=de((Sc,bx)=>{(function(e,r){typeof Sc=="object"&&typeof bx!="undefined"?r(Sc):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e["base64-arraybuffer"]={}))})(Sc,function(e){"use strict";for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<r.length;n++)t[r.charCodeAt(n)]=n;var a=function(i){var l=new Uint8Array(i),u,s=l.length,f="";for(u=0;u<s;u+=3)f+=r[l[u]>>2],f+=r[(l[u]&3)<<4|l[u+1]>>4],f+=r[(l[u+1]&15)<<2|l[u+2]>>6],f+=r[l[u+2]&63];return s%3===2?f=f.substring(0,f.length-1)+"=":s%3===1&&(f=f.substring(0,f.length-2)+"=="),f},o=function(i){var l=i.length*.75,u=i.length,s,f=0,h,p,_,m;i[i.length-1]==="="&&(l--,i[i.length-2]==="="&&l--);var w=new ArrayBuffer(l),T=new Uint8Array(w);for(s=0;s<u;s+=4)h=t[i.charCodeAt(s)],p=t[i.charCodeAt(s+1)],_=t[i.charCodeAt(s+2)],m=t[i.charCodeAt(s+3)],T[f++]=h<<2|p>>4,T[f++]=(p&15)<<4|_>>2,T[f++]=(_&3)<<6|m&63;return w};e.decode=o,e.encode=a,Object.defineProperty(e,"__esModule",{value:!0})})});var wo=de((tfe,xx)=>{"use strict";xx.exports=function(r){return window&&window.process&&window.process.versions?Object.prototype.toString.call(r)==="[object Object]":Object.prototype.toString.call(r)==="[object Object]"&&Object.getPrototypeOf(r).hasOwnProperty("hasOwnProperty")}});var ea=de(Ja=>{"use strict";var FB=fp().decode,NB=wo(),cp=Array.isArray,zB=ArrayBuffer,qB=DataView;function _x(e){return zB.isView(e)&&!(e instanceof qB)}Ja.isTypedArray=_x;function Cc(e){return cp(e)||_x(e)}Ja.isArrayOrTypedArray=Cc;function OB(e){return!Cc(e[0])}Ja.isArray1D=OB;Ja.ensureArray=function(e,r){return cp(e)||(e=[]),e.length=r,e};var vn={u1c:typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,i1:typeof Int8Array=="undefined"?void 0:Int8Array,u1:typeof Uint8Array=="undefined"?void 0:Uint8Array,i2:typeof Int16Array=="undefined"?void 0:Int16Array,u2:typeof Uint16Array=="undefined"?void 0:Uint16Array,i4:typeof Int32Array=="undefined"?void 0:Int32Array,u4:typeof Uint32Array=="undefined"?void 0:Uint32Array,f4:typeof Float32Array=="undefined"?void 0:Float32Array,f8:typeof Float64Array=="undefined"?void 0:Float64Array};vn.uint8c=vn.u1c;vn.uint8=vn.u1;vn.int8=vn.i1;vn.uint16=vn.u2;vn.int16=vn.i2;vn.uint32=vn.u4;vn.int32=vn.i4;vn.float32=vn.f4;vn.float64=vn.f8;function hp(e){return e.constructor===ArrayBuffer}Ja.isArrayBuffer=hp;Ja.decodeTypedArraySpec=function(e){var r=[],t=BB(e),n=t.dtype,a=vn[n];if(!a)throw new Error('Error in dtype: "'+n+'"');var o=a.BYTES_PER_ELEMENT,i=t.bdata;hp(i)||(i=FB(i));var l=t.shape===void 0?[i.byteLength/o]:(""+t.shape).split(",");l.reverse();var u=l.length,s,f,h=+l[0],p=o*h,_=0;if(u===1)r=new a(i);else if(u===2)for(s=+l[1],f=0;f<s;f++)r[f]=new a(i,_,h),_+=p;else if(u===3){s=+l[1];for(var m=+l[2],w=0;w<m;w++)for(r[w]=[],f=0;f<s;f++)r[w][f]=new a(i,_,h),_+=p}else throw new Error("ndim: "+u+'is not supported with the shape:"'+t.shape+'"');return r.bdata=t.bdata,r.dtype=t.dtype,r.shape=l.reverse().join(","),e._inputArray=r,r};Ja.isTypedArraySpec=function(e){return NB(e)&&e.hasOwnProperty("dtype")&&typeof e.dtype=="string"&&e.hasOwnProperty("bdata")&&(typeof e.bdata=="string"||hp(e.bdata))&&(e.shape===void 0||e.hasOwnProperty("shape")&&(typeof e.shape=="string"||typeof e.shape=="number"))};function BB(e){return{bdata:e.bdata,dtype:e.dtype,shape:e.shape}}Ja.concat=function(){var e=[],r=!0,t=0,n,a,o,i,l,u,s,f;for(o=0;o<arguments.length;o++)i=arguments[o],u=i.length,u&&(a?e.push(i):(a=i,l=u),cp(i)?n=!1:(r=!1,t?n!==i.constructor&&(n=!1):n=i.constructor),t+=u);if(!t)return[];if(!e.length)return a;if(r)return a.concat.apply(a,e);if(n){for(s=new n(t),s.set(a),o=0;o<e.length;o++)i=e[o],s.set(i,l),l+=i.length;return s}for(s=new Array(t),f=0;f<a.length;f++)s[f]=a[f];for(o=0;o<e.length;o++){for(i=e[o],f=0;f<i.length;f++)s[l+f]=i[f];l+=f}return s};Ja.maxRowLength=function(e){return wx(e,Math.max,0)};Ja.minRowLength=function(e){return wx(e,Math.min,1/0)};function wx(e,r,t){if(Cc(e))if(Cc(e[0])){for(var n=t,a=0;a<e.length;a++)n=r(n,e[a].length);return n}else return e.length;return 0}});var Ec=de((afe,Sx)=>{"use strict";var Mx=nt(),dp=ea().isArrayOrTypedArray;Sx.exports=function(r,t){if(Mx(t))t=String(t);else if(typeof t!="string"||t.substr(t.length-4)==="[-1]")throw"bad property string";var n=t.split("."),a,o,i,l;for(l=0;l<n.length;l++)if(String(n[l]).slice(0,2)==="__")throw"bad property string";for(l=0;l<n.length;){if(a=String(n[l]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),a){if(a[1])n[l]=a[1];else if(l===0)n.splice(0,1);else throw"bad property string";for(o=a[2].substr(1,a[2].length-2).split("]["),i=0;i<o.length;i++)l++,n.splice(l,0,Number(o[i]))}l++}return typeof r!="object"?GB(r,t,n):{set:Ax(r,n,t),get:Tx(r,n),astr:t,parts:n,obj:r}};function Tx(e,r){return function(t){var n=e,a,o,i,l,u;for(l=0;l<r.length-1;l++){if(a=r[l],a===-1){for(o=!0,i=[],u=0;u<n.length;u++)i[u]=Tx(n[u],r.slice(l+1))(t),i[u]!==i[0]&&(o=!1);return o?i[0]:i}if(typeof a=="number"&&!dp(n)||(n=n[a],typeof n!="object"||n===null))return}if(!(typeof n!="object"||n===null)&&(i=n[r[l]],!(!t&&i===null)))return i}}var UB=/(^|\.)args\[/;function vp(e,r){return e===void 0||e===null&&!r.match(UB)}function Ax(e,r,t){return function(n){var a=e,o="",i=[[e,o]],l=vp(n,t),u,s;for(s=0;s<r.length-1;s++){if(u=r[s],typeof u=="number"&&!dp(a))throw"array index but container is not an array";if(u===-1){if(l=!VB(a,r.slice(s+1),n,t),l)break;return}if(!kx(a,u,r[s+1],l))break;if(a=a[u],typeof a!="object"||a===null)throw"container is not an object";o=HB(o,u),i.push([a,o])}if(l){if(s===r.length-1&&(delete a[r[s]],Array.isArray(a)&&+r[s]===a.length-1))for(;a.length&&a[a.length-1]===void 0;)a.pop()}else a[r[s]]=n}}function HB(e,r){var t=r;return Mx(r)?t="["+r+"]":e&&(t="."+r),e+t}function VB(e,r,t,n){var a=dp(t),o=!0,i=t,l=n.replace("-1",0),u=a?!1:vp(t,l),s=r[0],f;for(f=0;f<e.length;f++)l=n.replace("-1",f),a&&(i=t[f%t.length],u=vp(i,l)),u&&(o=!1),kx(e,f,s,u)&&Ax(e[f],r,n.replace("-1",f))(i);return o}function kx(e,r,t,n){if(e[r]===void 0){if(n)return!1;typeof t=="number"?e[r]=[]:e[r]={}}return!0}function GB(e,r,t){return{set:function(){throw"bad container"},get:function(){},astr:r,parts:t,obj:e}}});var Dx=de((ife,Lx)=>{"use strict";var Cs=Ec(),YB=/^\w*$/,WB=0,Cx=1,Lc=2,Ex=3,_l=4;Lx.exports=function(r,t,n,a){n=n||"name",a=a||"value";var o,i,l,u={};t&&t.length?(l=Cs(r,t),i=l.get()):i=r,t=t||"";var s={};if(i)for(o=0;o<i.length;o++)s[i[o][n]]=o;var f=YB.test(a),h={set:function(p,_){var m=_===null?_l:WB;if(!i){if(!l||m===_l)return;i=[],l.set(i)}var w=s[p];if(w===void 0){if(m===_l)return;m=m|Ex,w=i.length,s[p]=w}else _!==(f?i[w][a]:Cs(i[w],a).get())&&(m=m|Lc);var T=i[w]=i[w]||{};return T[n]=p,f?T[a]=_:Cs(T,a).set(_),_!==null&&(m=m&~_l),u[w]=u[w]|m,h},get:function(p){if(i){var _=s[p];if(_!==void 0)return f?i[_][a]:Cs(i[_],a).get()}},rename:function(p,_){var m=s[p];return m===void 0||(u[m]=u[m]|Cx,s[_]=m,delete s[p],i[m][n]=_),h},remove:function(p){var _=s[p];if(_===void 0)return h;var m=i[_];if(Object.keys(m).length>2)return u[_]=u[_]|Lc,h.set(p,null);if(f){for(o=_;o<i.length;o++)u[o]=u[o]|Ex;for(o=_;o<i.length;o++)s[i[o][n]]--;i.splice(_,1),delete s[p]}else Cs(m,a).set(null),u[_]=u[_]|Lc|_l;return h},constructUpdate:function(){for(var p,_,m={},w=Object.keys(u),T=0;T<w.length;T++)_=w[T],p=t+"["+_+"]",i[_]?(u[_]&Cx&&(m[p+"."+n]=i[_][n]),u[_]&Lc&&(f?m[p+"."+a]=u[_]&_l?null:i[_][a]:m[p+"."+a]=u[_]&_l?null:Cs(i[_],a).get())):m[p]=null;return m}};return h}});var Px=de((ofe,Rx)=>{"use strict";var XB=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,ZB=/^[^\.\[\]]+$/;Rx.exports=function(e,r){for(;r;){var t=e.match(XB);if(t)e=t[1];else if(e.match(ZB))e="";else throw new Error("bad relativeAttr call:"+[e,r]);if(r.charAt(0)==="^")r=r.slice(1);else break}return e&&r.charAt(0)!=="["?e+"."+r:e+r}});var Dc=de((lfe,Ix)=>{"use strict";var JB=nt();Ix.exports=function(r,t){if(r>0)return Math.log(r)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return JB(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}});var zx=de((sfe,Nx)=>{"use strict";var Fx=ea().isArrayOrTypedArray,lf=wo();Nx.exports=function e(r,t){for(var n in t){var a=t[n],o=r[n];if(o!==a)if(n.charAt(0)==="_"||typeof a=="function"){if(n in r)continue;r[n]=a}else if(Fx(a)&&Fx(o)&&lf(a[0])){if(n==="customdata"||n==="ids")continue;for(var i=Math.min(a.length,o.length),l=0;l<i;l++)o[l]!==a[l]&&lf(a[l])&&lf(o[l])&&e(o[l],a[l])}else lf(a)&&lf(o)&&(e(o,a),Object.keys(o).length||delete r[n])}}});var Es=de((ufe,qx)=>{"use strict";function KB(e,r){var t=e%r;return t<0?t+r:t}function QB(e,r){return Math.abs(e)>r/2?e-Math.round(e/r)*r:e}qx.exports={mod:KB,modHalf:QB}});var ka=de((ffe,Rc)=>{(function(e){var r=/^\s+/,t=/\s+$/,n=0,a=e.round,o=e.min,i=e.max,l=e.random;function u(H,ee){if(H=H||"",ee=ee||{},H instanceof u)return H;if(!(this instanceof u))return new u(H,ee);var V=s(H);this._originalInput=H,this._r=V.r,this._g=V.g,this._b=V.b,this._a=V.a,this._roundA=a(100*this._a)/100,this._format=ee.format||V.format,this._gradientType=ee.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=V.ok,this._tc_id=n++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var H=this.toRgb();return(H.r*299+H.g*587+H.b*114)/1e3},getLuminance:function(){var H=this.toRgb(),ee,V,te,ue,ve,ke;return ee=H.r/255,V=H.g/255,te=H.b/255,ee<=.03928?ue=ee/12.92:ue=e.pow((ee+.055)/1.055,2.4),V<=.03928?ve=V/12.92:ve=e.pow((V+.055)/1.055,2.4),te<=.03928?ke=te/12.92:ke=e.pow((te+.055)/1.055,2.4),.2126*ue+.7152*ve+.0722*ke},setAlpha:function(H){return this._a=L(H),this._roundA=a(100*this._a)/100,this},toHsv:function(){var H=_(this._r,this._g,this._b);return{h:H.h*360,s:H.s,v:H.v,a:this._a}},toHsvString:function(){var H=_(this._r,this._g,this._b),ee=a(H.h*360),V=a(H.s*100),te=a(H.v*100);return this._a==1?"hsv("+ee+", "+V+"%, "+te+"%)":"hsva("+ee+", "+V+"%, "+te+"%, "+this._roundA+")"},toHsl:function(){var H=h(this._r,this._g,this._b);return{h:H.h*360,s:H.s,l:H.l,a:this._a}},toHslString:function(){var H=h(this._r,this._g,this._b),ee=a(H.h*360),V=a(H.s*100),te=a(H.l*100);return this._a==1?"hsl("+ee+", "+V+"%, "+te+"%)":"hsla("+ee+", "+V+"%, "+te+"%, "+this._roundA+")"},toHex:function(H){return w(this._r,this._g,this._b,H)},toHexString:function(H){return"#"+this.toHex(H)},toHex8:function(H){return T(this._r,this._g,this._b,this._a,H)},toHex8String:function(H){return"#"+this.toHex8(H)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(P(this._r,255)*100)+"%",g:a(P(this._g,255)*100)+"%",b:a(P(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+a(P(this._r,255)*100)+"%, "+a(P(this._g,255)*100)+"%, "+a(P(this._b,255)*100)+"%)":"rgba("+a(P(this._r,255)*100)+"%, "+a(P(this._g,255)*100)+"%, "+a(P(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:F[w(this._r,this._g,this._b,!0)]||!1},toFilter:function(H){var ee="#"+y(this._r,this._g,this._b,this._a),V=ee,te=this._gradientType?"GradientType = 1, ":"";if(H){var ue=u(H);V="#"+y(ue._r,ue._g,ue._b,ue._a)}return"progid:DXImageTransform.Microsoft.gradient("+te+"startColorstr="+ee+",endColorstr="+V+")"},toString:function(H){var ee=!!H;H=H||this._format;var V=!1,te=this._a<1&&this._a>=0,ue=!ee&&te&&(H==="hex"||H==="hex6"||H==="hex3"||H==="hex4"||H==="hex8"||H==="name");return ue?H==="name"&&this._a===0?this.toName():this.toRgbString():(H==="rgb"&&(V=this.toRgbString()),H==="prgb"&&(V=this.toPercentageRgbString()),(H==="hex"||H==="hex6")&&(V=this.toHexString()),H==="hex3"&&(V=this.toHexString(!0)),H==="hex4"&&(V=this.toHex8String(!0)),H==="hex8"&&(V=this.toHex8String()),H==="name"&&(V=this.toName()),H==="hsl"&&(V=this.toHslString()),H==="hsv"&&(V=this.toHsvString()),V||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(H,ee){var V=H.apply(null,[this].concat([].slice.call(ee)));return this._r=V._r,this._g=V._g,this._b=V._b,this.setAlpha(V._a),this},lighten:function(){return this._applyModification(M,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(k,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(H,ee){return H.apply(null,[this].concat([].slice.call(ee)))},analogous:function(){return this._applyCombination(E,arguments)},complement:function(){return this._applyCombination(c,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(D,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},u.fromRatio=function(H,ee){if(typeof H=="object"){var V={};for(var te in H)H.hasOwnProperty(te)&&(te==="a"?V[te]=H[te]:V[te]=Y(H[te]));H=V}return u(H,ee)};function s(H){var ee={r:0,g:0,b:0},V=1,te=null,ue=null,ve=null,ke=!1,Se=!1;return typeof H=="string"&&(H=oe(H)),typeof H=="object"&&(Q(H.r)&&Q(H.g)&&Q(H.b)?(ee=f(H.r,H.g,H.b),ke=!0,Se=String(H.r).substr(-1)==="%"?"prgb":"rgb"):Q(H.h)&&Q(H.s)&&Q(H.v)?(te=Y(H.s),ue=Y(H.v),ee=m(H.h,te,ue),ke=!0,Se="hsv"):Q(H.h)&&Q(H.s)&&Q(H.l)&&(te=Y(H.s),ve=Y(H.l),ee=p(H.h,te,ve),ke=!0,Se="hsl"),H.hasOwnProperty("a")&&(V=H.a)),V=L(V),{ok:ke,format:H.format||Se,r:o(255,i(ee.r,0)),g:o(255,i(ee.g,0)),b:o(255,i(ee.b,0)),a:V}}function f(H,ee,V){return{r:P(H,255)*255,g:P(ee,255)*255,b:P(V,255)*255}}function h(H,ee,V){H=P(H,255),ee=P(ee,255),V=P(V,255);var te=i(H,ee,V),ue=o(H,ee,V),ve,ke,Se=(te+ue)/2;if(te==ue)ve=ke=0;else{var he=te-ue;switch(ke=Se>.5?he/(2-te-ue):he/(te+ue),te){case H:ve=(ee-V)/he+(ee<V?6:0);break;case ee:ve=(V-H)/he+2;break;case V:ve=(H-ee)/he+4;break}ve/=6}return{h:ve,s:ke,l:Se}}function p(H,ee,V){var te,ue,ve;H=P(H,360),ee=P(ee,100),V=P(V,100);function ke(Ae,Ce,Pe){return Pe<0&&(Pe+=1),Pe>1&&(Pe-=1),Pe<1/6?Ae+(Ce-Ae)*6*Pe:Pe<1/2?Ce:Pe<2/3?Ae+(Ce-Ae)*(2/3-Pe)*6:Ae}if(ee===0)te=ue=ve=V;else{var Se=V<.5?V*(1+ee):V+ee-V*ee,he=2*V-Se;te=ke(he,Se,H+1/3),ue=ke(he,Se,H),ve=ke(he,Se,H-1/3)}return{r:te*255,g:ue*255,b:ve*255}}function _(H,ee,V){H=P(H,255),ee=P(ee,255),V=P(V,255);var te=i(H,ee,V),ue=o(H,ee,V),ve,ke,Se=te,he=te-ue;if(ke=te===0?0:he/te,te==ue)ve=0;else{switch(te){case H:ve=(ee-V)/he+(ee<V?6:0);break;case ee:ve=(V-H)/he+2;break;case V:ve=(H-ee)/he+4;break}ve/=6}return{h:ve,s:ke,v:Se}}function m(H,ee,V){H=P(H,360)*6,ee=P(ee,100),V=P(V,100);var te=e.floor(H),ue=H-te,ve=V*(1-ee),ke=V*(1-ue*ee),Se=V*(1-(1-ue)*ee),he=te%6,Ae=[V,ke,ve,ve,Se,V][he],Ce=[Se,V,V,ke,ve,ve][he],Pe=[ve,ve,Se,V,V,ke][he];return{r:Ae*255,g:Ce*255,b:Pe*255}}function w(H,ee,V,te){var ue=[j(a(H).toString(16)),j(a(ee).toString(16)),j(a(V).toString(16))];return te&&ue[0].charAt(0)==ue[0].charAt(1)&&ue[1].charAt(0)==ue[1].charAt(1)&&ue[2].charAt(0)==ue[2].charAt(1)?ue[0].charAt(0)+ue[1].charAt(0)+ue[2].charAt(0):ue.join("")}function T(H,ee,V,te,ue){var ve=[j(a(H).toString(16)),j(a(ee).toString(16)),j(a(V).toString(16)),j(q(te))];return ue&&ve[0].charAt(0)==ve[0].charAt(1)&&ve[1].charAt(0)==ve[1].charAt(1)&&ve[2].charAt(0)==ve[2].charAt(1)&&ve[3].charAt(0)==ve[3].charAt(1)?ve[0].charAt(0)+ve[1].charAt(0)+ve[2].charAt(0)+ve[3].charAt(0):ve.join("")}function y(H,ee,V,te){var ue=[j(q(te)),j(a(H).toString(16)),j(a(ee).toString(16)),j(a(V).toString(16))];return ue.join("")}u.equals=function(H,ee){return!H||!ee?!1:u(H).toRgbString()==u(ee).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})};function k(H,ee){ee=ee===0?0:ee||10;var V=u(H).toHsl();return V.s-=ee/100,V.s=O(V.s),u(V)}function S(H,ee){ee=ee===0?0:ee||10;var V=u(H).toHsl();return V.s+=ee/100,V.s=O(V.s),u(V)}function b(H){return u(H).desaturate(100)}function M(H,ee){ee=ee===0?0:ee||10;var V=u(H).toHsl();return V.l+=ee/100,V.l=O(V.l),u(V)}function d(H,ee){ee=ee===0?0:ee||10;var V=u(H).toRgb();return V.r=i(0,o(255,V.r-a(255*-(ee/100)))),V.g=i(0,o(255,V.g-a(255*-(ee/100)))),V.b=i(0,o(255,V.b-a(255*-(ee/100)))),u(V)}function x(H,ee){ee=ee===0?0:ee||10;var V=u(H).toHsl();return V.l-=ee/100,V.l=O(V.l),u(V)}function g(H,ee){var V=u(H).toHsl(),te=(V.h+ee)%360;return V.h=te<0?360+te:te,u(V)}function c(H){var ee=u(H).toHsl();return ee.h=(ee.h+180)%360,u(ee)}function A(H){var ee=u(H).toHsl(),V=ee.h;return[u(H),u({h:(V+120)%360,s:ee.s,l:ee.l}),u({h:(V+240)%360,s:ee.s,l:ee.l})]}function v(H){var ee=u(H).toHsl(),V=ee.h;return[u(H),u({h:(V+90)%360,s:ee.s,l:ee.l}),u({h:(V+180)%360,s:ee.s,l:ee.l}),u({h:(V+270)%360,s:ee.s,l:ee.l})]}function D(H){var ee=u(H).toHsl(),V=ee.h;return[u(H),u({h:(V+72)%360,s:ee.s,l:ee.l}),u({h:(V+216)%360,s:ee.s,l:ee.l})]}function E(H,ee,V){ee=ee||6,V=V||30;var te=u(H).toHsl(),ue=360/V,ve=[u(H)];for(te.h=(te.h-(ue*ee>>1)+720)%360;--ee;)te.h=(te.h+ue)%360,ve.push(u(te));return ve}function R(H,ee){ee=ee||6;for(var V=u(H).toHsv(),te=V.h,ue=V.s,ve=V.v,ke=[],Se=1/ee;ee--;)ke.push(u({h:te,s:ue,v:ve})),ve=(ve+Se)%1;return ke}u.mix=function(H,ee,V){V=V===0?0:V||50;var te=u(H).toRgb(),ue=u(ee).toRgb(),ve=V/100,ke={r:(ue.r-te.r)*ve+te.r,g:(ue.g-te.g)*ve+te.g,b:(ue.b-te.b)*ve+te.b,a:(ue.a-te.a)*ve+te.a};return u(ke)},u.readability=function(H,ee){var V=u(H),te=u(ee);return(e.max(V.getLuminance(),te.getLuminance())+.05)/(e.min(V.getLuminance(),te.getLuminance())+.05)},u.isReadable=function(H,ee,V){var te=u.readability(H,ee),ue,ve;switch(ve=!1,ue=re(V),ue.level+ue.size){case"AAsmall":case"AAAlarge":ve=te>=4.5;break;case"AAlarge":ve=te>=3;break;case"AAAsmall":ve=te>=7;break}return ve},u.mostReadable=function(H,ee,V){var te=null,ue=0,ve,ke,Se,he;V=V||{},ke=V.includeFallbackColors,Se=V.level,he=V.size;for(var Ae=0;Ae<ee.length;Ae++)ve=u.readability(H,ee[Ae]),ve>ue&&(ue=ve,te=u(ee[Ae]));return u.isReadable(H,te,{level:Se,size:he})||!ke?te:(V.includeFallbackColors=!1,u.mostReadable(H,["#fff","#000"],V))};var N=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=u.hexNames=I(N);function I(H){var ee={};for(var V in H)H.hasOwnProperty(V)&&(ee[H[V]]=V);return ee}function L(H){return H=parseFloat(H),(isNaN(H)||H<0||H>1)&&(H=1),H}function P(H,ee){X(H)&&(H="100%");var V=$(H);return H=o(ee,i(0,parseFloat(H))),V&&(H=parseInt(H*ee,10)/100),e.abs(H-ee)<1e-6?1:H%ee/parseFloat(ee)}function O(H){return o(1,i(0,H))}function U(H){return parseInt(H,16)}function X(H){return typeof H=="string"&&H.indexOf(".")!=-1&&parseFloat(H)===1}function $(H){return typeof H=="string"&&H.indexOf("%")!=-1}function j(H){return H.length==1?"0"+H:""+H}function Y(H){return H<=1&&(H=H*100+"%"),H}function q(H){return e.round(parseFloat(H)*255).toString(16)}function K(H){return U(H)/255}var ne=function(){var H="[-\\+]?\\d+%?",ee="[-\\+]?\\d*\\.\\d+%?",V="(?:"+ee+")|(?:"+H+")",te="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",ue="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?";return{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+ue),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+ue),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+ue),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Q(H){return!!ne.CSS_UNIT.exec(H)}function oe(H){H=H.replace(r,"").replace(t,"").toLowerCase();var ee=!1;if(N[H])H=N[H],ee=!0;else if(H=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var V;return(V=ne.rgb.exec(H))?{r:V[1],g:V[2],b:V[3]}:(V=ne.rgba.exec(H))?{r:V[1],g:V[2],b:V[3],a:V[4]}:(V=ne.hsl.exec(H))?{h:V[1],s:V[2],l:V[3]}:(V=ne.hsla.exec(H))?{h:V[1],s:V[2],l:V[3],a:V[4]}:(V=ne.hsv.exec(H))?{h:V[1],s:V[2],v:V[3]}:(V=ne.hsva.exec(H))?{h:V[1],s:V[2],v:V[3],a:V[4]}:(V=ne.hex8.exec(H))?{r:U(V[1]),g:U(V[2]),b:U(V[3]),a:K(V[4]),format:ee?"name":"hex8"}:(V=ne.hex6.exec(H))?{r:U(V[1]),g:U(V[2]),b:U(V[3]),format:ee?"name":"hex"}:(V=ne.hex4.exec(H))?{r:U(V[1]+""+V[1]),g:U(V[2]+""+V[2]),b:U(V[3]+""+V[3]),a:K(V[4]+""+V[4]),format:ee?"name":"hex8"}:(V=ne.hex3.exec(H))?{r:U(V[1]+""+V[1]),g:U(V[2]+""+V[2]),b:U(V[3]+""+V[3]),format:ee?"name":"hex"}:!1}function re(H){var ee,V;return H=H||{level:"AA",size:"small"},ee=(H.level||"AA").toUpperCase(),V=(H.size||"small").toLowerCase(),ee!=="AA"&&ee!=="AAA"&&(ee="AA"),V!=="small"&&V!=="large"&&(V="small"),{level:ee,size:V}}typeof Rc!="undefined"&&Rc.exports?Rc.exports=u:window.tinycolor=u})(Math)});var Tt=de(ff=>{"use strict";var Ox=wo(),sf=Array.isArray;function $B(e,r){var t,n;for(t=0;t<e.length;t++){if(n=e[t],n!==null&&typeof n=="object")return!1;n!==void 0&&(r[t]=n)}return!0}ff.extendFlat=function(){return uf(arguments,!1,!1,!1)};ff.extendDeep=function(){return uf(arguments,!0,!1,!1)};ff.extendDeepAll=function(){return uf(arguments,!0,!0,!1)};ff.extendDeepNoArrays=function(){return uf(arguments,!0,!1,!0)};function uf(e,r,t,n){var a=e[0],o=e.length,i,l,u,s,f,h,p;if(o===2&&sf(a)&&sf(e[1])&&a.length===0){if(p=$B(e[1],a),p)return a;a.splice(0,a.length)}for(var _=1;_<o;_++){i=e[_];for(l in i)u=a[l],s=i[l],n&&sf(s)?a[l]=s:r&&s&&(Ox(s)||(f=sf(s)))?(f?(f=!1,h=u&&sf(u)?u:[]):h=u&&Ox(u)?u:{},a[l]=uf([h,s],r,t,n)):(typeof s!="undefined"||t)&&(a[l]=s)}return a}});var kn=de((hfe,Bx)=>{"use strict";Bx.exports=function(e){var r=e.variantValues,t=e.editType,n=e.colorEditType;n===void 0&&(n=t);var a={editType:t,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};e.noNumericWeightValues&&(a.valType="enumerated",a.values=a.extras,a.extras=void 0,a.min=void 0,a.max=void 0);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},weight:a,style:{editType:t,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:e.noFontVariant?void 0:{editType:t,valType:"enumerated",values:r||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:e.noFontTextcase?void 0:{editType:t,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:e.noFontLineposition?void 0:{editType:t,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:e.noFontShadow?void 0:{editType:t,valType:"string",dflt:e.autoShadowDflt?"auto":"none"},editType:t};return e.autoSize&&(o.size.dflt="auto"),e.autoColor&&(o.color.dflt="auto"),e.arrayOk&&(o.family.arrayOk=!0,o.weight.arrayOk=!0,o.style.arrayOk=!0,e.noFontVariant||(o.variant.arrayOk=!0),e.noFontTextcase||(o.textcase.arrayOk=!0),e.noFontLineposition||(o.lineposition.arrayOk=!0),e.noFontShadow||(o.shadow.arrayOk=!0),o.size.arrayOk=!0,o.color.arrayOk=!0),o}});var cf=de((vfe,Ux)=>{"use strict";Ux.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}});var wl=de((dfe,Gx)=>{"use strict";var Hx=cf(),Vx=kn(),pp=Vx({editType:"none"});pp.family.dflt=Hx.HOVERFONT;pp.size.dflt=Hx.HOVERFONTSIZE;Gx.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:pp,grouptitlefont:Vx({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},showarrow:{valType:"boolean",dflt:!0,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}});var Pc=de((pfe,Yx)=>{"use strict";var jB=kn(),hf=wl().hoverlabel,vf=Tt().extendFlat;Yx.exports={hoverlabel:{bgcolor:vf({},hf.bgcolor,{arrayOk:!0}),bordercolor:vf({},hf.bordercolor,{arrayOk:!0}),font:jB({arrayOk:!0,editType:"none"}),align:vf({},hf.align,{arrayOk:!0}),namelength:vf({},hf.namelength,{arrayOk:!0}),showarrow:vf({},hf.showarrow),editType:"none"}}});var Sn=de((gfe,Wx)=>{"use strict";var eU=kn(),rU=Pc();Wx.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:eU({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:rU.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}});var Ml=de((yfe,Jx)=>{"use strict";var tU=ka(),Ic={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},Xx=Ic.RdBu;function nU(e,r){if(r||(r=Xx),!e)return r;function t(){try{e=Ic[e]||JSON.parse(e)}catch(n){e=r}}return typeof e=="string"&&(t(),typeof e=="string"&&t()),Zx(e)?e:r}function Zx(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(n.length!==2||+n[0]<r||!tU(n[1]).isValid())return!1;r=+n[0]}return!0}function aU(e){return Ic[e]!==void 0?!0:Zx(e)}Jx.exports={scales:Ic,defaultScale:Xx,get:nU,isValid:aU}});var Ti=de(Tl=>{"use strict";Tl.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];Tl.defaultLine="#444";Tl.lightLine="#eee";Tl.background="#fff";Tl.borderLine="#BEC8D9";Tl.lightFraction=100*10/11});var Xr=de((bfe,Kx)=>{"use strict";var ra=ka(),iU=nt(),oU=ea().isTypedArray,an=Kx.exports={},Fc=Ti();an.defaults=Fc.defaults;var lU=an.defaultLine=Fc.defaultLine;an.lightLine=Fc.lightLine;var yp=an.background=Fc.background;an.tinyRGB=function(e){var r=e.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"};an.rgb=function(e){return an.tinyRGB(ra(e))};an.opacity=function(e){return e?ra(e).getAlpha():0};an.addOpacity=function(e,r){var t=ra(e).toRgb();return"rgba("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+", "+r+")"};an.combine=function(e,r){var t=ra(e).toRgb();if(t.a===1)return ra(e).toRgbString();var n=ra(r||yp).toRgb(),a=n.a===1?n:{r:255*(1-n.a)+n.r*n.a,g:255*(1-n.a)+n.g*n.a,b:255*(1-n.a)+n.b*n.a},o={r:a.r*(1-t.a)+t.r*t.a,g:a.g*(1-t.a)+t.g*t.a,b:a.b*(1-t.a)+t.b*t.a};return ra(o).toRgbString()};an.interpolate=function(e,r,t){var n=ra(e).toRgb(),a=ra(r).toRgb(),o={r:t*n.r+(1-t)*a.r,g:t*n.g+(1-t)*a.g,b:t*n.b+(1-t)*a.b};return ra(o).toRgbString()};an.contrast=function(e,r,t){var n=ra(e);n.getAlpha()!==1&&(n=ra(an.combine(e,yp)));var a=n.isDark()?r?n.lighten(r):yp:t?n.darken(t):lU;return a.toString()};an.stroke=function(e,r){var t=ra(r);e.style({stroke:an.tinyRGB(t),"stroke-opacity":t.getAlpha()})};an.fill=function(e,r){var t=ra(r);e.style({fill:an.tinyRGB(t),"fill-opacity":t.getAlpha()})};an.clean=function(e){if(!(!e||typeof e!="object")){var r=Object.keys(e),t,n,a,o;for(t=0;t<r.length;t++)if(a=r[t],o=e[a],a.substr(a.length-5)==="color")if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]=gp(o[n]);else e[a]=gp(o);else if(a.substr(a.length-10)==="colorscale"&&Array.isArray(o))for(n=0;n<o.length;n++)Array.isArray(o[n])&&(o[n][1]=gp(o[n][1]));else if(Array.isArray(o)){var i=o[0];if(!Array.isArray(i)&&i&&typeof i=="object")for(n=0;n<o.length;n++)an.clean(o[n])}else o&&typeof o=="object"&&!oU(o)&&an.clean(o)}};function gp(e){if(iU(e)||typeof e!="string")return e;var r=e.trim();if(r.substr(0,3)!=="rgb")return e;var t=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!t)return e;var n=t[1].trim().split(/\s*[\s,]\s*/),a=r.charAt(3)==="a"&&n.length===4;if(!a&&n.length!==3)return e;for(var o=0;o<n.length;o++){if(!n[o].length||(n[o]=Number(n[o]),!(n[o]>=0)))return e;if(o===3)n[o]>1&&(n[o]=1);else if(n[o]>=1)return e}var i=Math.round(n[0]*255)+", "+Math.round(n[1]*255)+", "+Math.round(n[2]*255);return a?"rgba("+i+", "+n[3]+")":"rgb("+i+")"}});var Nc=de((xfe,Qx)=>{"use strict";Qx.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}});var Ls=de($x=>{"use strict";$x.counter=function(e,r,t,n){var a=(r||"")+(t?"":"$"),o=n===!1?"":"^";return e==="xy"?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+a):new RegExp(o+e+"([2-9]|[1-9][0-9]+)?"+a)}});var t4=de(ta=>{"use strict";var mp=nt(),jx=ka(),e4=Tt().extendFlat,sU=Sn(),uU=Ml(),fU=Xr(),cU=Nc().DESELECTDIM,Ds=Ec(),r4=Ls().counter,hU=Es().modHalf,Ai=ea().isArrayOrTypedArray,Mo=ea().isTypedArraySpec,To=ea().decodeTypedArraySpec;ta.valObjectMeta={data_array:{coerceFunction:function(e,r,t){r.set(Ai(e)?e:Mo(e)?To(e):t)}},enumerated:{coerceFunction:function(e,r,t,n){n.coerceNumber&&(e=+e),n.values.indexOf(e)===-1?r.set(t):r.set(e)},validateFunction:function(e,r){r.coerceNumber&&(e=+e);for(var t=r.values,n=0;n<t.length;n++){var a=String(t[n]);if(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"){var o=new RegExp(a.substr(1,a.length-2));if(o.test(e))return!0}else if(e===t[n])return!0}return!1}},boolean:{coerceFunction:function(e,r,t){e===!0||e===!1?r.set(e):r.set(t)}},number:{coerceFunction:function(e,r,t,n){Mo(e)&&(e=To(e)),!mp(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},integer:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}Mo(e)&&(e=To(e)),e%1||!mp(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},string:{coerceFunction:function(e,r,t,n){if(typeof e!="string"){var a=typeof e=="number";n.strict===!0||!a?r.set(t):r.set(String(e))}else n.noBlank&&!e?r.set(t):r.set(e)}},color:{coerceFunction:function(e,r,t){Mo(e)&&(e=To(e)),jx(e).isValid()?r.set(e):r.set(t)}},colorlist:{coerceFunction:function(e,r,t){function n(a){return jx(a).isValid()}!Array.isArray(e)||!e.length?r.set(t):e.every(n)?r.set(e):r.set(t)}},colorscale:{coerceFunction:function(e,r,t){r.set(uU.get(e,t))}},angle:{coerceFunction:function(e,r,t){Mo(e)&&(e=To(e)),e==="auto"?r.set("auto"):mp(e)?r.set(hU(+e,360)):r.set(t)}},subplotid:{coerceFunction:function(e,r,t,n){var a=n.regex||r4(t);if(typeof e=="string"&&a.test(e)){r.set(e);return}r.set(t)},validateFunction:function(e,r){var t=r.dflt;return e===t?!0:typeof e!="string"?!1:!!r4(t).test(e)}},flaglist:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}if(typeof e!="string"){r.set(t);return}for(var a=e.split("+"),o=0;o<a.length;){var i=a[o];n.flags.indexOf(i)===-1||a.indexOf(i)<o?a.splice(o,1):o++}a.length?r.set(a.join("+")):r.set(t)}},any:{coerceFunction:function(e,r,t){e===void 0?r.set(t):r.set(Mo(e)?To(e):e)}},info_array:{coerceFunction:function(e,r,t,n){function a(k,S,b){var M,d={set:function(x){M=x}};return b===void 0&&(b=S.dflt),ta.valObjectMeta[S.valType].coerceFunction(k,d,b,S),M}if(Mo(e)&&(e=To(e)),!Ai(e)){r.set(t);return}var o=n.dimensions===2||n.dimensions==="1-2"&&Array.isArray(e)&&Ai(e[0]),i=n.items,l=[],u=Array.isArray(i),s=u&&o&&Ai(i[0]),f=o&&u&&!s,h=u&&!f?i.length:e.length,p,_,m,w,T,y;if(t=Array.isArray(t)?t:[],o)for(p=0;p<h;p++)for(l[p]=[],m=Ai(e[p])?e[p]:[],f?T=i.length:u?T=i[p].length:T=m.length,_=0;_<T;_++)f?w=i[_]:u?w=i[p][_]:w=i,y=a(m[_],w,(t[p]||[])[_]),y!==void 0&&(l[p][_]=y);else for(p=0;p<h;p++)y=a(e[p],u?i[p]:i,t[p]),y!==void 0&&(l[p]=y);r.set(l)},validateFunction:function(e,r){if(!Ai(e))return!1;var t=r.items,n=Array.isArray(t),a=r.dimensions===2;if(!r.freeLength&&e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(a){if(!Ai(e[o])||!r.freeLength&&e[o].length!==t[o].length)return!1;for(var i=0;i<e[o].length;i++)if(!zc(e[o][i],n?t[o][i]:t))return!1}else if(!zc(e[o],n?t[o]:t))return!1;return!0}}};ta.coerce=function(e,r,t,n,a){var o=Ds(t,n).get(),i=Ds(e,n),l=Ds(r,n),u=i.get(),s=r._template;if(u===void 0&&s&&(u=Ds(s,n).get(),s=0),a===void 0&&(a=o.dflt),o.arrayOk){if(Ai(u))return l.set(u),u;if(Mo(u))return u=To(u),l.set(u),u}var f=ta.valObjectMeta[o.valType].coerceFunction;f(u,l,a,o);var h=l.get();return s&&h===a&&!zc(u,o)&&(u=Ds(s,n).get(),f(u,l,a,o),h=l.get()),h};ta.coerce2=function(e,r,t,n,a){var o=Ds(e,n),i=ta.coerce(e,r,t,n,a),l=o.get();return l!=null?i:!1};ta.coerceFont=function(e,r,t,n){n||(n={}),t=e4({},t),t=e4(t,n.overrideDflt||{});var a={family:e(r+".family",t.family),size:e(r+".size",t.size),color:e(r+".color",t.color),weight:e(r+".weight",t.weight),style:e(r+".style",t.style)};if(n.noFontVariant||(a.variant=e(r+".variant",t.variant)),n.noFontLineposition||(a.lineposition=e(r+".lineposition",t.lineposition)),n.noFontTextcase||(a.textcase=e(r+".textcase",t.textcase)),!n.noFontShadow){var o=t.shadow;o==="none"&&n.autoShadowDflt&&(o="auto"),a.shadow=e(r+".shadow",o)}return a};ta.coercePattern=function(e,r,t,n){var a=e(r+".shape"),o;if(a||(o=e(r+".path")),a||o){a&&e(r+".solidity"),e(r+".size");var i=e(r+".fillmode"),l=i==="overlay";if(!n){var u=e(r+".bgcolor",l?t:void 0);e(r+".fgcolor",l?fU.contrast(u):t)}e(r+".fgopacity",l?.5:1)}};ta.coerceHoverinfo=function(e,r,t){var n=r._module.attributes,a=n.hoverinfo?n:sU,o=a.hoverinfo,i;if(t._dataLength===1){var l=o.dflt==="all"?o.flags.slice():o.dflt.split("+");l.splice(l.indexOf("name"),1),i=l.join("+")}return ta.coerce(e,r,a,"hoverinfo",i)};ta.coerceSelectionMarkerOpacity=function(e,r){if(e.marker){var t=e.marker.opacity;if(t!==void 0){var n,a;!Ai(t)&&!e.selected&&!e.unselected&&(n=t,a=cU*t),r("selected.marker.opacity",n),r("unselected.marker.opacity",a)}}};function zc(e,r){var t=ta.valObjectMeta[r.valType];if(r.arrayOk&&Ai(e))return!0;if(t.validateFunction)return t.validateFunction(e,r);var n={},a=n,o={set:function(i){a=i}};return t.coerceFunction(e,o,n,r),a!==n}ta.validate=zc});var Al=de((Mfe,o4)=>{"use strict";var n4={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/un/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},a4={};function i4(e,r){for(var t in e){var n=e[t];n.valType?r[t]=n.dflt:(r[t]||(r[t]={}),i4(n,r[t]))}}i4(n4,a4);o4.exports={configAttributes:n4,dfltConfig:a4}});var xp=de((Tfe,l4)=>{"use strict";var bp=it(),vU=nt(),df=[];l4.exports=function(e,r){if(df.indexOf(e)!==-1)return;df.push(e);var t=1e3;vU(r)?t=r:r==="long"&&(t=3e3);var n=bp.select("body").selectAll(".plotly-notifier").data([0]);n.enter().append("div").classed("plotly-notifier",!0);var a=n.selectAll(".notifier-note").data(df);function o(i){i.duration(700).style("opacity",0).each("end",function(l){var u=df.indexOf(l);u!==-1&&df.splice(u,1),bp.select(this).remove()})}a.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var l=bp.select(this);l.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){l.transition().call(o)});for(var u=l.append("p"),s=i.split(/<br\s*\/?>/g),f=0;f<s.length;f++)f&&u.append("br"),u.append("span").text(s[f]);r==="stick"?l.transition().duration(350).style("opacity",1):l.transition().duration(700).style("opacity",1).transition().delay(t).call(o)})}});var kl=de((Afe,s4)=>{"use strict";var Rs=Al().dfltConfig,_p=xp(),wp=s4.exports={};wp.log=function(){var e;if(Rs.logging>1){var r=["LOG:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Rs.notifyOnLogging>1){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);_p(t.join("<br>"),"long")}};wp.warn=function(){var e;if(Rs.logging>0){var r=["WARN:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Rs.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);_p(t.join("<br>"),"stick")}};wp.error=function(){var e;if(Rs.logging>0){var r=["ERROR:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.error.apply(console,r)}if(Rs.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);_p(t.join("<br>"),"stick")}}});var qc=de((kfe,u4)=>{"use strict";u4.exports=function(){}});var Mp=de((Sfe,f4)=>{"use strict";f4.exports=function(r,t){if(t instanceof RegExp){for(var n=t.toString(),a=0;a<r.length;a++)if(r[a]instanceof RegExp&&r[a].toString()===n)return r;r.push(t)}else(t||t===0)&&r.indexOf(t)===-1&&r.push(t);return r}});var h4=de((Cfe,c4)=>{c4.exports=dU;function dU(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var d4=de((Efe,v4)=>{v4.exports=pU;function pU(e){var r=new Float32Array(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}});var g4=de((Lfe,p4)=>{p4.exports=gU;function gU(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var Tp=de((Dfe,y4)=>{y4.exports=yU;function yU(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var b4=de((Rfe,m4)=>{m4.exports=mU;function mU(e,r){if(e===r){var t=r[1],n=r[2],a=r[3],o=r[6],i=r[7],l=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=t,e[6]=r[9],e[7]=r[13],e[8]=n,e[9]=o,e[11]=r[14],e[12]=a,e[13]=i,e[14]=l}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e}});var _4=de((Pfe,x4)=>{x4.exports=bU;function bU(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],l=r[5],u=r[6],s=r[7],f=r[8],h=r[9],p=r[10],_=r[11],m=r[12],w=r[13],T=r[14],y=r[15],k=t*l-n*i,S=t*u-a*i,b=t*s-o*i,M=n*u-a*l,d=n*s-o*l,x=a*s-o*u,g=f*w-h*m,c=f*T-p*m,A=f*y-_*m,v=h*T-p*w,D=h*y-_*w,E=p*y-_*T,R=k*E-S*D+b*v+M*A-d*c+x*g;return R?(R=1/R,e[0]=(l*E-u*D+s*v)*R,e[1]=(a*D-n*E-o*v)*R,e[2]=(w*x-T*d+y*M)*R,e[3]=(p*d-h*x-_*M)*R,e[4]=(u*A-i*E-s*c)*R,e[5]=(t*E-a*A+o*c)*R,e[6]=(T*b-m*x-y*S)*R,e[7]=(f*x-p*b+_*S)*R,e[8]=(i*D-l*A+s*g)*R,e[9]=(n*A-t*D-o*g)*R,e[10]=(m*d-w*b+y*k)*R,e[11]=(h*b-f*d-_*k)*R,e[12]=(l*c-i*v-u*g)*R,e[13]=(t*v-n*c+a*g)*R,e[14]=(w*S-m*M-T*k)*R,e[15]=(f*M-h*S+p*k)*R,e):null}});var M4=de((Ife,w4)=>{w4.exports=xU;function xU(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],l=r[5],u=r[6],s=r[7],f=r[8],h=r[9],p=r[10],_=r[11],m=r[12],w=r[13],T=r[14],y=r[15];return e[0]=l*(p*y-_*T)-h*(u*y-s*T)+w*(u*_-s*p),e[1]=-(n*(p*y-_*T)-h*(a*y-o*T)+w*(a*_-o*p)),e[2]=n*(u*y-s*T)-l*(a*y-o*T)+w*(a*s-o*u),e[3]=-(n*(u*_-s*p)-l*(a*_-o*p)+h*(a*s-o*u)),e[4]=-(i*(p*y-_*T)-f*(u*y-s*T)+m*(u*_-s*p)),e[5]=t*(p*y-_*T)-f*(a*y-o*T)+m*(a*_-o*p),e[6]=-(t*(u*y-s*T)-i*(a*y-o*T)+m*(a*s-o*u)),e[7]=t*(u*_-s*p)-i*(a*_-o*p)+f*(a*s-o*u),e[8]=i*(h*y-_*w)-f*(l*y-s*w)+m*(l*_-s*h),e[9]=-(t*(h*y-_*w)-f*(n*y-o*w)+m*(n*_-o*h)),e[10]=t*(l*y-s*w)-i*(n*y-o*w)+m*(n*s-o*l),e[11]=-(t*(l*_-s*h)-i*(n*_-o*h)+f*(n*s-o*l)),e[12]=-(i*(h*T-p*w)-f*(l*T-u*w)+m*(l*p-u*h)),e[13]=t*(h*T-p*w)-f*(n*T-a*w)+m*(n*p-a*h),e[14]=-(t*(l*T-u*w)-i*(n*T-a*w)+m*(n*u-a*l)),e[15]=t*(l*p-u*h)-i*(n*p-a*h)+f*(n*u-a*l),e}});var A4=de((Ffe,T4)=>{T4.exports=_U;function _U(e){var r=e[0],t=e[1],n=e[2],a=e[3],o=e[4],i=e[5],l=e[6],u=e[7],s=e[8],f=e[9],h=e[10],p=e[11],_=e[12],m=e[13],w=e[14],T=e[15],y=r*i-t*o,k=r*l-n*o,S=r*u-a*o,b=t*l-n*i,M=t*u-a*i,d=n*u-a*l,x=s*m-f*_,g=s*w-h*_,c=s*T-p*_,A=f*w-h*m,v=f*T-p*m,D=h*T-p*w;return y*D-k*v+S*A+b*c-M*g+d*x}});var S4=de((Nfe,k4)=>{k4.exports=wU;function wU(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],l=r[4],u=r[5],s=r[6],f=r[7],h=r[8],p=r[9],_=r[10],m=r[11],w=r[12],T=r[13],y=r[14],k=r[15],S=t[0],b=t[1],M=t[2],d=t[3];return e[0]=S*n+b*l+M*h+d*w,e[1]=S*a+b*u+M*p+d*T,e[2]=S*o+b*s+M*_+d*y,e[3]=S*i+b*f+M*m+d*k,S=t[4],b=t[5],M=t[6],d=t[7],e[4]=S*n+b*l+M*h+d*w,e[5]=S*a+b*u+M*p+d*T,e[6]=S*o+b*s+M*_+d*y,e[7]=S*i+b*f+M*m+d*k,S=t[8],b=t[9],M=t[10],d=t[11],e[8]=S*n+b*l+M*h+d*w,e[9]=S*a+b*u+M*p+d*T,e[10]=S*o+b*s+M*_+d*y,e[11]=S*i+b*f+M*m+d*k,S=t[12],b=t[13],M=t[14],d=t[15],e[12]=S*n+b*l+M*h+d*w,e[13]=S*a+b*u+M*p+d*T,e[14]=S*o+b*s+M*_+d*y,e[15]=S*i+b*f+M*m+d*k,e}});var E4=de((zfe,C4)=>{C4.exports=MU;function MU(e,r,t){var n=t[0],a=t[1],o=t[2],i,l,u,s,f,h,p,_,m,w,T,y;return r===e?(e[12]=r[0]*n+r[4]*a+r[8]*o+r[12],e[13]=r[1]*n+r[5]*a+r[9]*o+r[13],e[14]=r[2]*n+r[6]*a+r[10]*o+r[14],e[15]=r[3]*n+r[7]*a+r[11]*o+r[15]):(i=r[0],l=r[1],u=r[2],s=r[3],f=r[4],h=r[5],p=r[6],_=r[7],m=r[8],w=r[9],T=r[10],y=r[11],e[0]=i,e[1]=l,e[2]=u,e[3]=s,e[4]=f,e[5]=h,e[6]=p,e[7]=_,e[8]=m,e[9]=w,e[10]=T,e[11]=y,e[12]=i*n+f*a+m*o+r[12],e[13]=l*n+h*a+w*o+r[13],e[14]=u*n+p*a+T*o+r[14],e[15]=s*n+_*a+y*o+r[15]),e}});var D4=de((qfe,L4)=>{L4.exports=TU;function TU(e,r,t){var n=t[0],a=t[1],o=t[2];return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=r[3]*n,e[4]=r[4]*a,e[5]=r[5]*a,e[6]=r[6]*a,e[7]=r[7]*a,e[8]=r[8]*o,e[9]=r[9]*o,e[10]=r[10]*o,e[11]=r[11]*o,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var P4=de((Ofe,R4)=>{R4.exports=AU;function AU(e,r,t,n){var a=n[0],o=n[1],i=n[2],l=Math.sqrt(a*a+o*o+i*i),u,s,f,h,p,_,m,w,T,y,k,S,b,M,d,x,g,c,A,v,D,E,R,N;return Math.abs(l)<1e-6?null:(l=1/l,a*=l,o*=l,i*=l,u=Math.sin(t),s=Math.cos(t),f=1-s,h=r[0],p=r[1],_=r[2],m=r[3],w=r[4],T=r[5],y=r[6],k=r[7],S=r[8],b=r[9],M=r[10],d=r[11],x=a*a*f+s,g=o*a*f+i*u,c=i*a*f-o*u,A=a*o*f-i*u,v=o*o*f+s,D=i*o*f+a*u,E=a*i*f+o*u,R=o*i*f-a*u,N=i*i*f+s,e[0]=h*x+w*g+S*c,e[1]=p*x+T*g+b*c,e[2]=_*x+y*g+M*c,e[3]=m*x+k*g+d*c,e[4]=h*A+w*v+S*D,e[5]=p*A+T*v+b*D,e[6]=_*A+y*v+M*D,e[7]=m*A+k*v+d*D,e[8]=h*E+w*R+S*N,e[9]=p*E+T*R+b*N,e[10]=_*E+y*R+M*N,e[11]=m*E+k*R+d*N,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)}});var F4=de((Bfe,I4)=>{I4.exports=kU;function kU(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[4],i=r[5],l=r[6],u=r[7],s=r[8],f=r[9],h=r[10],p=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=o*a+s*n,e[5]=i*a+f*n,e[6]=l*a+h*n,e[7]=u*a+p*n,e[8]=s*a-o*n,e[9]=f*a-i*n,e[10]=h*a-l*n,e[11]=p*a-u*n,e}});var z4=de((Ufe,N4)=>{N4.exports=SU;function SU(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],l=r[2],u=r[3],s=r[8],f=r[9],h=r[10],p=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a-s*n,e[1]=i*a-f*n,e[2]=l*a-h*n,e[3]=u*a-p*n,e[8]=o*n+s*a,e[9]=i*n+f*a,e[10]=l*n+h*a,e[11]=u*n+p*a,e}});var O4=de((Hfe,q4)=>{q4.exports=CU;function CU(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],l=r[2],u=r[3],s=r[4],f=r[5],h=r[6],p=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a+s*n,e[1]=i*a+f*n,e[2]=l*a+h*n,e[3]=u*a+p*n,e[4]=s*a-o*n,e[5]=f*a-i*n,e[6]=h*a-l*n,e[7]=p*a-u*n,e}});var U4=de((Vfe,B4)=>{B4.exports=EU;function EU(e,r,t){var n,a,o,i=t[0],l=t[1],u=t[2],s=Math.sqrt(i*i+l*l+u*u);return Math.abs(s)<1e-6?null:(s=1/s,i*=s,l*=s,u*=s,n=Math.sin(r),a=Math.cos(r),o=1-a,e[0]=i*i*o+a,e[1]=l*i*o+u*n,e[2]=u*i*o-l*n,e[3]=0,e[4]=i*l*o-u*n,e[5]=l*l*o+a,e[6]=u*l*o+i*n,e[7]=0,e[8]=i*u*o+l*n,e[9]=l*u*o-i*n,e[10]=u*u*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}});var V4=de((Gfe,H4)=>{H4.exports=LU;function LU(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],l=n+n,u=a+a,s=o+o,f=n*l,h=n*u,p=n*s,_=a*u,m=a*s,w=o*s,T=i*l,y=i*u,k=i*s;return e[0]=1-(_+w),e[1]=h+k,e[2]=p-y,e[3]=0,e[4]=h-k,e[5]=1-(f+w),e[6]=m+T,e[7]=0,e[8]=p+y,e[9]=m-T,e[10]=1-(f+_),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}});var Y4=de((Yfe,G4)=>{G4.exports=DU;function DU(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var X4=de((Wfe,W4)=>{W4.exports=RU;function RU(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}});var J4=de((Xfe,Z4)=>{Z4.exports=PU;function PU(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var Q4=de((Zfe,K4)=>{K4.exports=IU;function IU(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var j4=de((Jfe,$4)=>{$4.exports=FU;function FU(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=0,e[4]=-t,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var r_=de((Kfe,e_)=>{e_.exports=NU;function NU(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=t+t,l=n+n,u=a+a,s=t*i,f=n*i,h=n*l,p=a*i,_=a*l,m=a*u,w=o*i,T=o*l,y=o*u;return e[0]=1-h-m,e[1]=f+y,e[2]=p-T,e[3]=0,e[4]=f-y,e[5]=1-s-m,e[6]=_+w,e[7]=0,e[8]=p+T,e[9]=_-w,e[10]=1-s-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var n_=de((Qfe,t_)=>{t_.exports=zU;function zU(e,r,t,n,a,o,i){var l=1/(t-r),u=1/(a-n),s=1/(o-i);return e[0]=o*2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o*2*u,e[6]=0,e[7]=0,e[8]=(t+r)*l,e[9]=(a+n)*u,e[10]=(i+o)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*o*2*s,e[15]=0,e}});var i_=de(($fe,a_)=>{a_.exports=qU;function qU(e,r,t,n,a){var o=1/Math.tan(r/2),i=1/(n-a);return e[0]=o/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+n)*i,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*n*i,e[15]=0,e}});var l_=de((jfe,o_)=>{o_.exports=OU;function OU(e,r,t,n){var a=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),i=Math.tan(r.leftDegrees*Math.PI/180),l=Math.tan(r.rightDegrees*Math.PI/180),u=2/(i+l),s=2/(a+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=-((i-l)*u*.5),e[9]=(a-o)*s*.5,e[10]=n/(t-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*t/(t-n),e[15]=0,e}});var u_=de((e0e,s_)=>{s_.exports=BU;function BU(e,r,t,n,a,o,i){var l=1/(r-t),u=1/(n-a),s=1/(o-i);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*s,e[11]=0,e[12]=(r+t)*l,e[13]=(a+n)*u,e[14]=(i+o)*s,e[15]=1,e}});var c_=de((r0e,f_)=>{var UU=Tp();f_.exports=HU;function HU(e,r,t,n){var a,o,i,l,u,s,f,h,p,_,m=r[0],w=r[1],T=r[2],y=n[0],k=n[1],S=n[2],b=t[0],M=t[1],d=t[2];return Math.abs(m-b)<1e-6&&Math.abs(w-M)<1e-6&&Math.abs(T-d)<1e-6?UU(e):(f=m-b,h=w-M,p=T-d,_=1/Math.sqrt(f*f+h*h+p*p),f*=_,h*=_,p*=_,a=k*p-S*h,o=S*f-y*p,i=y*h-k*f,_=Math.sqrt(a*a+o*o+i*i),_?(_=1/_,a*=_,o*=_,i*=_):(a=0,o=0,i=0),l=h*i-p*o,u=p*a-f*i,s=f*o-h*a,_=Math.sqrt(l*l+u*u+s*s),_?(_=1/_,l*=_,u*=_,s*=_):(l=0,u=0,s=0),e[0]=a,e[1]=l,e[2]=f,e[3]=0,e[4]=o,e[5]=u,e[6]=h,e[7]=0,e[8]=i,e[9]=s,e[10]=p,e[11]=0,e[12]=-(a*m+o*w+i*T),e[13]=-(l*m+u*w+s*T),e[14]=-(f*m+h*w+p*T),e[15]=1,e)}});var v_=de((t0e,h_)=>{h_.exports=VU;function VU(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}});var Ap=de((n0e,d_)=>{d_.exports={create:h4(),clone:d4(),copy:g4(),identity:Tp(),transpose:b4(),invert:_4(),adjoint:M4(),determinant:A4(),multiply:S4(),translate:E4(),scale:D4(),rotate:P4(),rotateX:F4(),rotateY:z4(),rotateZ:O4(),fromRotation:U4(),fromRotationTranslation:V4(),fromScaling:Y4(),fromTranslation:X4(),fromXRotation:J4(),fromYRotation:Q4(),fromZRotation:j4(),fromQuat:r_(),frustum:n_(),perspective:i_(),perspectiveFromFieldOfView:l_(),ortho:u_(),lookAt:c_(),str:v_()}});var Oc=de(Ut=>{"use strict";var GU=Ap();Ut.init2dArray=function(e,r){for(var t=new Array(e),n=0;n<e;n++)t[n]=new Array(r);return t};Ut.transposeRagged=function(e){var r=0,t=e.length,n,a;for(n=0;n<t;n++)r=Math.max(r,e[n].length);var o=new Array(r);for(n=0;n<r;n++)for(o[n]=new Array(t),a=0;a<t;a++)o[n][a]=e[a][n];return o};Ut.dot=function(e,r){if(!(e.length&&r.length)||e.length!==r.length)return null;var t=e.length,n,a;if(e[0].length)for(n=new Array(t),a=0;a<t;a++)n[a]=Ut.dot(e[a],r);else if(r[0].length){var o=Ut.transposeRagged(r);for(n=new Array(o.length),a=0;a<o.length;a++)n[a]=Ut.dot(e,o[a])}else for(n=0,a=0;a<t;a++)n+=e[a]*r[a];return n};Ut.translationMatrix=function(e,r){return[[1,0,e],[0,1,r],[0,0,1]]};Ut.rotationMatrix=function(e){var r=e*Math.PI/180;return[[Math.cos(r),-Math.sin(r),0],[Math.sin(r),Math.cos(r),0],[0,0,1]]};Ut.rotationXYMatrix=function(e,r,t){return Ut.dot(Ut.dot(Ut.translationMatrix(r,t),Ut.rotationMatrix(e)),Ut.translationMatrix(-r,-t))};Ut.apply3DTransform=function(e){return function(){var r=arguments,t=arguments.length===1?r[0]:[r[0],r[1],r[2]||0];return Ut.dot(e,[t[0],t[1],t[2],1]).slice(0,3)}};Ut.apply2DTransform=function(e){return function(){var r=arguments;r.length===3&&(r=r[0]);var t=arguments.length===1?r[0]:[r[0],r[1]];return Ut.dot(e,[t[0],t[1],1]).slice(0,2)}};Ut.apply2DTransform2=function(e){var r=Ut.apply2DTransform(e);return function(t){return r(t.slice(0,2)).concat(r(t.slice(2,4)))}};Ut.convertCssMatrix=function(e){if(e){var r=e.length;if(r===16)return e;if(r===6)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};Ut.inverseTransformMatrix=function(e){var r=[];return GU.invert(r,e),[[r[0],r[1],r[2],r[3]],[r[4],r[5],r[6],r[7]],[r[8],r[9],r[10],r[11]],[r[12],r[13],r[14],r[15]]]}});var pf=de((i0e,x_)=>{"use strict";var YU=it(),p_=kl(),WU=Oc(),XU=Ap();function ZU(e){var r;if(typeof e=="string"){if(r=document.getElementById(e),r===null)throw new Error("No DOM element with id '"+e+"' exists on the page.");return r}else if(e==null)throw new Error("DOM element provided is null or undefined");return e}function JU(e){var r=YU.select(e);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")}function g_(e){var r=e&&e.parentNode;r&&r.removeChild(e)}function KU(e,r){y_("global",e,r)}function y_(e,r,t){var n="plotly.js-style-"+e,a=document.getElementById(n);if(!(a&&a.matches(".no-inline-styles"))){a||(a=document.createElement("style"),a.setAttribute("id",n),a.appendChild(document.createTextNode("")),document.head.appendChild(a));var o=a.sheet;o?o.insertRule?o.insertRule(r+"{"+t+"}",0):o.addRule?o.addRule(r,t,0):p_.warn("addStyleRule failed"):p_.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function QU(e){var r="plotly.js-style-"+e,t=document.getElementById(r);t&&g_(t)}function $U(e,r,t,n,a,o){var i=n.split(":"),l=a.split(":"),u="data-btn-style-event-added";o||(o=document),o.querySelectorAll(e).forEach(function(s){s.getAttribute(u)||(s.addEventListener("mouseenter",function(){var f=this.querySelector(t);f&&(f.style[i[0]]=i[1])}),s.addEventListener("mouseleave",function(){var f=this.querySelector(t);f&&(r&&this.matches(r)?f.style[i[0]]=i[1]:f.style[l[0]]=l[1])}),s.setAttribute(u,!0))})}function jU(e){var r=b_(e),t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(n){var a=m_(n);if(a){var o=WU.convertCssMatrix(a);t=XU.multiply(t,t,o)}}),t}function m_(e){var r=window.getComputedStyle(e,null),t=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return t==="none"?null:t.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(n){return+n})}function b_(e){for(var r=[];eH(e);)r.push(e),e=e.parentNode,typeof ShadowRoot=="function"&&e instanceof ShadowRoot&&(e=e.host);return r}function eH(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function rH(e,r){return e&&r&&e.top===r.top&&e.left===r.left&&e.right===r.right&&e.bottom===r.bottom}x_.exports={getGraphDiv:ZU,isPlotDiv:JU,removeElement:g_,addStyleRule:KU,addRelatedStyleRule:y_,deleteRelatedStyleRule:QU,setStyleOnHover:$U,getFullTransformMatrix:jU,getElementTransformMatrix:m_,getElementAndAncestors:b_,equalDomRects:rH}});var gf=de((o0e,__)=>{"use strict";__.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}});var zn=de((l0e,C_)=>{"use strict";var M_=Tt().extendFlat,tH=wo(),T_={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},A_={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},nH=T_.flags.slice().concat(["fullReplot"]),aH=A_.flags.slice().concat("layoutReplot");C_.exports={traces:T_,layout:A_,traceFlags:function(){return w_(nH)},layoutFlags:function(){return w_(aH)},update:function(e,r){var t=r.editType;if(t&&t!=="none")for(var n=t.split("+"),a=0;a<n.length;a++)e[n[a]]=!0},overrideAll:k_};function w_(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!1;return r}function k_(e,r,t){var n=M_({},e);for(var a in n){var o=n[a];tH(o)&&(n[a]=S_(o,r,t,a))}return t==="from-root"&&(n.editType=r),n}function S_(e,r,t,n){if(e.valType){var a=M_({},e);if(a.editType=r,Array.isArray(e.items)){a.items=new Array(e.items.length);for(var o=0;o<e.items.length;o++)a.items[o]=S_(e.items[o],r,"from-root")}return a}else return k_(e,r,n.charAt(0)==="_"?"nested":"from-root")}});var Ao=de(kp=>{"use strict";kp.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"};kp.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},path:{valType:"string",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}});var Sp=de((u0e,E_)=>{"use strict";E_.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}});var Ka=de(Ps=>{"use strict";var{DATE_FORMAT_LINK:iH,FORMAT_LINK:oH}=Sp(),lH=["Variables that can't be found will be replaced with the specifier.",'For example, a template of "data: %{x}, %{y}" will result in a value of "data: 1, %{y}" if x is 1 and y is missing.',"Variables with an undefined value will be replaced with the fallback value."].join(" ");function sH({supportOther:e}={}){return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(e?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,oH,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,iH,"for details on the date formatting syntax.",lH].join(" ")}Ps.templateFormatStringDescription=sH;Ps.hovertemplateAttrs=({editType:e="none",arrayOk:r}={},t={})=>xl({valType:"string",dflt:"",editType:e},r!==!1?{arrayOk:!0}:{});Ps.texttemplateAttrs=({editType:e="calc",arrayOk:r}={},t={})=>xl({valType:"string",dflt:"",editType:e},r!==!1?{arrayOk:!0}:{});Ps.shapeTexttemplateAttrs=({editType:e="arraydraw",newshape:r}={},t={})=>({valType:"string",dflt:"",editType:e});Ps.templatefallbackAttrs=({editType:e="none"}={})=>({valType:"any",dflt:"-",editType:e})});var Hc=de((h0e,F_)=>{"use strict";function ko(e,r){return r?r.d2l(e):e}function L_(e,r){return r?r.l2d(e):e}function uH(e){return e.x0}function fH(e){return e.x1}function cH(e){return e.y0}function hH(e){return e.y1}function D_(e){return e.x0shift||0}function R_(e){return e.x1shift||0}function P_(e){return e.y0shift||0}function I_(e){return e.y1shift||0}function Bc(e,r){return ko(e.x1,r)+R_(e)-ko(e.x0,r)-D_(e)}function Uc(e,r,t){return ko(e.y1,t)+I_(e)-ko(e.y0,t)-P_(e)}function vH(e,r){return Math.abs(Bc(e,r))}function dH(e,r,t){return Math.abs(Uc(e,r,t))}function pH(e,r,t){return e.type!=="line"?void 0:Math.sqrt(Math.pow(Bc(e,r),2)+Math.pow(Uc(e,r,t),2))}function gH(e,r){return L_((ko(e.x1,r)+R_(e)+ko(e.x0,r)+D_(e))/2,r)}function yH(e,r,t){return L_((ko(e.y1,t)+I_(e)+ko(e.y0,t)+P_(e))/2,t)}function mH(e,r,t){return e.type!=="line"?void 0:Uc(e,r,t)/Bc(e,r)}F_.exports={x0:uH,x1:fH,y0:cH,y1:hH,slope:mH,dx:Bc,dy:Uc,width:vH,height:dH,length:pH,xcenter:gH,ycenter:yH}});var q_=de((v0e,z_)=>{"use strict";var bH=zn().overrideAll,Sl=Sn(),N_=kn(),xH=Ao().dash,So=Tt().extendFlat,{shapeTexttemplateAttrs:_H,templatefallbackAttrs:wH}=Ka(),MH=Hc();z_.exports=bH({newshape:{visible:So({},Sl.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:So({},Sl.legend,{}),legendgroup:So({},Sl.legendgroup,{}),legendgrouptitle:{text:So({},Sl.legendgrouptitle.text,{}),font:N_({})},legendrank:So({},Sl.legendrank,{}),legendwidth:So({},Sl.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:So({},xH,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:So({},Sl.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:_H({newshape:!0},{keys:Object.keys(MH)}),texttemplatefallback:wH({editType:"arraydraw"}),font:N_({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",description:"Sets the color filling the active shape' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")});var B_=de((d0e,O_)=>{"use strict";var TH=Ao().dash,AH=Tt().extendFlat;O_.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:AH({},TH,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}});var Vc=de((p0e,U_)=>{"use strict";U_.exports=function(e){var r=e.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}});var Is=de((g0e,Y_)=>{"use strict";var Cp=kn(),kH=gf(),Gc=Ti(),H_=q_(),V_=B_(),SH=Vc(),G_=Tt().extendFlat,Yc=Cp({editType:"calc"});Yc.family.dflt='"Open Sans", verdana, arial, sans-serif';Yc.size.dflt=12;Yc.color.dflt=Gc.defaultLine;Y_.exports={font:Yc,title:{text:{valType:"string",editType:"layoutstyle"},font:Cp({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:Cp({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:G_(SH({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:Gc.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:Gc.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:Gc.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:H_.newshape,activeshape:H_.activeshape,newselection:V_.newselection,activeselection:V_.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:G_({},kH.transition,{editType:"none"})}});var W_=de(()=>{(function(){if(!document.getElementById("8431bff7cc77ea8693f8122c6e0981316b936a0a4930625e08b1512d134062bc")){var e=document.createElement("style");e.id="8431bff7cc77ea8693f8122c6e0981316b936a0a4930625e08b1512d134062bc",e.textContent=`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}`,document.head.appendChild(e)}})()});var Cr=de(Zr=>{"use strict";var Fs=kl(),X_=qc(),Z_=Mp(),CH=wo(),EH=pf().addStyleRule,J_=Tt(),LH=Sn(),DH=Is(),RH=J_.extendFlat,Ep=J_.extendDeepAll;Zr.modules={};Zr.allCategories={};Zr.allTypes=[];Zr.subplotsRegistry={};Zr.componentsRegistry={};Zr.layoutArrayContainers=[];Zr.layoutArrayRegexes=[];Zr.traceLayoutAttributes={};Zr.localeRegistry={};Zr.apiMethodRegistry={};Zr.collectableSubplotTypes=null;Zr.register=function(r){if(Zr.collectableSubplotTypes=null,r)r&&!Array.isArray(r)&&(r=[r]);else throw new Error("No argument passed to Plotly.register.");for(var t=0;t<r.length;t++){var n=r[t];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":PH(n);break;case"transform":NH(n);break;case"component":FH(n);break;case"locale":zH(n);break;case"apiMethod":var a=n.name;Zr.apiMethodRegistry[a]=n.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}};Zr.getModule=function(e){var r=Zr.modules[j_(e)];return r?r._module:!1};Zr.traceIs=function(e,r){if(e=j_(e),e==="various")return!1;var t=Zr.modules[e];return t||(e&&Fs.log("Unrecognized trace type "+e+"."),t=Zr.modules[LH.type.dflt]),!!t.categories[r]};Zr.getComponentMethod=function(e,r){var t=Zr.componentsRegistry[e];return t&&t[r]||X_};Zr.call=function(){var e=arguments[0],r=[].slice.call(arguments,1);return Zr.apiMethodRegistry[e].apply(null,r)};function PH(e){var r=e.name,t=e.categories,n=e.meta;if(Zr.modules[r]){Fs.log("Type "+r+" already registered");return}Zr.subplotsRegistry[e.basePlotModule.name]||IH(e.basePlotModule);for(var a={},o=0;o<t.length;o++)a[t[o]]=!0,Zr.allCategories[t[o]]=!0;Zr.modules[r]={_module:e,categories:a},n&&Object.keys(n).length&&(Zr.modules[r].meta=n),Zr.allTypes.push(r);for(var i in Zr.componentsRegistry)Q_(i,r);e.layoutAttributes&&RH(Zr.traceLayoutAttributes,e.layoutAttributes);var l=e.basePlotModule,u=l.name;if(u==="mapbox"){var s=l.constants.styleRules;for(var f in s)EH(".js-plotly-plot .plotly .mapboxgl-"+f,s[f])}u==="map"&&W_(),(u==="geo"||u==="mapbox"||u==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function IH(e){var r=e.name;if(Zr.subplotsRegistry[r]){Fs.log("Plot type "+r+" already registered.");return}K_(e),Zr.subplotsRegistry[r]=e;for(var t in Zr.componentsRegistry)$_(t,e.name)}function FH(e){if(typeof e.name!="string")throw new Error("Component module *name* must be a string.");var r=e.name;Zr.componentsRegistry[r]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&Z_(Zr.layoutArrayContainers,r),K_(e));for(var t in Zr.modules)Q_(r,t);for(var n in Zr.subplotsRegistry)$_(r,n);e.schema&&e.schema.layout&&Ep(DH,e.schema.layout)}function NH(e){if(typeof e.name!="string")throw new Error("Transform module *name* must be a string.");var r="Transform module "+e.name,t=typeof e.transform=="function",n=typeof e.calcTransform=="function";if(!t&&!n)throw new Error(r+" is missing a *transform* or *calcTransform* method.");t&&n&&Fs.log([r+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),CH(e.attributes)||Fs.log(r+" registered without an *attributes* object."),typeof e.supplyDefaults!="function"&&Fs.log(r+" registered without a *supplyDefaults* method.")}function zH(e){var r=e.name,t=r.split("-")[0],n=e.dictionary,a=e.format,o=n&&Object.keys(n).length,i=a&&Object.keys(a).length,l=Zr.localeRegistry,u=l[r];if(u||(l[r]=u={}),t!==r){var s=l[t];s||(l[t]=s={}),o&&s.dictionary===u.dictionary&&(s.dictionary=n),i&&s.format===u.format&&(s.format=a)}o&&(u.dictionary=n),i&&(u.format=a)}function K_(e){if(e.layoutAttributes){var r=e.layoutAttributes._arrayAttrRegexps;if(r)for(var t=0;t<r.length;t++)Z_(Zr.layoutArrayRegexes,r[t])}}function Q_(e,r){var t=Zr.componentsRegistry[e].schema;if(!(!t||!t.traces)){var n=t.traces[r];n&&Ep(Zr.modules[r]._module.attributes,n)}}function $_(e,r){var t=Zr.componentsRegistry[e].schema;if(!(!t||!t.subplots)){var n=Zr.subplotsRegistry[r],a=n.layoutAttributes,o=n.attr==="subplot"?n.name:n.attr;Array.isArray(o)&&(o=o[0]);var i=t.subplots[o];a&&i&&Ep(a,i)}}function j_(e){return typeof e=="object"&&(e=e.type),e}});var s6=de(Ht=>{"use strict";var qH=Ss().timeFormat,o6=nt(),Lp=kl(),Eo=Es().mod,qs=nn(),Sa=qs.BADNUM,na=qs.ONEDAY,yf=qs.ONEHOUR,Co=qs.ONEMIN,zs=qs.ONESEC,mf=qs.EPOCHJD,Zi=Cr(),e6=Ss().utcFormat,OH=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,BH=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,r6=new Date().getFullYear()-70;function Ji(e){return e&&Zi.componentsRegistry.calendars&&typeof e=="string"&&e!=="gregorian"}Ht.dateTick0=function(e,r){var t=UH(e,!!r);if(r<2)return t;var n=Ht.dateTime2ms(t,e);return n+=na*(r-1),Ht.ms2DateTime(n,0,e)};function UH(e,r){return Ji(e)?r?Zi.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:Zi.getComponentMethod("calendars","CANONICAL_TICK")[e]:r?"2000-01-02":"2000-01-01"}Ht.dfltRange=function(e){return Ji(e)?Zi.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]};Ht.isJSDate=function(e){return typeof e=="object"&&e!==null&&typeof e.getTime=="function"};var Xc,Zc;Ht.dateTime2ms=function(e,r){if(Ht.isJSDate(e)){var t=e.getTimezoneOffset()*Co,n=(e.getUTCMinutes()-e.getMinutes())*Co+(e.getUTCSeconds()-e.getSeconds())*zs+(e.getUTCMilliseconds()-e.getMilliseconds());if(n){var a=3*Co;t=t-a/2+Eo(n-t+a/2,a)}return e=Number(e)-t,e>=Xc&&e<=Zc?e:Sa}if(typeof e!="string"&&typeof e!="number")return Sa;e=String(e);var o=Ji(r),i=e.charAt(0);o&&(i==="G"||i==="g")&&(e=e.substr(1),r="");var l=o&&r.substr(0,7)==="chinese",u=e.match(l?BH:OH);if(!u)return Sa;var s=u[1],f=u[3]||"1",h=Number(u[5]||1),p=Number(u[7]||0),_=Number(u[9]||0),m=Number(u[11]||0);if(o){if(s.length===2)return Sa;s=Number(s);var w;try{var T=Zi.getComponentMethod("calendars","getCal")(r);if(l){var y=f.charAt(f.length-1)==="i";f=parseInt(f,10),w=T.newDate(s,T.toMonthIndex(s,f,y),h)}else w=T.newDate(s,Number(f),h)}catch(S){return Sa}return w?(w.toJD()-mf)*na+p*yf+_*Co+m*zs:Sa}s.length===2?s=(Number(s)+2e3-r6)%100+r6:s=Number(s),f-=1;var k=new Date(Date.UTC(2e3,f,h,p,_));return k.setUTCFullYear(s),k.getUTCMonth()!==f||k.getUTCDate()!==h?Sa:k.getTime()+m*zs};Xc=Ht.MIN_MS=Ht.dateTime2ms("-9999");Zc=Ht.MAX_MS=Ht.dateTime2ms("9999-12-31 23:59:59.9999");Ht.isDateTime=function(e,r){return Ht.dateTime2ms(e,r)!==Sa};function Ns(e,r){return String(e+Math.pow(10,r)).substr(1)}var Wc=90*na,t6=3*yf,n6=5*Co;Ht.ms2DateTime=function(e,r,t){if(typeof e!="number"||!(e>=Xc&&e<=Zc))return Sa;r||(r=0);var n=Math.floor(Eo(e+.05,1)*10),a=Math.round(e-n/10),o,i,l,u,s,f;if(Ji(t)){var h=Math.floor(a/na)+mf,p=Math.floor(Eo(e,na));try{o=Zi.getComponentMethod("calendars","getCal")(t).fromJD(h).formatDate("yyyy-mm-dd")}catch(_){o=e6("G%Y-%m-%d")(new Date(a))}if(o.charAt(0)==="-")for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;i=r<Wc?Math.floor(p/yf):0,l=r<Wc?Math.floor(p%yf/Co):0,u=r<t6?Math.floor(p%Co/zs):0,s=r<n6?p%zs*10+n:0}else f=new Date(a),o=e6("%Y-%m-%d")(f),i=r<Wc?f.getUTCHours():0,l=r<Wc?f.getUTCMinutes():0,u=r<t6?f.getUTCSeconds():0,s=r<n6?f.getUTCMilliseconds()*10+n:0;return l6(o,i,l,u,s)};Ht.ms2DateTimeLocal=function(e){if(!(e>=Xc+na&&e<=Zc-na))return Sa;var r=Math.floor(Eo(e+.05,1)*10),t=new Date(Math.round(e-r/10)),n=qH("%Y-%m-%d")(t),a=t.getHours(),o=t.getMinutes(),i=t.getSeconds(),l=t.getUTCMilliseconds()*10+r;return l6(n,a,o,i,l)};function l6(e,r,t,n,a){if((r||t||n||a)&&(e+=" "+Ns(r,2)+":"+Ns(t,2),(n||a)&&(e+=":"+Ns(n,2),a))){for(var o=4;a%10===0;)o-=1,a/=10;e+="."+Ns(a,o)}return e}Ht.cleanDate=function(e,r,t){if(e===Sa)return r;if(Ht.isJSDate(e)||typeof e=="number"&&isFinite(e)){if(Ji(t))return Lp.error("JS Dates and milliseconds are incompatible with world calendars",e),r;if(e=Ht.ms2DateTimeLocal(+e),!e&&r!==void 0)return r}else if(!Ht.isDateTime(e,t))return Lp.error("unrecognized date",e),r;return e};var HH=/%\d?f/g,VH=/%h/g,GH={1:"1",2:"1",3:"2",4:"2"};function a6(e,r,t,n){e=e.replace(HH,function(o){var i=Math.min(+o.charAt(1)||6,6),l=(r/1e3%1+2).toFixed(i).substr(2).replace(/0+$/,"")||"0";return l});var a=new Date(Math.floor(r+.05));if(e=e.replace(VH,function(){return GH[t("%q")(a)]}),Ji(n))try{e=Zi.getComponentMethod("calendars","worldCalFmt")(e,r,n)}catch(o){return"Invalid"}return t(e)(a)}var YH=[59,59.9,59.99,59.999,59.9999];function WH(e,r){var t=Eo(e+.05,na),n=Ns(Math.floor(t/yf),2)+":"+Ns(Eo(Math.floor(t/Co),60),2);if(r!=="M"){o6(r)||(r=0);var a=Math.min(Eo(e/zs,60),YH[r]),o=(100+a).toFixed(r).substr(1);r>0&&(o=o.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+o}return n}Ht.formatDate=function(e,r,t,n,a,o){if(a=Ji(a)&&a,!r)if(t==="y")r=o.year;else if(t==="m")r=o.month;else if(t==="d")r=o.dayMonth+`
`+o.year;else return WH(e,t)+`
`+a6(o.dayMonthYear,e,n,a);return a6(r,e,n,a)};var i6=3*na;Ht.incrementMonth=function(e,r,t){t=Ji(t)&&t;var n=Eo(e,na);if(e=Math.round(e-n),t)try{var a=Math.round(e/na)+mf,o=Zi.getComponentMethod("calendars","getCal")(t),i=o.fromJD(a);return r%12?o.add(i,r,"m"):o.add(i,r/12,"y"),(i.toJD()-mf)*na+n}catch(u){Lp.error("invalid ms "+e+" in calendar "+t)}var l=new Date(e+i6);return l.setUTCMonth(l.getUTCMonth()+r)+n-i6};Ht.findExactDates=function(e,r){for(var t=0,n=0,a=0,o=0,i,l,u=Ji(r)&&Zi.getComponentMethod("calendars","getCal")(r),s=0;s<e.length;s++){if(l=e[s],!o6(l)){o++;continue}if(!(l%na))if(u)try{i=u.fromJD(l/na+mf),i.day()===1?i.month()===1?t++:n++:a++}catch(h){}else i=new Date(l),i.getUTCDate()===1?i.getUTCMonth()===0?t++:n++:a++}n+=t,a+=n;var f=e.length-o;return{exactYears:t/f,exactMonths:n/f,exactDays:a/f}}});var Dp=de((_0e,u6)=>{"use strict";u6.exports=function(r){return r}});var Pp=de(Ki=>{"use strict";var XH=nt(),ZH=kl(),JH=Dp(),KH=nn().BADNUM,Rp=1e-9;Ki.findBin=function(e,r,t){if(XH(r.start))return t?Math.ceil((e-r.start)/r.size-Rp)-1:Math.floor((e-r.start)/r.size+Rp);var n=0,a=r.length,o=0,i=a>1?(r[a-1]-r[0])/(a-1):1,l,u;for(i>=0?u=t?QH:$H:u=t?eV:jH,e+=i*Rp*(t?-1:1)*(i>=0?1:-1);n<a&&o++<100;)l=Math.floor((n+a)/2),u(r[l],e)?n=l+1:a=l;return o>90&&ZH.log("Long binary search..."),n-1};function QH(e,r){return e<r}function $H(e,r){return e<=r}function jH(e,r){return e>r}function eV(e,r){return e>=r}Ki.sorterAsc=function(e,r){return e-r};Ki.sorterDes=function(e,r){return r-e};Ki.distinctVals=function(e){var r=e.slice();r.sort(Ki.sorterAsc);var t;for(t=r.length-1;t>-1&&r[t]===KH;t--);for(var n=r[t]-r[0]||1,a=n/(t||1)/1e4,o=[],i,l=0;l<=t;l++){var u=r[l],s=u-i;i===void 0?(o.push(u),i=u):s>a&&(n=Math.min(n,s),o.push(u),i=u)}return{vals:o,minDiff:n}};Ki.roundUp=function(e,r,t){for(var n=0,a=r.length-1,o,i=0,l=t?0:1,u=t?1:0,s=t?Math.ceil:Math.floor;n<a&&i++<100;)o=s((n+a)/2),r[o]<=e?n=o+l:a=o-u;return r[n]};Ki.sort=function(e,r){for(var t=0,n=0,a=1;a<e.length;a++){var o=r(e[a],e[a-1]);if(o<0?t=1:o>0&&(n=1),t&&n)return e.sort(r)}return n?e:e.reverse()};Ki.findIndexOfMin=function(e,r){r=r||JH;for(var t=1/0,n,a=0;a<e.length;a++){var o=r(e[a]);o<t&&(t=o,n=a)}return n}});var Jc=de((M0e,f6)=>{"use strict";f6.exports=function(r){return Object.keys(r).sort()}});var c6=de(Vt=>{"use strict";var bf=nt(),rV=ea().isArrayOrTypedArray;Vt.aggNums=function(e,r,t,n){var a,o;if((!n||n>t.length)&&(n=t.length),bf(r)||(r=!1),rV(t[0])){for(o=new Array(n),a=0;a<n;a++)o[a]=Vt.aggNums(e,r,t[a]);t=o}for(a=0;a<n;a++)bf(r)?bf(t[a])&&(r=e(+r,+t[a])):r=t[a];return r};Vt.len=function(e){return Vt.aggNums(function(r){return r+1},0,e)};Vt.mean=function(e,r){return r||(r=Vt.len(e)),Vt.aggNums(function(t,n){return t+n},0,e)/r};Vt.geometricMean=function(e,r){return r||(r=Vt.len(e)),Math.pow(Vt.aggNums(function(t,n){return t*n},1,e),1/r)};Vt.midRange=function(e){if(!(e===void 0||e.length===0))return(Vt.aggNums(Math.max,null,e)+Vt.aggNums(Math.min,null,e))/2};Vt.variance=function(e,r,t){return r||(r=Vt.len(e)),bf(t)||(t=Vt.mean(e,r)),Vt.aggNums(function(n,a){return n+Math.pow(a-t,2)},0,e)/r};Vt.stdev=function(e,r,t){return Math.sqrt(Vt.variance(e,r,t))};Vt.median=function(e){var r=e.slice().sort();return Vt.interp(r,.5)};Vt.interp=function(e,r){if(!bf(r))throw"n should be a finite number";if(r=r*e.length-.5,r<0)return e[0];if(r>e.length-1)return e[e.length-1];var t=r%1;return t*e[Math.ceil(r)]+(1-t)*e[Math.floor(r)]}});var g6=de((A0e,p6)=>{"use strict";var h6=Es(),Ip=h6.mod,tV=h6.modHalf,xf=Math.PI,Lo=2*xf;function nV(e){return e/180*xf}function aV(e){return e/xf*180}function Fp(e){return Math.abs(e[1]-e[0])>Lo-1e-14}function v6(e,r){return tV(r-e,Lo)}function iV(e,r){return Math.abs(v6(e,r))}function d6(e,r){if(Fp(r))return!0;var t,n;r[0]<r[1]?(t=r[0],n=r[1]):(t=r[1],n=r[0]),t=Ip(t,Lo),n=Ip(n,Lo),t>n&&(n+=Lo);var a=Ip(e,Lo),o=a+Lo;return a>=t&&a<=n||o>=t&&o<=n}function oV(e,r,t,n){if(!d6(r,n))return!1;var a,o;return t[0]<t[1]?(a=t[0],o=t[1]):(a=t[1],o=t[0]),e>=a&&e<=o}function Np(e,r,t,n,a,o,i){a=a||0,o=o||0;var l=Fp([t,n]),u,s,f,h,p;l?(u=0,s=xf,f=Lo):t<n?(u=t,f=n):(u=n,f=t),e<r?(h=e,p=r):(h=r,p=e);function _(y,k){return[y*Math.cos(k)+a,o-y*Math.sin(k)]}var m=Math.abs(f-u)<=xf?0:1;function w(y,k,S){return"A"+[y,y]+" "+[0,m,S]+" "+_(y,k)}var T;return l?h===null?T="M"+_(p,u)+w(p,s,0)+w(p,f,0)+"Z":T="M"+_(h,u)+w(h,s,0)+w(h,f,0)+"ZM"+_(p,u)+w(p,s,1)+w(p,f,1)+"Z":h===null?(T="M"+_(p,u)+w(p,f,0),i&&(T+="L0,0Z")):T="M"+_(h,u)+"L"+_(p,u)+w(p,f,0)+"L"+_(h,f)+w(h,u,1)+"Z",T}function lV(e,r,t,n,a){return Np(null,e,r,t,n,a,0)}function sV(e,r,t,n,a){return Np(null,e,r,t,n,a,1)}function uV(e,r,t,n,a,o){return Np(e,r,t,n,a,o,1)}p6.exports={deg2rad:nV,rad2deg:aV,angleDelta:v6,angleDist:iV,isFullCircle:Fp,isAngleInsideSector:d6,isPtInsideSector:oV,pathArc:lV,pathSector:sV,pathAnnulus:uV}});var y6=de(Cl=>{"use strict";Cl.isLeftAnchor=function(r){return r.xanchor==="left"||r.xanchor==="auto"&&r.x<=1/3};Cl.isCenterAnchor=function(r){return r.xanchor==="center"||r.xanchor==="auto"&&r.x>1/3&&r.x<2/3};Cl.isRightAnchor=function(r){return r.xanchor==="right"||r.xanchor==="auto"&&r.x>=2/3};Cl.isTopAnchor=function(r){return r.yanchor==="top"||r.yanchor==="auto"&&r.y>=2/3};Cl.isMiddleAnchor=function(r){return r.yanchor==="middle"||r.yanchor==="auto"&&r.y>1/3&&r.y<2/3};Cl.isBottomAnchor=function(r){return r.yanchor==="bottom"||r.yanchor==="auto"&&r.y<=1/3}});var x6=de(El=>{"use strict";var zp=Es().mod;El.segmentsIntersect=b6;function b6(e,r,t,n,a,o,i,l){var u=t-e,s=a-e,f=i-a,h=n-r,p=o-r,_=l-o,m=u*_-f*h;if(m===0)return null;var w=(s*_-f*p)/m,T=(s*h-u*p)/m;return T<0||T>1||w<0||w>1?null:{x:e+u*w,y:r+h*w}}El.segmentDistance=function(r,t,n,a,o,i,l,u){if(b6(r,t,n,a,o,i,l,u))return 0;var s=n-r,f=a-t,h=l-o,p=u-i,_=s*s+f*f,m=h*h+p*p,w=Math.min(Kc(s,f,_,o-r,i-t),Kc(s,f,_,l-r,u-t),Kc(h,p,m,r-o,t-i),Kc(h,p,m,n-o,a-i));return Math.sqrt(w)};function Kc(e,r,t,n,a){var o=n*e+a*r;if(o<0)return n*n+a*a;if(o>t){var i=n-e,l=a-r;return i*i+l*l}else{var u=n*r-a*e;return u*u/t}}var Qc,qp,m6;El.getTextLocation=function(r,t,n,a){if((r!==qp||a!==m6)&&(Qc={},qp=r,m6=a),Qc[n])return Qc[n];var o=r.getPointAtLength(zp(n-a/2,t)),i=r.getPointAtLength(zp(n+a/2,t)),l=Math.atan((i.y-o.y)/(i.x-o.x)),u=r.getPointAtLength(zp(n,t)),s=(u.x*4+o.x+i.x)/6,f=(u.y*4+o.y+i.y)/6,h={x:s,y:f,theta:l};return Qc[n]=h,h};El.clearLocationCache=function(){qp=null};El.getVisibleSegment=function(r,t,n){var a=t.left,o=t.right,i=t.top,l=t.bottom,u=0,s=r.getTotalLength(),f=s,h,p;function _(w){var T=r.getPointAtLength(w);w===0?h=T:w===s&&(p=T);var y=T.x<a?a-T.x:T.x>o?T.x-o:0,k=T.y<i?i-T.y:T.y>l?T.y-l:0;return Math.sqrt(y*y+k*k)}for(var m=_(u);m;){if(u+=m+n,u>f)return;m=_(u)}for(m=_(f);m;){if(f-=m+n,u>f)return;m=_(f)}return{min:u,max:f,len:f-u,total:s,isClosed:u===0&&f===s&&Math.abs(h.x-p.x)<.1&&Math.abs(h.y-p.y)<.1}};El.findPointOnPath=function(r,t,n,a){a=a||{};for(var o=a.pathLength||r.getTotalLength(),i=a.tolerance||.001,l=a.iterationLimit||30,u=r.getPointAtLength(0)[n]>r.getPointAtLength(o)[n]?-1:1,s=0,f=0,h=o,p,_,m;s<l;){if(p=(f+h)/2,_=r.getPointAtLength(p),m=_[n]-t,Math.abs(m)<i)return _;u*m>0?h=p:f=p,s++}return _}});var $c=de(_f=>{"use strict";var Qi={};_f.throttle=function(r,t,n){var a=Qi[r],o=Date.now();if(!a){for(var i in Qi)Qi[i].ts<o-6e4&&delete Qi[i];a=Qi[r]={ts:0,timer:null}}_6(a);function l(){n(),a.ts=Date.now(),a.onDone&&(a.onDone(),a.onDone=null)}if(o>a.ts+t){l();return}a.timer=setTimeout(function(){l(),a.timer=null},t)};_f.done=function(e){var r=Qi[e];return!r||!r.timer?Promise.resolve():new Promise(function(t){var n=r.onDone;r.onDone=function(){n&&n(),t(),r.onDone=null}})};_f.clear=function(e){if(e)_6(Qi[e]),delete Qi[e];else for(var r in Qi)_f.clear(r)};function _6(e){e&&e.timer!==null&&(clearTimeout(e.timer),e.timer=null)}});var M6=de((E0e,w6)=>{"use strict";w6.exports=function(r){r._responsiveChartHandler&&(window.removeEventListener("resize",r._responsiveChartHandler),delete r._responsiveChartHandler)}});var T6=de((L0e,jc)=>{"use strict";jc.exports=Op;jc.exports.isMobile=Op;jc.exports.default=Op;var fV=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,cV=/CrOS/,hV=/android|ipad|playbook|silk/i;function Op(e){e||(e={});let r=e.ua;if(!r&&typeof navigator!="undefined"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),typeof r!="string")return!1;let t=fV.test(r)&&!cV.test(r)||!!e.tablet&&hV.test(r);return!t&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&r.indexOf("Macintosh")!==-1&&r.indexOf("Safari")!==-1&&(t=!0),t}});var k6=de((D0e,A6)=>{"use strict";var vV=nt(),dV=T6();A6.exports=function(r){var t;if(r&&r.hasOwnProperty("userAgent")?t=r.userAgent:t=pV(),typeof t!="string")return!0;var n=dV({ua:{headers:{"user-agent":t}},tablet:!0,featureDetect:!1});if(!n)for(var a=t.split(" "),o=1;o<a.length;o++){var i=a[o];if(i.indexOf("Safari")!==-1)for(var l=o-1;l>-1;l--){var u=a[l];if(u.substr(0,8)==="Version/"){var s=u.substr(8).split(".")[0];if(vV(s)&&(s=+s),s>=13)return!0}}}return n};function pV(){var e;return typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),e}});var C6=de((R0e,S6)=>{"use strict";var gV=it();S6.exports=function(r,t,n){var a=r.selectAll("g."+n.replace(/\s/g,".")).data(t,function(i){return i[0].trace.uid});a.exit().remove(),a.enter().append("g").attr("class",n),a.order();var o=r.classed("rangeplot")?"nodeRangePlot3":"node3";return a.each(function(i){i[0][o]=gV.select(this)}),a}});var L6=de((P0e,E6)=>{"use strict";var yV=Cr();E6.exports=function(r,t){for(var n=r._context.locale,a=0;a<2;a++){for(var o=r._context.locales,i=0;i<2;i++){var l=(o[n]||{}).dictionary;if(l){var u=l[t];if(u)return u}o=yV.localeRegistry}var s=n.split("-")[0];if(s===n)break;n=s}return t}});var R6=de((I0e,D6)=>{"use strict";D6.exports=function(r){for(var t={},n=[],a=0,o=0;o<r.length;o++){var i=r[o];t[i]!==1&&(t[i]=1,n[a++]=i)}return n}});var I6=de((F0e,P6)=>{"use strict";P6.exports=function(r){for(var t=xV(r)?bV:mV,n=[],a=0;a<r.length;a++){var o=r[a];t(o)&&n.push(o)}return n};function mV(e){return e.visible===!0}function bV(e){var r=e[0].trace;return r.visible===!0&&r._length!==0}function xV(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}});var N6=de((N0e,F6)=>{"use strict";F6.exports=function(r,t){if(!t)return r;var n=1/Math.abs(t),a=n>1?(n*r+n*t)/n:r+t,o=String(a).length;if(o>16){var i=String(t).length,l=String(r).length;if(o>=l+i){var u=parseFloat(a).toPrecision(12);u.indexOf("e+")===-1&&(a=+u)}}return a}});var q6=de((z0e,z6)=>{"use strict";var _V=nt(),wV=nn().BADNUM,MV=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;z6.exports=function(r){return typeof r=="string"&&(r=r.replace(MV,"")),_V(r)?Number(r):wV}});var ir=de((q0e,Q6)=>{"use strict";var wf=it(),TV=Ss().utcFormat,AV=up().format,G6=nt(),Y6=nn(),W6=Y6.FP_SAFE,kV=-W6,O6=Y6.BADNUM,Xe=Q6.exports={};Xe.adjustFormat=function(r){return!r||/^\d[.]\df/.test(r)||/[.]\d%/.test(r)?r:r==="0.f"?"~f":/^\d%/.test(r)?"~%":/^\ds/.test(r)?"~s":!/^[~,.0$]/.test(r)&&/[&fps]/.test(r)?"~"+r:r};var B6={};Xe.warnBadFormat=function(e){var r=String(e);B6[r]||(B6[r]=1,Xe.warn('encountered bad format: "'+r+'"'))};Xe.noFormat=function(e){return String(e)};Xe.numberFormat=function(e){var r;try{r=AV(Xe.adjustFormat(e))}catch(t){return Xe.warnBadFormat(e),Xe.noFormat}return r};Xe.nestedProperty=Ec();Xe.keyedContainer=Dx();Xe.relativeAttr=Px();Xe.isPlainObject=wo();Xe.toLogRange=Dc();Xe.relinkPrivateKeys=zx();var Do=ea();Xe.isArrayBuffer=Do.isArrayBuffer;Xe.isTypedArray=Do.isTypedArray;Xe.isArrayOrTypedArray=Do.isArrayOrTypedArray;Xe.isArray1D=Do.isArray1D;Xe.ensureArray=Do.ensureArray;Xe.concat=Do.concat;Xe.maxRowLength=Do.maxRowLength;Xe.minRowLength=Do.minRowLength;var X6=Es();Xe.mod=X6.mod;Xe.modHalf=X6.modHalf;var Ro=t4();Xe.valObjectMeta=Ro.valObjectMeta;Xe.coerce=Ro.coerce;Xe.coerce2=Ro.coerce2;Xe.coerceFont=Ro.coerceFont;Xe.coercePattern=Ro.coercePattern;Xe.coerceHoverinfo=Ro.coerceHoverinfo;Xe.coerceSelectionMarkerOpacity=Ro.coerceSelectionMarkerOpacity;Xe.validate=Ro.validate;var va=s6();Xe.dateTime2ms=va.dateTime2ms;Xe.isDateTime=va.isDateTime;Xe.ms2DateTime=va.ms2DateTime;Xe.ms2DateTimeLocal=va.ms2DateTimeLocal;Xe.cleanDate=va.cleanDate;Xe.isJSDate=va.isJSDate;Xe.formatDate=va.formatDate;Xe.incrementMonth=va.incrementMonth;Xe.dateTick0=va.dateTick0;Xe.dfltRange=va.dfltRange;Xe.findExactDates=va.findExactDates;Xe.MIN_MS=va.MIN_MS;Xe.MAX_MS=va.MAX_MS;var Ll=Pp();Xe.findBin=Ll.findBin;Xe.sorterAsc=Ll.sorterAsc;Xe.sorterDes=Ll.sorterDes;Xe.distinctVals=Ll.distinctVals;Xe.roundUp=Ll.roundUp;Xe.sort=Ll.sort;Xe.findIndexOfMin=Ll.findIndexOfMin;Xe.sortObjectKeys=Jc();var $i=c6();Xe.aggNums=$i.aggNums;Xe.len=$i.len;Xe.mean=$i.mean;Xe.geometricMean=$i.geometricMean;Xe.median=$i.median;Xe.midRange=$i.midRange;Xe.variance=$i.variance;Xe.stdev=$i.stdev;Xe.interp=$i.interp;var Qa=Oc();Xe.init2dArray=Qa.init2dArray;Xe.transposeRagged=Qa.transposeRagged;Xe.dot=Qa.dot;Xe.translationMatrix=Qa.translationMatrix;Xe.rotationMatrix=Qa.rotationMatrix;Xe.rotationXYMatrix=Qa.rotationXYMatrix;Xe.apply3DTransform=Qa.apply3DTransform;Xe.apply2DTransform=Qa.apply2DTransform;Xe.apply2DTransform2=Qa.apply2DTransform2;Xe.convertCssMatrix=Qa.convertCssMatrix;Xe.inverseTransformMatrix=Qa.inverseTransformMatrix;var ki=g6();Xe.deg2rad=ki.deg2rad;Xe.rad2deg=ki.rad2deg;Xe.angleDelta=ki.angleDelta;Xe.angleDist=ki.angleDist;Xe.isFullCircle=ki.isFullCircle;Xe.isAngleInsideSector=ki.isAngleInsideSector;Xe.isPtInsideSector=ki.isPtInsideSector;Xe.pathArc=ki.pathArc;Xe.pathSector=ki.pathSector;Xe.pathAnnulus=ki.pathAnnulus;var Bs=y6();Xe.isLeftAnchor=Bs.isLeftAnchor;Xe.isCenterAnchor=Bs.isCenterAnchor;Xe.isRightAnchor=Bs.isRightAnchor;Xe.isTopAnchor=Bs.isTopAnchor;Xe.isMiddleAnchor=Bs.isMiddleAnchor;Xe.isBottomAnchor=Bs.isBottomAnchor;var Us=x6();Xe.segmentsIntersect=Us.segmentsIntersect;Xe.segmentDistance=Us.segmentDistance;Xe.getTextLocation=Us.getTextLocation;Xe.clearLocationCache=Us.clearLocationCache;Xe.getVisibleSegment=Us.getVisibleSegment;Xe.findPointOnPath=Us.findPointOnPath;var th=Tt();Xe.extendFlat=th.extendFlat;Xe.extendDeep=th.extendDeep;Xe.extendDeepAll=th.extendDeepAll;Xe.extendDeepNoArrays=th.extendDeepNoArrays;var Bp=kl();Xe.log=Bp.log;Xe.warn=Bp.warn;Xe.error=Bp.error;var SV=Ls();Xe.counterRegex=SV.counter;var Up=$c();Xe.throttle=Up.throttle;Xe.throttleDone=Up.done;Xe.clearThrottle=Up.clear;var $a=pf();Xe.getGraphDiv=$a.getGraphDiv;Xe.isPlotDiv=$a.isPlotDiv;Xe.removeElement=$a.removeElement;Xe.addStyleRule=$a.addStyleRule;Xe.addRelatedStyleRule=$a.addRelatedStyleRule;Xe.deleteRelatedStyleRule=$a.deleteRelatedStyleRule;Xe.setStyleOnHover=$a.setStyleOnHover;Xe.getFullTransformMatrix=$a.getFullTransformMatrix;Xe.getElementTransformMatrix=$a.getElementTransformMatrix;Xe.getElementAndAncestors=$a.getElementAndAncestors;Xe.equalDomRects=$a.equalDomRects;Xe.clearResponsive=M6();Xe.preserveDrawingBuffer=k6();Xe.makeTraceGroups=C6();Xe._=L6();Xe.notifier=xp();Xe.filterUnique=R6();Xe.filterVisible=I6();Xe.pushUnique=Mp();Xe.increment=N6();Xe.cleanNumber=q6();Xe.ensureNumber=function(r){return G6(r)?(r=Number(r),r>W6||r<kV?O6:r):O6};Xe.isIndex=function(e,r){return r!==void 0&&e>=r?!1:G6(e)&&e>=0&&e%1===0};Xe.noop=qc();Xe.identity=Dp();Xe.repeat=function(e,r){for(var t=new Array(r),n=0;n<r;n++)t[n]=e;return t};Xe.swapAttrs=function(e,r,t,n){t||(t="x"),n||(n="y");for(var a=0;a<r.length;a++){var o=r[a],i=Xe.nestedProperty(e,o.replace("?",t)),l=Xe.nestedProperty(e,o.replace("?",n)),u=i.get();i.set(l.get()),l.set(u)}};Xe.raiseToTop=function(r){r.parentNode.appendChild(r)};Xe.cancelTransition=function(e){return e.transition().duration(0)};Xe.constrain=function(e,r,t){return r>t?Math.max(t,Math.min(r,e)):Math.max(r,Math.min(t,e))};Xe.bBoxIntersect=function(e,r,t){return t=t||0,e.left<=r.right+t&&r.left<=e.right+t&&e.top<=r.bottom+t&&r.top<=e.bottom+t};Xe.simpleMap=function(e,r,t,n,a){for(var o=e.length,i=new Array(o),l=0;l<o;l++)i[l]=r(e[l],t,n,a);return i};Xe.randstr=function e(r,t,n,a){if(n||(n=16),t===void 0&&(t=24),t<=0)return"0";var o=Math.log(Math.pow(2,t))/Math.log(n),i="",l,u,s;for(l=2;o===1/0;l*=2)o=Math.log(Math.pow(2,t/l))/Math.log(n)*l;var f=o-Math.floor(o);for(l=0;l<Math.floor(o);l++)s=Math.floor(Math.random()*n).toString(n),i=s+i;f&&(u=Math.pow(n,f),s=Math.floor(Math.random()*u).toString(n),i=s+i);var h=parseInt(i,n);return r&&r[i]||h!==1/0&&h>=Math.pow(2,t)?a>10?(Xe.warn("randstr failed uniqueness"),i):e(r,t,n,(a||0)+1):i};Xe.OptionControl=function(e,r){e||(e={}),r||(r="opt");var t={};return t.optionList=[],t._newoption=function(n){n[r]=e,t[n.name]=n,t.optionList.push(n)},t["_"+r]=e,t};Xe.smooth=function(e,r){if(r=Math.round(r)||0,r<2)return e;var t=e.length,n=2*t,a=2*r-1,o=new Array(a),i=new Array(t),l,u,s,f;for(l=0;l<a;l++)o[l]=(1-Math.cos(Math.PI*(l+1)/r))/(2*r);for(l=0;l<t;l++){for(f=0,u=0;u<a;u++)s=l+u+1-r,s<-t?s-=n*Math.round(s/n):s>=n&&(s-=n*Math.floor(s/n)),s<0?s=-1-s:s>=t&&(s=n-1-s),f+=e[s]*o[u];i[l]=f}return i};Xe.syncOrAsync=function(e,r,t){var n,a;function o(){return Xe.syncOrAsync(e,r,t)}for(;e.length;)if(a=e.splice(0,1)[0],n=a(r),n&&n.then)return n.then(o);return t&&t(r)};Xe.stripTrailingSlash=function(e){return e.substr(-1)==="/"?e.substr(0,e.length-1):e};Xe.noneOrAll=function(e,r,t){if(e){var n=!1,a=!0,o,i;for(o=0;o<t.length;o++)i=e[t[o]],i!=null?n=!0:a=!1;if(n&&!a)for(o=0;o<t.length;o++)e[t[o]]=r[t[o]]}};Xe.mergeArray=function(e,r,t,n){var a=typeof n=="function";if(Xe.isArrayOrTypedArray(e))for(var o=Math.min(e.length,r.length),i=0;i<o;i++){var l=e[i];r[i][t]=a?n(l):l}};Xe.mergeArrayCastPositive=function(e,r,t){return Xe.mergeArray(e,r,t,function(n){var a=+n;return isFinite(a)&&a>0?a:0})};Xe.fillArray=function(e,r,t,n){if(n=n||Xe.identity,Xe.isArrayOrTypedArray(e))for(var a=0;a<r.length;a++)r[a][t]=n(e[a])};Xe.castOption=function(e,r,t,n){n=n||Xe.identity;var a=Xe.nestedProperty(e,t).get();return Xe.isArrayOrTypedArray(a)?Array.isArray(r)&&Xe.isArrayOrTypedArray(a[r[0]])?n(a[r[0]][r[1]]):n(a[r]):a};Xe.extractOption=function(e,r,t,n){if(t in e)return e[t];var a=Xe.nestedProperty(r,n).get();if(!Array.isArray(a))return a};function Z6(e){var r={};for(var t in e)for(var n=e[t],a=0;a<n.length;a++)r[n[a]]=+t;return r}Xe.tagSelected=function(e,r,t){var n=r.selectedpoints,a=r._indexToPoints,o;a&&(o=Z6(a));function i(h){return h!==void 0&&h<e.length}for(var l=0;l<n.length;l++){var u=n[l];if(Xe.isIndex(u)||Xe.isArrayOrTypedArray(u)&&Xe.isIndex(u[0])&&Xe.isIndex(u[1])){var s=o?o[u]:u,f=t?t[s]:s;i(f)&&(e[f].selected=1)}}};Xe.selIndices2selPoints=function(e){var r=e.selectedpoints,t=e._indexToPoints;if(t){for(var n=Z6(t),a=[],o=0;o<r.length;o++){var i=r[o];if(Xe.isIndex(i)){var l=n[i];Xe.isIndex(l)&&a.push(l)}}return a}else return r};Xe.getTargetArray=function(e,r){var t=r.target;if(typeof t=="string"&&t){var n=Xe.nestedProperty(e,t).get();return Xe.isArrayOrTypedArray(n)?n:!1}else if(Xe.isArrayOrTypedArray(t))return t;return!1};function J6(e,r,t){var n={};typeof r!="object"&&(r={});var a=t==="pieLike"?-1:3,o=Object.keys(e),i,l,u;for(i=0;i<o.length;i++)l=o[i],u=e[l],!(l.charAt(0)==="_"||typeof u=="function")&&(l==="module"?n[l]=u:Array.isArray(u)?l==="colorscale"||a===-1?n[l]=u.slice():n[l]=u.slice(0,a):Xe.isTypedArray(u)?a===-1?n[l]=u.subarray():n[l]=u.subarray(0,a):u&&typeof u=="object"?n[l]=J6(e[l],r[l],t):n[l]=u);for(o=Object.keys(r),i=0;i<o.length;i++)l=o[i],u=r[l],(typeof u!="object"||!(l in n)||typeof n[l]!="object")&&(n[l]=u);return n}Xe.minExtend=J6;Xe.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)};Xe.containsAny=function(e,r){for(var t=0;t<r.length;t++)if(e.indexOf(r[t])!==-1)return!0;return!1};var CV=/Version\/[\d\.]+.*Safari/;Xe.isSafari=function(){return CV.test(window.navigator.userAgent)};var EV=/iPad|iPhone|iPod/;Xe.isIOS=function(){return EV.test(window.navigator.userAgent)};var LV=/Macintosh.+AppleWebKit.+Gecko\)$/;Xe.isMacWKWebView=()=>LV.test(window.navigator.userAgent);var DV=/Firefox\/(\d+)\.\d+/;Xe.getFirefoxVersion=function(){var e=DV.exec(window.navigator.userAgent);if(e&&e.length===2){var r=parseInt(e[1]);if(!isNaN(r))return r}return null};Xe.isD3Selection=function(e){return e instanceof wf.selection};Xe.ensureSingle=function(e,r,t,n){var a=e.select(r+(t?"."+t:""));if(a.size())return a;var o=e.append(r);return t&&o.classed(t,!0),n&&o.call(n),o};Xe.ensureSingleById=function(e,r,t,n){var a=e.select(r+"#"+t);if(a.size())return a;var o=e.append(r).attr("id",t);return n&&o.call(n),o};Xe.objectFromPath=function(e,r){for(var t=e.split("."),n,a=n={},o=0;o<t.length;o++){var i=t[o],l=null,u=t[o].match(/(.*)\[([0-9]+)\]/);u?(i=u[1],l=u[2],n=n[i]=[],o===t.length-1?n[l]=r:n[l]={},n=n[l]):(o===t.length-1?n[i]=r:n[i]={},n=n[i])}return a};var RV=/^([^\[\.]+)\.(.+)?/,PV=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function eh(e){return e.slice(0,2)==="__"}Xe.expandObjectPaths=function(e){var r,t,n,a,o,i,l;if(typeof e=="object"&&!Array.isArray(e)){for(t in e)if(e.hasOwnProperty(t))if(r=t.match(RV)){if(a=e[t],n=r[1],eh(n))continue;delete e[t],e[n]=Xe.extendDeepNoArrays(e[n]||{},Xe.objectFromPath(t,Xe.expandObjectPaths(a))[n])}else if(r=t.match(PV)){if(a=e[t],n=r[1],eh(n))continue;if(o=parseInt(r[2]),delete e[t],e[n]=e[n]||[],r[3]===".")l=r[4],i=e[n][o]=e[n][o]||{},Xe.extendDeepNoArrays(i,Xe.objectFromPath(l,Xe.expandObjectPaths(a)));else{if(eh(n))continue;e[n][o]=Xe.expandObjectPaths(a)}}else{if(eh(t))continue;e[t]=Xe.expandObjectPaths(e[t])}}return e};Xe.numSeparate=function(e,r,t){if(t||(t=!1),typeof r!="string"||r.length===0)throw new Error("Separator string required for formatting!");typeof e=="number"&&(e=String(e));var n=/(\d+)(\d{3})/,a=r.charAt(0),o=r.charAt(1),i=e.split("."),l=i[0],u=i.length>1?a+i[1]:"";if(o&&(i.length>1||l.length>4||t))for(;n.test(l);)l=l.replace(n,"$1"+o+"$2");return l+u};Xe.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var K6=/^\w*$/;Xe.templateString=function(e,r){var t={};return e.replace(Xe.TEMPLATE_STRING_REGEX,function(n,a){var o;return K6.test(a)?o=r[a]:(t[a]=t[a]||Xe.nestedProperty(r,a).get,o=t[a](!0)),o!==void 0?o:""})};var IV={max:10,count:0,name:"hovertemplate"};Xe.hovertemplateString=e=>Hp(xc(xl({},e),{opts:IV}));var FV={max:10,count:0,name:"texttemplate"};Xe.texttemplateString=e=>Hp(xc(xl({},e),{opts:FV}));var NV=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function zV(e){var r=e.match(NV);return r?{key:r[1],op:r[2],number:Number(r[3])}:{key:e,op:null,number:null}}var qV={max:10,count:0,name:"texttemplate",parseMultDiv:!0};Xe.texttemplateStringForShapes=e=>Hp(xc(xl({},e),{opts:qV}));var U6=/^[:|\|]/;function Hp({data:e=[],locale:r,fallback:t,labels:n={},opts:a,template:o}){return o.replace(Xe.TEMPLATE_STRING_REGEX,(i,l,u)=>{let s=["xother","yother"].includes(l),f=["_xother","_yother"].includes(l),h=["_xother_","_yother_"].includes(l),p=["xother_","yother_"].includes(l),_=s||f||p||h;(f||h)&&(l=l.substring(1)),(p||h)&&(l=l.substring(0,l.length-1));let m=null,w=null;if(a.parseMultDiv){var T=zV(l);l=T.key,m=T.op,w=T.number}let y;if(_){if(n[l]===void 0)return"";y=n[l]}else for(let M of e)if(M){if(M.hasOwnProperty(l)){y=M[l];break}if(K6.test(l)||(y=Xe.nestedProperty(M,l).get(!0)),y!==void 0)break}if(y===void 0){let{count:M,max:d,name:x}=a,g=t===!1?i:t;return M<d&&Xe.warn([`Variable '${l}' in ${x} could not be found!`,"Please verify that the template is correct.",`Using value: '${g}'.`].join(" ")),M===d&&Xe.warn(`Too many '${x}' warnings - additional warnings will be suppressed.`),a.count++,g}if(m==="*"&&(y*=w),m==="/"&&(y/=w),u){var k;if(u[0]===":"&&(k=r?r.numberFormat:Xe.numberFormat,y!==""&&(y=k(u.replace(U6,""))(y))),u[0]==="|"){k=r?r.timeFormat:TV;var S=Xe.dateTime2ms(y);y=Xe.formatDate(S,u.replace(U6,""),!1,k)}}else{var b=l+"Label";n.hasOwnProperty(b)&&(y=n[b])}return _&&(y="("+y+")",(f||h)&&(y=" "+y),(p||h)&&(y=y+" ")),y})}var rh=48,H6=57;Xe.subplotSort=function(e,r){for(var t=Math.min(e.length,r.length)+1,n=0,a=0,o=0;o<t;o++){var i=e.charCodeAt(o)||0,l=r.charCodeAt(o)||0,u=i>=rh&&i<=H6,s=l>=rh&&l<=H6;if(u&&(n=10*n+i-rh),s&&(a=10*a+l-rh),!u||!s){if(n!==a)return n-a;if(i!==l)return i-l}}return a-n};var Os=2e9;Xe.seedPseudoRandom=function(){Os=2e9};Xe.pseudoRandom=function(){var e=Os;return Os=(69069*Os+1)%4294967296,Math.abs(Os-e)<429496729?Xe.pseudoRandom():Os/4294967296};Xe.fillText=function(e,r,t){var n=Array.isArray(t)?function(i){t.push(i)}:function(i){t.text=i},a=Xe.extractOption(e,r,"htx","hovertext");if(Xe.isValidTextValue(a))return n(a);var o=Xe.extractOption(e,r,"tx","text");if(Xe.isValidTextValue(o))return n(o)};Xe.isValidTextValue=function(e){return e||e===0};Xe.formatPercent=function(e,r){r=r||0;for(var t=(Math.round(100*e*Math.pow(10,r))*Math.pow(.1,r)).toFixed(r)+"%",n=0;n<r;n++)t.indexOf(".")!==-1&&(t=t.replace("0%","%"),t=t.replace(".%","%"));return t};Xe.isHidden=function(e){var r=window.getComputedStyle(e).display;return!r||r==="none"};Xe.strTranslate=function(e,r){return e||r?"translate("+e+","+r+")":""};Xe.strRotate=function(e){return e?"rotate("+e+")":""};Xe.strScale=function(e){return e!==1?"scale("+e+")":""};Xe.getTextTransform=function(e){var r=e.noCenter,t=e.textX,n=e.textY,a=e.targetX,o=e.targetY,i=e.anchorX||0,l=e.anchorY||0,u=e.rotate,s=e.scale;return s?s>1&&(s=1):s=0,Xe.strTranslate(a-s*(t+i),o-s*(n+l))+Xe.strScale(s)+(u?"rotate("+u+(r?"":" "+t+" "+n)+")":"")};Xe.setTransormAndDisplay=function(e,r){e.attr("transform",Xe.getTextTransform(r)),e.style("display",r.scale?null:"none")};Xe.ensureUniformFontSize=function(e,r){var t=Xe.extendFlat({},r);return t.size=Math.max(r.size,e._fullLayout.uniformtext.minsize||0),t};Xe.join2=function(e,r,t){var n=e.length;return n>1?e.slice(0,-1).join(r)+t+e[n-1]:e.join(r)};Xe.bigFont=function(e){return Math.round(1.2*e)};var V6=Xe.getFirefoxVersion(),OV=V6!==null&&V6<86;Xe.getPositionFromD3Event=function(){return OV?[wf.event.layerX,wf.event.layerY]:[wf.event.offsetX,wf.event.offsetY]}});var ew=de(()=>{"use strict";var BV=ir(),$6={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X:focus-within .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group a":"display:grid;place-content:center;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;border:none;background:rgba(0,0,0,0);","X .modebar-btn svg":"position:relative;","X .modebar-btn:focus-visible":"outline:1px solid #000;outline-offset:1px;border-radius:3px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(Vp in $6)j6=Vp.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),BV.addStyleRule(j6,$6[Vp]);var j6,Vp});var Gp=de((H0e,rw)=>{rw.exports=!0});var Wp=de((V0e,tw)=>{"use strict";var UV=Gp(),Yp;typeof window.matchMedia=="function"?Yp=!window.matchMedia("(hover: none)").matches:Yp=UV;tw.exports=Yp});var ih=de((G0e,Xp)=>{"use strict";var Hs=typeof Reflect=="object"?Reflect:null,nw=Hs&&typeof Hs.apply=="function"?Hs.apply:function(r,t,n){return Function.prototype.apply.call(r,t,n)},nh;Hs&&typeof Hs.ownKeys=="function"?nh=Hs.ownKeys:Object.getOwnPropertySymbols?nh=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:nh=function(r){return Object.getOwnPropertyNames(r)};function HV(e){console&&console.warn&&console.warn(e)}var iw=Number.isNaN||function(r){return r!==r};function At(){At.init.call(this)}Xp.exports=At;Xp.exports.once=WV;At.EventEmitter=At;At.prototype._events=void 0;At.prototype._eventsCount=0;At.prototype._maxListeners=void 0;var aw=10;function ah(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(At,"defaultMaxListeners",{enumerable:!0,get:function(){return aw},set:function(e){if(typeof e!="number"||e<0||iw(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");aw=e}});At.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};At.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||iw(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function ow(e){return e._maxListeners===void 0?At.defaultMaxListeners:e._maxListeners}At.prototype.getMaxListeners=function(){return ow(this)};At.prototype.emit=function(r){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a=r==="error",o=this._events;if(o!==void 0)a=a&&o.error===void 0;else if(!a)return!1;if(a){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var l=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw l.context=i,l}var u=o[r];if(u===void 0)return!1;if(typeof u=="function")nw(u,this,t);else for(var s=u.length,f=cw(u,s),n=0;n<s;++n)nw(f[n],this,t);return!0};function lw(e,r,t,n){var a,o,i;if(ah(t),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",r,t.listener?t.listener:t),o=e._events),i=o[r]),i===void 0)i=o[r]=t,++e._eventsCount;else if(typeof i=="function"?i=o[r]=n?[t,i]:[i,t]:n?i.unshift(t):i.push(t),a=ow(e),a>0&&i.length>a&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=r,l.count=i.length,HV(l)}return e}At.prototype.addListener=function(r,t){return lw(this,r,t,!1)};At.prototype.on=At.prototype.addListener;At.prototype.prependListener=function(r,t){return lw(this,r,t,!0)};function VV(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function sw(e,r,t){var n={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},a=VV.bind(n);return a.listener=t,n.wrapFn=a,a}At.prototype.once=function(r,t){return ah(t),this.on(r,sw(this,r,t)),this};At.prototype.prependOnceListener=function(r,t){return ah(t),this.prependListener(r,sw(this,r,t)),this};At.prototype.removeListener=function(r,t){var n,a,o,i,l;if(ah(t),a=this._events,a===void 0)return this;if(n=a[r],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete a[r],a.removeListener&&this.emit("removeListener",r,n.listener||t));else if(typeof n!="function"){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){l=n[i].listener,o=i;break}if(o<0)return this;o===0?n.shift():GV(n,o),n.length===1&&(a[r]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",r,l||t)}return this};At.prototype.off=At.prototype.removeListener;At.prototype.removeAllListeners=function(r){var t,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[r]),this;if(arguments.length===0){var o=Object.keys(n),i;for(a=0;a<o.length;++a)i=o[a],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[r],typeof t=="function")this.removeListener(r,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(r,t[a]);return this};function uw(e,r,t){var n=e._events;if(n===void 0)return[];var a=n[r];return a===void 0?[]:typeof a=="function"?t?[a.listener||a]:[a]:t?YV(a):cw(a,a.length)}At.prototype.listeners=function(r){return uw(this,r,!0)};At.prototype.rawListeners=function(r){return uw(this,r,!1)};At.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):fw.call(e,r)};At.prototype.listenerCount=fw;function fw(e){var r=this._events;if(r!==void 0){var t=r[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}At.prototype.eventNames=function(){return this._eventsCount>0?nh(this._events):[]};function cw(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}function GV(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function YV(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}function WV(e,r){return new Promise(function(t,n){function a(i){e.removeListener(r,o),n(i)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",a),t([].slice.call(arguments))}hw(e,r,o,{once:!0}),r!=="error"&&XV(e,a,{once:!0})})}function XV(e,r,t){typeof e.on=="function"&&hw(e,"error",r,t)}function hw(e,r,t,n){if(typeof e.on=="function")n.once?e.once(r,t):e.on(r,t);else if(typeof e.addEventListener=="function")e.addEventListener(r,function a(o){n.once&&e.removeEventListener(r,a),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var Mf=de((Y0e,vw)=>{"use strict";var Zp=ih().EventEmitter,ZV={init:function(e){if(e._ev instanceof Zp)return e;var r=new Zp,t=new Zp;return e._ev=r,e._internalEv=t,e.on=r.on.bind(r),e.once=r.once.bind(r),e.removeListener=r.removeListener.bind(r),e.removeAllListeners=r.removeAllListeners.bind(r),e._internalOn=t.on.bind(t),e._internalOnce=t.once.bind(t),e._removeInternalListener=t.removeListener.bind(t),e._removeAllInternalListeners=t.removeAllListeners.bind(t),e.emit=function(n,a){r.emit(n,a),t.emit(n,a)},typeof e.addEventListener=="function"&&e.addEventListener("wheel",()=>{},{passive:!0}),e},triggerHandler:function(e,r,t){var n,a=e._ev;if(!a)return;var o=a._events[r];if(!o)return;function i(u){if(u.listener){if(a.removeListener(r,u.listener),!u.fired)return u.fired=!0,u.listener.apply(a,[t])}else return u.apply(a,[t])}o=Array.isArray(o)?o:[o];var l;for(l=0;l<o.length-1;l++)i(o[l]);return n=i(o[l]),n},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};vw.exports=ZV});var gw=de((W0e,pw)=>{"use strict";var dw=ir(),JV=Al().dfltConfig;function KV(e,r){for(var t=[],n,a=0;a<r.length;a++)n=r[a],n===e?t[a]=n:typeof n=="object"?t[a]=Array.isArray(n)?dw.extendDeep([],n):dw.extendDeepAll({},n):t[a]=n;return t}var ji={};ji.add=function(e,r,t,n,a){var o,i;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},i=e.undoQueue.index,e.autoplay){e.undoQueue.inSequence||(e.autoplay=!1);return}!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(i,e.undoQueue.queue.length-i,o),e.undoQueue.index+=1):o=e.undoQueue.queue[i-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(r),o.undo.args.unshift(t),o.redo.calls.push(n),o.redo.args.push(a)),e.undoQueue.queue.length>JV.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)};ji.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0};ji.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1};ji.undo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index<=0)){for(r.undoQueue.index--,t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)ji.plotDo(r,t.undo.calls[n],t.undo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1}};ji.redo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index>=r.undoQueue.queue.length)){for(t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)ji.plotDo(r,t.redo.calls[n],t.redo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1,r.undoQueue.index++}};ji.plotDo=function(e,r,t){e.autoplay=!0,t=KV(e,t),r.apply(null,t)};pw.exports=ji});var Jp=de((X0e,yw)=>{"use strict";yw.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}});var Ys=de($t=>{"use strict";var Ca=Cr(),Tf=ir(),lh=Sn(),Kp=Is(),QV=Jp(),$V=gf(),jV=Al().configAttributes,mw=zn(),ja=Tf.extendDeepAll,Vs=Tf.isPlainObject,eG=Tf.isArrayOrTypedArray,sh=Tf.nestedProperty,rG=Tf.valObjectMeta,Qp="_isSubplotObj",uh="_isLinkedToArray",tG="_arrayAttrRegexps",xw="_deprecated",$p=[Qp,uh,tG,xw];$t.IS_SUBPLOT_OBJ=Qp;$t.IS_LINKED_TO_ARRAY=uh;$t.DEPRECATED=xw;$t.UNDERSCORE_ATTRS=$p;$t.get=function(){var e={};return Ca.allTypes.forEach(function(r){e[r]=aG(r)}),{defs:{valObjects:rG,metaKeys:$p.concat(["description","role","editType","impliedEdits"]),editType:{traces:mw.traces,layout:mw.layout},impliedEdits:{}},traces:e,layout:iG(),frames:oG(),animation:Gs($V),config:Gs(jV)}};$t.crawl=function(e,r,t,n){var a=t||0;n=n||"",Object.keys(e).forEach(function(o){var i=e[o];if($p.indexOf(o)===-1){var l=(n?n+".":"")+o;r(i,o,e,a,l),!$t.isValObject(i)&&Vs(i)&&o!=="impliedEdits"&&$t.crawl(i,r,a+1,l)}})};$t.isValObject=function(e){return e&&e.valType!==void 0};$t.findArrayAttributes=function(e){var r=[],t=[],n=[],a,o;function i(u,s,f,h){t=t.slice(0,h).concat([s]),n=n.slice(0,h).concat([u&&u._isLinkedToArray]);var p=u&&(u.valType==="data_array"||u.arrayOk===!0)&&!(t[h-1]==="colorbar"&&(s==="ticktext"||s==="tickvals"));p&&l(a,0,"")}function l(u,s,f){var h=u[t[s]],p=f+t[s];if(s===t.length-1)eG(h)&&r.push(o+p);else if(n[s]){if(Array.isArray(h))for(var _=0;_<h.length;_++)Vs(h[_])&&l(h[_],s+1,p+"["+_+"].")}else Vs(h)&&l(h,s+1,p+".")}return a=e,o="",$t.crawl(lh,i),e._module&&e._module.attributes&&$t.crawl(e._module.attributes,i),r};$t.getTraceValObject=function(e,r){var t=r[0],n=1,a,o,i=e._module;if(i||(i=(Ca.modules[e.type||lh.type.dflt]||{})._module),!i)return!1;if(a=i.attributes,o=a&&a[t],!o){var l=i.basePlotModule;l&&l.attributes&&(o=l.attributes[t])}return o||(o=lh[t]),_w(o,r,n)};$t.getLayoutValObject=function(e,r){var t=nG(e,r[0]);return _w(t,r,1)};function nG(e,r){var t,n,a,o,i=e._basePlotModules;if(i){var l;for(t=0;t<i.length;t++){if(a=i[t],a.attrRegex&&a.attrRegex.test(r)){if(a.layoutAttrOverrides)return a.layoutAttrOverrides;!l&&a.layoutAttributes&&(l=a.layoutAttributes)}var u=a.baseLayoutAttrOverrides;if(u&&r in u)return u[r]}if(l)return l}var s=e._modules;if(s){for(t=0;t<s.length;t++)if(o=s[t].layoutAttributes,o&&r in o)return o[r]}for(n in Ca.componentsRegistry){if(a=Ca.componentsRegistry[n],a.name==="colorscale"&&r.indexOf("coloraxis")===0)return a.layoutAttributes[r];if(!a.schema&&r===a.name)return a.layoutAttributes}return r in Kp?Kp[r]:!1}function _w(e,r,t){if(!e)return!1;if(e._isLinkedToArray){if(oh(r[t]))t++;else if(t<r.length)return!1}for(;t<r.length;t++){var n=e[r[t]];if(Vs(n))e=n;else break;if(t===r.length-1)break;if(e._isLinkedToArray){if(t++,!oh(r[t]))return!1}else if(e.valType==="info_array"){t++;var a=r[t];if(!oh(a))return!1;var o=e.items;if(Array.isArray(o)){if(a>=o.length)return!1;if(e.dimensions===2){if(t++,r.length===t)return e;var i=r[t];if(!oh(i))return!1;e=o[a][i]}else e=o[a]}else e=o}}return e}function oh(e){return e===Math.round(e)&&e>=0}function aG(e){var r,t;r=Ca.modules[e]._module,t=r.basePlotModule;var n={};n.type=null;var a=ja({},lh),o=ja({},r.attributes);$t.crawl(o,function(u,s,f,h,p){sh(a,p).set(void 0),u===void 0&&sh(o,p).set(void 0)}),ja(n,a),Ca.traceIs(e,"noOpacity")&&delete n.opacity,Ca.traceIs(e,"showLegend")||(delete n.showlegend,delete n.legendgroup),Ca.traceIs(e,"noHover")&&(delete n.hoverinfo,delete n.hoverlabel),r.selectPoints||delete n.selectedpoints,ja(n,o),t.attributes&&ja(n,t.attributes),n.type=e;var i={meta:r.meta||{},categories:r.categories||{},animatable:!!r.animatable,type:e,attributes:Gs(n)};if(r.layoutAttributes){var l={};ja(l,r.layoutAttributes),i.layoutAttributes=Gs(l)}return r.animatable||$t.crawl(i,function(u){$t.isValObject(u)&&"anim"in u&&delete u.anim}),i}function iG(){var e={},r,t;ja(e,Kp);for(r in Ca.subplotsRegistry)if(t=Ca.subplotsRegistry[r],!!t.layoutAttributes)if(Array.isArray(t.attr))for(var n=0;n<t.attr.length;n++)bw(e,t,t.attr[n]);else{var a=t.attr==="subplot"?t.name:t.attr;bw(e,t,a)}for(r in Ca.componentsRegistry){t=Ca.componentsRegistry[r];var o=t.schema;if(o&&(o.subplots||o.layout)){var i=o.subplots;if(i&&i.xaxis&&!i.yaxis)for(var l in i.xaxis)delete e.yaxis[l];delete e.xaxis.shift,delete e.xaxis.autoshift}else t.name==="colorscale"?ja(e,t.layoutAttributes):t.layoutAttributes&&fG(e,t.layoutAttributes,t.name)}return{layoutAttributes:Gs(e)}}function oG(){var e={frames:ja({},QV)};return Gs(e),e.frames}function Gs(e){return lG(e),sG(e),uG(e),e}function lG(e){function r(n){return{valType:"string",editType:"none"}}function t(n,a,o){$t.isValObject(n)?(n.arrayOk===!0||n.valType==="data_array")&&(o[a+"src"]=r(a)):Vs(n)&&(n.role="object")}$t.crawl(e,t)}function sG(e){function r(t,n,a){if(t){var o=t[uh];o&&(delete t[uh],a[n]={items:{}},a[n].items[o]=t,a[n].role="object")}}$t.crawl(e,r)}function uG(e){function r(t){for(var n in t)if(Vs(t[n]))r(t[n]);else if(Array.isArray(t[n]))for(var a=0;a<t[n].length;a++)r(t[n][a]);else t[n]instanceof RegExp&&(t[n]=t[n].toString())}r(e)}function bw(e,r,t){var n=sh(e,t),a=ja({},r.layoutAttributes);a[Qp]=!0,n.set(a)}function fG(e,r,t){var n=sh(e,t);n.set(ja(n.get()||{},r))}});var yt=de(Dl=>{"use strict";var Ws=ir(),cG=Sn(),Po="templateitemname",jp={name:{valType:"string",editType:"none"}};jp[Po]={valType:"string",editType:"calc"};Dl.templatedArray=function(e,r){return r._isLinkedToArray=e,r.name=jp.name,r[Po]=jp[Po],r};Dl.traceTemplater=function(e){var r={},t,n;for(t in e)n=e[t],Array.isArray(n)&&n.length&&(r[t]=0);function a(o){t=Ws.coerce(o,{},cG,"type");var i={type:t,_template:null};if(t in r){n=e[t];var l=r[t]%n.length;r[t]++,i._template=n[l]}return i}return{newTrace:a}};Dl.newContainer=function(e,r,t){var n=e._template,a=n&&(n[r]||t&&n[t]);Ws.isPlainObject(a)||(a=null);var o=e[r]={_template:a};return o};Dl.arrayTemplater=function(e,r,t){var n=e._template,a=n&&n[Mw(r)],o=n&&n[r];(!Array.isArray(o)||!o.length)&&(o=[]);var i={};function l(s){var f={name:s.name,_input:s},h=f[Po]=s[Po];if(!ww(h))return f._template=a,f;for(var p=0;p<o.length;p++){var _=o[p];if(_.name===h)return i[h]=1,f._template=_,f}return f[t]=s[t]||!1,f._template=!1,f}function u(){for(var s=[],f=0;f<o.length;f++){var h=o[f],p=h.name;if(ww(p)&&!i[p]){var _={_template:h,name:p,_input:{_templateitemname:p}};_[Po]=h[Po],s.push(_),i[p]=1}}return s}return{newItem:l,defaultItems:u}};function ww(e){return e&&typeof e=="string"}function Mw(e){var r=e.length-1;return e.charAt(r)!=="s"&&Ws.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}Dl.arrayDefaultKey=Mw;Dl.arrayEditor=function(e,r,t){var n=(Ws.nestedProperty(e,r).get()||[]).length,a=t._index,o=a>=n&&(t._input||{})._templateitemname;o&&(a=n);var i=r+"["+a+"]",l;function u(){l={},o&&(l[i]={},l[i][Po]=o)}u();function s(_,m){l[_]=m}function f(_,m){o?Ws.nestedProperty(l[i],_).set(m):l[i+"."+_]=m}function h(){var _=l;return u(),_}function p(_,m){_&&f(_,m);var w=h();for(var T in w)Ws.nestedProperty(e,T).set(w[T])}return{modifyBase:s,modifyItem:f,getUpdateObj:h,applyUpdate:p}}});var _n=de((K0e,Tw)=>{"use strict";var Af=Ls().counter;Tw.exports={idRegex:{x:Af("x","( domain)?"),y:Af("y","( domain)?")},attrRegex:Af("[xy]axis"),xAxisMatch:Af("xaxis"),yAxisMatch:Af("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}});var jt=de(aa=>{"use strict";var hG=Cr(),eg=_n();aa.id2name=function(r){if(!(typeof r!="string"||!r.match(eg.AX_ID_PATTERN))){var t=r.split(" ")[0].substr(1);return t==="1"&&(t=""),r.charAt(0)+"axis"+t}};aa.name2id=function(r){if(r.match(eg.AX_NAME_PATTERN)){var t=r.substr(5);return t==="1"&&(t=""),r.charAt(0)+t}};aa.cleanId=function(r,t,n){var a=/( domain)$/.test(r);if(!(typeof r!="string"||!r.match(eg.AX_ID_PATTERN))&&!(t&&r.charAt(0)!==t)&&!(a&&!n)){var o=r.split(" ")[0].substr(1).replace(/^0+/,"");return o==="1"&&(o=""),r.charAt(0)+o+(a&&n?" domain":"")}};aa.list=function(e,r,t){var n=e._fullLayout;if(!n)return[];var a=aa.listIds(e,r),o=new Array(a.length),i;for(i=0;i<a.length;i++){var l=a[i];o[i]=n[l.charAt(0)+"axis"+l.substr(1)]}if(!t){var u=n._subplots.gl3d||[];for(i=0;i<u.length;i++){var s=n[u[i]];r?o.push(s[r+"axis"]):o.push(s.xaxis,s.yaxis,s.zaxis)}}return o};aa.listIds=function(e,r){var t=e._fullLayout;if(!t)return[];var n=t._subplots;return r?n[r+"axis"]:n.xaxis.concat(n.yaxis)};aa.getFromId=function(e,r,t){var n=e._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),t==="x"?r=r.replace(/y[0-9]*/,""):t==="y"&&(r=r.replace(/x[0-9]*/,"")),n[aa.id2name(r)]};aa.getFromTrace=function(e,r,t){var n=e._fullLayout,a=null;if(hG.traceIs(r,"gl3d")){var o=r.scene;o.substr(0,5)==="scene"&&(a=n[o][t+"axis"])}else a=aa.getFromId(e,r[t+"axis"]||t);return a};aa.idSort=function(e,r){var t=e.charAt(0),n=r.charAt(0);return t!==n?t>n?1:-1:+(e.substr(1)||1)-+(r.substr(1)||1)};aa.ref2id=function(e){return/^[xyz]/.test(e)?e.split(" ")[0]:!1};function Aw(e,r){if(r&&r.length){for(var t=0;t<r.length;t++)if(r[t][e])return!0}return!1}aa.isLinked=function(e,r){return Aw(r,e._axisMatchGroups)||Aw(r,e._axisConstraintGroups)}});var Io=de(($0e,kw)=>{"use strict";function vG(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()}function dG(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),e._fullLayout._outlining=!1}kw.exports={clearOutlineControllers:vG,clearOutline:dG}});var fh=de((j0e,Sw)=>{"use strict";Sw.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}});var kf=de(hh=>{"use strict";var ch=Cr(),ece=_n().SUBPLOT_PATTERN;hh.getSubplotCalcData=function(e,r,t){var n=ch.subplotsRegistry[r];if(!n)return[];for(var a=n.attr,o=[],i=0;i<e.length;i++){var l=e[i],u=l[0].trace;u[a]===t&&o.push(l)}return o};hh.getModuleCalcData=function(e,r,t){var n=[],a=[],o;if(typeof r=="string"?o=ch.getModule(r).plot:typeof r=="function"?o=r:o=r.plot,!o)return[n,e];for(var i=t,l=0;l<e.length;l++){var u=e[l],s=u[0].trace,f=s.zorder!==void 0;s.visible!==!0||s._length===0||(s._module&&s._module.plot===o&&(!f||s.zorder===i)?n.push(u):a.push(u))}return[n,a]};hh.getSubplotData=function(r,t,n){if(!ch.subplotsRegistry[t])return[];for(var a=ch.subplotsRegistry[t].attr,o=[],i,l,u,s=0;s<r.length;s++)i=r[s],i[a]===n&&o.push(i);return o}});var Dw=de(Rl=>{"use strict";var pG=Cr(),Xs=ir();Rl.manageCommandObserver=function(e,r,t,n){var a={},o=!0;r&&r._commandObserver&&(a=r._commandObserver),a.cache||(a.cache={}),a.lookupTable={};var i=Rl.hasSimpleAPICommandBindings(e,t,a.lookupTable);if(r&&r._commandObserver){if(i)return a;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,a}if(i){Cw(e,i,a.cache),a.check=function(){if(o){var f=Cw(e,i,a.cache);return f.changed&&n&&a.lookupTable[f.value]!==void 0&&(a.disable(),Promise.resolve(n({value:f.value,type:i.type,prop:i.prop,traces:i.traces,index:a.lookupTable[f.value]})).then(a.enable,a.enable)),f.changed}};for(var l=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],u=0;u<l.length;u++)e._internalOn(l[u],a.check);a.remove=function(){for(var s=0;s<l.length;s++)e._removeInternalListener(l[s],a.check)}}else Xs.log("Unable to automatically bind plot updates to API command"),a.lookupTable={},a.remove=function(){};return a.disable=function(){o=!1},a.enable=function(){o=!0},r&&(r._commandObserver=a),a};Rl.hasSimpleAPICommandBindings=function(e,r,t){var n,a=r.length,o;for(n=0;n<a;n++){var i,l=r[n],u=l.method,s=l.args;if(Array.isArray(s)||(s=[]),!u)return!1;var f=Rl.computeAPICommandBindings(e,u,s);if(f.length!==1)return!1;if(!o)o=f[0],Array.isArray(o.traces)&&o.traces.sort();else{if(i=f[0],i.type!==o.type||i.prop!==o.prop)return!1;if(Array.isArray(o.traces))if(Array.isArray(i.traces)){i.traces.sort();for(var h=0;h<o.traces.length;h++)if(o.traces[h]!==i.traces[h])return!1}else return!1;else if(i.prop!==o.prop)return!1}i=f[0];var p=i.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;t&&(t[p]=n)}return o};function Cw(e,r,t){var n,a,o,i=!1;if(r.type==="data")n=e._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=e._fullLayout;else return!1;return a=Xs.nestedProperty(n,r.prop).get(),o=t[r.type]=t[r.type]||{},o.hasOwnProperty(r.prop)&&o[r.prop]!==a&&(i=!0),o[r.prop]=a,{changed:i,value:a}}Rl.executeAPICommand=function(e,r,t){if(r==="skip")return Promise.resolve();var n=pG.apiMethodRegistry[r],a=[e];Array.isArray(t)||(t=[]);for(var o=0;o<t.length;o++)a.push(t[o]);return n.apply(null,a).catch(function(i){return Xs.warn("API call to Plotly."+r+" rejected.",i),Promise.reject(i)})};Rl.computeAPICommandBindings=function(e,r,t){var n;switch(Array.isArray(t)||(t=[]),r){case"restyle":n=Lw(e,t);break;case"relayout":n=Ew(e,t);break;case"update":n=Lw(e,[t[0],t[2]]).concat(Ew(e,[t[1]]));break;case"animate":n=gG(e,t);break;default:n=[]}return n};function gG(e,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function Ew(e,r){var t=[],n=r[0],a={};if(typeof n=="string")a[n]=r[1];else if(Xs.isPlainObject(n))a=n;else return t;return rg(a,function(o,i,l){t.push({type:"layout",prop:o,value:l})},"",0),t}function Lw(e,r){var t,n,a,o,i=[];if(n=r[0],a=r[1],t=r[2],o={},typeof n=="string")o[n]=a;else if(Xs.isPlainObject(n))o=n,t===void 0&&(t=a);else return i;return t===void 0&&(t=null),rg(o,function(l,u,s){var f,h;if(Array.isArray(s)){h=s.slice();var p=Math.min(h.length,e.data.length);t&&(p=Math.min(p,t.length)),f=[];for(var _=0;_<p;_++)f[_]=t?t[_]:_}else h=s,f=t?t.slice():null;if(f===null)Array.isArray(h)&&(h=h[0]);else if(Array.isArray(f)){if(!Array.isArray(h)){var m=h;h=[];for(var w=0;w<f.length;w++)h[w]=m}h.length=Math.min(f.length,h.length)}i.push({type:"data",prop:l,traces:f,value:h})},"",0),i}function rg(e,r,t,n){Object.keys(e).forEach(function(a){var o=e[a];if(a[0]!=="_"){var i=t+(n>0?".":"")+a;Xs.isPlainObject(o)?rg(o,r,i,n+1):r(i,a,o)}})}});var on=de((nce,Yw)=>{"use strict";var qw=it(),yG=Ss().timeFormatLocale,mG=up().formatLocale,Sf=nt(),bG=fp(),ot=Cr(),Ow=Ys(),xG=yt(),br=ir(),Bw=Xr(),Rw=nn().BADNUM,ia=jt(),_G=Io().clearOutline,wG=fh(),tg=gf(),MG=Jp(),TG=kf().getModuleCalcData,Pw=br.relinkPrivateKeys,Pl=br._,cr=Yw.exports={};br.extendFlat(cr,ot);cr.attributes=Sn();cr.attributes.type.values=cr.allTypes;cr.fontAttrs=kn();cr.layoutAttributes=Is();var dh=Dw();cr.executeAPICommand=dh.executeAPICommand;cr.computeAPICommandBindings=dh.computeAPICommandBindings;cr.manageCommandObserver=dh.manageCommandObserver;cr.hasSimpleAPICommandBindings=dh.hasSimpleAPICommandBindings;cr.redrawText=function(e){return e=br.getGraphDiv(e),new Promise(function(r){setTimeout(function(){e._fullLayout&&(ot.getComponentMethod("annotations","draw")(e),ot.getComponentMethod("legend","draw")(e),ot.getComponentMethod("colorbar","draw")(e),r(cr.previousPromises(e)))},300)})};cr.resize=function(e){e=br.getGraphDiv(e);var r,t=new Promise(function(n,a){(!e||br.isHidden(e))&&a(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(r=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||br.isHidden(e)){n(e);return}delete e.layout.width,delete e.layout.height;var o=e.changed;e.autoplay=!0,ot.call("relayout",e,{autosize:!0}).then(function(){e.changed=o,e._resolveResize===n&&(delete e._resolveResize,n(e))})},100)});return r&&r(t),t};cr.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})};cr.addLinks=function(e){if(!(!e._context.showLink&&!e._context.showSources)){var r=e._fullLayout,t=br.ensureSingle(r._paper,"text","js-plot-link-container",function(u){u.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:Bw.defaultLine,"pointer-events":"all"}).each(function(){var s=qw.select(this);s.append("tspan").classed("js-link-to-tool",!0),s.append("tspan").classed("js-link-spacer",!0),s.append("tspan").classed("js-sourcelinks",!0)})}),n=t.node(),a={y:r._paper.attr("height")-9};document.body.contains(n)&&n.getComputedTextLength()>=r.width-20?(a["text-anchor"]="start",a.x=5):(a["text-anchor"]="end",a.x=r._paper.attr("width")-7),t.attr(a);var o=t.select(".js-link-to-tool"),i=t.select(".js-link-spacer"),l=t.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&AG(e,o),i.text(o.text()&&l.text()?" - ":"")}};function AG(e,r){r.text("");var t=r.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" \xBB");if(e._context.sendData)t.on("click",function(){cr.sendDataToCloud(e)});else{var n=window.location.pathname.split("/"),a=window.location.search;t.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+a})}}cr.sendDataToCloud=function(e){var r=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(r){e.emit("plotly_beforeexport");var t=qw.select(e).append("div").attr("id","hiddenform").style("display","none"),n=t.append("form").attr({action:r+"/external",method:"post",target:"_blank"}),a=n.append("input").attr({type:"text",name:"data"});return a.node().value=cr.graphJson(e,!1,"keepdata"),n.node().submit(),t.remove(),e.emit("plotly_afterexport"),!1}};var kG=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],SG=["year","month","dayMonth","dayMonthYear"];cr.supplyDefaults=function(e,r){var t=r&&r.skipUpdateCalc,n=e._fullLayout||{};if(n._skipDefaults){delete n._skipDefaults;return}var a=e._fullLayout={},o=e.layout||{},i=e._fullData||[],l=e._fullData=[],u=e.data||[],s=e.calcdata||[],f=e._context||{},h;e._transitionData||cr.createTransitionData(e),a._dfltTitle={plot:Pl(e,"Click to enter Plot title"),subtitle:Pl(e,"Click to enter Plot subtitle"),x:Pl(e,"Click to enter X axis title"),y:Pl(e,"Click to enter Y axis title"),colorbar:Pl(e,"Click to enter Colorscale title"),annotation:Pl(e,"new text")},a._traceWord=Pl(e,"trace");var p=Iw(e,kG);if(a._mapboxAccessToken=f.mapboxAccessToken,n._initialAutoSizeIsDone){var _=n.width,m=n.height;cr.supplyLayoutGlobalDefaults(o,a,p),o.width||(a.width=_),o.height||(a.height=m),cr.sanitizeMargins(a)}else{cr.supplyLayoutGlobalDefaults(o,a,p);var w=!o.width||!o.height,T=a.autosize,y=f.autosizable,k=w&&(T||y);k?cr.plotAutoSize(e,o,a):w&&cr.sanitizeMargins(a),!T&&w&&(o.width=a.width,o.height=a.height)}a._d3locale=LG(p,a.separators),a._extraFormat=Iw(e,SG),a._initialAutoSizeIsDone=!0,a._dataLength=u.length,a._modules=[],a._visibleModules=[],a._basePlotModules=[];var S=a._subplots=EG(),b=a._splomAxes={x:{},y:{}},M=a._splomSubplots={};a._splomGridDflt={},a._scatterStackOpts={},a._firstScatter={},a._alignmentOpts={},a._colorAxes={},a._requestRangeslider={},a._traceUids=CG(i,u),cr.supplyDataDefaults(u,l,o,a);var d=Object.keys(b.x),x=Object.keys(b.y);if(d.length>1&&x.length>1){for(ot.getComponentMethod("grid","sizeDefaults")(o,a),h=0;h<d.length;h++)br.pushUnique(S.xaxis,d[h]);for(h=0;h<x.length;h++)br.pushUnique(S.yaxis,x[h]);for(var g in M)br.pushUnique(S.cartesian,g)}if(a._has=cr._hasPlotType.bind(a),i.length===l.length)for(h=0;h<l.length;h++)Pw(l[h],i[h]);cr.supplyLayoutModuleDefaults(o,a,l,e._transitionData);var c=a._visibleModules,A=[];for(h=0;h<c.length;h++){var v=c[h].crossTraceDefaults;v&&br.pushUnique(A,v)}for(h=0;h<A.length;h++)A[h](l,a);a._hasOnlyLargeSploms=a._basePlotModules.length===1&&a._basePlotModules[0].name==="splom"&&d.length>15&&x.length>15&&a.shapes.length===0&&a.images.length===0,cr.linkSubplots(l,a,i,n),cr.cleanPlot(l,a,i,n);var D=!!(n._has&&n._has("cartesian")),E=!!(a._has&&a._has("cartesian")),R=D,N=E;R&&!N?n._bgLayer.remove():N&&!R&&(a._shouldCreateBgLayer=!0),n._zoomlayer&&!e._dragging&&_G({_fullLayout:n}),DG(l,a),Pw(a,n),ot.getComponentMethod("colorscale","crossTraceDefaults")(l,a),a._preGUI||(a._preGUI={}),a._tracePreGUI||(a._tracePreGUI={});var F=a._tracePreGUI,I={},L;for(L in F)I[L]="old";for(h=0;h<l.length;h++)L=l[h]._fullInput.uid,I[L]||(F[L]={}),I[L]="new";for(L in I)I[L]==="old"&&delete F[L];Uw(a),ot.getComponentMethod("rangeslider","makeData")(a),!t&&s.length===l.length&&cr.supplyDefaultsUpdateCalc(s,l)};cr.supplyDefaultsUpdateCalc=function(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=(e[t]||[])[0];if(a&&a.trace){var o=a.trace;if(o._hasCalcTransform){var i=o._arrayAttrs,l,u,s;for(l=0;l<i.length;l++)u=i[l],s=br.nestedProperty(o,u).get().slice(),br.nestedProperty(n,u).set(s)}a.trace=n}}};function CG(e,r){var t=r.length,n=[],a,o;for(a=0;a<e.length;a++){var i=e[a]._fullInput;i!==o&&n.push(i),o=i}var l=n.length,u=new Array(t),s={};function f(_,m){u[m]=_,s[_]=1}function h(_,m){if(_&&typeof _=="string"&&!s[_])return f(_,m),!0}for(a=0;a<t;a++){var p=r[a].uid;typeof p=="number"&&(p=String(p)),!h(p,a)&&(a<l&&h(n[a].uid,a)||f(br.randstr(s),a))}return u}function EG(){var e=ot.collectableSubplotTypes,r={},t,n;if(!e){e=[];var a=ot.subplotsRegistry;for(var o in a){var i=a[o],l=i.attr;if(l&&(e.push(o),Array.isArray(l)))for(n=0;n<l.length;n++)br.pushUnique(e,l[n])}}for(t=0;t<e.length;t++)r[e[t]]=[];return r}function Iw(e,r){var t=e._context.locale;t||(t="en-US");var n=!1,a={};function o(h){for(var p=!0,_=0;_<r.length;_++){var m=r[_];a[m]||(h[m]?a[m]=h[m]:p=!1)}p&&(n=!0)}for(var i=0;i<2;i++){for(var l=e._context.locales,u=0;u<2;u++){var s=(l[t]||{}).format;if(s&&(o(s),n))break;l=ot.localeRegistry}var f=t.split("-")[0];if(n||f===t)break;t=f}return n||o(ot.localeRegistry.en.format),a}function LG(e,r){return e.decimal=r.charAt(0),e.thousands=r.charAt(1),{numberFormat:function(t){try{t=mG(e).format(br.adjustFormat(t))}catch(n){return br.warnBadFormat(t),br.noFormat}return t},timeFormat:yG(e).utcFormat}}function DG(e,r){var t,n=[];r.meta&&(t=r._meta={meta:r.meta,layout:{meta:r.meta}});for(var a=0;a<e.length;a++){var o=e[a];o.meta?n[o.index]=o._meta={meta:o.meta}:r.meta&&(o._meta={meta:r.meta}),r.meta&&(o._meta.layout={meta:r.meta})}n.length&&(t||(t=r._meta={}),t.data=n)}cr.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])};cr._hasPlotType=function(e){var r,t=this._basePlotModules||[];for(r=0;r<t.length;r++)if(t[r].name===e)return!0;var n=this._modules||[];for(r=0;r<n.length;r++){var a=n[r].name;if(a===e)return!0;var o=ot.modules[a];if(o&&o.categories[e])return!0}return!1};cr.cleanPlot=function(e,r,t,n){var a,o,i=n._basePlotModules||[];for(a=0;a<i.length;a++){var l=i[a];l.clean&&l.clean(e,r,t,n)}var u=n._has&&n._has("gl"),s=r._has&&r._has("gl");u&&!s&&n._glcontainer!==void 0&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcontainer.selectAll(".no-webgl").remove(),n._glcanvas=null);var f=!!n._infolayer;e:for(a=0;a<t.length;a++){var h=t[a],p=h.uid;for(o=0;o<e.length;o++){var _=e[o];if(p===_.uid)continue e}f&&n._infolayer.select(".cb"+p).remove()}};cr.linkSubplots=function(e,r,t,n){var a,o,i=n._plots||{},l=r._plots={},u=r._subplots,s={_fullData:e,_fullLayout:r},f=u.cartesian||[];for(a=0;a<f.length;a++){var h=f[a],p=i[h],_=ia.getFromId(s,h,"x"),m=ia.getFromId(s,h,"y"),w;for(p?w=l[h]=p:(w=l[h]={},w.id=h),_._counterAxes.push(m._id),m._counterAxes.push(_._id),_._subplotsWith.push(h),m._subplotsWith.push(h),w.xaxis=_,w.yaxis=m,w._hasClipOnAxisFalse=!1,o=0;o<e.length;o++){var T=e[o];if(T.xaxis===w.xaxis._id&&T.yaxis===w.yaxis._id&&T.cliponaxis===!1){w._hasClipOnAxisFalse=!0;break}}}var y=ia.list(s,null,!0),k;for(a=0;a<y.length;a++){k=y[a];var S=null;k.overlaying&&(S=ia.getFromId(s,k.overlaying),S&&S.overlaying&&(k.overlaying=!1,S=null)),k._mainAxis=S||k,S&&(k.domain=S.domain.slice()),k._anchorAxis=k.anchor==="free"?null:ia.getFromId(s,k.anchor)}for(a=0;a<y.length;a++)if(k=y[a],k._counterAxes.sort(ia.idSort),k._subplotsWith.sort(br.subplotSort),k._mainSubplot=RG(k,r),k._counterAxes.length&&(k.spikemode&&k.spikemode.indexOf("across")!==-1||k.automargin&&k.mirror&&k.anchor!=="free"||ot.getComponentMethod("rangeslider","isVisible")(k))){var b=1,M=0;for(o=0;o<k._counterAxes.length;o++){var d=ia.getFromId(s,k._counterAxes[o]);b=Math.min(b,d.domain[0]),M=Math.max(M,d.domain[1])}b<M&&(k._counterDomainMin=b,k._counterDomainMax=M)}};function RG(e,r){var t={_fullLayout:r},n=e._id.charAt(0)==="x",a=e._mainAxis._anchorAxis,o="",i="",l="";if(a&&(l=a._mainAxis._id,o=n?e._id+l:l+e._id),!o||!r._plots[o]){o="";for(var u=e._counterAxes,s=0;s<u.length;s++){var f=u[s],h=n?e._id+f:f+e._id;i||(i=h);var p=ia.getFromId(t,f);if(l&&p.overlaying===l){o=h;break}}}return o||i}cr.clearExpandedTraceDefaultColors=function(e){var r,t,n;function a(i,l,u,s){t[s]=l,t.length=s+1,i.valType==="color"&&i.dflt===void 0&&r.push(t.join("."))}for(t=[],r=e._module._colorAttrs,r||(e._module._colorAttrs=r=[],Ow.crawl(e._module.attributes,a)),n=0;n<r.length;n++){var o=br.nestedProperty(e,"_input."+r[n]);o.get()||br.nestedProperty(e,r[n]).set(null)}};cr.supplyDataDefaults=function(e,r,t,n){var a=n._modules,o=n._visibleModules,i=n._basePlotModules,l=0,u=0,s,f,h;n._transformModules=[];function p(k){r.push(k);var S=k._module;S&&(br.pushUnique(a,S),k.visible===!0&&br.pushUnique(o,S),br.pushUnique(i,k._module.basePlotModule),l++,k._input.visible!==!1&&u++)}var _={},m=[],w=(t.template||{}).data||{},T=xG.traceTemplater(w);for(s=0;s<e.length;s++)h=e[s],f=T.newTrace(h),f.uid=n._traceUids[s],cr.supplyTraceDefaults(h,f,u,n,s),f.index=s,f._input=h,f._fullInput=f,p(f),ot.traceIs(f,"carpetAxis")&&(_[f.carpet]=f),ot.traceIs(f,"carpetDependent")&&m.push(s);for(s=0;s<m.length;s++)if(f=r[m[s]],!!f.visible){var y=_[f.carpet];if(f._carpet=y,!y||!y.visible){f.visible=!1;continue}f.xaxis=y.xaxis,f.yaxis=y.yaxis}};cr.supplyAnimationDefaults=function(e){e=e||{};var r,t={};function n(a,o){return br.coerce(e||{},t,tg,a,o)}if(n("mode"),n("direction"),n("fromcurrent"),Array.isArray(e.frame))for(t.frame=[],r=0;r<e.frame.length;r++)t.frame[r]=cr.supplyAnimationFrameDefaults(e.frame[r]||{});else t.frame=cr.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(t.transition=[],r=0;r<e.transition.length;r++)t.transition[r]=cr.supplyAnimationTransitionDefaults(e.transition[r]||{});else t.transition=cr.supplyAnimationTransitionDefaults(e.transition||{});return t};cr.supplyAnimationFrameDefaults=function(e){var r={};function t(n,a){return br.coerce(e||{},r,tg.frame,n,a)}return t("duration"),t("redraw"),r};cr.supplyAnimationTransitionDefaults=function(e){var r={};function t(n,a){return br.coerce(e||{},r,tg.transition,n,a)}return t("duration"),t("easing"),r};cr.supplyFrameDefaults=function(e){var r={};function t(n,a){return br.coerce(e,r,MG,n,a)}return t("group"),t("name"),t("traces"),t("baseframe"),t("data"),t("layout"),r};cr.supplyTraceDefaults=function(e,r,t,n,a){var o=n.colorway||Bw.defaults,i=o[t%o.length],l;function u(S,b){return br.coerce(e,r,cr.attributes,S,b)}var s=u("visible");u("type"),u("name",n._traceWord+" "+a),u("uirevision",n.uirevision);var f=cr.getModule(r);if(r._module=f,f){var h=f.basePlotModule,p=h.attr,_=h.attributes;if(p&&_){var m=n._subplots,w="";if(Array.isArray(p))for(l=0;l<p.length;l++){var T=p[l],y=br.coerce(e,r,_,T);m[T]&&br.pushUnique(m[T],y),w+=y}else w=br.coerce(e,r,_,p);m[h.name]&&br.pushUnique(m[h.name],w)}}if(s&&(u("customdata"),u("ids"),u("meta"),ot.traceIs(r,"showLegend")?(br.coerce(e,r,f.attributes.showlegend?f.attributes:cr.attributes,"showlegend"),u("legend"),u("legendwidth"),u("legendgroup"),u("legendgrouptitle.text"),u("legendrank"),r._dfltShowLegend=!0):r._dfltShowLegend=!1,f&&f.supplyDefaults(e,r,i,n),ot.traceIs(r,"noOpacity")||u("opacity"),ot.traceIs(r,"notLegendIsolatable")&&(r.visible=!!r.visible),ot.traceIs(r,"noHover")||(r.hovertemplate||br.coerceHoverinfo(e,r,n),r.type!=="parcats"&&ot.getComponentMethod("fx","supplyDefaults")(e,r,i,n)),f&&f.selectPoints)){var k=u("selectedpoints");br.isTypedArray(k)&&(r.selectedpoints=Array.from(k))}return r};cr.supplyLayoutGlobalDefaults=function(e,r,t){function n(h,p){return br.coerce(e,r,cr.layoutAttributes,h,p)}var a=e.template;br.isPlainObject(a)&&(r.template=a,r._template=a.layout,r._dataTemplate=a.data),n("autotypenumbers");var o=br.coerceFont(n,"font"),i=o.size;br.coerceFont(n,"title.font",o,{overrideDflt:{size:Math.round(i*1.4)}}),n("title.text",r._dfltTitle.plot),n("title.xref");var l=n("title.yref");n("title.pad.t"),n("title.pad.r"),n("title.pad.b"),n("title.pad.l");var u=n("title.automargin");n("title.x"),n("title.xanchor"),n("title.y"),n("title.yanchor"),n("title.subtitle.text",r._dfltTitle.subtitle),br.coerceFont(n,"title.subtitle.font",o,{overrideDflt:{size:Math.round(r.title.font.size*.7)}}),u&&(l==="paper"&&(r.title.y!==0&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y===0?"top":"bottom")),l==="container"&&(r.title.y==="auto"&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y<.5?"bottom":"top")));var s=n("uniformtext.mode");s&&n("uniformtext.minsize"),n("autosize",!(e.width&&e.height)),n("width"),n("height"),n("minreducedwidth"),n("minreducedheight"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),e.width&&e.height&&cr.sanitizeMargins(r),ot.getComponentMethod("grid","sizeDefaults")(e,r),n("paper_bgcolor"),n("separators",t.decimal+t.thousands),n("hidesources"),n("colorway"),n("datarevision");var f=n("uirevision");n("editrevision",f),n("selectionrevision",f),ot.getComponentMethod("modebar","supplyLayoutDefaults")(e,r),ot.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,r,n),ot.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(e,r,n),n("meta"),br.isPlainObject(e.transition)&&(n("transition.duration"),n("transition.easing"),n("transition.ordering")),ot.getComponentMethod("calendars","handleDefaults")(e,r,"calendar"),ot.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,r,n),br.coerce(e,r,wG,"scattermode")};function vh(e){return typeof e=="string"&&e.substr(e.length-2)==="px"&&parseFloat(e)}cr.plotAutoSize=function(r,t,n){var a=r._context||{},o=a.frameMargins,i,l,u=br.isPlotDiv(r);if(u&&r.emit("plotly_autosize"),a.fillFrame)i=window.innerWidth,l=window.innerHeight,document.body.style.overflow="hidden";else{var s=u?window.getComputedStyle(r):{};if(i=vh(s.width)||vh(s.maxWidth)||n.width,l=vh(s.height)||vh(s.maxHeight)||n.height,Sf(o)&&o>0){var f=1-2*o;i=Math.round(f*i),l=Math.round(f*l)}}var h=cr.layoutAttributes.width.min,p=cr.layoutAttributes.height.min;i<h&&(i=h),l<p&&(l=p);var _=!t.width&&Math.abs(n.width-i)>1,m=!t.height&&Math.abs(n.height-l)>1;(m||_)&&(_&&(n.width=i),m&&(n.height=l)),r._initialAutoSize||(r._initialAutoSize={width:i,height:l}),cr.sanitizeMargins(n)};cr.supplyLayoutModuleDefaults=function(e,r,t,n){var a=ot.componentsRegistry,o=r._basePlotModules,i,l,u,s=ot.subplotsRegistry.cartesian;for(i in a)u=a[i],u.includeBasePlot&&u.includeBasePlot(e,r);o.length||o.push(s),r._has("cartesian")&&(ot.getComponentMethod("grid","contentDefaults")(e,r),s.finalizeSubplots(e,r));for(var f in r._subplots)r._subplots[f].sort(br.subplotSort);for(l=0;l<o.length;l++)u=o[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t);var h=r._modules;for(l=0;l<h.length;l++)u=h[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t);var p=r._transformModules;for(l=0;l<p.length;l++)u=p[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t,n);for(i in a)u=a[i],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t)};cr.purge=function(e){var r=e._fullLayout||{};r._glcontainer!==void 0&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.remove(),r._glcanvas=null),r._modeBar&&r._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),br.clearThrottle(),br.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()};cr.style=function(e){var r=e._fullLayout._visibleModules,t=[],n;for(n=0;n<r.length;n++){var a=r[n];a.style&&br.pushUnique(t,a.style)}for(n=0;n<t.length;n++)t[n](e)};cr.sanitizeMargins=function(e){if(!(!e||!e.margin)){var r=e.width,t=e.height,n=e.margin,a=r-(n.l+n.r),o=t-(n.t+n.b),i;a<0&&(i=(r-1)/(n.l+n.r),n.l=Math.floor(i*n.l),n.r=Math.floor(i*n.r)),o<0&&(i=(t-1)/(n.t+n.b),n.t=Math.floor(i*n.t),n.b=Math.floor(i*n.b))}};cr.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}};cr.allowAutoMargin=function(e,r){e._fullLayout._pushmarginIds[r]=1};function Uw(e){var r=e.margin;if(!e._size){var t=e._size={l:Math.round(r.l),r:Math.round(r.r),t:Math.round(r.t),b:Math.round(r.b),p:Math.round(r.pad)};t.w=Math.round(e.width)-t.l-t.r,t.h=Math.round(e.height)-t.t-t.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={}),e._reservedMargin||(e._reservedMargin={})}var Hw=2,Vw=2;cr.autoMargin=function(e,r,t){var n=e._fullLayout,a=n.width,o=n.height,i=n.margin,l=n.minreducedwidth,u=n.minreducedheight,s=br.constrain(a-i.l-i.r,Hw,l),f=br.constrain(o-i.t-i.b,Vw,u),h=Math.max(0,a-s),p=Math.max(0,o-f),_=n._pushmargin,m=n._pushmarginIds;if(i.autoexpand!==!1){if(!t)delete _[r],delete m[r];else{var w=t.pad;if(w===void 0&&(w=Math.min(12,i.l,i.r,i.t,i.b)),h){var T=(t.l+t.r)/h;T>1&&(t.l/=T,t.r/=T)}if(p){var y=(t.t+t.b)/p;y>1&&(t.t/=y,t.b/=y)}var k=t.xl!==void 0?t.xl:t.x,S=t.xr!==void 0?t.xr:t.x,b=t.yt!==void 0?t.yt:t.y,M=t.yb!==void 0?t.yb:t.y;_[r]={l:{val:k,size:t.l+w},r:{val:S,size:t.r+w},b:{val:M,size:t.b+w},t:{val:b,size:t.t+w}},m[r]=1}if(!n._replotting)return cr.doAutoMargin(e)}};function PG(e){if("_redrawFromAutoMarginCount"in e._fullLayout)return!1;var r=ia.list(e,"",!0);for(var t in r)if(r[t].autoshift||r[t].shift)return!0;return!1}cr.doAutoMargin=function(e){var r=e._fullLayout,t=r.width,n=r.height;r._size||(r._size={}),Uw(r);var a=r._size,o=r.margin,i={t:0,b:0,l:0,r:0},l=br.extendFlat({},a),u=o.l,s=o.r,f=o.t,h=o.b,p=r._pushmargin,_=r._pushmarginIds,m=r.minreducedwidth,w=r.minreducedheight;if(o.autoexpand!==!1){for(var T in p)_[T]||delete p[T];var y=e._fullLayout._reservedMargin;for(var k in y)for(var S in y[k]){var b=y[k][S];i[S]=Math.max(i[S],b)}p.base={l:{val:0,size:u},r:{val:1,size:s},t:{val:1,size:f},b:{val:0,size:h}};for(var M in i){var d=0;for(var x in p)x!=="base"&&Sf(p[x][M].size)&&(d=p[x][M].size>d?p[x][M].size:d);var g=Math.max(0,o[M]-d);i[M]=Math.max(0,i[M]-g)}for(var c in p){var A=p[c].l||{},v=p[c].b||{},D=A.val,E=A.size,R=v.val,N=v.size,F=t-i.r-i.l,I=n-i.t-i.b;for(var L in p){if(Sf(E)&&p[L].r){var P=p[L].r.val,O=p[L].r.size;if(P>D){var U=(E*P+(O-F)*D)/(P-D),X=(O*(1-D)+(E-F)*(1-P))/(P-D);U+X>u+s&&(u=U,s=X)}}if(Sf(N)&&p[L].t){var $=p[L].t.val,j=p[L].t.size;if($>R){var Y=(N*$+(j-I)*R)/($-R),q=(j*(1-R)+(N-I)*(1-$))/($-R);Y+q>h+f&&(h=Y,f=q)}}}}}var K=br.constrain(t-o.l-o.r,Hw,m),ne=br.constrain(n-o.t-o.b,Vw,w),Q=Math.max(0,t-K),oe=Math.max(0,n-ne);if(Q){var re=(u+s)/Q;re>1&&(u/=re,s/=re)}if(oe){var H=(h+f)/oe;H>1&&(h/=H,f/=H)}if(a.l=Math.round(u)+i.l,a.r=Math.round(s)+i.r,a.t=Math.round(f)+i.t,a.b=Math.round(h)+i.b,a.p=Math.round(o.pad),a.w=Math.round(t)-a.l-a.r,a.h=Math.round(n)-a.t-a.b,!r._replotting&&(cr.didMarginChange(l,a)||PG(e))){"_redrawFromAutoMarginCount"in r?r._redrawFromAutoMarginCount++:r._redrawFromAutoMarginCount=1;var ee=3*(1+Object.keys(_).length);if(r._redrawFromAutoMarginCount<ee)return ot.call("_doPlot",e);r._size=l,br.warn("Too many auto-margin redraws.")}IG(e)};function IG(e){var r=ia.list(e,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(t){for(var n=0;n<r.length;n++){var a=r[n][t];a&&a()}})}var Fw=["l","r","t","b","p","w","h"];cr.didMarginChange=function(e,r){for(var t=0;t<Fw.length;t++){var n=Fw[t],a=e[n],o=r[n];if(!Sf(a)||Math.abs(o-a)>1)return!0}return!1};cr.graphJson=function(e,r,t,n,a,o){(a&&r&&!e._fullData||a&&!r&&!e._fullLayout)&&cr.supplyDefaults(e);var i=a?e._fullData:e.data,l=a?e._fullLayout:e.layout,u=(e._transitionData||{})._frames;function s(p,_){if(typeof p=="function")return _?"_function_":null;if(br.isPlainObject(p)){var m={},w;return Object.keys(p).sort().forEach(function(S){if(["_","["].indexOf(S.charAt(0))===-1){if(typeof p[S]=="function"){_&&(m[S]="_function");return}if(t==="keepdata"){if(S.substr(S.length-3)==="src")return}else if(t==="keepstream"){if(w=p[S+"src"],typeof w=="string"&&w.indexOf(":")>0&&!br.isPlainObject(p.stream))return}else if(t!=="keepall"&&(w=p[S+"src"],typeof w=="string"&&w.indexOf(":")>0))return;m[S]=s(p[S],_)}}),m}var T=Array.isArray(p),y=br.isTypedArray(p);if((T||y)&&p.dtype&&p.shape){var k=p.bdata;return s({dtype:p.dtype,shape:p.shape,bdata:br.isArrayBuffer(k)?bG.encode(k):k},_)}return T?p.map(function(S){return s(S,_)}):y?br.simpleMap(p,br.identity):br.isJSDate(p)?br.ms2DateTimeLocal(+p):p}var f={data:(i||[]).map(function(p){var _=s(p);return r&&delete _.fit,_})};if(!r&&(f.layout=s(l),a)){var h=l._size;f.layout.computed={margin:{b:h.b,l:h.l,r:h.r,t:h.t}}}return u&&(f.frames=s(u)),o&&(f.config=s(e._context,!0)),n==="object"?f:JSON.stringify(f)};cr.modifyFrames=function(e,r){var t,n,a,o=e._transitionData._frames,i=e._transitionData._frameHash;for(t=0;t<r.length;t++)switch(n=r[t],n.type){case"replace":a=n.value;var l=(o[n.index]||{}).name,u=a.name;o[n.index]=i[u]=a,u!==l&&(delete i[l],i[u]=a);break;case"insert":a=n.value,i[a.name]=a,o.splice(n.index,0,a);break;case"delete":a=o[n.index],delete i[a.name],o.splice(n.index,1);break}return Promise.resolve()};cr.computeFrame=function(e,r){var t=e._transitionData._frameHash,n,a,o,i;if(!r)throw new Error("computeFrame must be given a string frame name");var l=t[r.toString()];if(!l)return!1;for(var u=[l],s=[l.name];l.baseframe&&(l=t[l.baseframe.toString()])&&s.indexOf(l.name)===-1;)u.push(l),s.push(l.name);for(var f={};l=u.pop();)if(l.layout&&(f.layout=cr.extendLayout(f.layout,l.layout)),l.data){if(f.data||(f.data=[]),a=l.traces,!a)for(a=[],n=0;n<l.data.length;n++)a[n]=n;for(f.traces||(f.traces=[]),n=0;n<l.data.length;n++)o=a[n],o!=null&&(i=f.traces.indexOf(o),i===-1&&(i=f.data.length,f.traces[i]=o),f.data[i]=cr.extendTrace(f.data[i],l.data[n]))}return f};cr.recomputeFrameHash=function(e){for(var r=e._transitionData._frameHash={},t=e._transitionData._frames,n=0;n<t.length;n++){var a=t[n];a&&a.name&&(r[a.name]=a)}};cr.extendObjectWithContainers=function(e,r,t){var n,a,o,i,l,u,s,f,h=br.extendDeepNoArrays({},r||{}),p=br.expandObjectPaths(h),_={};if(t&&t.length)for(o=0;o<t.length;o++)n=br.nestedProperty(p,t[o]),a=n.get(),a===void 0?br.nestedProperty(_,t[o]).set(null):(n.set(null),br.nestedProperty(_,t[o]).set(a));if(e=br.extendDeepNoArrays(e||{},p),t&&t.length){for(o=0;o<t.length;o++)if(l=br.nestedProperty(_,t[o]),s=l.get(),!!s){for(u=br.nestedProperty(e,t[o]),f=u.get(),Array.isArray(f)||(f=[],u.set(f)),i=0;i<s.length;i++){var m=s[i];m===null?f[i]=null:f[i]=cr.extendObjectWithContainers(f[i],m)}u.set(f)}}return e};cr.dataArrayContainers=["transforms","dimensions"];cr.layoutArrayContainers=ot.layoutArrayContainers;cr.extendTrace=function(e,r){return cr.extendObjectWithContainers(e,r,cr.dataArrayContainers)};cr.extendLayout=function(e,r){return cr.extendObjectWithContainers(e,r,cr.layoutArrayContainers)};cr.transition=function(e,r,t,n,a,o){var i={redraw:a.redraw},l={},u=[];return i.prepareFn=function(){for(var s=Array.isArray(r)?r.length:0,f=n.slice(0,s),h=0;h<f.length;h++){var p=f[h],_=e._fullData[p],m=_._module;if(m){if(m.animatable){var w=m.basePlotModule.name;l[w]||(l[w]=[]),l[w].push(p)}e.data[f[h]]=cr.extendTrace(e.data[f[h]],r[h])}}var T=br.expandObjectPaths(br.extendDeepNoArrays({},t)),y=/^[xy]axis[0-9]*$/;for(var k in T)y.test(k)&&delete T[k].range;cr.extendLayout(e.layout,T),delete e.calcdata,cr.supplyDefaults(e),cr.doCalcdata(e);var S=br.expandObjectPaths(t);if(S){var b=e._fullLayout._plots;for(var M in b){var d=b[M],x=d.xaxis,g=d.yaxis,c=x.range.slice(),A=g.range.slice(),v=null,D=null,E=null,R=null;Array.isArray(S[x._name+".range"])?v=S[x._name+".range"].slice():Array.isArray((S[x._name]||{}).range)&&(v=S[x._name].range.slice()),Array.isArray(S[g._name+".range"])?D=S[g._name+".range"].slice():Array.isArray((S[g._name]||{}).range)&&(D=S[g._name].range.slice()),c&&v&&(x.r2l(c[0])!==x.r2l(v[0])||x.r2l(c[1])!==x.r2l(v[1]))&&(E={xr0:c,xr1:v}),A&&D&&(g.r2l(A[0])!==g.r2l(D[0])||g.r2l(A[1])!==g.r2l(D[1]))&&(R={yr0:A,yr1:D}),(E||R)&&u.push(br.extendFlat({plotinfo:d},E,R))}}return Promise.resolve()},i.runFn=function(s){var f,h=e._fullLayout._basePlotModules,p=u.length,_;if(t)for(_=0;_<h.length;_++)h[_].transitionAxes&&h[_].transitionAxes(e,u,o,s);p?(f=br.extendFlat({},o),f.duration=0,delete l.cartesian):f=o;for(var m in l){var w=l[m],T=e._fullData[w[0]]._module;T.basePlotModule.plot(e,w,f,s)}},Gw(e,o,i)};cr.transitionFromReact=function(e,r,t,n){var a=e._fullLayout,o=a.transition,i={},l=[];return i.prepareFn=function(){var u=a._plots;i.redraw=!1,r.anim==="some"&&(i.redraw=!0),t.anim==="some"&&(i.redraw=!0);for(var s in u){var f=u[s],h=f.xaxis,p=f.yaxis,_=n[h._name].range.slice(),m=n[p._name].range.slice(),w=h.range.slice(),T=p.range.slice();h.setScale(),p.setScale();var y=null,k=null;(h.r2l(_[0])!==h.r2l(w[0])||h.r2l(_[1])!==h.r2l(w[1]))&&(y={xr0:_,xr1:w}),(p.r2l(m[0])!==p.r2l(T[0])||p.r2l(m[1])!==p.r2l(T[1]))&&(k={yr0:m,yr1:T}),(y||k)&&l.push(br.extendFlat({plotinfo:f},y,k))}return Promise.resolve()},i.runFn=function(u){for(var s=e._fullData,f=e._fullLayout,h=f._basePlotModules,p,_,m,w=[],T=0;T<s.length;T++)w.push(T);function y(){if(e._fullLayout)for(var S=0;S<h.length;S++)h[S].transitionAxes&&h[S].transitionAxes(e,l,p,u)}function k(){if(e._fullLayout)for(var S=0;S<h.length;S++)h[S].plot(e,m,_,u)}l.length&&r.anim?o.ordering==="traces first"?(p=br.extendFlat({},o,{duration:0}),m=w,_=o,setTimeout(y,o.duration),k()):(p=o,m=null,_=br.extendFlat({},o,{duration:0}),setTimeout(k,p.duration),y()):l.length?(p=o,y()):r.anim&&(m=w,_=o,k())},Gw(e,o,i)};function Gw(e,r,t){var n=!1;function a(h){var p=Promise.resolve();if(!h)return p;for(;h.length;)p=p.then(h.shift());return p}function o(h){if(h)for(;h.length;)h.shift()}function i(){return e.emit("plotly_transitioning",[]),new Promise(function(h){e._transitioning=!0,r.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){n=!0}),t.redraw&&e._transitionData._interruptCallbacks.push(function(){return ot.call("redraw",e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var p=0,_=0;function m(){return p++,function(){_++,!n&&_===p&&l(h)}}t.runFn(m),setTimeout(m())})}function l(h){if(e._transitionData)return o(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(t.redraw)return ot.call("redraw",e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(h)}function u(){if(e._transitionData)return e._transitioning=!1,a(e._transitionData._interruptCallbacks)}var s=[cr.previousPromises,u,t.prepareFn,cr.rehover,cr.reselect,i],f=br.syncOrAsync(s,e);return(!f||!f.then)&&(f=Promise.resolve()),f.then(function(){return e})}cr.doCalcdata=function(e,r){var t=ia.list(e),n=e._fullData,a=e._fullLayout,o,i,l,u,s=new Array(n.length),f=(e.calcdata||[]).slice();for(e.calcdata=s,a._numBoxes=0,a._numViolins=0,a._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,a._piecolormap={},a._sunburstcolormap={},a._treemapcolormap={},a._iciclecolormap={},a._funnelareacolormap={},l=0;l<n.length;l++)if(Array.isArray(r)&&r.indexOf(l)===-1){s[l]=f[l];continue}for(l=0;l<n.length;l++)o=n[l],o._arrayAttrs=Ow.findArrayAttributes(o),o._extremes={};var h=a._subplots.polar||[];for(l=0;l<h.length;l++)t.push(a[h[l]].radialaxis,a[h[l]].angularaxis);for(var p in a._colorAxes){var _=a[p];_.cauto!==!1&&(delete _.cmin,delete _.cmax)}var m=!1;function w(k){if(o=n[k],i=o._module,o.visible===!0&&o.transforms){if(i&&i.calc){var S=i.calc(e,o);S[0]&&S[0].t&&S[0].t._scene&&delete S[0].t._scene.dirty}for(u=0;u<o.transforms.length;u++){var b=o.transforms[u];i=transformsRegistry[b.type],i&&i.calcTransform&&(o._hasCalcTransform=!0,m=!0,i.calcTransform(e,o,b))}}}function T(k,S){if(o=n[k],i=o._module,!!i.isContainer===S){var b=[];if(o.visible===!0&&o._length!==0){delete o._indexToPoints;var M=o.transforms||[];for(u=M.length-1;u>=0;u--)if(M[u].enabled){o._indexToPoints=M[u]._indexToPoints;break}i&&i.calc&&(b=i.calc(e,o))}(!Array.isArray(b)||!b[0])&&(b=[{x:Rw,y:Rw}]),b[0].t||(b[0].t={}),b[0].trace=o,s[k]=b}}for(Nw(t,n,a),l=0;l<n.length;l++)T(l,!0);for(l=0;l<n.length;l++)w(l);for(m&&Nw(t,n,a),l=0;l<n.length;l++)T(l,!0);for(l=0;l<n.length;l++)T(l,!1);zw(e);var y=NG(t,e);if(y.length){for(a._numBoxes=0,a._numViolins=0,l=0;l<y.length;l++)T(y[l],!0);for(l=0;l<y.length;l++)T(y[l],!1);zw(e)}ot.getComponentMethod("fx","calc")(e),ot.getComponentMethod("errorbars","calc")(e)};var FG=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function NG(e,r){var t=[],n,a,o,i,l;function u(L,P,O){var U=P._id.charAt(0);if(L==="histogram2dcontour"){var X=P._counterAxes[0],$=ia.getFromId(r,X),j=U==="x"||X==="x"&&$.type==="category",Y=U==="y"||X==="y"&&$.type==="category";return function(q,K){return q===0||K===0||j&&q===O[K].length-1||Y&&K===O.length-1?-1:(U==="y"?K:q)-1}}else return function(q,K){return U==="y"?K:q}}var s={min:function(L){return br.aggNums(Math.min,null,L)},max:function(L){return br.aggNums(Math.max,null,L)},sum:function(L){return br.aggNums(function(P,O){return P+O},null,L)},total:function(L){return br.aggNums(function(P,O){return P+O},null,L)},mean:function(L){return br.mean(L)},"geometric mean":function(L){return br.geometricMean(L)},median:function(L){return br.median(L)}};function f(L,P){return L[1]-P[1]}function h(L,P){return P[1]-L[1]}for(n=0;n<e.length;n++){var p=e[n];if(p.type==="category"){var _=p.categoryorder.match(FG);if(_){var m=_[1],w=_[2],T=p._id.charAt(0),y=T==="x",k=[];for(a=0;a<p._categories.length;a++)k.push([p._categories[a],[]]);for(a=0;a<p._traceIndices.length;a++){var S=p._traceIndices[a],b=r._fullData[S];if(b.visible===!0){var M=b.type;ot.traceIs(b,"histogram")&&(delete b._xautoBinFinished,delete b._yautoBinFinished);var d=M==="splom",x=M==="scattergl",g=r.calcdata[S];for(o=0;o<g.length;o++){var c=g[o],A,v;if(d){var D=b._axesDim[p._id];if(!y){var E=b._diag[D][0];E&&(p=r._fullLayout[ia.id2name(E)])}var R=c.trace.dimensions[D].values;for(i=0;i<R.length;i++)for(A=p._categoriesMap[R[i]],l=0;l<c.trace.dimensions.length;l++)if(l!==D){var N=c.trace.dimensions[l];k[A][1].push(N.values[i])}}else if(x){for(i=0;i<c.t.x.length;i++)y?(A=c.t.x[i],v=c.t.y[i]):(A=c.t.y[i],v=c.t.x[i]),k[A][1].push(v);c.t&&c.t._scene&&delete c.t._scene.dirty}else if(c.hasOwnProperty("z")){v=c.z;var F=u(b.type,p,v);for(i=0;i<v.length;i++)for(l=0;l<v[i].length;l++)A=F(l,i),A+1&&k[A][1].push(v[i][l])}else for(A=c.p,A===void 0&&(A=c[T]),v=c.s,v===void 0&&(v=c.v),v===void 0&&(v=y?c.y:c.x),Array.isArray(v)||(v===void 0?v=[]:v=[v]),i=0;i<v.length;i++)k[A][1].push(v[i])}}}p._categoriesValue=k;var I=[];for(a=0;a<k.length;a++)I.push([k[a][0],s[m](k[a][1])]);I.sort(w==="descending"?h:f),p._categoriesAggregatedValue=I,p._initialCategories=I.map(function(L){return L[0]}),t=t.concat(p.sortByInitialCategories())}}}return t}function Nw(e,r,t){var n={};function a(u){u.clearCalc(),u.type==="multicategory"&&u.setupMultiCategory(r),n[u._id]=1}br.simpleMap(e,a);for(var o=t._axisMatchGroups||[],i=0;i<o.length;i++)for(var l in o[i])n[l]||a(t[ia.id2name(l)])}function zw(e){var r=e._fullLayout,t=r._visibleModules,n={},a,o,i;for(o=0;o<t.length;o++){var l=t[o],u=l.crossTraceCalc;if(u){var s=l.basePlotModule.name;n[s]?br.pushUnique(n[s],u):n[s]=[u]}}for(i in n){var f=n[i],h=r._subplots[i];if(Array.isArray(h))for(a=0;a<h.length;a++){var p=h[a],_=i==="cartesian"?r._plots[p]:r[p];for(o=0;o<f.length;o++)f[o](e,_,p)}else for(o=0;o<f.length;o++)f[o](e)}}cr.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()};cr.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()};cr.reselect=function(e){var r=e._fullLayout,t=(e.layout||{}).selections,n=r._previousSelections;r._previousSelections=t;var a=r._reselect||JSON.stringify(t)!==JSON.stringify(n);ot.getComponentMethod("selections","reselect")(e,a)};cr.generalUpdatePerTraceModule=function(e,r,t,n){var a=r.traceHash,o={},i;for(i=0;i<t.length;i++){var l=t[i],u=l[0].trace;u.visible&&(o[u.type]=o[u.type]||[],o[u.type].push(l))}for(var s in a)if(!o[s]){var f=a[s][0],h=f[0].trace;h.visible=!1,o[s]=[f]}for(var p in o){var _=o[p],m=_[0][0].trace._module;m.plot(e,r,br.filterVisible(_),n)}r.traceHash=o};cr.plotBasePlot=function(e,r,t,n,a){var o=ot.getModule(e),i=TG(r.calcdata,o)[0];o.plot(r,i,n,a)};cr.cleanBasePlot=function(e,r,t,n,a){var o=a._has&&a._has(e),i=t._has&&t._has(e);o&&!i&&a["_"+e+"layer"].selectAll("g.trace").remove()}});var Fo=de(Il=>{"use strict";Il.xmlns="http://www.w3.org/2000/xmlns/";Il.svg="http://www.w3.org/2000/svg";Il.xlink="http://www.w3.org/1999/xlink";Il.svgAttrs={xmlns:Il.svg,"xmlns:xlink":Il.xlink}});var qn=de((ice,Ww)=>{"use strict";Ww.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}});var Wn=de(Ea=>{"use strict";var Wt=it(),eo=ir(),zG=eo.strTranslate,ng=Fo(),qG=qn().LINE_SPACING,OG=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;Ea.convertToTspans=function(e,r,t){var n=e.text(),a=!e.attr("data-notex")&&r&&r._context.typesetMath&&typeof MathJax!="undefined"&&n.match(OG),o=Wt.select(e.node().parentNode);if(o.empty())return;var i=e.attr("class")?e.attr("class").split(" ")[0]:"text";i+="-math",o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove(),e.style("display",null).attr({"data-unformatted":n,"data-math":"N"});function l(){o.empty()||(i=e.attr("class")+"-math",o.select("svg."+i).remove()),e.text("").style("white-space","pre");var u=$G(e.node(),n);u&&e.style("pointer-events","all"),Ea.positionText(e),t&&t.call(e)}return a?(r&&r._promises||[]).push(new Promise(function(u){e.style("display","none");var s=parseInt(e.node().style.fontSize,10),f={fontSize:s};VG(a[2],f,function(h,p,_){o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove();var m=h&&h.select("svg");if(!m||!m.node()){l(),u();return}var w=o.append("g").classed(i+"-group",!0).attr({"pointer-events":"none","data-unformatted":n,"data-math":"Y"});w.node().appendChild(m.node()),p&&p.node()&&m.node().insertBefore(p.node().cloneNode(!0),m.node().firstChild);var T=_.width,y=_.height;m.attr({class:i,height:y,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var k=e.node().style.fill||"black",S=m.select("g");S.attr({fill:k,stroke:k});var b=S.node().getBoundingClientRect(),M=b.width,d=b.height;(M>T||d>y)&&(m.style("overflow","hidden"),b=m.node().getBoundingClientRect(),M=b.width,d=b.height);var x=+e.attr("x"),g=+e.attr("y"),c=s||e.node().getBoundingClientRect().height,A=-c/4;if(i[0]==="y")w.attr({transform:"rotate("+[-90,x,g]+")"+zG(-M/2,A-d/2)});else if(i[0]==="l")g=A-d/2;else if(i[0]==="a"&&i.indexOf("atitle")!==0)x=0,g=A;else{var v=e.attr("text-anchor");x=x-M*(v==="middle"?.5:v==="end"?1:0),g=g+A-d/2}m.attr({x,y:g}),t&&t.call(e,w),u(w)})})):l(),e};var BG=/(<|&lt;|&#60;)/g,UG=/(>|&gt;|&#62;)/g;function HG(e){return e.replace(BG,"\\lt ").replace(UG,"\\gt ")}var Xw=[["$","$"],["\\(","\\)"]];function VG(e,r,t){var n=parseInt((MathJax.version||"").split(".")[0]);if(n!==2&&n!==3){eo.warn("No MathJax version:",MathJax.version);return}var a,o,i,l,u=function(){return o=eo.extendDeepAll({},MathJax.Hub.config),i=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:Xw},displayAlign:"left"})},s=function(){o=eo.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=Xw},f=function(){if(a=MathJax.Hub.config.menuSettings.renderer,a!=="SVG")return MathJax.Hub.setRenderer("SVG")},h=function(){a=MathJax.config.startup.output,a!=="svg"&&(MathJax.config.startup.output="svg")},p=function(){var k="math-output-"+eo.randstr({},64);l=Wt.select("body").append("div").attr({id:k}).style({visibility:"hidden",position:"absolute","font-size":r.fontSize+"px"}).text(HG(e));var S=l.node();return n===2?MathJax.Hub.Typeset(S):MathJax.typeset([S])},_=function(){var k=l.select(n===2?".MathJax_SVG":".MathJax"),S=!k.empty()&&l.select("svg").node();if(!S)eo.log("There was an error in the tex syntax.",e),t();else{var b=S.getBoundingClientRect(),M;n===2?M=Wt.select("body").select("#MathJax_SVG_glyphs"):M=k.select("defs"),t(k,M,b)}l.remove()},m=function(){if(a!=="SVG")return MathJax.Hub.setRenderer(a)},w=function(){a!=="svg"&&(MathJax.config.startup.output=a)},T=function(){return i!==void 0&&(MathJax.Hub.processSectionDelay=i),MathJax.Hub.Config(o)},y=function(){MathJax.config=o};n===2?MathJax.Hub.Queue(u,f,p,_,m,T):n===3&&(s(),h(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){p(),_(),w(),y()}))}var Qw={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},GG={sub:"0.3em",sup:"-0.6em"},YG={sub:"-0.21em",sup:"0.42em"},Zw="\u200B",Jw=["http:","https:","mailto:","",void 0,":"],$w=Ea.NEWLINES=/(\r\n?|\n)/g,ig=/(<[^<>]*>)/,og=/<(\/?)([^ >]*)(\s+(.*))?>/i,WG=/<br(\s+.*)?>/i;Ea.BR_TAG_ALL=/<br(\s+.*)?>/gi;var jw=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,e7=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,r7=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,XG=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function Fl(e,r){if(!e)return null;var t=e.match(r),n=t&&(t[3]||t[4]);return n&&ph(n)}var ZG=/(^|;)\s*color:/;Ea.plainText=function(e,r){r=r||{};for(var t=r.len!==void 0&&r.len!==-1?r.len:1/0,n=r.allowedTags!==void 0?r.allowedTags:["br"],a="...",o=a.length,i=e.split(ig),l=[],u="",s=0,f=0;f<i.length;f++){var h=i[f],p=h.match(og),_=p&&p[2].toLowerCase();if(_)n.indexOf(_)!==-1&&(l.push(h),u=_);else{var m=h.length;if(s+m<t)l.push(h),s+=m;else if(s<t){var w=t-s;u&&(u!=="br"||w<=o||m<=o)&&l.pop(),t>o?l.push(h.substr(0,w-o)+a):l.push(h.substr(0,w));break}u=""}}return l.join("")};var JG={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},KG=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function ph(e){return e.replace(KG,function(r,t){var n;return t.charAt(0)==="#"?n=QG(t.charAt(1)==="x"?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):n=JG[t],n||r})}Ea.convertEntities=ph;function QG(e){if(!(e>1114111)){var r=String.fromCodePoint;if(r)return r(e);var t=String.fromCharCode;return e<=65535?t(e):t((e>>10)+55232,e%1024+56320)}}function $G(e,r){r=r.replace($w," ");var t=!1,n=[],a,o=-1;function i(){o++;var d=document.createElementNS(ng.svg,"tspan");Wt.select(d).attr({class:"line",dy:o*qG+"em"}),e.appendChild(d),a=d;var x=n;if(n=[{node:d}],x.length>1)for(var g=1;g<x.length;g++)l(x[g])}function l(d){var x=d.type,g={},c;if(x==="a"){c="a";var A=d.target,v=d.href,D=d.popup;v&&(g={"xlink:xlink:show":A==="_blank"||A.charAt(0)!=="_"?"new":"replace",target:A,"xlink:xlink:href":v},D&&(g.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+D+'");return false;'))}else c="tspan";d.style&&(g.style=d.style);var E=document.createElementNS(ng.svg,c);if(x==="sup"||x==="sub"){u(a,Zw),a.appendChild(E);var R=document.createElementNS(ng.svg,"tspan");u(R,Zw),Wt.select(R).attr("dy",YG[x]),g.dy=GG[x],a.appendChild(E),a.appendChild(R)}else a.appendChild(E);Wt.select(E).attr(g),a=d.node=E,n.push(d)}function u(d,x){d.appendChild(document.createTextNode(x))}function s(d){if(n.length===1){eo.log("Ignoring unexpected end tag </"+d+">.",r);return}var x=n.pop();d!==x.type&&eo.log("Start tag <"+x.type+"> doesnt match end tag <"+d+">. Pretending it did match.",r),a=n[n.length-1].node}var f=WG.test(r);f?i():(a=e,n=[{node:e}]);for(var h=r.split(ig),p=0;p<h.length;p++){var _=h[p],m=_.match(og),w=m&&m[2].toLowerCase(),T=Qw[w];if(w==="br")i();else if(T===void 0)u(a,ph(_));else if(m[1])s(w);else{var y=m[4],k={type:w},S=Fl(y,jw);if(S?(S=S.replace(ZG,"$1 fill:"),T&&(S+=";"+T)):T&&(S=T),S&&(k.style=S),w==="a"){t=!0;var b=Fl(y,e7);if(b){var M=t7(b);M&&(k.href=M,k.target=Fl(y,r7)||"_blank",k.popup=Fl(y,XG))}}l(k)}}return t}function t7(e){var r=encodeURI(decodeURI(e)),t=document.createElement("a"),n=document.createElement("a");t.href=e,n.href=r;var a=t.protocol,o=n.protocol;return Jw.indexOf(a)!==-1&&Jw.indexOf(o)!==-1?r:""}Ea.sanitizeHTML=function(r){r=r.replace($w," ");for(var t=document.createElement("p"),n=t,a=[],o=r.split(ig),i=0;i<o.length;i++){var l=o[i],u=l.match(og),s=u&&u[2].toLowerCase();if(s in Qw)if(u[1])a.length&&(n=a.pop());else{var f=u[4],h=Fl(f,jw),p=h?{style:h}:{};if(s==="a"){var _=Fl(f,e7);if(_){var m=t7(_);if(m){p.href=m;var w=Fl(f,r7);w&&(p.target=w)}}}var T=document.createElement(s);n.appendChild(T),Wt.select(T).attr(p),n=T,a.push(T)}else n.appendChild(document.createTextNode(ph(l)))}var y="innerHTML";return t[y]};Ea.lineCount=function(r){return r.selectAll("tspan.line").size()||1};Ea.positionText=function(r,t,n){return r.each(function(){var a=Wt.select(this);function o(u,s){return s===void 0?(s=a.attr(u),s===null&&(a.attr(u,0),s=0)):a.attr(u,s),s}var i=o("x",t),l=o("y",n);this.nodeName==="text"&&a.selectAll("tspan.line").attr({x:i,y:l})})};function Kw(e,r,t){var n=t.horizontalAlign,a=t.verticalAlign||"top",o=e.node().getBoundingClientRect(),i=r.node().getBoundingClientRect(),l,u,s;return a==="bottom"?u=function(){return o.bottom-l.height}:a==="middle"?u=function(){return o.top+(o.height-l.height)/2}:u=function(){return o.top},n==="right"?s=function(){return o.right-l.width}:n==="center"?s=function(){return o.left+(o.width-l.width)/2}:s=function(){return o.left},function(){l=this.node().getBoundingClientRect();var f=s()-i.left,h=u()-i.top,p=t.gd||{};if(t.gd){p._fullLayout._calcInverseTransform(p);var _=eo.apply3DTransform(p._fullLayout._invTransform)(f,h);f=_[0],h=_[1]}return this.style({top:h+"px",left:f+"px","z-index":1e3}),this}}var ag="1px ";Ea.makeTextShadow=function(e){var r=ag,t=ag,n=ag;return r+t+n+e+", -"+r+"-"+t+n+e+", "+r+"-"+t+n+e+", -"+r+t+n+e};Ea.makeEditable=function(e,r){var t=r.gd,n=r.delegate,a=Wt.dispatch("edit","input","cancel"),o=n||e;if(e.style({"pointer-events":n?"none":"all"}),e.size()!==1)throw new Error("boo");function i(){u(),e.style({opacity:0});var s=o.attr("class"),f;s?f="."+s.split(" ")[0]+"-math-group":f="[class*=-math-group]",f&&Wt.select(e.node().parentNode).select(f).style({opacity:0})}function l(s){var f=s.node(),h=document.createRange();h.selectNodeContents(f);var p=window.getSelection();p.removeAllRanges(),p.addRange(h),f.focus()}function u(){var s=Wt.select(t),f=s.select(".svg-container"),h=f.append("div"),p=e.node().style,_=parseFloat(p.fontSize||12),m=r.text;m===void 0&&(m=e.attr("data-unformatted")),h.classed("plugin-editable editable",!0).style({position:"absolute","font-family":p.fontFamily||"Arial","font-size":_,color:r.fill||p.fill||"black",opacity:1,"background-color":r.background||"transparent",outline:"#ffffff33 1px solid",margin:[-_/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(m).call(Kw(e,f,r)).on("blur",function(){t._editing=!1,e.text(this.textContent).style({opacity:1});var w=Wt.select(this).attr("class"),T;w?T="."+w.split(" ")[0]+"-math-group":T="[class*=-math-group]",T&&Wt.select(e.node().parentNode).select(T).style({opacity:0});var y=this.textContent;Wt.select(this).transition().duration(0).remove(),Wt.select(document).on("mouseup",null),a.edit.call(e,y)}).on("focus",function(){var w=this;t._editing=!0,Wt.select(document).on("mouseup",function(){if(Wt.event.target===w)return!1;document.activeElement===h.node()&&h.node().blur()})}).on("keyup",function(){Wt.event.which===27?(t._editing=!1,e.style({opacity:1}),Wt.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),a.cancel.call(e,this.textContent)):(a.input.call(e,this.textContent),Wt.select(this).call(Kw(e,f,r)))}).on("keydown",function(){Wt.event.which===13&&this.blur()}).call(l)}return r.immediate?i():o.on("click",i),Wt.rebind(e,a,"on")}});var Si=de((lce,f7)=>{"use strict";var jG=it(),yh=ka(),Ef=nt(),gh=ir(),n7=Xr(),eY=Ml().isValid;function rY(e,r,t){var n=r?gh.nestedProperty(e,r).get()||{}:e,a=n[t||"color"];a&&a._inputArray&&(a=a._inputArray);var o=!1;if(gh.isArrayOrTypedArray(a)){for(var i=0;i<a.length;i++)if(Ef(a[i])){o=!0;break}}return gh.isPlainObject(n)&&(o||n.showscale===!0||Ef(n.cmin)&&Ef(n.cmax)||eY(n.colorscale)||gh.isPlainObject(n.colorbar))}var a7=["showscale","autocolorscale","colorscale","reversescale","colorbar"],Cf=["min","max","mid","auto"];function o7(e){var r=e._colorAx,t=r||e,n={},a,o,i;for(o=0;o<a7.length;o++)i=a7[o],n[i]=t[i];if(r)for(a="c",o=0;o<Cf.length;o++)i=Cf[o],n[i]=t["c"+i];else{var l;for(o=0;o<Cf.length;o++){if(i=Cf[o],l="c"+i,l in t){n[i]=t[l];continue}l="z"+i,l in t&&(n[i]=t[l])}a=l.charAt(0)}return n._sync=function(u,s){var f=Cf.indexOf(u)!==-1?a+u:u;t[f]=t["_"+f]=s},n}function l7(e){for(var r=o7(e),t=r.min,n=r.max,a=r.reversescale?s7(r.colorscale):r.colorscale,o=a.length,i=new Array(o),l=new Array(o),u=0;u<o;u++){var s=a[u];i[u]=t+s[0]*(n-t),l[u]=s[1]}return{domain:i,range:l}}function s7(e){for(var r=e.length,t=new Array(r),n=r-1,a=0;n>=0;n--,a++){var o=e[n];t[a]=[1-o[0],o[1]]}return t}function u7(e,r){r=r||{};for(var t=e.domain,n=e.range,a=n.length,o=new Array(a),i=0;i<a;i++){var l=yh(n[i]).toRgb();o[i]=[l.r,l.g,l.b,l.a]}var u=jG.scale.linear().domain(t).range(o).clamp(!0),s=r.noNumericCheck,f=r.returnArray,h;return s&&f?h=u:s?h=function(p){return i7(u(p))}:f?h=function(p){return Ef(p)?u(p):yh(p).isValid()?p:n7.defaultLine}:h=function(p){return Ef(p)?i7(u(p)):yh(p).isValid()?p:n7.defaultLine},h.domain=u.domain,h.range=function(){return n},h}function tY(e,r){return u7(l7(e),r)}function i7(e){var r={r:e[0],g:e[1],b:e[2],a:e[3]};return yh(r).toRgbString()}f7.exports={hasColorscale:rY,extractOpts:o7,extractScale:l7,flipScale:s7,makeColorScaleFunc:u7,makeColorScaleFuncFromTrace:tY}});var ro=de((sce,v7)=>{"use strict";var c7=Sp(),nY=c7.FORMAT_LINK,aY=c7.DATE_FORMAT_LINK;function iY(e,r){return{valType:"string",dflt:"",editType:"none",description:(r?lg:h7)("hover text",e)+["By default the values are formatted using "+(r?"generic number format":"`"+e+"axis.hoverformat`")+"."].join(" ")}}function lg(e,r){return["Sets the "+e+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+nY+"."].join(" ")}function h7(e,r){return lg(e,r)+[" And for dates see: "+aY+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}v7.exports={axisHoverFormat:iY,descriptionOnlyNumbers:lg,descriptionWithDates:h7}});var La=de((fce,L7)=>{"use strict";var d7=kn(),Zs=Ti(),E7=Ao().dash,ug=Tt().extendFlat,p7=yt().templatedArray,uce=Ka().templateFormatStringDescription,g7=ro().descriptionWithDates,oY=nn().ONEDAY,Ci=_n(),lY=Ci.HOUR_PATTERN,sY=Ci.WEEKDAY_PATTERN,sg={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},uY=ug({},sg,{values:sg.values.slice().concat(["sync"])});function y7(e){return{valType:"integer",min:0,dflt:e?5:0,editType:"ticks"}}var m7={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},b7={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},x7={valType:"data_array",editType:"ticks"},_7={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function w7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=5),r}function M7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var T7={valType:"color",dflt:Zs.defaultLine,editType:"ticks"},A7={valType:"color",dflt:Zs.lightLine,editType:"ticks"};function k7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var S7=ug({},E7,{editType:"ticks"}),C7={valType:"boolean",editType:"ticks"};L7.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:Zs.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:d7({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},modebardisable:{valType:"flaglist",flags:["autoscale","zoominout"],extras:["none"],dflt:"none",editType:"modebar"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[Ci.idRegex.x.toString(),Ci.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[Ci.idRegex.x.toString(),Ci.idRegex.y.toString()],editType:"calc"},rangebreaks:p7("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[sY,lY,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:oY},editType:"calc"}),tickmode:uY,nticks:y7(),tick0:m7,dtick:b7,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:x7,ticktext:{valType:"data_array",editType:"ticks"},ticks:_7,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:w7(),tickwidth:M7(),tickcolor:T7,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:ug({},E7,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:d7({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B","SI extended"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:g7("tick label")},tickformatstops:p7("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:g7("hover text")},unifiedhovertitle:{text:{valType:"string",dflt:"",editType:"none"},editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:Zs.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:C7,gridcolor:A7,gridwidth:k7(),griddash:S7,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:Zs.defaultLine,editType:"ticks"},zerolinelayer:{valType:"enumerated",values:["above traces","below traces"],dflt:"below traces",editType:"plot"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:Zs.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",Ci.idRegex.x.toString(),Ci.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",Ci.idRegex.x.toString(),Ci.idRegex.y.toString()],editType:"plot"},minor:{tickmode:sg,nticks:y7("minor"),tick0:m7,dtick:b7,tickvals:x7,ticks:_7,ticklen:w7("minor"),tickwidth:M7("minor"),tickcolor:T7,gridcolor:A7,gridwidth:k7("minor"),griddash:S7,showgrid:C7,editType:"ticks"},minorloglabels:{valType:"enumerated",values:["small digits","complete","none"],dflt:"small digits",editType:"calc"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}});var mh=de((cce,P7)=>{"use strict";var kt=La(),D7=kn(),R7=Tt().extendFlat,fY=zn().overrideAll;P7.exports=fY({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:kt.linecolor,outlinewidth:kt.linewidth,bordercolor:kt.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:kt.minor.tickmode,nticks:kt.nticks,tick0:kt.tick0,dtick:kt.dtick,tickvals:kt.tickvals,ticktext:kt.ticktext,ticks:R7({},kt.ticks,{dflt:""}),ticklabeloverflow:R7({},kt.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:kt.ticklen,tickwidth:kt.tickwidth,tickcolor:kt.tickcolor,ticklabelstep:kt.ticklabelstep,showticklabels:kt.showticklabels,labelalias:kt.labelalias,tickfont:D7({}),tickangle:kt.tickangle,tickformat:kt.tickformat,tickformatstops:kt.tickformatstops,tickprefix:kt.tickprefix,showtickprefix:kt.showtickprefix,ticksuffix:kt.ticksuffix,showticksuffix:kt.showticksuffix,separatethousands:kt.separatethousands,exponentformat:kt.exponentformat,minexponent:kt.minexponent,showexponent:kt.showexponent,title:{text:{valType:"string"},font:D7({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")});var ei=de((vce,F7)=>{"use strict";var cY=mh(),hY=Ls().counter,vY=Jc(),I7=Ml().scales,hce=vY(I7);function bh(e){return"`"+e+"`"}F7.exports=function(r,t){r=r||"",t=t||{};var n=t.cLetter||"c",a="onlyIfNumerical"in t?t.onlyIfNumerical:!!r,o="noScale"in t?t.noScale:r==="marker.line",i="showScaleDflt"in t?t.showScaleDflt:n==="z",l=typeof t.colorscaleDflt=="string"?I7[t.colorscaleDflt]:null,u=t.editTypeOverride||"",s=r?r+".":"",f,h;"colorAttr"in t?(f=t.colorAttr,h=t.colorAttr):(f={z:"z",c:"color"}[n],h="in "+bh(s+f));var p=a?" Has an effect only if "+h+" is set to a numerical array.":"",_=n+"auto",m=n+"min",w=n+"max",T=n+"mid",y=bh(s+_),k=bh(s+m),S=bh(s+w),b=k+" and "+S,M={};M[m]=M[w]=void 0;var d={};d[_]=!1;var x={};return f==="color"&&(x.color={valType:"color",arrayOk:!0,editType:u||"style"},t.anim&&(x.color.anim=!0)),x[_]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:M},x[m]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:d},x[w]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:d},x[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:M},x.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},x.autocolorscale={valType:"boolean",dflt:t.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},x.reversescale={valType:"boolean",dflt:!1,editType:"plot"},o||(x.showscale={valType:"boolean",dflt:i,editType:"calc"},x.colorbar=cY),t.noColorAxis||(x.coloraxis={valType:"subplotid",regex:hY("coloraxis"),dflt:null,editType:"calc"}),x}});var cg=de((dce,N7)=>{"use strict";var dY=Tt().extendFlat,pY=ei(),fg=Ml().scales;N7.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:fg.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:fg.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:fg.RdBu,editType:"calc"}},coloraxis:dY({_isSubplotObj:!0,editType:"calc"},pY("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}});var hg=de((pce,z7)=>{"use strict";var gY=ir();z7.exports=function(r){return gY.isPlainObject(r.colorbar)}});var pg=de(dg=>{"use strict";var vg=nt(),q7=ir(),O7=nn(),yY=O7.ONEDAY,mY=O7.ONEWEEK;dg.dtick=function(e,r){var t=r==="log",n=r==="date",a=r==="category",o=n?yY:1;if(!e)return o;if(vg(e))return e=Number(e),e<=0?o:a?Math.max(1,Math.round(e)):n?Math.max(.1,e):e;if(typeof e!="string"||!(n||t))return o;var i=e.charAt(0),l=e.substr(1);return l=vg(l)?Number(l):0,l<=0||!(n&&i==="M"&&l===Math.round(l)||t&&i==="L"||t&&i==="D"&&(l===1||l===2))?o:e};dg.tick0=function(e,r,t,n){if(r==="date")return q7.cleanDate(e,q7.dateTick0(t,n%mY===0?1:0));if(!(n==="D1"||n==="D2"))return vg(e)?Number(e):0}});var gg=de((yce,U7)=>{"use strict";var B7=pg(),bY=ir().isArrayOrTypedArray,xY=ea().isTypedArraySpec,_Y=ea().decodeTypedArraySpec;U7.exports=function(r,t,n,a,o){o||(o={});var i=o.isMinor,l=i?r.minor||{}:r,u=i?t.minor:t,s=i?"minor.":"";function f(k){var S=l[k];return xY(S)&&(S=_Y(S)),S!==void 0?S:(u._template||{})[k]}var h=f("tick0"),p=f("dtick"),_=f("tickvals"),m=bY(_)?"array":p?"linear":"auto",w=n(s+"tickmode",m);if(w==="auto"||w==="sync")n(s+"nticks");else if(w==="linear"){var T=u.dtick=B7.dtick(p,a);u.tick0=B7.tick0(h,a,t.calendar,T)}else if(a!=="multicategory"){var y=n(s+"tickvals");y===void 0?u.tickmode="auto":i||n("ticktext")}}});var mg=de((mce,V7)=>{"use strict";var yg=ir(),H7=La();V7.exports=function(r,t,n,a){var o=a.isMinor,i=o?r.minor||{}:r,l=o?t.minor:t,u=o?H7.minor:H7,s=o?"minor.":"",f=yg.coerce2(i,l,u,"ticklen",o?(t.ticklen||5)*.6:void 0),h=yg.coerce2(i,l,u,"tickwidth",o?t.tickwidth||1:void 0),p=yg.coerce2(i,l,u,"tickcolor",(o?t.tickcolor:void 0)||l.color),_=n(s+"ticks",!o&&a.outerTicks||f||h||p?"outside":"");_||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}});var bg=de((bce,G7)=>{"use strict";G7.exports=function(r){var t=["showexponent","showtickprefix","showticksuffix"],n=t.filter(function(o){return r[o]!==void 0}),a=function(o){return r[o]===r[n[0]]};if(n.every(a)||n.length===1)return r[n[0]]}});var ri=de((xce,Y7)=>{"use strict";var xh=ir(),wY=yt();Y7.exports=function(r,t,n){var a=n.name,o=n.inclusionAttr||"visible",i=t[a],l=xh.isArrayOrTypedArray(r[a])?r[a]:[],u=t[a]=[],s=wY.arrayTemplater(t,a,o),f,h;for(f=0;f<l.length;f++){var p=l[f];xh.isPlainObject(p)?h=s.newItem(p):(h=s.newItem({}),h[o]=!1),h._index=f,h[o]!==!1&&n.handleItemDefaults(p,h,t,n),u.push(h)}var _=s.defaultItems();for(f=0;f<_.length;f++)h=_[f],h._index=u.length,n.handleItemDefaults({},h,t,n,{}),u.push(h);if(xh.isArrayOrTypedArray(i)){var m=Math.min(i.length,u.length);for(f=0;f<m;f++)xh.relinkPrivateKeys(u[f],i[f])}return u}});var _g=de((_ce,X7)=>{"use strict";var xg=ir(),MY=Xr().contrast,W7=La(),TY=bg(),AY=ri();X7.exports=function(r,t,n,a,o){o||(o={});var i=n("labelalias");xg.isPlainObject(i)||delete t.labelalias;var l=TY(r),u=n("showticklabels");if(u){o.noTicklabelshift||n("ticklabelshift"),o.noTicklabelstandoff||n("ticklabelstandoff");var s=o.font||{},f=t.color,h=t.ticklabelposition||"",p=h.indexOf("inside")!==-1?MY(o.bgColor):f&&f!==W7.color.dflt?f:s.color;if(xg.coerceFont(n,"tickfont",s,{overrideDflt:{color:p}}),!o.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&n("ticklabelstep"),!o.noAng){var _=n("tickangle");!o.noAutotickangles&&_==="auto"&&n("autotickangles")}if(a!=="category"){var m=n("tickformat");AY(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:kY}),t.tickformatstops.length||delete t.tickformatstops,!o.noExp&&!m&&a!=="date"&&(n("showexponent",l),n("exponentformat"),n("minexponent"),n("separatethousands"))}!o.noMinorloglabels&&a==="log"&&n("minorloglabels")}};function kY(e,r){function t(a,o){return xg.coerce(e,r,W7.tickformatstops,a,o)}var n=t("enabled");n&&(t("dtickrange"),t("value"))}});var wg=de((wce,Z7)=>{"use strict";var SY=bg();Z7.exports=function(r,t,n,a,o){o||(o={});var i=o.tickSuffixDflt,l=SY(r),u=n("tickprefix");u&&n("showtickprefix",l);var s=n("ticksuffix",i);s&&n("showticksuffix",l)}});var Mg=de((Mce,J7)=>{"use strict";var No=ir(),CY=yt(),EY=gg(),LY=mg(),DY=_g(),RY=wg(),PY=mh();J7.exports=function(r,t,n){var a=CY.newContainer(t,"colorbar"),o=r.colorbar||{};function i(v,D){return No.coerce(o,a,PY,v,D)}var l=n.margin||{t:0,b:0,l:0,r:0},u=n.width-l.l-l.r,s=n.height-l.t-l.b,f=i("orientation"),h=f==="v",p=i("thicknessmode");i("thickness",p==="fraction"?30/(h?u:s):30);var _=i("lenmode");i("len",_==="fraction"?1:h?s:u);var m=i("yref"),w=i("xref"),T=m==="paper",y=w==="paper",k,S,b,M="left";h?(b="middle",M=y?"left":"right",k=y?1.02:1,S=.5):(b=T?"bottom":"top",M="center",k=.5,S=T?1.02:1),No.coerce(o,a,{x:{valType:"number",min:y?-2:0,max:y?3:1,dflt:k}},"x"),No.coerce(o,a,{y:{valType:"number",min:T?-2:0,max:T?3:1,dflt:S}},"y"),i("xanchor",M),i("xpad"),i("yanchor",b),i("ypad"),No.noneOrAll(o,a,["x","y"]),i("outlinecolor"),i("outlinewidth"),i("bordercolor"),i("borderwidth"),i("bgcolor");var d=No.coerce(o,a,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:h?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");i("ticklabeloverflow",d.indexOf("inside")!==-1?"hide past domain":"hide past div"),EY(o,a,i,"linear");var x=n.font,g={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:x};d.indexOf("inside")!==-1&&(g.bgColor="black"),RY(o,a,i,"linear",g),DY(o,a,i,"linear",g),LY(o,a,i,"linear",g),i("title.text",n._dfltTitle.colorbar);var c=a.showticklabels?a.tickfont:x,A=No.extendFlat({},x,{family:c.family,size:No.bigFont(c.size)});No.coerceFont(i,"title.font",A),i("title.side",h?"top":"right")}});var Ei=de((Tce,$7)=>{"use strict";var K7=nt(),Ag=ir(),IY=hg(),FY=Mg(),Q7=Ml().isValid,NY=Cr().traceIs;function Tg(e,r){var t=r.slice(0,r.length-1);return r?Ag.nestedProperty(e,t).get()||{}:e}$7.exports=function e(r,t,n,a,o){var i=o.prefix,l=o.cLetter,u="_module"in t,s=Tg(r,i),f=Tg(t,i),h=Tg(t._template||{},i)||{},p=function(){return delete r.coloraxis,delete t.coloraxis,e(r,t,n,a,o)};if(u){var _=n._colorAxes||{},m=a(i+"coloraxis");if(m){var w=NY(t,"contour")&&Ag.nestedProperty(t,"contours.coloring").get()||"heatmap",T=_[m];T?(T[2].push(p),T[0]!==w&&(T[0]=!1,Ag.warn(["Ignoring coloraxis:",m,"setting","as it is linked to incompatible colorscales."].join(" ")))):_[m]=[w,t,[p]];return}}var y=s[l+"min"],k=s[l+"max"],S=K7(y)&&K7(k)&&y<k,b=a(i+l+"auto",!S);b?a(i+l+"mid"):(a(i+l+"min"),a(i+l+"max"));var M=s.colorscale,d=h.colorscale,x;if(M!==void 0&&(x=!Q7(M)),d!==void 0&&(x=!Q7(d)),a(i+"autocolorscale",x),a(i+"colorscale"),a(i+"reversescale"),i!=="marker.line."){var g;i&&u&&(g=IY(s));var c=a(i+"showscale",g);c&&(i&&h&&(f._template=h),FY(s,f,n))}}});var t8=de((Ace,r8)=>{"use strict";var j7=ir(),zY=yt(),e8=cg(),qY=Ei();r8.exports=function(r,t){function n(h,p){return j7.coerce(r,t,e8,h,p)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var a=t._colorAxes,o,i;function l(h,p){return j7.coerce(o,i,e8.coloraxis,h,p)}for(var u in a){var s=a[u];if(s[0])o=r[u]||{},i=zY.newContainer(t,u,"coloraxis"),i._name=u,qY(o,i,t,l,{prefix:"",cLetter:"c"});else{for(var f=0;f<s[2].length;f++)s[2][f]();delete t._colorAxes[u]}}}});var a8=de((kce,n8)=>{"use strict";var OY=ir(),BY=Si().hasColorscale,UY=Si().extractOpts;n8.exports=function(r,t){function n(f,h){var p=f["_"+h];p!==void 0&&(f[h]=p)}function a(f,h){var p=h.container?OY.nestedProperty(f,h.container).get():f;if(p)if(p.coloraxis)p._colorAx=t[p.coloraxis];else{var _=UY(p),m=_.auto;(m||_.min===void 0)&&n(p,h.min),(m||_.max===void 0)&&n(p,h.max),_.autocolorscale&&n(p,"colorscale")}}for(var o=0;o<r.length;o++){var i=r[o],l=i._module.colorbar;if(l)if(Array.isArray(l))for(var u=0;u<l.length;u++)a(i,l[u]);else a(i,l);BY(i,"marker.line")&&a(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var s in t._colorAxes)a(t[s],{min:"cmin",max:"cmax"})}});var zo=de((Sce,o8)=>{"use strict";var i8=nt(),kg=ir(),HY=Si().extractOpts;o8.exports=function(r,t,n){var a=r._fullLayout,o=n.vals,i=n.containerStr,l=i?kg.nestedProperty(t,i).get():t,u=HY(l),s=u.auto!==!1,f=u.min,h=u.max,p=u.mid,_=function(){return kg.aggNums(Math.min,null,o)},m=function(){return kg.aggNums(Math.max,null,o)};if(f===void 0?f=_():s&&(l._colorAx&&i8(f)?f=Math.min(f,_()):f=_()),h===void 0?h=m():s&&(l._colorAx&&i8(h)?h=Math.max(h,m()):h=m()),s&&p!==void 0&&(h-p>p-f?f=p-(h-p):h-p<p-f&&(h=p+(p-f))),f===h&&(f-=.5,h+=.5),u._sync("min",f),u._sync("max",h),u.autocolorscale){var w;f*h<0?w=a.colorscale.diverging:f>=0?w=a.colorscale.sequential:w=a.colorscale.sequentialminus,u._sync("colorscale",w)}}});var Li=de((Cce,l8)=>{"use strict";var _h=Ml(),Js=Si();l8.exports={moduleType:"component",name:"colorscale",attributes:ei(),layoutAttributes:cg(),supplyLayoutDefaults:t8(),handleDefaults:Ei(),crossTraceDefaults:a8(),calc:zo(),scales:_h.scales,defaultScale:_h.defaultScale,getScale:_h.get,isValidScale:_h.isValid,hasColorscale:Js.hasColorscale,extractOpts:Js.extractOpts,extractScale:Js.extractScale,flipScale:Js.flipScale,makeColorScaleFunc:Js.makeColorScaleFunc,makeColorScaleFuncFromTrace:Js.makeColorScaleFuncFromTrace}});var oa=de((Ece,u8)=>{"use strict";var s8=ir(),VY=ea().isTypedArraySpec;u8.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf("lines")!==-1},hasMarkers:function(e){return e.visible&&(e.mode&&e.mode.indexOf("markers")!==-1||e.type==="splom")},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf("text")!==-1},isBubble:function(e){var r=e.marker;return s8.isPlainObject(r)&&(s8.isArrayOrTypedArray(r.size)||VY(r.size))}}});var Sg=de((Lce,f8)=>{"use strict";var GY=nt();f8.exports=function(r,t){t||(t=2);var n=r.marker,a=n.sizeref||1,o=n.sizemin||0,i=n.sizemode==="area"?function(l){return Math.sqrt(l/a)}:function(l){return l/a};return function(l){var u=i(l/t);return GY(u)&&u>0?Math.max(u,o):0}}});var to=de(Cn=>{"use strict";var wh=ir();Cn.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo};Cn.isTraceInSubplots=function(e,r){if(e.type==="splom"){for(var t=e.xaxes||[],n=e.yaxes||[],a=0;a<t.length;a++)for(var o=0;o<n.length;o++)if(r.indexOf(t[a]+n[o])!==-1)return!0;return!1}return r.indexOf(Cn.getSubplot(e))!==-1};Cn.flat=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=r;return t};Cn.p2c=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n].p2c(r);return t};Cn.getDistanceFunction=function(e,r,t,n){return e==="closest"?n||Cn.quadrature(r,t):e.charAt(0)==="x"?r:t};Cn.getClosest=function(e,r,t){if(t.index!==!1)t.index>=0&&t.index<e.length?t.distance=0:t.index=!1;else for(var n=1/0,a=e.length,o=0;o<a;o++)n=r(e[o]),n<=t.distance&&(t.index=o,t.distance=n);return t};Cn.inbox=function(e,r,t){return e*r<0||e===0?t:1/0};Cn.quadrature=function(e,r){return function(t){var n=e(t),a=r(t);return Math.sqrt(n*n+a*a)}};Cn.makeEventData=function(e,r,t){var n="index"in e?e.index:e.pointNumber,a={data:r._input,fullData:r,curveNumber:r.index,pointNumber:n};if(r._indexToPoints){var o=r._indexToPoints[n];o.length===1?a.pointIndex=o[0]:a.pointIndices=o}else a.pointIndex=n;return r._module.eventData?a=r._module.eventData(a,e,r,t,n):("xVal"in e?a.x=e.xVal:"x"in e&&(a.x=e.x),"yVal"in e?a.y=e.yVal:"y"in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),e.zLabelVal!==void 0&&(a.z=e.zLabelVal)),Cn.appendArrayPointValue(a,r,n),a};Cn.appendArrayPointValue=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=c8(o);if(e[i]===void 0){var l=wh.nestedProperty(r,o).get(),u=h8(l,t);u!==void 0&&(e[i]=u)}}};Cn.appendArrayMultiPointValues=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=c8(o);if(e[i]===void 0){for(var l=wh.nestedProperty(r,o).get(),u=new Array(t.length),s=0;s<t.length;s++)u[s]=h8(l,t[s]);e[i]=u}}};var YY={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function c8(e){return YY[e]||e}function h8(e,r){if(Array.isArray(r)){if(wh.isArrayOrTypedArray(e)&&wh.isArrayOrTypedArray(e[r[0]]))return e[r[0]][r[1]]}else return e[r]}var WY={x:!0,y:!0},XY={"x unified":!0,"y unified":!0};Cn.isUnifiedHover=function(e){return typeof e!="string"?!1:!!XY[e]};Cn.isXYhover=function(e){return typeof e!="string"?!1:!!WY[e]}});var Eg=de((Rce,v8)=>{v8.exports=JY;var Cg={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ZY=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function JY(e){var r=[];return e.replace(ZY,function(t,n,a){var o=n.toLowerCase();for(a=QY(a),o=="m"&&a.length>2&&(r.push([n].concat(a.splice(0,2))),o="l",n=n=="m"?"l":"L");;){if(a.length==Cg[o])return a.unshift(n),r.push(a);if(a.length<Cg[o])throw new Error("malformed path data");r.push([n].concat(a.splice(0,Cg[o])))}}),r}var KY=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function QY(e){var r=e.match(KY);return r?r.map(Number):[]}});var x8=de((Pce,b8)=>{"use strict";var $Y=Eg(),ur=function(e,r){return r?Math.round(e*(r=Math.pow(10,r)))/r:Math.round(e)},Nr="M0,0Z",d8=Math.sqrt(2),qo=Math.sqrt(3),Lg=Math.PI,Dg=Math.cos,Rg=Math.sin;b8.exports={circle:{n:0,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a="M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z";return t?qr(r,t,a):a}},square:{n:1,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")}},diamond:{n:2,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.3,2);return qr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"Z")}},cross:{n:3,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.4,2),a=ur(e*1.2,2);return qr(r,t,"M"+a+","+n+"H"+n+"V"+a+"H-"+n+"V"+n+"H-"+a+"V-"+n+"H-"+n+"V-"+a+"H"+n+"V-"+n+"H"+a+"Z")}},x:{n:4,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.8/d8,2),a="l"+n+","+n,o="l"+n+",-"+n,i="l-"+n+",-"+n,l="l-"+n+","+n;return qr(r,t,"M0,"+n+a+o+i+o+i+l+i+l+a+l+a+"Z")}},"triangle-up":{n:5,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2/qo,2),a=ur(e/2,2),o=ur(e,2);return qr(r,t,"M-"+n+","+a+"H"+n+"L0,-"+o+"Z")}},"triangle-down":{n:6,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2/qo,2),a=ur(e/2,2),o=ur(e,2);return qr(r,t,"M-"+n+",-"+a+"H"+n+"L0,"+o+"Z")}},"triangle-left":{n:7,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2/qo,2),a=ur(e/2,2),o=ur(e,2);return qr(r,t,"M"+a+",-"+n+"V"+n+"L-"+o+",0Z")}},"triangle-right":{n:8,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2/qo,2),a=ur(e/2,2),o=ur(e,2);return qr(r,t,"M-"+a+",-"+n+"V"+n+"L"+o+",0Z")}},"triangle-ne":{n:9,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.6,2),a=ur(e*1.2,2);return qr(r,t,"M-"+a+",-"+n+"H"+n+"V"+a+"Z")}},"triangle-se":{n:10,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.6,2),a=ur(e*1.2,2);return qr(r,t,"M"+n+",-"+a+"V"+n+"H-"+a+"Z")}},"triangle-sw":{n:11,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.6,2),a=ur(e*1.2,2);return qr(r,t,"M"+a+","+n+"H-"+n+"V-"+a+"Z")}},"triangle-nw":{n:12,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.6,2),a=ur(e*1.2,2);return qr(r,t,"M-"+n+","+a+"V-"+n+"H"+a+"Z")}},pentagon:{n:13,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.951,2),a=ur(e*.588,2),o=ur(-e,2),i=ur(e*-.309,2),l=ur(e*.809,2);return qr(r,t,"M"+n+","+i+"L"+a+","+l+"H-"+a+"L-"+n+","+i+"L0,"+o+"Z")}},hexagon:{n:14,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e/2,2),o=ur(e*qo/2,2);return qr(r,t,"M"+o+",-"+a+"V"+a+"L0,"+n+"L-"+o+","+a+"V-"+a+"L0,-"+n+"Z")}},hexagon2:{n:15,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e/2,2),o=ur(e*qo/2,2);return qr(r,t,"M-"+a+","+o+"H"+a+"L"+n+",0L"+a+",-"+o+"H-"+a+"L-"+n+",0Z")}},octagon:{n:16,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.924,2),a=ur(e*.383,2);return qr(r,t,"M-"+a+",-"+n+"H"+a+"L"+n+",-"+a+"V"+a+"L"+a+","+n+"H-"+a+"L-"+n+","+a+"V-"+a+"Z")}},star:{n:17,f:function(e,r,t){if(zr(r))return Nr;var n=e*1.4,a=ur(n*.225,2),o=ur(n*.951,2),i=ur(n*.363,2),l=ur(n*.588,2),u=ur(-n,2),s=ur(n*-.309,2),f=ur(n*.118,2),h=ur(n*.809,2),p=ur(n*.382,2);return qr(r,t,"M"+a+","+s+"H"+o+"L"+i+","+f+"L"+l+","+h+"L0,"+p+"L-"+l+","+h+"L-"+i+","+f+"L-"+o+","+s+"H-"+a+"L0,"+u+"Z")}},hexagram:{n:18,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.66,2),a=ur(e*.38,2),o=ur(e*.76,2);return qr(r,t,"M-"+o+",0l-"+a+",-"+n+"h"+o+"l"+a+",-"+n+"l"+a+","+n+"h"+o+"l-"+a+","+n+"l"+a+","+n+"h-"+o+"l-"+a+","+n+"l-"+a+",-"+n+"h-"+o+"Z")}},"star-triangle-up":{n:19,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*qo*.8,2),a=ur(e*.8,2),o=ur(e*1.6,2),i=ur(e*4,2),l="A "+i+","+i+" 0 0 1 ";return qr(r,t,"M-"+n+","+a+l+n+","+a+l+"0,-"+o+l+"-"+n+","+a+"Z")}},"star-triangle-down":{n:20,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*qo*.8,2),a=ur(e*.8,2),o=ur(e*1.6,2),i=ur(e*4,2),l="A "+i+","+i+" 0 0 1 ";return qr(r,t,"M"+n+",-"+a+l+"-"+n+",-"+a+l+"0,"+o+l+n+",-"+a+"Z")}},"star-square":{n:21,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.1,2),a=ur(e*2,2),o="A "+a+","+a+" 0 0 1 ";return qr(r,t,"M-"+n+",-"+n+o+"-"+n+","+n+o+n+","+n+o+n+",-"+n+o+"-"+n+",-"+n+"Z")}},"star-diamond":{n:22,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.4,2),a=ur(e*1.9,2),o="A "+a+","+a+" 0 0 1 ";return qr(r,t,"M-"+n+",0"+o+"0,"+n+o+n+",0"+o+"0,-"+n+o+"-"+n+",0Z")}},"diamond-tall":{n:23,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*.7,2),a=ur(e*1.4,2);return qr(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},"diamond-wide":{n:24,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.4,2),a=ur(e*.7,2);return qr(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},hourglass:{n:25,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"H-"+n+"L"+n+",-"+n+"H-"+n+"Z")},noDot:!0},bowtie:{n:26,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"V-"+n+"L-"+n+","+n+"V-"+n+"Z")},noDot:!0},"circle-cross":{n:27,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e/d8,2);return qr(r,t,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.3,2);return qr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM0,-"+n+"V"+n+"M-"+n+",0H"+n)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.3,2),a=ur(e*.65,2);return qr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM-"+a+",-"+a+"L"+a+","+a+"M-"+a+","+a+"L"+a+",-"+a)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.4,2);return qr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.2,2),a=ur(e*.85,2);return qr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e/2,2),a=ur(e,2);return qr(r,t,"M"+n+","+a+"V-"+a+"M"+(n-a)+",-"+a+"V"+a+"M"+a+","+n+"H-"+a+"M-"+a+","+(n-a)+"H"+a)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.2,2),a=ur(e*1.6,2),o=ur(e*.8,2);return qr(r,t,"M-"+n+","+o+"L0,0M"+n+","+o+"L0,0M0,-"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.2,2),a=ur(e*1.6,2),o=ur(e*.8,2);return qr(r,t,"M-"+n+",-"+o+"L0,0M"+n+",-"+o+"L0,0M0,"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.2,2),a=ur(e*1.6,2),o=ur(e*.8,2);return qr(r,t,"M"+o+","+n+"L0,0M"+o+",-"+n+"L0,0M-"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.2,2),a=ur(e*1.6,2),o=ur(e*.8,2);return qr(r,t,"M-"+o+","+n+"L0,0M-"+o+",-"+n+"L0,0M"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.4,2);return qr(r,t,"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*1.4,2);return qr(r,t,"M0,"+n+"V-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2);return qr(r,t,"M"+n+","+n+"L-"+n+",-"+n)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e*2,2);return qr(r,t,"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e*2,2);return qr(r,t,"M0,0L-"+n+",-"+a+"H"+n+"Z")},noDot:!0},"arrow-left":{n:47,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2,2),a=ur(e,2);return qr(r,t,"M0,0L"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-right":{n:48,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2,2),a=ur(e,2);return qr(r,t,"M0,0L-"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e*2,2);return qr(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e,2),a=ur(e*2,2);return qr(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+",-"+a+"H"+n+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2,2),a=ur(e,2);return qr(r,t,"M0,-"+a+"V"+a+"M0,0L"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e,r,t){if(zr(r))return Nr;var n=ur(e*2,2),a=ur(e,2);return qr(r,t,"M0,-"+a+"V"+a+"M0,0L-"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(e,r,t){if(zr(r))return Nr;var n=Lg/2.5,a=2*e*Dg(n),o=2*e*Rg(n);return qr(r,t,"M0,0L"+-a+","+o+"L"+a+","+o+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(e,r,t){if(zr(r))return Nr;var n=Lg/4,a=2*e*Dg(n),o=2*e*Rg(n);return qr(r,t,"M0,0L"+-a+","+o+"A "+2*e+","+2*e+" 0 0 1 "+a+","+o+"Z")},backoff:.4,noDot:!0}};function zr(e){return e===null}var p8,g8,y8,m8;function qr(e,r,t){if((!e||e%360===0)&&!r)return t;if(y8===e&&m8===r&&p8===t)return g8;y8=e,m8=r,p8=t;function n(T,y){var k=Dg(T),S=Rg(T),b=y[0],M=y[1]+(r||0);return[b*k-M*S,b*S+M*k]}for(var a=e/180*Lg,o=0,i=0,l=$Y(t),u="",s=0;s<l.length;s++){var f=l[s],h=f[0],p=o,_=i;if(h==="M"||h==="L")o=+f[1],i=+f[2];else if(h==="m"||h==="l")o+=+f[1],i+=+f[2];else if(h==="H")o=+f[1];else if(h==="h")o+=+f[1];else if(h==="V")i=+f[1];else if(h==="v")i+=+f[1];else if(h==="A"){o=+f[1],i=+f[2];var m=n(a,[+f[6],+f[7]]);f[6]=m[0],f[7]=m[1],f[3]=+f[3]+e}(h==="H"||h==="V")&&(h="L"),(h==="h"||h==="v")&&(h="l"),(h==="m"||h==="l")&&(o-=p,i-=_);var w=n(a,[o,i]);(h==="H"||h==="V")&&(h="L"),(h==="M"||h==="L"||h==="m"||h==="l")&&(f[1]=w[0],f[2]=w[1]),f[0]=h,u+=f[0]+f.slice(1).join(",")}return g8=u,u}});var mt=de((Ice,B8)=>{"use strict";var ln=it(),dt=ir(),jY=dt.numberFormat,Ol=nt(),qg=ka(),Th=Cr(),wn=Xr(),eW=Li(),Df=dt.strTranslate,Ah=Wn(),rW=Fo(),tW=qn(),nW=tW.LINE_SPACING,L8=Nc().DESELECTDIM,aW=oa(),iW=Sg(),oW=to().appendArrayPointValue,vr=B8.exports={};vr.font=function(e,r){var t=r.variant,n=r.style,a=r.weight,o=r.color,i=r.size,l=r.family,u=r.shadow,s=r.lineposition,f=r.textcase;l&&e.style("font-family",l),i+1&&e.style("font-size",i+"px"),o&&e.call(wn.fill,o),a&&e.style("font-weight",a),n&&e.style("font-style",n),t&&e.style("font-variant",t),f&&e.style("text-transform",Pg(sW(f))),u&&e.style("text-shadow",u==="auto"?Ah.makeTextShadow(wn.contrast(o)):Pg(u)),s&&e.style("text-decoration-line",Pg(uW(s)))};function Pg(e){return e==="none"?void 0:e}var lW={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function sW(e){return lW[e]}function uW(e){return e.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}vr.setPosition=function(e,r,t){e.attr("x",r).attr("y",t)};vr.setSize=function(e,r,t){e.attr("width",r).attr("height",t)};vr.setRect=function(e,r,t,n,a){e.call(vr.setPosition,r,t).call(vr.setSize,n,a)};vr.translatePoint=function(e,r,t,n){var a=t.c2p(e.x),o=n.c2p(e.y);if(Ol(a)&&Ol(o)&&r.node())r.node().nodeName==="text"?r.attr("x",a).attr("y",o):r.attr("transform",Df(a,o));else return!1;return!0};vr.translatePoints=function(e,r,t){e.each(function(n){var a=ln.select(this);vr.translatePoint(n,a,r,t)})};vr.hideOutsideRangePoint=function(e,r,t,n,a,o){r.attr("display",t.isPtWithinRange(e,a)&&n.isPtWithinRange(e,o)?null:"none")};vr.hideOutsideRangePoints=function(e,r){if(r._hasClipOnAxisFalse){var t=r.xaxis,n=r.yaxis;e.each(function(a){var o=a[0].trace,i=o.xcalendar,l=o.ycalendar,u=Th.traceIs(o,"bar-like")?".bartext":".point,.textpoint";e.selectAll(u).each(function(s){vr.hideOutsideRangePoint(s,ln.select(this),t,n,i,l)})})}};vr.crispRound=function(e,r,t){return!r||!Ol(r)?t||0:e._context.staticPlot?r:r<1?1:Math.round(r)};vr.singleLineStyle=function(e,r,t,n,a){r.style("fill","none");var o=(((e||[])[0]||{}).trace||{}).line||{},i=t||o.width||0,l=a||o.dash||"";wn.stroke(r,n||o.color),vr.dashLine(r,l,i)};vr.lineGroupStyle=function(e,r,t,n){e.style("fill","none").each(function(a){var o=(((a||[])[0]||{}).trace||{}).line||{},i=r||o.width||0,l=n||o.dash||"";ln.select(this).call(wn.stroke,t||o.color).call(vr.dashLine,l,i)})};vr.dashLine=function(e,r,t){t=+t||0,r=vr.dashStyle(r,t),e.style({"stroke-dasharray":r,"stroke-width":t+"px"})};vr.dashStyle=function(e,r){r=+r||1;var t=Math.max(r,3);return e==="solid"?e="":e==="dot"?e=t+"px,"+t+"px":e==="dash"?e=3*t+"px,"+3*t+"px":e==="longdash"?e=5*t+"px,"+5*t+"px":e==="dashdot"?e=3*t+"px,"+t+"px,"+t+"px,"+t+"px":e==="longdashdot"&&(e=5*t+"px,"+2*t+"px,"+t+"px,"+2*t+"px"),e};function D8(e,r,t,n){var a=r.fillpattern,o=r.fillgradient,i=vr.getPatternAttr,l=a&&(i(a.shape,0,"")||i(a.path,0,""));if(l){var u=i(a.bgcolor,0,null),s=i(a.fgcolor,0,null),f=a.fgopacity,h=i(a.size,0,8),p=i(a.solidity,0,.3),_=r.uid;vr.pattern(e,"point",t,_,l,h,p,void 0,a.fillmode,u,s,f)}else if(o&&o.type!=="none"){var m=o.type,w="scatterfill-"+r.uid;if(n&&(w="legendfill-"+r.uid),!n&&(o.start!==void 0||o.stop!==void 0)){var T,y;m==="horizontal"?(T={x:o.start,y:0},y={x:o.stop,y:0}):m==="vertical"&&(T={x:0,y:o.start},y={x:0,y:o.stop}),T.x=r._xA.c2p(T.x===void 0?r._extremes.x.min[0].val:T.x,!0),T.y=r._yA.c2p(T.y===void 0?r._extremes.y.min[0].val:T.y,!0),y.x=r._xA.c2p(y.x===void 0?r._extremes.x.max[0].val:y.x,!0),y.y=r._yA.c2p(y.y===void 0?r._extremes.y.max[0].val:y.y,!0),e.call(I8,t,w,"linear",o.colorscale,"fill",T,y,!0,!1)}else m==="horizontal"&&(m=m+"reversed"),e.call(vr.gradient,t,w,m,o.colorscale,"fill")}else r.fillcolor&&e.call(wn.fill,r.fillcolor)}vr.singleFillStyle=function(e,r){var t=ln.select(e.node()),n=t.data(),a=((n[0]||[])[0]||{}).trace||{};D8(e,a,r,!1)};vr.fillGroupStyle=function(e,r,t){e.style("stroke-width",0).each(function(n){var a=ln.select(this);n[0].trace&&D8(a,n[0].trace,r,t)})};var _8=x8();vr.symbolNames=[];vr.symbolFuncs=[];vr.symbolBackOffs=[];vr.symbolNeedLines={};vr.symbolNoDot={};vr.symbolNoFill={};vr.symbolList=[];Object.keys(_8).forEach(function(e){var r=_8[e],t=r.n;vr.symbolList.push(t,String(t),e,t+100,String(t+100),e+"-open"),vr.symbolNames[t]=e,vr.symbolFuncs[t]=r.f,vr.symbolBackOffs[t]=r.backoff||0,r.needLine&&(vr.symbolNeedLines[t]=!0),r.noDot?vr.symbolNoDot[t]=!0:vr.symbolList.push(t+200,String(t+200),e+"-dot",t+300,String(t+300),e+"-open-dot"),r.noFill&&(vr.symbolNoFill[t]=!0)});var fW=vr.symbolNames.length,cW="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";vr.symbolNumber=function(e){if(Ol(e))e=+e;else if(typeof e=="string"){var r=0;e.indexOf("-open")>0&&(r=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(r+=200,e=e.replace("-dot","")),e=vr.symbolNames.indexOf(e),e>=0&&(e+=r)}return e%100>=fW||e>=400?0:Math.floor(Math.max(e,0))};function R8(e,r,t,n){var a=e%100;return vr.symbolFuncs[a](r,t,n)+(e>=200?cW:"")}var w8=jY("~f"),P8={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};vr.gradient=function(e,r,t,n,a,o){var i=P8[n];return I8(e,r,t,i.type,a,o,i.start,i.stop,!1,i.reversed)};function I8(e,r,t,n,a,o,i,l,u,s){var f=a.length,h;n==="linear"?h={node:"linearGradient",attrs:{x1:i.x,y1:i.y,x2:l.x,y2:l.y,gradientUnits:u?"userSpaceOnUse":"objectBoundingBox"},reversed:s}:n==="radial"&&(h={node:"radialGradient",reversed:s});for(var p=new Array(f),_=0;_<f;_++)h.reversed?p[f-1-_]=[w8((1-a[_][0])*100),a[_][1]]:p[_]=[w8(a[_][0]*100),a[_][1]];var m=r._fullLayout,w="g"+m._uid+"-"+t,T=m._defs.select(".gradients").selectAll("#"+w).data([n+p.join(";")],dt.identity);T.exit().remove(),T.enter().append(h.node).each(function(){var y=ln.select(this);h.attrs&&y.attr(h.attrs),y.attr("id",w);var k=y.selectAll("stop").data(p);k.exit().remove(),k.enter().append("stop"),k.each(function(S){var b=qg(S[1]);ln.select(this).attr({offset:S[0]+"%","stop-color":wn.tinyRGB(b),"stop-opacity":b.getAlpha()})})}),e.style(o,Og(w,r)).style(o+"-opacity",null),e.classed("gradient_filled",!0)}vr.pattern=function(e,r,t,n,a,o,i,l,u,s,f,h){var p=r==="legend";l&&(u==="overlay"?(s=l,f=wn.contrast(s)):(s=void 0,f=l));var _=t._fullLayout,m="p"+_._uid+"-"+n,w,T,y=function(E,R,N,F,I){return F+(I-F)*(E-R)/(N-R)},k,S,b,M,d={},x=qg(f),g=wn.tinyRGB(x),c=x.getAlpha(),A=h*c;switch(a){case"/":w=o*Math.sqrt(2),T=o*Math.sqrt(2),k="M-"+w/4+","+T/4+"l"+w/2+",-"+T/2+"M0,"+T+"L"+w+",0M"+w/4*3+","+T/4*5+"l"+w/2+",-"+T/2,S=i*o,M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"\\":w=o*Math.sqrt(2),T=o*Math.sqrt(2),k="M"+w/4*3+",-"+T/4+"l"+w/2+","+T/2+"M0,0L"+w+","+T+"M-"+w/4+","+T/4*3+"l"+w/2+","+T/2,S=i*o,M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"x":w=o*Math.sqrt(2),T=o*Math.sqrt(2),k="M-"+w/4+","+T/4+"l"+w/2+",-"+T/2+"M0,"+T+"L"+w+",0M"+w/4*3+","+T/4*5+"l"+w/2+",-"+T/2+"M"+w/4*3+",-"+T/4+"l"+w/2+","+T/2+"M0,0L"+w+","+T+"M-"+w/4+","+T/4*3+"l"+w/2+","+T/2,S=o-o*Math.sqrt(1-i),M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"|":w=o,T=o,M="path",k="M"+w/2+",0L"+w/2+","+T,S=i*o,M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"-":w=o,T=o,M="path",k="M0,"+T/2+"L"+w+","+T/2,S=i*o,M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case"+":w=o,T=o,M="path",k="M"+w/2+",0L"+w/2+","+T+"M0,"+T/2+"L"+w+","+T/2,S=o-o*Math.sqrt(1-i),M="path",d={d:k,opacity:A,stroke:g,"stroke-width":S+"px"};break;case".":w=o,T=o,i<Math.PI/4?b=Math.sqrt(i*o*o/Math.PI):b=y(i,Math.PI/4,1,o/2,o/Math.sqrt(2)),M="circle",d={cx:w/2,cy:T/2,r:b,opacity:A,fill:g};break;default:w=o,T=o,M="path",d={d:a,opacity:A,fill:g};break}var v=[a||"noSh",s||"noBg",f||"noFg",o,i].join(";"),D=_._defs.select(".patterns").selectAll("#"+m).data([v],dt.identity);D.exit().remove(),D.enter().append("pattern").each(function(){var E=ln.select(this);if(E.attr({id:m,width:w+"px",height:T+"px",patternUnits:"userSpaceOnUse",patternTransform:p?"scale(0.8)":""}),s){var R=qg(s),N=wn.tinyRGB(R),F=R.getAlpha(),I=E.selectAll("rect").data([0]);I.exit().remove(),I.enter().append("rect").attr({width:w+"px",height:T+"px",fill:N,"fill-opacity":F})}var L=E.selectAll(M).data([0]);L.exit().remove(),L.enter().append(M).attr(d)}),e.style("fill",Og(m,t)).style("fill-opacity",null),e.classed("pattern_filled",!0)};vr.initGradients=function(e){var r=e._fullLayout,t=dt.ensureSingle(r._defs,"g","gradients");t.selectAll("linearGradient,radialGradient").remove(),ln.select(e).selectAll(".gradient_filled").classed("gradient_filled",!1)};vr.initPatterns=function(e){var r=e._fullLayout,t=dt.ensureSingle(r._defs,"g","patterns");t.selectAll("pattern").remove(),ln.select(e).selectAll(".pattern_filled").classed("pattern_filled",!1)};vr.getPatternAttr=function(e,r,t){return e&&dt.isArrayOrTypedArray(e)?r<e.length?e[r]:t:e};vr.pointStyle=function(e,r,t,n){if(e.size()){var a=vr.makePointStyleFns(r);e.each(function(o){vr.singlePointStyle(o,ln.select(this),r,a,t,n)})}};vr.singlePointStyle=function(e,r,t,n,a,o){var i=t.marker,l=i.line;if(o&&o.i>=0&&e.i===void 0&&(e.i=o.i),r.style("opacity",n.selectedOpacityFn?n.selectedOpacityFn(e):e.mo===void 0?i.opacity:e.mo),n.ms2mrc){var u;e.ms==="various"||i.size==="various"?u=3:u=n.ms2mrc(e.ms),e.mrc=u,n.selectedSizeFn&&(u=e.mrc=n.selectedSizeFn(e));var s=vr.symbolNumber(e.mx||i.symbol)||0;e.om=s%200>=100;var f=Ug(e,t),h=Bg(e,t);r.attr("d",R8(s,u,f,h))}var p=!1,_,m,w;if(e.so)w=l.outlierwidth,m=l.outliercolor,_=i.outliercolor;else{var T=(l||{}).width;w=(e.mlw+1||T+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in e?m=e.mlcc=n.lineScale(e.mlc):dt.isArrayOrTypedArray(l.color)?m=wn.defaultLine:m=l.color,dt.isArrayOrTypedArray(i.color)&&(_=wn.defaultLine,p=!0),"mc"in e?_=e.mcc=n.markerScale(e.mc):_=i.color||i.colors||"rgba(0,0,0,0)",n.selectedColorFn&&(_=n.selectedColorFn(e))}if(e.om)r.call(wn.stroke,_).style({"stroke-width":(w||1)+"px",fill:"none"});else{r.style("stroke-width",(e.isBlank?0:w)+"px");var y=i.gradient,k=e.mgt;k?p=!0:k=y&&y.type,dt.isArrayOrTypedArray(k)&&(k=k[0],P8[k]||(k=0));var S=i.pattern,b=vr.getPatternAttr,M=S&&(b(S.shape,e.i,"")||b(S.path,e.i,""));if(k&&k!=="none"){var d=e.mgc;d?p=!0:d=y.color;var x=t.uid;p&&(x+="-"+e.i),vr.gradient(r,a,x,k,[[0,d],[1,_]],"fill")}else if(M){var g=!1,c=S.fgcolor;!c&&o&&o.color&&(c=o.color,g=!0);var A=b(c,e.i,o&&o.color||null),v=b(S.bgcolor,e.i,null),D=S.fgopacity,E=b(S.size,e.i,8),R=b(S.solidity,e.i,.3);g=g||e.mcc||dt.isArrayOrTypedArray(S.shape)||dt.isArrayOrTypedArray(S.path)||dt.isArrayOrTypedArray(S.bgcolor)||dt.isArrayOrTypedArray(S.fgcolor)||dt.isArrayOrTypedArray(S.size)||dt.isArrayOrTypedArray(S.solidity);var N=t.uid;g&&(N+="-"+e.i),vr.pattern(r,"point",a,N,M,E,R,e.mcc,S.fillmode,v,A,D)}else dt.isArrayOrTypedArray(_)?wn.fill(r,_[e.i]):wn.fill(r,_);w&&wn.stroke(r,m)}};vr.makePointStyleFns=function(e){var r={},t=e.marker;return r.markerScale=vr.tryColorscale(t,""),r.lineScale=vr.tryColorscale(t,"line"),Th.traceIs(e,"symbols")&&(r.ms2mrc=aW.isBubble(e)?iW(e):function(){return(t.size||6)/2}),e.selectedpoints&&dt.extendFlat(r,vr.makeSelectedPointStyleFns(e)),r};vr.makeSelectedPointStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.marker||{},o=t.marker||{},i=n.marker||{},l=a.opacity,u=o.opacity,s=i.opacity,f=u!==void 0,h=s!==void 0;(dt.isArrayOrTypedArray(l)||f||h)&&(r.selectedOpacityFn=function(b){var M=b.mo===void 0?a.opacity:b.mo;return b.selected?f?u:M:h?s:L8*M});var p=a.color,_=o.color,m=i.color;(_||m)&&(r.selectedColorFn=function(b){var M=b.mcc||p;return b.selected?_||M:m||M});var w=a.size,T=o.size,y=i.size,k=T!==void 0,S=y!==void 0;return Th.traceIs(e,"symbols")&&(k||S)&&(r.selectedSizeFn=function(b){var M=b.mrc||w/2;return b.selected?k?T/2:M:S?y/2:M}),r};vr.makeSelectedTextStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.textfont||{},o=t.textfont||{},i=n.textfont||{},l=a.color,u=o.color,s=i.color;return r.selectedTextColorFn=function(f){var h=f.tc||l;return f.selected?u||h:s||(u?h:wn.addOpacity(h,L8))},r};vr.selectedPointStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=vr.makeSelectedPointStyleFns(r),n=r.marker||{},a=[];t.selectedOpacityFn&&a.push(function(o,i){o.style("opacity",t.selectedOpacityFn(i))}),t.selectedColorFn&&a.push(function(o,i){wn.fill(o,t.selectedColorFn(i))}),t.selectedSizeFn&&a.push(function(o,i){var l=i.mx||n.symbol||0,u=t.selectedSizeFn(i);o.attr("d",R8(vr.symbolNumber(l),u,Ug(i,r),Bg(i,r))),i.mrc2=u}),a.length&&e.each(function(o){for(var i=ln.select(this),l=0;l<a.length;l++)a[l](i,o)})}};vr.tryColorscale=function(e,r){var t=r?dt.nestedProperty(e,r).get():e;if(t){var n=t.color;if((t.colorscale||t._colorAx)&&dt.isArrayOrTypedArray(n))return eW.makeColorScaleFuncFromTrace(t)}return dt.identity};var Ig={start:1,end:-1,middle:0,bottom:1,top:-1};function F8(e,r,t,n,a){var o=ln.select(e.node().parentNode),i=r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle",l=r.indexOf("left")!==-1?"end":r.indexOf("right")!==-1?"start":"middle",u=n?n/.8+1:0,s=(Ah.lineCount(e)-1)*nW+1,f=Ig[l]*u,h=t*.75+Ig[i]*u+(Ig[i]-1)*s*t/2;e.attr("text-anchor",l),a||o.attr("transform",Df(f,h))}function N8(e,r){var t=e.ts||r.textfont.size;return Ol(t)&&t>0?t:0}vr.textPointStyle=function(e,r,t){if(e.size()){var n;if(r.selectedpoints){var a=vr.makeSelectedTextStyleFns(r);n=a.selectedTextColorFn}var o=r.texttemplate,i=t._fullLayout;e.each(function(l){var u=ln.select(this),s=o?dt.extractOption(l,r,"txt","texttemplate"):dt.extractOption(l,r,"tx","text");if(!s&&s!==0){u.remove();return}if(o){var f=r._module.formatLabels,h=f?f(l,r,i):{},p={};oW(p,r,l.i),s=dt.texttemplateString({data:[p,l,r._meta],fallback:r.texttemplatefallback,labels:h,locale:i._d3locale,template:s})}var _=l.tp||r.textposition,m=N8(l,r),w=n?n(l):l.tc||r.textfont.color;u.call(vr.font,{family:l.tf||r.textfont.family,weight:l.tw||r.textfont.weight,style:l.ty||r.textfont.style,variant:l.tv||r.textfont.variant,textcase:l.tC||r.textfont.textcase,lineposition:l.tE||r.textfont.lineposition,shadow:l.tS||r.textfont.shadow,size:m,color:w}).text(s).call(Ah.convertToTspans,t).call(F8,_,m,l.mrc)})}};vr.selectedTextStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=vr.makeSelectedTextStyleFns(r);e.each(function(n){var a=ln.select(this),o=t.selectedTextColorFn(n),i=n.tp||r.textposition,l=N8(n,r);wn.fill(a,o);var u=Th.traceIs(r,"bar-like");F8(a,i,l,n.mrc2||n.mrc,u)})}};var M8=.5;vr.smoothopen=function(e,r){if(e.length<3)return"M"+e.join("L");var t="M"+e[0],n=[],a;for(a=1;a<e.length-1;a++)n.push(Mh(e[a-1],e[a],e[a+1],r));for(t+="Q"+n[0][0]+" "+e[1],a=2;a<e.length-1;a++)t+="C"+n[a-2][1]+" "+n[a-1][0]+" "+e[a];return t+="Q"+n[e.length-3][1]+" "+e[e.length-1],t};vr.smoothclosed=function(e,r){if(e.length<3)return"M"+e.join("L")+"Z";var t="M"+e[0],n=e.length-1,a=[Mh(e[n],e[0],e[1],r)],o;for(o=1;o<n;o++)a.push(Mh(e[o-1],e[o],e[o+1],r));for(a.push(Mh(e[n-1],e[n],e[0],r)),o=1;o<=n;o++)t+="C"+a[o-1][1]+" "+a[o][0]+" "+e[o];return t+="C"+a[n][1]+" "+a[0][0]+" "+e[0]+"Z",t};var z8,q8;function Ks(e,r,t){return t&&(e=O8(e)),r?ql(e[1]):zl(e[0])}function zl(e){var r=ln.round(e,2);return z8=r,r}function ql(e){var r=ln.round(e,2);return q8=r,r}function Mh(e,r,t,n){var a=e[0]-r[0],o=e[1]-r[1],i=t[0]-r[0],l=t[1]-r[1],u=Math.pow(a*a+o*o,M8/2),s=Math.pow(i*i+l*l,M8/2),f=(s*s*a-u*u*i)*n,h=(s*s*o-u*u*l)*n,p=3*s*(u+s),_=3*u*(u+s);return[[zl(r[0]+(p&&f/p)),ql(r[1]+(p&&h/p))],[zl(r[0]-(_&&f/_)),ql(r[1]-(_&&h/_))]]}var hW={hv:function(e,r,t){return"H"+zl(r[0])+"V"+Ks(r,1,t)},vh:function(e,r,t){return"V"+ql(r[1])+"H"+Ks(r,0,t)},hvh:function(e,r,t){return"H"+zl((e[0]+r[0])/2)+"V"+ql(r[1])+"H"+Ks(r,0,t)},vhv:function(e,r,t){return"V"+ql((e[1]+r[1])/2)+"H"+zl(r[0])+"V"+Ks(r,1,t)}},vW=function(e,r,t){return"L"+Ks(r,0,t)+","+Ks(r,1,t)};vr.steps=function(e){var r=hW[e]||vW;return function(t){for(var n="M"+zl(t[0][0])+","+ql(t[0][1]),a=t.length,o=1;o<a;o++)n+=r(t[o-1],t[o],o===a-1);return n}};function O8(e,r){var t=e.backoff,n=e.trace,a=e.d,o=e.i;if(t&&n&&n.marker&&n.marker.angle%360===0&&n.line&&n.line.shape!=="spline"){var i=dt.isArrayOrTypedArray(t),l=e,u=r?r[0]:z8||0,s=r?r[1]:q8||0,f=l[0],h=l[1],p=f-u,_=h-s,m=Math.atan2(_,p),w=i?t[o]:t;if(w==="auto"){var T=l.i;n.type==="scatter"&&T--;var y=l.marker,k=y.symbol;dt.isArrayOrTypedArray(k)&&(k=k[T]);var S=y.size;dt.isArrayOrTypedArray(S)&&(S=S[T]),w=y?vr.symbolBackOffs[vr.symbolNumber(k)]*S:0,w+=vr.getMarkerStandoff(a[T],n)||0}var b=f-w*Math.cos(m),M=h-w*Math.sin(m);(b<=f&&b>=u||b>=f&&b<=u)&&(M<=h&&M>=s||M>=h&&M<=s)&&(e=[b,M])}return e}vr.applyBackoff=O8;vr.makeTester=function(){var e=dt.ensureSingleById(ln.select("body"),"svg","js-plotly-tester",function(t){t.attr(rW.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),r=dt.ensureSingle(e,"path","js-reference-point",function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});vr.tester=e,vr.testref=r};vr.savedBBoxes={};var Fg=0,dW=1e4;vr.bBox=function(e,r,t){t||(t=T8(e));var n;if(t){if(n=vr.savedBBoxes[t],n)return dt.extendFlat({},n)}else if(e.childNodes.length===1){var a=e.childNodes[0];if(t=T8(a),t){var o=+a.getAttribute("x")||0,i=+a.getAttribute("y")||0,l=a.getAttribute("transform");if(!l){var u=vr.bBox(a,!1,t);return o&&(u.left+=o,u.right+=o),i&&(u.top+=i,u.bottom+=i),u}if(t+="~"+o+"~"+i+"~"+l,n=vr.savedBBoxes[t],n)return dt.extendFlat({},n)}}var s,f;r?s=e:(f=vr.tester.node(),s=e.cloneNode(!0),f.appendChild(s)),ln.select(s).attr("transform",null).call(Ah.positionText,0,0);var h=s.getBoundingClientRect(),p=vr.testref.node().getBoundingClientRect();r||f.removeChild(s);var _={height:h.height,width:h.width,left:h.left-p.left,top:h.top-p.top,right:h.right-p.left,bottom:h.bottom-p.top};return Fg>=dW&&(vr.savedBBoxes={},Fg=0),t&&(vr.savedBBoxes[t]=_),Fg++,dt.extendFlat({},_)};function T8(e){var r=e.getAttribute("data-unformatted");if(r!==null)return r+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}vr.setClipUrl=function(e,r,t){e.attr("clip-path",Og(r,t))};function Og(e,r){if(!e)return null;var t=r._context,n=t._exportedPlot?"":t._baseUrl||"";return n?"url('"+n+"#"+e+"')":"url(#"+e+")"}vr.getTranslate=function(e){var r=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,l){return[i,l].join(" ")}).split(" ");return{x:+a[0]||0,y:+a[1]||0}};vr.setTranslate=function(e,r,t){var n=/(\btranslate\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||0,t=t||0,i=i.replace(n,"").trim(),i+=Df(r,t),i=i.trim(),e[o]("transform",i),i};vr.getScale=function(e){var r=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,l){return[i,l].join(" ")}).split(" ");return{x:+a[0]||1,y:+a[1]||1}};vr.setScale=function(e,r,t){var n=/(\bscale\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||1,t=t||1,i=i.replace(n,"").trim(),i+="scale("+r+","+t+")",i=i.trim(),e[o]("transform",i),i};var pW=/\s*sc.*/;vr.setPointGroupScale=function(e,r,t){if(r=r||1,t=t||1,!!e){var n=r===1&&t===1?"":"scale("+r+","+t+")";e.each(function(){var a=(this.getAttribute("transform")||"").replace(pW,"");a+=n,a=a.trim(),this.setAttribute("transform",a)})}};var gW=/translate\([^)]*\)\s*$/;vr.setTextPointsScale=function(e,r,t){e&&e.each(function(){var n,a=ln.select(this),o=a.select("text");if(o.node()){var i=parseFloat(o.attr("x")||0),l=parseFloat(o.attr("y")||0),u=(a.attr("transform")||"").match(gW);r===1&&t===1?n=[]:n=[Df(i,l),"scale("+r+","+t+")",Df(-i,-l)],u&&n.push(u),a.attr("transform",n.join(""))}})};function Bg(e,r){var t;return e&&(t=e.mf),t===void 0&&(t=r.marker&&r.marker.standoff||0),!r._geo&&!r._xA?-t:t}vr.getMarkerStandoff=Bg;var Lf=Math.atan2,Nl=Math.cos,Qs=Math.sin;function A8(e,r){var t=r[0],n=r[1];return[t*Nl(e)-n*Qs(e),t*Qs(e)+n*Nl(e)]}var k8,S8,C8,E8,Ng,zg;function Ug(e,r){var t=e.ma;t===void 0&&(t=r.marker.angle,(!t||dt.isArrayOrTypedArray(t))&&(t=0));var n,a,o=r.marker.angleref;if(o==="previous"||o==="north"){if(r._geo){var i=r._geo.project(e.lonlat);n=i[0],a=i[1]}else{var l=r._xA,u=r._yA;if(l&&u)n=l.c2p(e.x),a=u.c2p(e.y);else return 90}if(r._geo){var s=e.lonlat[0],f=e.lonlat[1],h=r._geo.project([s,f+1e-5]),p=r._geo.project([s+1e-5,f]),_=Lf(p[1]-a,p[0]-n),m=Lf(h[1]-a,h[0]-n),w;if(o==="north")w=t/180*Math.PI;else if(o==="previous"){var T=s/180*Math.PI,y=f/180*Math.PI,k=k8/180*Math.PI,S=S8/180*Math.PI,b=k-T,M=Nl(S)*Qs(b),d=Qs(S)*Nl(y)-Nl(S)*Qs(y)*Nl(b);w=-Lf(M,d)-Math.PI,k8=s,S8=f}var x=A8(_,[Nl(w),0]),g=A8(m,[Qs(w),0]);t=Lf(x[1]+g[1],x[0]+g[0])/Math.PI*180,o==="previous"&&!(zg===r.uid&&e.i===Ng+1)&&(t=null)}if(o==="previous"&&!r._geo)if(zg===r.uid&&e.i===Ng+1&&Ol(n)&&Ol(a)){var c=n-C8,A=a-E8,v=r.line&&r.line.shape||"",D=v.slice(v.length-1);D==="h"&&(A=0),D==="v"&&(c=0),t+=Lf(A,c)/Math.PI*180+90}else t=null}return C8=n,E8=a,Ng=e.i,zg=r.uid,t}vr.getMarkerAngle=Ug});var Rf=de((Fce,G8)=>{"use strict";var $s=it(),yW=nt(),mW=on(),Hg=Cr(),Bl=ir(),U8=Bl.strTranslate,kh=mt(),Sh=Xr(),js=Wn(),H8=Nc(),bW=qn().OPPOSITE_SIDE,V8=/ [XY][0-9]* /,Vg=1.6,Gg=1.6;function xW(e,r,t){var n=e._fullLayout,a=t.propContainer,o=t.propName,i=t.placeholder,l=t.traceIndex,u=t.avoid||{},s=t.attributes,f=t.transform,h=t.containerGroup,p=1,_=a.title,m=(_&&_.text?_.text:"").trim(),w=!1,T=_&&_.font?_.font:{},y=T.family,k=T.size,S=T.color,b=T.weight,M=T.style,d=T.variant,x=T.textcase,g=T.lineposition,c=T.shadow,A=t.subtitlePropName,v=!!A,D=t.subtitlePlaceholder,E=(a.title||{}).subtitle||{text:"",font:{}},R=(E.text||"").trim(),N=!1,F=1,I=E.font,L=I.family,P=I.size,O=I.color,U=I.weight,X=I.style,$=I.variant,j=I.textcase,Y=I.lineposition,q=I.shadow,K;o==="title.text"?K="titleText":o.indexOf("axis")!==-1?K="axisTitleText":o.indexOf("colorbar")!==-1&&(K="colorbarTitleText");var ne=e._context.edits[K];function Q(Ce,Pe){return Ce===void 0||Pe===void 0?!1:Ce.replace(V8," % ")===Pe.replace(V8," % ")}m===""?p=0:Q(m,i)&&(ne||(m=""),p=.2,w=!0),v&&(R===""?F=0:Q(R,D)&&(ne||(R=""),F=.2,N=!0)),t._meta?m=Bl.templateString(m,t._meta):n._meta&&(m=Bl.templateString(m,n._meta));var oe=m||R||ne,re;h||(h=Bl.ensureSingle(n._infolayer,"g","g-"+r),re=n._hColorbarMoveTitle);var H=h.selectAll("text."+r).data(oe?[0]:[]);H.enter().append("text"),H.text(m).attr("class",r),H.exit().remove();var ee=null,V=r+"-subtitle",te=R||ne;if(v&&(ee=h.selectAll("text."+V).data(te?[0]:[]),ee.enter().append("text"),ee.text(R).attr("class",V),ee.exit().remove()),!oe)return h;function ue(Ce,Pe){Bl.syncOrAsync([ve,ke],{title:Ce,subtitle:Pe})}function ve(Ce){var Pe=Ce.title,Ee=Ce.subtitle,Ne;!f&&re&&(f={}),f?(Ne="",f.rotate&&(Ne+="rotate("+[f.rotate,s.x,s.y]+")"),(f.offset||re)&&(Ne+=U8(0,(f.offset||0)-(re||0)))):Ne=null,Pe.attr("transform",Ne);function Ue(pe){if(pe){var ce=$s.select(pe.node().parentNode).select("."+V);if(!ce.empty()){var be=pe.node().getBBox();if(be.height){var Le=be.y+be.height+Vg*P;ce.attr("y",Le)}}}}if(Pe.style("opacity",p*Sh.opacity(S)).call(kh.font,{color:Sh.rgb(S),size:$s.round(k,2),family:y,weight:b,style:M,variant:d,textcase:x,shadow:c,lineposition:g}).attr(s).call(js.convertToTspans,e,Ue),Ee&&!Ee.empty()){var ge=h.select("."+r+"-math-group"),we=Pe.node().getBBox(),Te=ge.node()?ge.node().getBBox():void 0,me=Te?Te.y+Te.height+Vg*P:we.y+we.height+Gg*P,ye=Bl.extendFlat({},s,{y:me});Ee.attr("transform",Ne),Ee.style("opacity",F*Sh.opacity(O)).call(kh.font,{color:Sh.rgb(O),size:$s.round(P,2),family:L,weight:U,style:X,variant:$,textcase:j,shadow:q,lineposition:Y}).attr(ye).call(js.convertToTspans,e)}return mW.previousPromises(e)}function ke(Ce){var Pe=Ce.title,Ee=$s.select(Pe.node().parentNode);if(u&&u.selection&&u.side&&m){Ee.attr("transform",null);var Ne=bW[u.side],Ue=u.side==="left"||u.side==="top"?-1:1,ge=yW(u.pad)?u.pad:2,we=kh.bBox(Ee.node()),Te={t:0,b:0,l:0,r:0},me=e._fullLayout._reservedMargin;for(var ye in me)for(var pe in me[ye]){var ce=me[ye][pe];Te[pe]=Math.max(Te[pe],ce)}var be={left:Te.l,top:Te.t,right:n.width-Te.r,bottom:n.height-Te.b},Le=u.maxShift||Ue*(be[u.side]-we[u.side]),qe=0;if(Le<0)qe=Le;else{var ze=u.offsetLeft||0,$e=u.offsetTop||0;we.left-=ze,we.right-=ze,we.top-=$e,we.bottom-=$e,u.selection.each(function(){var Be=kh.bBox(this);Bl.bBoxIntersect(we,Be,ge)&&(qe=Math.max(qe,Ue*(Be[u.side]-we[Ne])+ge))}),qe=Math.min(Le,qe),a._titleScoot=Math.abs(qe)}if(qe>0||Le<0){var Ve={left:[-qe,0],right:[qe,0],top:[0,-qe],bottom:[0,qe]}[u.side];Ee.attr("transform",U8(Ve[0],Ve[1]))}}}H.call(ue,ee);function Se(Ce,Pe){Ce.text(Pe).on("mouseover.opacity",function(){$s.select(this).transition().duration(H8.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){$s.select(this).transition().duration(H8.HIDE_PLACEHOLDER).style("opacity",0)})}if(ne&&(m?H.on(".opacity",null):(Se(H,i),w=!0),H.call(js.makeEditable,{gd:e}).on("edit",function(Ce){l!==void 0?Hg.call("_guiRestyle",e,o,Ce,l):Hg.call("_guiRelayout",e,o,Ce)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ue)}).on("input",function(Ce){this.text(Ce||" ").call(js.positionText,s.x,s.y)}),v)){if(v&&!m){var he=H.node().getBBox(),Ae=he.y+he.height+Gg*P;ee.attr("y",Ae)}R?ee.on(".opacity",null):(Se(ee,D),N=!0),ee.call(js.makeEditable,{gd:e}).on("edit",function(Ce){Hg.call("_guiRelayout",e,"title.subtitle.text",Ce)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ue)}).on("input",function(Ce){this.text(Ce||" ").call(js.positionText,ee.attr("x"),ee.attr("y"))})}return H.classed("js-placeholder",w),ee&&!ee.empty()&&ee.classed("js-placeholder",N),h}G8.exports={draw:xW,SUBTITLE_PADDING_EM:Gg,SUBTITLE_PADDING_MATHJAX_EM:Vg}});var Fh=de((Nce,J8)=>{"use strict";var _W=it(),wW=Ss().utcFormat,bt=ir(),MW=bt.numberFormat,Di=nt(),Oo=bt.cleanNumber,TW=bt.ms2DateTime,Y8=bt.dateTime2ms,Ri=bt.ensureNumber,W8=bt.isArrayOrTypedArray,Bo=nn(),Ch=Bo.FP_SAFE,ti=Bo.BADNUM,AW=Bo.LOG_CLIP,kW=Bo.ONEWEEK,Eh=Bo.ONEDAY,Lh=Bo.ONEHOUR,X8=Bo.ONEMIN,Z8=Bo.ONESEC,Dh=jt(),Ih=_n(),Rh=Ih.HOUR_PATTERN,Ph=Ih.WEEKDAY_PATTERN;function Pf(e){return Math.pow(10,e)}function Yg(e){return e!=null}J8.exports=function(r,t){t=t||{};var n=r._id||"x",a=n.charAt(0);function o(b,M){if(b>0)return Math.log(b)/Math.LN10;if(b<=0&&M&&r.range&&r.range.length===2){var d=r.range[0],x=r.range[1];return .5*(d+x-2*AW*Math.abs(d-x))}else return ti}function i(b,M,d,x){if((x||{}).msUTC&&Di(b))return+b;var g=Y8(b,d||r.calendar);if(g===ti)if(Di(b)){b=+b;var c=Math.floor(bt.mod(b+.05,1)*10),A=Math.round(b-c/10);g=Y8(new Date(A))+c/10}else return ti;return g}function l(b,M,d){return TW(b,M,d||r.calendar)}function u(b){return r._categories[Math.round(b)]}function s(b){if(Yg(b)){if(r._categoriesMap===void 0&&(r._categoriesMap={}),r._categoriesMap[b]!==void 0)return r._categoriesMap[b];r._categories.push(typeof b=="number"?String(b):b);var M=r._categories.length-1;return r._categoriesMap[b]=M,M}return ti}function f(b,M){for(var d=new Array(M),x=0;x<M;x++){var g=(b[0]||[])[x],c=(b[1]||[])[x];d[x]=h([g,c])}return d}function h(b){if(r._categoriesMap)return r._categoriesMap[b]}function p(b){var M=h(b);if(M!==void 0)return M;if(Di(b))return+b}function _(b){return Di(b)?+b:h(b)}function m(b,M,d){return _W.round(d+M*b,2)}function w(b,M,d){return(b-d)/M}var T=function(M){return Di(M)?m(M,r._m,r._b):ti},y=function(b){return w(b,r._m,r._b)};if(r.rangebreaks){var k=a==="y";T=function(b){if(!Di(b))return ti;var M=r._rangebreaks.length;if(!M)return m(b,r._m,r._b);var d=k;r.range[0]>r.range[1]&&(d=!d);for(var x=d?-1:1,g=x*b,c=0,A=0;A<M;A++){var v=x*r._rangebreaks[A].min,D=x*r._rangebreaks[A].max;if(g<v)break;if(g>D)c=A+1;else{c=g<(v+D)/2?A:A+1;break}}var E=r._B[c]||0;return isFinite(E)?m(b,r._m2,E):0},y=function(b){var M=r._rangebreaks.length;if(!M)return w(b,r._m,r._b);for(var d=0,x=0;x<M&&!(b<r._rangebreaks[x].pmin);x++)b>r._rangebreaks[x].pmax&&(d=x+1);return w(b,r._m2,r._B[d])}}r.c2l=r.type==="log"?o:Ri,r.l2c=r.type==="log"?Pf:Ri,r.l2p=T,r.p2l=y,r.c2p=r.type==="log"?function(b,M){return T(o(b,M))}:T,r.p2c=r.type==="log"?function(b){return Pf(y(b))}:y,["linear","-"].indexOf(r.type)!==-1?(r.d2r=r.r2d=r.d2c=r.r2c=r.d2l=r.r2l=Oo,r.c2d=r.c2r=r.l2d=r.l2r=Ri,r.d2p=r.r2p=function(b){return r.l2p(Oo(b))},r.p2d=r.p2r=y,r.cleanPos=Ri):r.type==="log"?(r.d2r=r.d2l=function(b,M){return o(Oo(b),M)},r.r2d=r.r2c=function(b){return Pf(Oo(b))},r.d2c=r.r2l=Oo,r.c2d=r.l2r=Ri,r.c2r=o,r.l2d=Pf,r.d2p=function(b,M){return r.l2p(r.d2r(b,M))},r.p2d=function(b){return Pf(y(b))},r.r2p=function(b){return r.l2p(Oo(b))},r.p2r=y,r.cleanPos=Ri):r.type==="date"?(r.d2r=r.r2d=bt.identity,r.d2c=r.r2c=r.d2l=r.r2l=i,r.c2d=r.c2r=r.l2d=r.l2r=l,r.d2p=r.r2p=function(b,M,d){return r.l2p(i(b,0,d))},r.p2d=r.p2r=function(b,M,d){return l(y(b),M,d)},r.cleanPos=function(b){return bt.cleanDate(b,ti,r.calendar)}):r.type==="category"?(r.d2c=r.d2l=s,r.r2d=r.c2d=r.l2d=u,r.d2r=r.d2l_noadd=p,r.r2c=function(b){var M=_(b);return M!==void 0?M:r.fraction2r(.5)},r.l2r=r.c2r=Ri,r.r2l=_,r.d2p=function(b){return r.l2p(r.r2c(b))},r.p2d=function(b){return u(y(b))},r.r2p=r.d2p,r.p2r=y,r.cleanPos=function(b){return typeof b=="string"&&b!==""?b:Ri(b)}):r.type==="multicategory"&&(r.r2d=r.c2d=r.l2d=u,r.d2r=r.d2l_noadd=p,r.r2c=function(b){var M=p(b);return M!==void 0?M:r.fraction2r(.5)},r.r2c_just_indices=h,r.l2r=r.c2r=Ri,r.r2l=p,r.d2p=function(b){return r.l2p(r.r2c(b))},r.p2d=function(b){return u(y(b))},r.r2p=r.d2p,r.p2r=y,r.cleanPos=function(b){return Array.isArray(b)||typeof b=="string"&&b!==""?b:Ri(b)},r.setupMultiCategory=function(b){var M=r._traceIndices,d,x,g=r._matchGroup;if(g&&r._categories.length===0){for(var c in g)if(c!==n){var A=t[Dh.id2name(c)];M=M.concat(A._traceIndices)}}var v=[[0,{}],[0,{}]],D=[];for(d=0;d<M.length;d++){var E=b[M[d]];if(a in E){var R=E[a],N=E._length||bt.minRowLength(R);if(W8(R[0])&&W8(R[1]))for(x=0;x<N;x++){var F=R[0][x],I=R[1][x];Yg(F)&&Yg(I)&&(D.push([F,I]),F in v[0][1]||(v[0][1][F]=v[0][0]++),I in v[1][1]||(v[1][1][I]=v[1][0]++))}}}for(D.sort(function(L,P){var O=v[0][1],U=O[L[0]]-O[P[0]];if(U)return U;var X=v[1][1];return X[L[1]]-X[P[1]]}),d=0;d<D.length;d++)s(D[d])}),r.fraction2r=function(b){var M=r.r2l(r.range[0]),d=r.r2l(r.range[1]);return r.l2r(M+b*(d-M))},r.r2fraction=function(b){var M=r.r2l(r.range[0]),d=r.r2l(r.range[1]);return(r.r2l(b)-M)/(d-M)},r.limitRange=function(b){var M=r.minallowed,d=r.maxallowed;if(!(M===void 0&&d===void 0)){b||(b="range");var x=bt.nestedProperty(r,b).get(),g=bt.simpleMap(x,r.r2l),c=g[1]<g[0];c&&g.reverse();var A=bt.simpleMap([M,d],r.r2l);if(M!==void 0&&g[0]<A[0]&&(x[c?1:0]=M),d!==void 0&&g[1]>A[1]&&(x[c?0:1]=d),x[0]===x[1]){var v=r.l2r(M),D=r.l2r(d);if(M!==void 0){var E=v+1;d!==void 0&&(E=Math.min(E,D)),x[c?1:0]=E}if(d!==void 0){var R=D+1;M!==void 0&&(R=Math.max(R,v)),x[c?0:1]=R}}}},r.cleanRange=function(b,M){r._cleanRange(b,M),r.limitRange(b)},r._cleanRange=function(b,M){M||(M={}),b||(b="range");var d=bt.nestedProperty(r,b).get(),x,g;if(r.type==="date"?g=bt.dfltRange(r.calendar):a==="y"?g=Ih.DFLTRANGEY:r._name==="realaxis"?g=[0,1]:g=M.dfltRange||Ih.DFLTRANGEX,g=g.slice(),(r.rangemode==="tozero"||r.rangemode==="nonnegative")&&(g[0]=0),!d||d.length!==2){bt.nestedProperty(r,b).set(g);return}var c=d[0]===null,A=d[1]===null;for(r.type==="date"&&!r.autorange&&(d[0]=bt.cleanDate(d[0],ti,r.calendar),d[1]=bt.cleanDate(d[1],ti,r.calendar)),x=0;x<2;x++)if(r.type==="date"){if(!bt.isDateTime(d[x],r.calendar)){r[b]=g;break}if(r.r2l(d[0])===r.r2l(d[1])){var v=bt.constrain(r.r2l(d[0]),bt.MIN_MS+1e3,bt.MAX_MS-1e3);d[0]=r.l2r(v-1e3),d[1]=r.l2r(v+1e3);break}}else{if(!Di(d[x]))if(!(c||A)&&Di(d[1-x]))d[x]=d[1-x]*(x?10:.1);else{r[b]=g;break}if(d[x]<-Ch?d[x]=-Ch:d[x]>Ch&&(d[x]=Ch),d[0]===d[1]){var D=Math.max(1,Math.abs(d[0]*1e-6));d[0]-=D,d[1]+=D}}},r.setScale=function(b){var M=t._size;if(r.overlaying){var d=Dh.getFromId({_fullLayout:t},r.overlaying);r.domain=d.domain}var x=b&&r._r?"_r":"range",g=r.calendar;r.cleanRange(x);var c=r.r2l(r[x][0],g),A=r.r2l(r[x][1],g),v=a==="y";if(v?(r._offset=M.t+(1-r.domain[1])*M.h,r._length=M.h*(r.domain[1]-r.domain[0]),r._m=r._length/(c-A),r._b=-r._m*A):(r._offset=M.l+r.domain[0]*M.w,r._length=M.w*(r.domain[1]-r.domain[0]),r._m=r._length/(A-c),r._b=-r._m*c),r._rangebreaks=[],r._lBreaks=0,r._m2=0,r._B=[],r.rangebreaks){var D,E;if(r._rangebreaks=r.locateBreaks(Math.min(c,A),Math.max(c,A)),r._rangebreaks.length){for(D=0;D<r._rangebreaks.length;D++)E=r._rangebreaks[D],r._lBreaks+=Math.abs(E.max-E.min);var R=v;c>A&&(R=!R),R&&r._rangebreaks.reverse();var N=R?-1:1;for(r._m2=N*r._length/(Math.abs(A-c)-r._lBreaks),r._B.push(-r._m2*(v?A:c)),D=0;D<r._rangebreaks.length;D++)E=r._rangebreaks[D],r._B.push(r._B[r._B.length-1]-N*r._m2*(E.max-E.min));for(D=0;D<r._rangebreaks.length;D++)E=r._rangebreaks[D],E.pmin=T(E.min),E.pmax=T(E.max)}}if(!isFinite(r._m)||!isFinite(r._b)||r._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},r.maskBreaks=function(b){var M=r.rangebreaks||[],d,x,g,c,A;M._cachedPatterns||(M._cachedPatterns=M.map(function(O){return O.enabled&&O.bounds?bt.simpleMap(O.bounds,O.pattern?Oo:r.d2c):null})),M._cachedValues||(M._cachedValues=M.map(function(O){return O.enabled&&O.values?bt.simpleMap(O.values,r.d2c).sort(bt.sorterAsc):null}));for(var v=0;v<M.length;v++){var D=M[v];if(D.enabled){if(D.bounds){var E=D.pattern;switch(d=M._cachedPatterns[v],x=d[0],g=d[1],E){case Ph:A=new Date(b),c=A.getUTCDay(),x>g&&(g+=7,c<x&&(c+=7));break;case Rh:A=new Date(b);var R=A.getUTCHours(),N=A.getUTCMinutes(),F=A.getUTCSeconds(),I=A.getUTCMilliseconds();c=R+(N/60+F/3600+I/36e5),x>g&&(g+=24,c<x&&(c+=24));break;case"":c=b;break}if(c>=x&&c<g)return ti}else for(var L=M._cachedValues[v],P=0;P<L.length;P++)if(x=L[P],g=x+D.dvalue,b>=x&&b<g)return ti}}return b},r.locateBreaks=function(b,M){var d,x,g,c,A=[];if(!r.rangebreaks)return A;var v=r.rangebreaks.slice().sort(function(X,$){return X.pattern===Ph&&$.pattern===Rh?-1:$.pattern===Ph&&X.pattern===Rh?1:0}),D=function(X,$){if(X=bt.constrain(X,b,M),$=bt.constrain($,b,M),X!==$){for(var j=!0,Y=0;Y<A.length;Y++){var q=A[Y];X<q.max&&$>=q.min&&(X<q.min&&(q.min=X),$>q.max&&(q.max=$),j=!1)}j&&A.push({min:X,max:$})}};for(d=0;d<v.length;d++){var E=v[d];if(E.enabled)if(E.bounds){var R=b,N=M;E.pattern&&(R=Math.floor(R)),x=bt.simpleMap(E.bounds,E.pattern?Oo:r.r2l),g=x[0],c=x[1];var F=new Date(R),I,L;switch(E.pattern){case Ph:L=kW,I=((c<g?7:0)+(c-g))*Eh,R+=g*Eh-(F.getUTCDay()*Eh+F.getUTCHours()*Lh+F.getUTCMinutes()*X8+F.getUTCSeconds()*Z8+F.getUTCMilliseconds());break;case Rh:L=Eh,I=((c<g?24:0)+(c-g))*Lh,R+=g*Lh-(F.getUTCHours()*Lh+F.getUTCMinutes()*X8+F.getUTCSeconds()*Z8+F.getUTCMilliseconds());break;default:R=Math.min(x[0],x[1]),N=Math.max(x[0],x[1]),L=N-R,I=L}for(var P=R;P<N;P+=L)D(P,P+I)}else for(var O=bt.simpleMap(E.values,r.d2c),U=0;U<O.length;U++)g=O[U],c=g+E.dvalue,D(g,c)}return A.sort(function(X,$){return X.min-$.min}),A},r.makeCalcdata=function(b,M,d){var x,g,c,A,v=r.type,D=v==="date"&&b[M+"calendar"];if(M in b){if(x=b[M],A=b._length||bt.minRowLength(x),bt.isTypedArray(x)&&(v==="linear"||v==="log")){if(A===x.length)return x;if(x.subarray)return x.subarray(0,A)}if(v==="multicategory")return f(x,A);for(g=new Array(A),c=0;c<A;c++)g[c]=r.d2c(x[c],0,D,d)}else{var E=M+"0"in b?r.d2c(b[M+"0"],0,D):0,R=b["d"+M]?Number(b["d"+M]):1;for(x=b[{x:"y",y:"x"}[M]],A=b._length||x.length,g=new Array(A),c=0;c<A;c++)g[c]=E+c*R}if(r.rangebreaks)for(c=0;c<A;c++)g[c]=r.maskBreaks(g[c]);return g},r.isValidRange=function(b,M){return Array.isArray(b)&&b.length===2&&(M&&b[0]===null||Di(r.r2l(b[0])))&&(M&&b[1]===null||Di(r.r2l(b[1])))},r.getAutorangeDflt=function(b,M){var d=!r.isValidRange(b,"nullOk");return d&&M&&M.reverseDflt?d="reversed":b&&(b[0]===null&&b[1]===null?d=!0:b[0]===null&&b[1]!==null?d="min":b[0]!==null&&b[1]===null&&(d="max")),d},r.isReversed=function(){var b=r.autorange;return b==="reversed"||b==="min reversed"||b==="max reversed"},r.isPtWithinRange=function(b,M){var d=r.c2l(b[a],null,M),x=r.r2l(r.range[0]),g=r.r2l(r.range[1]);return x<g?x<=d&&d<=g:g<=d&&d<=x},r._emptyCategories=function(){r._categories=[],r._categoriesMap={}},r.clearCalc=function(){var b=r._matchGroup;if(b){var M=null,d=null;for(var x in b){var g=t[Dh.id2name(x)];if(g._categories){M=g._categories,d=g._categoriesMap;break}}M&&d?(r._categories=M,r._categoriesMap=d):r._emptyCategories()}else r._emptyCategories();if(r._initialCategories)for(var c=0;c<r._initialCategories.length;c++)s(r._initialCategories[c])},r.sortByInitialCategories=function(){var b=[];if(r._emptyCategories(),r._initialCategories)for(var M=0;M<r._initialCategories.length;M++)s(r._initialCategories[M]);b=b.concat(r._traceIndices);var d=r._matchGroup;for(var x in d)if(n!==x){var g=t[Dh.id2name(x)];g._categories=r._categories,g._categoriesMap=r._categoriesMap,b=b.concat(g._traceIndices)}return b};var S=t._d3locale;r.type==="date"&&(r._dateFormat=S?S.timeFormat:wW,r._extraFormat=t._extraFormat),r._separators=t.separators,r._numFormat=S?S.numberFormat:MW,delete r._minDtick,delete r._forceTick0}});var Xg=de((zce,j8)=>{"use strict";var K8=nt(),Wg=ir(),SW=nn().BADNUM,Nh=Wg.isArrayOrTypedArray,CW=Wg.isDateTime,EW=Wg.cleanNumber,Q8=Math.round;j8.exports=function(r,t,n){var a=r,o=n.noMultiCategory;if(Nh(a)&&!a.length)return"-";if(!o&&IW(a))return"multicategory";if(o&&Array.isArray(a[0])){for(var i=[],l=0;l<a.length;l++)if(Nh(a[l]))for(var u=0;u<a[l].length;u++)i.push(a[l][u]);a=i}if(RW(a,t))return"date";var s=n.autotypenumbers!=="strict";return PW(a,s)?"category":DW(a,s)?"linear":"-"};function LW(e,r){return r?K8(e):typeof e=="number"}function DW(e,r){for(var t=e.length,n=0;n<t;n++)if(LW(e[n],r))return!0;return!1}function RW(e,r){for(var t=e.length,n=$8(t),a=0,o=0,i={},l=0;l<t;l+=n){var u=Q8(l),s=e[u],f=String(s);i[f]||(i[f]=1,CW(s,r)&&a++,K8(s)&&o++)}return a>o*2}function $8(e){return Math.max(1,(e-1)/1e3)}function PW(e,r){for(var t=e.length,n=$8(t),a=0,o=0,i={},l=0;l<t;l+=n){var u=Q8(l),s=e[u],f=String(s);if(!i[f]){i[f]=1;var h=typeof s;h==="boolean"?o++:(r?EW(s)!==SW:h==="number")?a++:h==="string"&&o++}}return o>a*2}function IW(e){return Nh(e[0])&&Nh(e[1])}});var eu=de((qce,lM)=>{"use strict";var FW=it(),nM=nt(),Uo=ir(),zh=nn().FP_SAFE,NW=Cr(),zW=mt(),aM=jt(),qW=aM.getFromId,OW=aM.isLinked;lM.exports={applyAutorangeOptions:oM,getAutoRange:Zg,makePadFn:Jg,doAutoRange:UW,findExtremes:HW,concatExtremes:$g};function Zg(e,r){var t,n,a=[],o=e._fullLayout,i=Jg(o,r,0),l=Jg(o,r,1),u=$g(e,r),s=u.min,f=u.max;if(s.length===0||f.length===0)return Uo.simpleMap(r.range,r.r2l);var h=s[0].val,p=f[0].val;for(t=1;t<s.length&&h===p;t++)h=Math.min(h,s[t].val);for(t=1;t<f.length&&h===p;t++)p=Math.max(p,f[t].val);var _=r.autorange,m=_==="reversed"||_==="min reversed"||_==="max reversed";if(!m&&r.range){var w=Uo.simpleMap(r.range,r.r2l);m=w[1]<w[0]}r.autorange==="reversed"&&(r.autorange=!0);var T=r.rangemode,y=T==="tozero",k=T==="nonnegative",S=r._length,b=S/10,M=0,d,x,g,c,A,v;for(t=0;t<s.length;t++)for(d=s[t],n=0;n<f.length;n++)x=f[n],v=x.val-d.val-eM(r,d.val,x.val),v>0&&(A=S-i(d)-l(x),A>b?v/A>M&&(g=d,c=x,M=v/A):v/S>M&&(g={val:d.val,nopad:1},c={val:x.val,nopad:1},M=v/S));function D(I,L){return Math.max(I,l(L))}if(h===p){var E=h-1,R=h+1;if(y)if(h===0)a=[0,1];else{var N=(h>0?f:s).reduce(D,0),F=h/(1-Math.min(.5,N/S));a=h>0?[0,F]:[F,0]}else k?a=[Math.max(0,E),Math.max(1,R)]:a=[E,R]}else y?(g.val>=0&&(g={val:0,nopad:1}),c.val<=0&&(c={val:0,nopad:1})):k&&(g.val-M*i(g)<0&&(g={val:0,nopad:1}),c.val<=0&&(c={val:1,nopad:1})),M=(c.val-g.val-eM(r,d.val,x.val))/(S-i(g)-l(c)),a=[g.val-M*i(g),c.val+M*l(c)];return a=oM(a,r),r.limitRange&&r.limitRange(),m&&a.reverse(),Uo.simpleMap(a,r.l2r||Number)}function eM(e,r,t){var n=0;if(e.rangebreaks)for(var a=e.locateBreaks(r,t),o=0;o<a.length;o++){var i=a[o];n+=i.max-i.min}return n}function Jg(e,r,t){var n=.05*r._length,a=r._anchorAxis||{};if((r.ticklabelposition||"").indexOf("inside")!==-1||(a.ticklabelposition||"").indexOf("inside")!==-1){var o=r.isReversed();if(!o){var i=Uo.simpleMap(r.range,r.r2l);o=i[1]<i[0]}o&&(t=!t)}var l=0;return OW(e,r._id)||(l=BW(e,r,t)),n=Math.max(l,n),r.constrain==="domain"&&r._inputDomain&&(n*=(r._inputDomain[1]-r._inputDomain[0])/(r.domain[1]-r.domain[0])),function(s){return s.nopad?0:s.pad+(s.extrapad?n:l)}}var rM=3;function BW(e,r,t){var n=0,a=r._id.charAt(0)==="x";for(var o in e._plots){var i=e._plots[o];if(!(r._id!==i.xaxis._id&&r._id!==i.yaxis._id)){var l=(a?i.yaxis:i.xaxis)||{};if((l.ticklabelposition||"").indexOf("inside")!==-1&&(!t&&(l.side==="left"||l.side==="bottom")||t&&(l.side==="top"||l.side==="right"))){if(l._vals){var u=Uo.deg2rad(l._tickAngles[l._id+"tick"]||0),s=Math.abs(Math.cos(u)),f=Math.abs(Math.sin(u));if(!l._vals[0].bb){var h=l._id+"tick",p=l._selections[h];p.each(function(k){var S=FW.select(this),b=S.select(".text-math-group");b.empty()&&(k.bb=zW.bBox(S.node()))})}for(var _=0;_<l._vals.length;_++){var m=l._vals[_],w=m.bb;if(w){var T=2*rM+w.width,y=2*rM+w.height;n=Math.max(n,a?Math.max(T*s,y*f):Math.max(y*s,T*f))}}}l.ticks==="inside"&&l.ticklabelposition==="inside"&&(n+=l.ticklen||0)}}}return n}function $g(e,r,t){var n=r._id,a=e._fullData,o=e._fullLayout,i=[],l=[],u,s,f;function h(T,y){for(u=0;u<y.length;u++){var k=T[y[u]],S=(k._extremes||{})[n];if(k.visible===!0&&S){for(s=0;s<S.min.length;s++)f=S.min[s],Kg(i,f.val,f.pad,{extrapad:f.extrapad});for(s=0;s<S.max.length;s++)f=S.max[s],Qg(l,f.val,f.pad,{extrapad:f.extrapad})}}}if(h(a,r._traceIndices),h(o.annotations||[],r._annIndices||[]),h(o.shapes||[],r._shapeIndices||[]),r._matchGroup&&!t){for(var p in r._matchGroup)if(p!==r._id){var _=qW(e,p),m=$g(e,_,!0),w=r._length/_._length;for(s=0;s<m.min.length;s++)f=m.min[s],Kg(i,f.val,f.pad*w,{extrapad:f.extrapad});for(s=0;s<m.max.length;s++)f=m.max[s],Qg(l,f.val,f.pad*w,{extrapad:f.extrapad})}}return{min:i,max:l}}function UW(e,r,t){if(r.setScale(),r.autorange){r.range=t?t.slice():Zg(e,r),r._r=r.range.slice(),r._rl=Uo.simpleMap(r._r,r.r2l);var n=r._input,a={};a[r._attr+".range"]=r.range,a[r._attr+".autorange"]=r.autorange,NW.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,a),n.range=r.range.slice(),n.autorange=r.autorange}var o=r._anchorAxis;if(o&&o.rangeslider){var i=o.rangeslider[r._name];i&&i.rangemode==="auto"&&(i.range=Zg(e,r)),o._input.rangeslider[r._name]=Uo.extendFlat({},i)}}function HW(e,r,t){t||(t={}),e._m||e.setScale();var n=[],a=[],o=r.length,i=t.padded||!1,l=t.tozero&&(e.type==="linear"||e.type==="-"),u=e.type==="log",s=!1,f=t.vpadLinearized||!1,h,p,_,m,w,T,y,k,S;function b(D){if(Array.isArray(D))return s=!0,function(R){return Math.max(Number(D[R]||0),0)};var E=Math.max(Number(D||0),0);return function(){return E}}var M=b((e._m>0?t.ppadplus:t.ppadminus)||t.ppad||0),d=b((e._m>0?t.ppadminus:t.ppadplus)||t.ppad||0),x=b(t.vpadplus||t.vpad),g=b(t.vpadminus||t.vpad);if(!s){if(k=1/0,S=-1/0,u)for(h=0;h<o;h++)p=r[h],p<k&&p>0&&(k=p),p>S&&p<zh&&(S=p);else for(h=0;h<o;h++)p=r[h],p<k&&p>-zh&&(k=p),p>S&&p<zh&&(S=p);r=[k,S],o=2}var c={tozero:l,extrapad:i};function A(D){_=r[D],nM(_)&&(T=M(D),y=d(D),f?(m=e.c2l(_)-g(D),w=e.c2l(_)+x(D)):(k=_-g(D),S=_+x(D),u&&k<S/10&&(k=S/10),m=e.c2l(k),w=e.c2l(S)),l&&(m=Math.min(0,m),w=Math.max(0,w)),tM(m)&&Kg(n,m,y,c),tM(w)&&Qg(a,w,T,c))}var v=Math.min(6,o);for(h=0;h<v;h++)A(h);for(h=o-1;h>=v;h--)A(h);return{min:n,max:a,opts:t}}function Kg(e,r,t,n){iM(e,r,t,n,VW)}function Qg(e,r,t,n){iM(e,r,t,n,GW)}function iM(e,r,t,n,a){for(var o=n.tozero,i=n.extrapad,l=!0,u=0;u<e.length&&l;u++){var s=e[u];if(a(s.val,r)&&s.pad>=t&&(s.extrapad||!i)){l=!1;break}else a(r,s.val)&&s.pad<=t&&(i||!s.extrapad)&&(e.splice(u,1),u--)}if(l){var f=o&&r===0;e.push({val:r,pad:f?0:t,extrapad:f?!1:i})}}function tM(e){return nM(e)&&Math.abs(e)<zh}function VW(e,r){return e<=r}function GW(e,r){return e>=r}function YW(e,r){var t=r.autorangeoptions;return t&&t.minallowed!==void 0&&qh(r,t.minallowed,t.maxallowed)?t.minallowed:t&&t.clipmin!==void 0&&qh(r,t.clipmin,t.clipmax)?Math.max(e,r.d2l(t.clipmin)):e}function WW(e,r){var t=r.autorangeoptions;return t&&t.maxallowed!==void 0&&qh(r,t.minallowed,t.maxallowed)?t.maxallowed:t&&t.clipmax!==void 0&&qh(r,t.clipmin,t.clipmax)?Math.min(e,r.d2l(t.clipmax)):e}function qh(e,r,t){return r!==void 0&&t!==void 0?(r=e.d2l(r),t=e.d2l(t),r<t):!0}function oM(e,r){if(!r||!r.autorangeoptions)return e;var t=e[0],n=e[1],a=r.autorangeoptions.include;if(a!==void 0){var o=r.d2l(t),i=r.d2l(n);Uo.isArrayOrTypedArray(a)||(a=[a]);for(var l=0;l<a.length;l++){var u=r.d2l(a[l]);o>=u&&(o=u,t=u),i<=u&&(i=u,n=u)}}return t=YW(t,r),n=WW(n,r),[t,n]}});var Lt=de((Oce,LM)=>{"use strict";var Da=it(),Xt=nt(),ru=on(),Ff=Cr(),Er=ir(),tu=Er.strTranslate,Ul=Wn(),XW=Rf(),Nf=Xr(),da=mt(),ZW=La(),sM=pg(),Mn=nn(),JW=Mn.ONEMAXYEAR,Uh=Mn.ONEAVGYEAR,Hh=Mn.ONEMINYEAR,KW=Mn.ONEMAXQUARTER,t2=Mn.ONEAVGQUARTER,Vh=Mn.ONEMINQUARTER,QW=Mn.ONEMAXMONTH,nu=Mn.ONEAVGMONTH,Gh=Mn.ONEMINMONTH,pa=Mn.ONEWEEK,On=Mn.ONEDAY,Ho=On/2,Ii=Mn.ONEHOUR,zf=Mn.ONEMIN,Yh=Mn.ONESEC,$W=Mn.ONEMILLI,jW=Mn.ONEMICROSEC,Hl=Mn.MINUS_SIGN,Xh=Mn.BADNUM,n2={K:"zeroline"},a2={K:"gridline",L:"path"},i2={K:"minor-gridline",L:"path"},bM={K:"tick",L:"path"},uM={K:"tick",L:"text"},fM={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},Zh=qn(),If=Zh.MID_SHIFT,Vl=Zh.CAP_SHIFT,qf=Zh.LINE_SPACING,eX=Zh.OPPOSITE_SIDE,Wh=3,lr=LM.exports={};lr.setConvert=Fh();var rX=Xg(),no=jt(),tX=no.idSort,nX=no.isLinked;lr.id2name=no.id2name;lr.name2id=no.name2id;lr.cleanId=no.cleanId;lr.list=no.list;lr.listIds=no.listIds;lr.getFromId=no.getFromId;lr.getFromTrace=no.getFromTrace;var xM=eu();lr.getAutoRange=xM.getAutoRange;lr.findExtremes=xM.findExtremes;var aX=1e-4;function u2(e){var r=(e[1]-e[0])*aX;return[e[0]-r,e[1]+r]}lr.coerceRef=function(e,r,t,n,a,o){var i=n.charAt(n.length-1),l=t._fullLayout._subplots[i+"axis"],u=n+"ref",s={};return a||(a=l[0]||(typeof o=="string"?o:o[0])),o||(o=a),l=l.concat(l.map(function(f){return f+" domain"})),s[u]={valType:"enumerated",values:l.concat(o?typeof o=="string"?[o]:o:[]),dflt:a},Er.coerce(e,r,s,u)};lr.getRefType=function(e){return e===void 0?e:e==="paper"?"paper":e==="pixel"?"pixel":/( domain)$/.test(e)?"domain":"range"};lr.coercePosition=function(e,r,t,n,a,o){var i,l,u=lr.getRefType(n);if(u!=="range")i=Er.ensureNumber,l=t(a,o);else{var s=lr.getFromId(r,n);o=s.fraction2r(o),l=t(a,o),i=s.cleanPos}e[a]=i(l)};lr.cleanPosition=function(e,r,t){var n=t==="paper"||t==="pixel"?Er.ensureNumber:lr.getFromId(r,t).cleanPos;return n(e)};lr.redrawComponents=function(e,r){r=r||lr.listIds(e);var t=e._fullLayout;function n(a,o,i,l){for(var u=Ff.getComponentMethod(a,o),s={},f=0;f<r.length;f++)for(var h=t[lr.id2name(r[f])],p=h[i],_=0;_<p.length;_++){var m=p[_];if(!s[m]&&(u(e,m),s[m]=1,l))return}}n("annotations","drawOne","_annIndices"),n("shapes","drawOne","_shapeIndices"),n("images","draw","_imgIndices",!0),n("selections","drawOne","_selectionIndices")};var iX=lr.getDataConversions=function(e,r,t,n){var a,o=t==="x"||t==="y"||t==="z"?t:n;if(Er.isArrayOrTypedArray(o)){if(a={type:rX(n,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},lr.setConvert(a),a.type==="category")for(var i=0;i<n.length;i++)a.d2c(n[i])}else a=lr.getFromTrace(e,r,o);return a?{d2c:a.d2c,c2d:a.c2d}:o==="ids"?{d2c:hM,c2d:hM}:{d2c:cM,c2d:cM}};function cM(e){return+e}function hM(e){return String(e)}lr.getDataToCoordFunc=function(e,r,t,n){return iX(e,r,t,n).d2c};lr.counterLetter=function(e){var r=e.charAt(0);if(r==="x")return"y";if(r==="y")return"x"};lr.minDtick=function(e,r,t,n){["log","category","multicategory"].indexOf(e.type)!==-1||!n?e._minDtick=0:e._minDtick===void 0?(e._minDtick=r,e._forceTick0=t):e._minDtick&&((e._minDtick/r+1e-6)%1<2e-6&&((t-e._forceTick0)/r%1+1.000001)%1<2e-6?(e._minDtick=r,e._forceTick0=t):((r/e._minDtick+1e-6)%1>2e-6||((t-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0))};lr.saveRangeInitial=function(e,r){for(var t=lr.list(e,"",!0),n=!1,a=0;a<t.length;a++){var o=t[a],i=o._rangeInitial0===void 0&&o._rangeInitial1===void 0,l=i||o.range[0]!==o._rangeInitial0||o.range[1]!==o._rangeInitial1,u=o.autorange;(i&&u!==!0||r&&l)&&(o._rangeInitial0=u==="min"||u==="max reversed"?void 0:o.range[0],o._rangeInitial1=u==="max"||u==="min reversed"?void 0:o.range[1],o._autorangeInitial=u,n=!0)}return n};lr.saveShowSpikeInitial=function(e,r){for(var t=lr.list(e,"",!0),n=!1,a="on",o=0;o<t.length;o++){var i=t[o],l=i._showSpikeInitial===void 0,u=l||i.showspikes!==i._showspikes;(l||r&&u)&&(i._showSpikeInitial=i.showspikes,n=!0),a==="on"&&!i.showspikes&&(a="off")}return e._fullLayout._cartesianSpikesEnabled=a,n};lr.autoBin=function(e,r,t,n,a,o){var i=Er.aggNums(Math.min,null,e),l=Er.aggNums(Math.max,null,e);if(r.type==="category"||r.type==="multicategory")return{start:i-.5,end:l+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:l-i};a||(a=r.calendar);var u;if(r.type==="log"?u={type:"linear",range:[i,l]}:u={type:r.type,range:Er.simpleMap([i,l],r.c2r,0,a),calendar:a},lr.setConvert(u),o=o&&sM.dtick(o,u.type),o)u.dtick=o,u.tick0=sM.tick0(void 0,u.type,a);else{var s;if(t)s=(l-i)/t;else{var f=Er.distinctVals(e),h=Math.pow(10,Math.floor(Math.log(f.minDiff)/Math.LN10)),p=h*Er.roundUp(f.minDiff/h,[.9,1.9,4.9,9.9],!0);s=Math.max(p,2*Er.stdev(e)/Math.pow(e.length,n?.25:.4)),Xt(s)||(s=1)}lr.autoTicks(u,s)}var _=u.dtick,m=lr.tickIncrement(lr.tickFirst(u),_,"reverse",a),w,T;if(typeof _=="number")m=oX(m,e,u,i,l),T=1+Math.floor((l-m)/_),w=m+T*_;else for(u.dtick.charAt(0)==="M"&&(m=lX(m,e,_,i,a)),w=m,T=0;w<=l;)w=lr.tickIncrement(w,_,!1,a),T++;return{start:r.c2r(m,0,a),end:r.c2r(w,0,a),size:_,_dataSpan:l-i}};function oX(e,r,t,n,a){var o=0,i=0,l=0,u=0;function s(_){return(1+(_-e)*100/t.dtick)%100<2}for(var f=0;f<r.length;f++)r[f]%1===0?l++:Xt(r[f])||u++,s(r[f])&&o++,s(r[f]+t.dtick/2)&&i++;var h=r.length-u;if(l===h&&t.type!=="date")t.dtick<1?e=n-.5*t.dtick:(e-=.5,e+t.dtick<n&&(e+=t.dtick));else if(i<h*.1&&(o>h*.3||s(n)||s(a))){var p=t.dtick/2;e+=e+p<n?p:-p}return e}function lX(e,r,t,n,a){var o=Er.findExactDates(r,a),i=.8;if(o.exactDays>i){var l=Number(t.substr(1));o.exactYears>i&&l%12===0?e=lr.tickIncrement(e,"M6","reverse")+On*1.5:o.exactMonths>i?e=lr.tickIncrement(e,"M1","reverse")+On*15.5:e-=Ho;var u=lr.tickIncrement(e,t);if(u<=n)return u}return e}lr.prepMinorTicks=function(e,r,t){if(!r.minor.dtick){delete e.dtick;var n=r.dtick&&Xt(r._tmin),a;if(n){var o=lr.tickIncrement(r._tmin,r.dtick,!0);a=[r._tmin,o*.99+r._tmin*.01]}else{var i=Er.simpleMap(r.range,r.r2l);a=[i[0],.8*i[0]+.2*i[1]]}if(e.range=Er.simpleMap(a,r.l2r),e._isMinor=!0,lr.prepTicks(e,t),n){var l=Xt(r.dtick),u=Xt(e.dtick),s=l?r.dtick:+r.dtick.substring(1),f=u?e.dtick:+e.dtick.substring(1);l&&u?jg(s,f)?s===2*pa&&f===2*On&&(e.dtick=pa):s===2*pa&&f===3*On?e.dtick=pa:s===pa&&!(r._input.minor||{}).nticks?e.dtick=On:vM(s/f,2.5)?e.dtick=s/2:e.dtick=s:String(r.dtick).charAt(0)==="M"?u?e.dtick="M1":jg(s,f)?s>=12&&f===2&&(e.dtick="M3"):e.dtick=r.dtick:String(e.dtick).charAt(0)==="L"?String(r.dtick).charAt(0)==="L"?jg(s,f)||(e.dtick=vM(s/f,2.5)?r.dtick/2:r.dtick):e.dtick="D1":e.dtick==="D2"&&+r.dtick>1&&(e.dtick=1)}e.range=r.range}r.minor._tick0Init===void 0&&(e.tick0=r.tick0)};function jg(e,r){return Math.abs((e/r+.5)%1-.5)<.001}function vM(e,r){return Math.abs(e/r-1)<.001}lr.prepTicks=function(e,r){var t=Er.simpleMap(e.range,e.r2l,void 0,void 0,r);if(e.tickmode==="auto"||!e.dtick){var n=e.nticks,a;n||(e.type==="category"||e.type==="multicategory"?(a=e.tickfont?Er.bigFont(e.tickfont.size||12):15,n=e._length/a):(a=e._id.charAt(0)==="y"?40:80,n=Er.constrain(e._length/a,4,9)+1),e._name==="radialaxis"&&(n*=2)),e.minor&&e.minor.tickmode!=="array"||e.tickmode==="array"&&(n*=100),e._roughDTick=Math.abs(t[1]-t[0])/n,lr.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<e._minDtick*2&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.ticklabelmode==="period"&&sX(e),e.tick0||(e.tick0=e.type==="date"?"2000-01-01":0),e.type==="date"&&e.dtick<.1&&(e.dtick=.1),TM(e)};function e2(e){return+e.substring(1)}function sX(e){var r;function t(){return!(Xt(e.dtick)||e.dtick.charAt(0)!=="M")}var n=t(),a=lr.getTickFormat(e);if(a){var o=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(a)||(/%[HI]/.test(a)?(r=Ii,o&&!n&&e.dtick<Ii&&(e.dtick=Ii)):/%p/.test(a)?(r=Ho,o&&!n&&e.dtick<Ho&&(e.dtick=Ho)):/%[Aadejuwx]/.test(a)?(r=On,o&&!n&&e.dtick<On&&(e.dtick=On)):/%[UVW]/.test(a)?(r=pa,o&&!n&&e.dtick<pa&&(e.dtick=pa)):/%[Bbm]/.test(a)?(r=nu,o&&(n?e2(e.dtick)<1:e.dtick<Gh)&&(e.dtick="M1")):/%[q]/.test(a)?(r=t2,o&&(n?e2(e.dtick)<3:e.dtick<Vh)&&(e.dtick="M3")):/%[Yy]/.test(a)&&(r=Uh,o&&(n?e2(e.dtick)<12:e.dtick<Hh)&&(e.dtick="M12")))}n=t(),n&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=r}function uX(e,r,t){for(var n=0;n<e.length;n++){var a=e[n].value,o=n,i=n+1;n<e.length-1?(o=n,i=n+1):n>0?(o=n-1,i=n):(o=n,i=n);var l=e[o].value,u=e[i].value,s=Math.abs(u-l),f=t||s,h=0;f>=Hh?s>=Hh&&s<=JW?h=s:h=Uh:t===t2&&f>=Vh?s>=Vh&&s<=KW?h=s:h=t2:f>=Gh?s>=Gh&&s<=QW?h=s:h=nu:t===pa&&f>=pa?h=pa:f>=On?h=On:t===Ho&&f>=Ho?h=Ho:t===Ii&&f>=Ii&&(h=Ii);var p;h>=s&&(h=s,p=!0);var _=a+h;if(r.rangebreaks&&h>0){for(var m=84,w=0,T=0;T<m;T++){var y=(T+.5)/m;r.maskBreaks(a*(1-y)+y*_)!==Xh&&w++}h*=w/m,h||(e[n].drop=!0),p&&s>pa&&(h=s)}(h>0||n===0)&&(e[n].periodX=a+h/2)}}lr.calcTicks=function(r,t){for(var n=r.type,a=r.calendar,o=r.ticklabelstep,i=r.ticklabelmode==="period",l=r.range[0]>r.range[1],u=!r.ticklabelindex||Er.isArrayOrTypedArray(r.ticklabelindex)?r.ticklabelindex:[r.ticklabelindex],s=Er.simpleMap(r.range,r.r2l,void 0,void 0,t),f=s[1]<s[0],h=Math.min(s[0],s[1]),p=Math.max(s[0],s[1]),_=Math.max(1e3,r._length||0),m=[],w=[],T=[],y=[],k=[],S=r.minor&&(r.minor.ticks||r.minor.showgrid),b=1;b>=(S?0:1);b--){var M=!b;b?(r._dtickInit=r.dtick,r._tick0Init=r.tick0):(r.minor._dtickInit=r.minor.dtick,r.minor._tick0Init=r.minor.tick0);var d=b?r:Er.extendFlat({},r,r.minor);if(M?lr.prepMinorTicks(d,r,t):lr.prepTicks(d,t),d.tickmode==="array"){b?(T=[],m=dM(r,!M)):(y=[],w=dM(r,!M));continue}if(d.tickmode==="sync"){T=[],m=fX(r);continue}var x=u2(s),g=x[0],c=x[1],A=Xt(d.dtick),v=n==="log"&&!(A||d.dtick.charAt(0)==="L"),D=lr.tickFirst(d,t);if(b){if(r._tmin=D,D<g!==f)break;(n==="category"||n==="multicategory")&&(c=f?Math.max(-.5,c):Math.min(r._categories.length-.5,c))}var E=null,R=D,N;if(b){var F;A?F=r.dtick:n==="date"?typeof r.dtick=="string"&&r.dtick.charAt(0)==="M"&&(F=nu*r.dtick.substring(1)):F=r._roughDTick,N=Math.round((r.r2l(R)-r.r2l(r.tick0))/F)-1}var I=d.dtick;for(d.rangebreaks&&d._tick0Init!==d.tick0&&(R=r2(R,r),f||(R=lr.tickIncrement(R,I,!f,a))),b&&i&&(R=lr.tickIncrement(R,I,!f,a),N--);f?R>=c:R<=c;R=lr.tickIncrement(R,I,f,a)){if(b&&N++,d.rangebreaks&&!f){if(R<g)continue;if(d.maskBreaks(R)===Xh&&r2(R,d)>=p)break}if(T.length>_||R===E)break;E=R;var L={value:R};b?(v&&R!==(R|0)&&(L.simpleLabel=!0),o>1&&N%o&&(L.skipLabel=!0),T.push(L)):(L.minor=!0,y.push(L))}}if(!y||y.length<2)u=!1;else{var P=(y[1].value-y[0].value)*(l?-1:1);FX(P,r.tickformat)||(u=!1)}if(!u)k=T;else{var O=T.concat(y);i&&T.length&&(O=O.slice(1)),O=O.sort(function(Ae,Ce){return Ae.value-Ce.value}).filter(function(Ae,Ce,Pe){return Ce===0||Ae.value!==Pe[Ce-1].value});var U=O.map(function(Ae,Ce){return Ae.minor===void 0&&!Ae.skipLabel?Ce:null}).filter(function(Ae){return Ae!==null});U.forEach(function(Ae){u.map(function(Ce){var Pe=Ae+Ce;Pe>=0&&Pe<O.length&&Er.pushUnique(k,O[Pe])})})}if(S){var X=r.minor.ticks==="inside"&&r.ticks==="outside"||r.minor.ticks==="outside"&&r.ticks==="inside";if(!X){for(var $=T.map(function(Ae){return Ae.value}),j=[],Y=0;Y<y.length;Y++){var q=y[Y],K=q.value;if($.indexOf(K)===-1){for(var ne=!1,Q=0;!ne&&Q<T.length;Q++)1e7+T[Q].value===1e7+K&&(ne=!0);ne||j.push(q)}}y=j}}i&&uX(k,r,r._definedDelta);var oe;if(r.rangebreaks){var re=r._id.charAt(0)==="y",H=1;r.tickmode==="auto"&&(H=r.tickfont?r.tickfont.size:12);var ee=NaN;for(oe=T.length-1;oe>-1;oe--){if(T[oe].drop){T.splice(oe,1);continue}T[oe].value=r2(T[oe].value,r);var V=r.c2p(T[oe].value);(re?ee>V-H:ee<V+H)?T.splice(f?oe+1:oe,1):ee=V}}v2(r)&&Math.abs(s[1]-s[0])===360&&T.pop(),r._tmax=(T[T.length-1]||{}).value,r._prevDateHead="",r._inCalcTicks=!0;var te,ue=function(Ae){Ae.text="",r._prevDateHead=te};T=T.concat(y);function ve(Ae,Ce){var Pe=lr.tickText(Ae,Ce.value,!1,Ce.simpleLabel),Ee=Ce.periodX;return Ee!==void 0&&(Pe.periodX=Ee,(Ee>p||Ee<h)&&(Ee>p&&(Pe.periodX=p),Ee<h&&(Pe.periodX=h),ue(Pe))),Pe}var ke;for(oe=0;oe<T.length;oe++){var Se=T[oe].minor,he=T[oe].value;Se?(u&&k.indexOf(T[oe])!==-1?ke=ve(r,T[oe]):ke={x:he},ke.minor=!0,w.push(ke)):(te=r._prevDateHead,ke=ve(r,T[oe]),(T[oe].skipLabel||u&&k.indexOf(T[oe])===-1)&&ue(ke),m.push(ke))}return m=m.concat(w),r._inCalcTicks=!1,i&&m.length&&(m[0].noTick=!0),m};function _M(e,r){return e.rangebreaks&&(r=r.filter(function(t){return e.maskBreaks(t.x)!==Xh})),r}function fX(e){var r=e._mainAxis,t=[];if(r._vals){for(var n=0;n<r._vals.length;n++)if(!r._vals[n].noTick){var a=r.l2p(r._vals[n].x),o=e.p2l(a),i=lr.tickText(e,o);r._vals[n].minor&&(i.minor=!0,i.text=""),t.push(i)}}return t=_M(e,t),t}function dM(e,r){var t=Er.simpleMap(e.range,e.r2l),n=u2(t),a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]),i=e.type==="category"?e.d2l_noadd:e.d2l;e.type==="log"&&String(e.dtick).charAt(0)!=="L"&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var l=[],u=0;u<=1;u++)if(!(r!==void 0&&(r&&u||r===!1&&!u))&&!(u&&!e.minor)){var s=u?e.minor.tickvals:e.tickvals,f=u?[]:e.ticktext;if(s){Er.isArrayOrTypedArray(f)||(f=[]);for(var h=0;h<s.length;h++){var p=i(s[h]);if(p>a&&p<o){var _=lr.tickText(e,p,!1,String(f[h]));u&&(_.minor=!0,_.text=""),l.push(_)}}}}return l=_M(e,l),l}var Oh=[2,5,10],pM=[1,2,3,6,12],gM=[1,2,5,10,15,30],cX=[1,2,3,7,14],wM=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],MM=[-.301,0,.301,.699,1],hX=[15,30,45,90,180];function Pi(e,r,t){return r*Er.roundUp(e/r,t)}lr.autoTicks=function(e,r,t){var n;function a(h){return Math.pow(h,Math.floor(Math.log(r)/Math.LN10))}if(e.type==="date"){e.tick0=Er.dateTick0(e.calendar,0);var o=2*r;if(o>Uh)r/=Uh,n=a(10),e.dtick="M"+12*Pi(r,n,Oh);else if(o>nu)r/=nu,e.dtick="M"+Pi(r,1,pM);else if(o>On){if(e.dtick=Pi(r,On,e._hasDayOfWeekBreaks?[1,2,7,14]:cX),!t){var i=lr.getTickFormat(e),l=e.ticklabelmode==="period";l&&(e._rawTick0=e.tick0),/%[uVW]/.test(i)?e.tick0=Er.dateTick0(e.calendar,2):e.tick0=Er.dateTick0(e.calendar,1),l&&(e._dowTick0=e.tick0)}}else o>Ii?e.dtick=Pi(r,Ii,pM):o>zf?e.dtick=Pi(r,zf,gM):o>Yh?e.dtick=Pi(r,Yh,gM):(n=a(10),e.dtick=Pi(r,n,Oh))}else if(e.type==="log"){e.tick0=0;var u=Er.simpleMap(e.range,e.r2l);if(e._isMinor&&(r*=1.5),r>.7)e.dtick=Math.ceil(r);else if(Math.abs(u[1]-u[0])<1){var s=1.5*Math.abs((u[1]-u[0])/r);r=Math.abs(Math.pow(10,u[1])-Math.pow(10,u[0]))/s,n=a(10),e.dtick="L"+Pi(r,n,Oh)}else e.dtick=r>.3?"D2":"D1"}else e.type==="category"||e.type==="multicategory"?(e.tick0=0,e.dtick=Math.ceil(Math.max(r,1))):v2(e)?(e.tick0=0,n=1,e.dtick=Pi(r,n,hX)):(e.tick0=0,n=a(10),e.dtick=Pi(r,n,Oh));if(e.dtick===0&&(e.dtick=1),!Xt(e.dtick)&&typeof e.dtick!="string"){var f=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(f)}};function TM(e){var r=e.dtick;if(e._tickexponent=0,!Xt(r)&&typeof r!="string"&&(r=1),(e.type==="category"||e.type==="multicategory")&&(e._tickround=null),e.type==="date"){var t=e.r2l(e.tick0),n=e.l2r(t).replace(/(^-|i)/g,""),a=n.length;if(String(r).charAt(0)==="M")a>10||n.substr(5)!=="01-01"?e._tickround="d":e._tickround=+r.substr(1)%12===0?"y":"m";else if(r>=On&&a<=10||r>=On*15)e._tickround="d";else if(r>=zf&&a<=16||r>=Ii)e._tickround="M";else if(r>=Yh&&a<=19||r>=zf)e._tickround="S";else{var o=e.l2r(t+r).replace(/^-/,"").length;e._tickround=Math.max(a,o)-20,e._tickround<0&&(e._tickround=4)}}else if(Xt(r)||r.charAt(0)==="L"){var i=e.range.map(e.r2d||Number);Xt(r)||(r=Number(r.substr(1))),e._tickround=2-Math.floor(Math.log(r)/Math.LN10+.01);var l=Math.max(Math.abs(i[0]),Math.abs(i[1])),u=Math.floor(Math.log(l)/Math.LN10+.01),s=e.minexponent===void 0?3:e.minexponent;Math.abs(u)>s&&(au(e.exponentformat)&&e.exponentformat!=="SI extended"&&!f2(u)||au(e.exponentformat)&&e.exponentformat==="SI extended"&&!c2(u)?e._tickexponent=3*Math.round((u-1)/3):e._tickexponent=u)}else e._tickround=null}lr.tickIncrement=function(e,r,t,n){var a=t?-1:1;if(Xt(r))return Er.increment(e,a*r);var o=r.charAt(0),i=a*Number(r.substr(1));if(o==="M")return Er.incrementMonth(e,i,n);if(o==="L")return Math.log(Math.pow(10,e)+i)/Math.LN10;if(o==="D"){var l=r==="D2"?MM:wM,u=e+a*.01,s=Er.roundUp(Er.mod(u,1),l,t);return Math.floor(u)+Math.log(Da.round(Math.pow(10,s),1))/Math.LN10}throw"unrecognized dtick "+String(r)};lr.tickFirst=function(e,r){var t=e.r2l||Number,n=Er.simpleMap(e.range,t,void 0,void 0,r),a=n[1]<n[0],o=a?Math.floor:Math.ceil,i=u2(n)[0],l=e.dtick,u=t(e.tick0);if(Xt(l)){var s=o((i-u)/l)*l+u;return(e.type==="category"||e.type==="multicategory")&&(s=Er.constrain(s,0,e._categories.length-1)),s}var f=l.charAt(0),h=Number(l.substr(1));if(f==="M"){for(var p=0,_=u,m,w,T;p<10;){if(m=lr.tickIncrement(_,l,a,e.calendar),(m-i)*(_-i)<=0)return a?Math.min(_,m):Math.max(_,m);w=(i-(_+m)/2)/(m-_),T=f+(Math.abs(Math.round(w))||1)*h,_=lr.tickIncrement(_,T,w<0?!a:a,e.calendar),p++}return Er.error("tickFirst did not converge",e),_}else{if(f==="L")return Math.log(o((Math.pow(10,i)-u)/h)*h+u)/Math.LN10;if(f==="D"){var y=l==="D2"?MM:wM,k=Er.roundUp(Er.mod(i,1),y,a);return Math.floor(i)+Math.log(Da.round(Math.pow(10,k),1))/Math.LN10}else throw"unrecognized dtick "+String(l)}};lr.tickText=function(e,r,t,n){var a=AM(e,r),o=e.tickmode==="array",i=t||o,l=e.type,u=l==="category"?e.d2l_noadd:e.d2l,s,f=function(T){var y=e.l2p(T);return y>=0&&y<=e._length?T:null};if(o&&Er.isArrayOrTypedArray(e.ticktext)){var h=Er.simpleMap(e.range,e.r2l),p=(Math.abs(h[1]-h[0])-(e._lBreaks||0))/1e4;for(s=0;s<e.ticktext.length&&!(Math.abs(r-u(e.tickvals[s]))<p);s++);if(s<e.ticktext.length)return a.text=String(e.ticktext[s]),a.xbnd=[f(a.x-.5),f(a.x+e.dtick-.5)],a}function _(T){if(T===void 0)return!0;if(t)return T==="none";var y={first:e._tmin,last:e._tmax}[T];return T!=="all"&&r!==y}var m=t?"never":e.exponentformat!=="none"&&_(e.showexponent)?"hide":"";if(l==="date"?vX(e,a,t,i):l==="log"?dX(e,a,t,i,m):l==="category"?pX(e,a):l==="multicategory"?gX(e,a,t):v2(e)?mX(e,a,t,i,m):yX(e,a,t,i,m),n||(e.tickprefix&&!_(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!_(e.showticksuffix)&&(a.text+=e.ticksuffix)),e.labelalias&&e.labelalias.hasOwnProperty(a.text)){var w=e.labelalias[a.text];typeof w=="string"&&(a.text=w)}return(e.tickson==="boundaries"||e.showdividers)&&(a.xbnd=[f(a.x-.5),f(a.x+e.dtick-.5)]),a};lr.hoverLabelText=function(e,r,t){t&&(e=Er.extendFlat({},e,{hoverformat:t}));var n=Er.isArrayOrTypedArray(r)?r[0]:r,a=Er.isArrayOrTypedArray(r)?r[1]:void 0;if(a!==void 0&&a!==n)return lr.hoverLabelText(e,n,t)+" - "+lr.hoverLabelText(e,a,t);var o=e.type==="log"&&n<=0,i=lr.tickText(e,e.c2l(o?-n:n),"hover").text;return o?n===0?"0":Hl+i:i};function AM(e,r,t){var n=e.tickfont||{};return{x:r,dx:0,dy:0,text:t||"",fontSize:n.size,font:n.family,fontWeight:n.weight,fontStyle:n.style,fontVariant:n.variant,fontTextcase:n.textcase,fontLineposition:n.lineposition,fontShadow:n.shadow,fontColor:n.color}}function vX(e,r,t,n){var a=e._tickround,o=t&&e.hoverformat||lr.getTickFormat(e);n=!o&&n,n&&(Xt(a)?a=4:a={y:"m",m:"d",d:"M",M:"S",S:4}[a]);var i=Er.formatDate(r.x,o,a,e._dateFormat,e.calendar,e._extraFormat),l,u=i.indexOf(`
`);if(u!==-1&&(l=i.substr(u+1),i=i.substr(0,u)),n&&(l!==void 0&&(i==="00:00:00"||i==="00:00")?(i=l,l=""):i.length===8&&(i=i.replace(/:00$/,""))),l)if(t)a==="d"?i+=", "+l:i=l+(i?", "+i:"");else if(!e._inCalcTicks||e._prevDateHead!==l)e._prevDateHead=l,i+="<br>"+l;else{var s=Bf(e),f=e._trueSide||e.side;(!s&&f==="top"||s&&f==="bottom")&&(i+="<br> ")}r.text=i}function dX(e,r,t,n,a){var o=e.dtick,i=r.x,l=e.tickformat,u=typeof o=="string"&&o.charAt(0);if(a==="never"&&(a=""),n&&u!=="L"&&(o="L3",u="L"),l||u==="L")r.text=Of(Math.pow(10,i),e,a,n);else if(Xt(o)||u==="D"&&(e.minorloglabels==="complete"||Er.mod(i+.01,1)<.1)){var s;e.minorloglabels==="complete"&&!(Er.mod(i+.01,1)<.1)&&(s=!0,r.fontSize*=.75);var f=Math.pow(10,i).toExponential(0),h=f.split("e"),p=+h[1],_=Math.abs(p),m=e.exponentformat;m==="power"||au(m)&&m!=="SI extended"&&f2(p)||au(m)&&m==="SI extended"&&c2(p)?(r.text=h[0],_>0&&(r.text+="x10"),r.text==="1x10"&&(r.text="10"),p!==0&&p!==1&&(r.text+="<sup>"+(p>0?"":Hl)+_+"</sup>"),r.fontSize*=1.25):(m==="e"||m==="E")&&_>2?r.text=h[0]+m+(p>0?"+":Hl)+_:(r.text=Of(Math.pow(10,i),e,"","fakehover"),o==="D1"&&e._id.charAt(0)==="y"&&(r.dy-=r.fontSize/6))}else if(u==="D")r.text=e.minorloglabels==="none"?"":String(Math.round(Math.pow(10,Er.mod(i,1)))),r.fontSize*=.75;else throw"unrecognized dtick "+String(o);if(e.dtick==="D1"){var w=String(r.text).charAt(0);(w==="0"||w==="1")&&(e._id.charAt(0)==="y"?r.dx-=r.fontSize/4:(r.dy+=r.fontSize/2,r.dx+=(e.range[1]>e.range[0]?1:-1)*r.fontSize*(i<0?.5:.25)))}}function pX(e,r){var t=e._categories[Math.round(r.x)];t===void 0&&(t=""),r.text=String(t)}function gX(e,r,t){var n=Math.round(r.x),a=e._categories[n]||[],o=a[1]===void 0?"":String(a[1]),i=a[0]===void 0?"":String(a[0]);t?r.text=i+" - "+o:(r.text=o,r.text2=i)}function yX(e,r,t,n,a){a==="never"?a="":e.showexponent==="all"&&Math.abs(r.x/e.dtick)<1e-6&&(a="hide"),r.text=Of(r.x,e,a,n)}function mX(e,r,t,n,a){if(e.thetaunit==="radians"&&!t){var o=r.x/180;if(o===0)r.text="0";else{var i=bX(o);if(i[1]>=100)r.text=Of(Er.deg2rad(r.x),e,a,n);else{var l=r.x<0;i[1]===1?i[0]===1?r.text="\u03C0":r.text=i[0]+"\u03C0":r.text=["<sup>",i[0],"</sup>","\u2044","<sub>",i[1],"</sub>","\u03C0"].join(""),l&&(r.text=Hl+r.text)}}}else r.text=Of(r.x,e,a,n)}function bX(e){function r(l,u){return Math.abs(l-u)<=1e-6}function t(l,u){return r(u,0)?l:t(u,l%u)}function n(l){for(var u=1;!r(Math.round(l*u)/u,l);)u*=10;return u}var a=n(e),o=e*a,i=Math.abs(t(o,a));return[Math.round(o/i),Math.round(a/i)]}var kM=["f","p","n","\u03BC","m","","k","M","G","T"],xX=["q","r","y","z","a",...kM,"P","E","Z","Y","R","Q"],au=e=>["SI","SI extended","B"].includes(e);function f2(e){return e>14||e<-15}function c2(e){return e>32||e<-30}function _X(e,r){return au(r)?!!(r==="SI extended"&&c2(e)||r!=="SI extended"&&f2(e)):!1}function Of(e,r,t,n){var a=e<0,o=r._tickround,i=t||r.exponentformat||"B",l=r._tickexponent,u=lr.getTickFormat(r),s=r.separatethousands;if(n){var f={exponentformat:i,minexponent:r.minexponent,dtick:r.showexponent==="none"?r.dtick:Xt(e)&&Math.abs(e)||1,range:r.showexponent==="none"?r.range.map(r.r2d):[0,e||1]};TM(f),o=(Number(f._tickround)||0)+4,l=f._tickexponent,r.hoverformat&&(u=r.hoverformat)}if(u)return r._numFormat(u)(e).replace(/-/g,Hl);var h=Math.pow(10,-o)/2;if(i==="none"&&(l=0),e=Math.abs(e),e<h)e="0",a=!1;else{if(e+=h,l&&(e*=Math.pow(10,-l),o+=l),o===0)e=String(Math.floor(e));else if(o<0){e=String(Math.round(e)),e=e.substr(0,e.length+o);for(var p=o;p<0;p++)e+="0"}else{e=String(e);var _=e.indexOf(".")+1;_&&(e=e.substr(0,_+o).replace(/\.?0+$/,""))}e=Er.numSeparate(e,r._separators,s)}if(l&&i!=="hide"){_X(l,i)&&(i="power");var m;l<0?m=Hl+-l:i!=="power"?m="+"+l:m=String(l),i==="e"||i==="E"?e+=i+m:i==="power"?e+="\xD710<sup>"+m+"</sup>":i==="B"&&l===9?e+="B":au(i)&&(e+=i==="SI extended"?xX[l/3+10]:kM[l/3+5])}return a?Hl+e:e}lr.getTickFormat=function(e){var r;function t(u){return typeof u!="string"?u:Number(u.replace("M",""))*nu}function n(u,s){var f=["L","D"];if(typeof u==typeof s){if(typeof u=="number")return u-s;var h=f.indexOf(u.charAt(0)),p=f.indexOf(s.charAt(0));return h===p?Number(u.replace(/(L|D)/g,""))-Number(s.replace(/(L|D)/g,"")):h-p}else return typeof u=="number"?1:-1}function a(u,s,f){var h=f||function(m){return m},p=s[0],_=s[1];return(!p&&typeof p!="number"||h(p)<=h(u))&&(!_&&typeof _!="number"||h(_)>=h(u))}function o(u,s){var f=s[0]===null,h=s[1]===null,p=n(u,s[0])>=0,_=n(u,s[1])<=0;return(f||p)&&(h||_)}var i,l;if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&a(e.dtick,l.dtickrange,t)){i=l;break}break}case"log":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&o(e.dtick,l.dtickrange)){i=l;break}break}default:}return i?i.value:e.tickformat};lr.getSubplots=function(e,r){var t=e._fullLayout._subplots,n=t.cartesian.concat(t.gl2d||[]),a=r?lr.findSubplotsWithAxis(n,r):n;return a.sort(function(o,i){var l=o.substr(1).split("y"),u=i.substr(1).split("y");return l[0]===u[0]?+l[1]-+u[1]:+l[0]-+u[0]}),a};lr.findSubplotsWithAxis=function(e,r){for(var t=new RegExp(r._id.charAt(0)==="x"?"^"+r._id+"y":r._id+"$"),n=[],a=0;a<e.length;a++){var o=e[a];t.test(o)&&n.push(o)}return n};lr.makeClipPaths=function(e){var r=e._fullLayout;if(!r._hasOnlyLargeSploms){var t={_offset:0,_length:r.width,_id:""},n={_offset:0,_length:r.height,_id:""},a=lr.list(e,"x",!0),o=lr.list(e,"y",!0),i=[],l,u;for(l=0;l<a.length;l++)for(i.push({x:a[l],y:n}),u=0;u<o.length;u++)l===0&&i.push({x:t,y:o[u]}),i.push({x:a[l],y:o[u]});var s=r._clips.selectAll(".axesclip").data(i,function(f){return f.x._id+f.y._id});s.enter().append("clipPath").classed("axesclip",!0).attr("id",function(f){return"clip"+r._uid+f.x._id+f.y._id}).append("rect"),s.exit().remove(),s.each(function(f){Da.select(this).select("rect").attr({x:f.x._offset||0,y:f.y._offset||0,width:f.x._length||1,height:f.y._length||1})})}};lr.draw=function(e,r,t){var n=e._fullLayout;r==="redraw"&&n._paper.selectAll("g.subplot").each(function(u){var s=u[0],f=n._plots[s];if(f){var h=f.xaxis,p=f.yaxis;f.xaxislayer.selectAll("."+h._id+"tick").remove(),f.yaxislayer.selectAll("."+p._id+"tick").remove(),f.xaxislayer.selectAll("."+h._id+"tick2").remove(),f.yaxislayer.selectAll("."+p._id+"tick2").remove(),f.xaxislayer.selectAll("."+h._id+"divider").remove(),f.yaxislayer.selectAll("."+p._id+"divider").remove(),f.minorGridlayer&&f.minorGridlayer.selectAll("path").remove(),f.gridlayer&&f.gridlayer.selectAll("path").remove(),f.zerolinelayer&&f.zerolinelayer.selectAll("path").remove(),f.zerolinelayerAbove&&f.zerolinelayerAbove.selectAll("path").remove(),n._infolayer.select(".g-"+h._id+"title").remove(),n._infolayer.select(".g-"+p._id+"title").remove()}});var a=!r||r==="redraw"?lr.listIds(e):r,o=lr.list(e),i=o.filter(function(u){return u.autoshift}).map(function(u){return u.overlaying});a.map(function(u){var s=lr.getFromId(e,u);if(s.tickmode==="sync"&&s.overlaying){var f=a.findIndex(function(h){return h===s.overlaying});f>=0&&a.unshift(a.splice(f,1).shift())}});var l={false:{left:0,right:0}};return Er.syncOrAsync(a.map(function(u){return function(){if(u){var s=lr.getFromId(e,u);t||(t={}),t.axShifts=l,t.overlayingShiftedAx=i;var f=lr.drawOne(e,s,t);return s._shiftPusher&&s2(s,s._fullDepth||0,l,!0),s._r=s.range.slice(),s._rl=Er.simpleMap(s._r,s.r2l),f}}}))};lr.drawOne=function(e,r,t){t=t||{};var n=t.axShifts||{},a=t.overlayingShiftedAx||[],o,i,l;r.setScale();var u=e._fullLayout,s=r._id,f=s.charAt(0),h=lr.counterLetter(s),p=u._plots[r._mainSubplot],_=r.zerolinelayer==="above traces";if(!p)return;if(r._shiftPusher=r.autoshift||a.indexOf(r._id)!==-1||a.indexOf(r.overlaying)!==-1,r._shiftPusher&r.anchor==="free"){var m=r.linewidth/2||0;r.ticks==="inside"&&(m+=r.ticklen),s2(r,m,n,!0),s2(r,r.shift||0,n,!1)}(t.skipTitle!==!0||r._shift===void 0)&&(r._shift=IX(r,n));var w=p[f+"axislayer"],T=r._mainLinePosition,y=T+=r._shift,k=r._mainMirrorPosition,S=r._vals=lr.calcTicks(r),b=[r.mirror,y,k].join("_");for(o=0;o<S.length;o++)S[o].axInfo=b;r._selections={},r._tickAngles&&(r._prevTickAngles=r._tickAngles),r._tickAngles={},r._depth=null;var M={};function d(he){var Ae=s+(he||"tick");return M[Ae]||(M[Ae]=AX(r,Ae,y)),M[Ae]}if(r.visible){var x=lr.makeTransTickFn(r),g=lr.makeTransTickLabelFn(r),c,A,v=r.ticks==="inside",D=r.ticks==="outside";if(r.tickson==="boundaries"){var E=wX(r,S);A=lr.clipEnds(r,E),c=v?A:E}else A=lr.clipEnds(r,S),c=v&&r.ticklabelmode!=="period"?A:S;var R=r._gridVals=A,N=TX(r,S);if(!u._hasOnlyLargeSploms){var F=r._subplotsWith,I={};for(o=0;o<F.length;o++){i=F[o],l=u._plots[i];var L=l[h+"axis"],P=L._mainAxis._id;if(!I[P]){I[P]=1;var O=f==="x"?"M0,"+L._offset+"v"+L._length:"M"+L._offset+",0h"+L._length;lr.drawGrid(e,r,{vals:R,counterAxis:L,layer:l.gridlayer.select("."+s),minorLayer:l.minorGridlayer.select("."+s),path:O,transFn:x}),lr.drawZeroLine(e,r,{counterAxis:L,layer:_?l.zerolinelayerAbove:l.zerolinelayer,path:O,transFn:x})}}}var U,X=lr.getTickSigns(r),$=lr.getTickSigns(r,"minor");if(r.ticks||r.minor&&r.minor.ticks){var j=lr.makeTickPath(r,y,X[2]),Y=lr.makeTickPath(r,y,$[2],{minor:!0}),q,K,ne,Q;if(r._anchorAxis&&r.mirror&&r.mirror!==!0?(q=lr.makeTickPath(r,k,X[3]),K=lr.makeTickPath(r,k,$[3],{minor:!0}),ne=j+q,Q=Y+K):(q="",K="",ne=j,Q=Y),r.showdividers&&D&&r.tickson==="boundaries"){var oe={};for(o=0;o<N.length;o++)oe[N[o].x]=1;U=function(he){return oe[he.x]?q:ne}}else U=function(he){return he.minor?Q:ne}}if(lr.drawTicks(e,r,{vals:c,layer:w,path:U,transFn:x}),r.mirror==="allticks"){var re=Object.keys(r._linepositions||{});for(o=0;o<re.length;o++){i=re[o],l=u._plots[i];var H=r._linepositions[i]||[],ee=H[0],V=H[1],te=H[2],ue=lr.makeTickPath(r,ee,te?X[0]:$[0],{minor:te})+lr.makeTickPath(r,V,te?X[1]:$[1],{minor:te});lr.drawTicks(e,r,{vals:c,layer:l[f+"axislayer"],path:ue,transFn:x})}}var ve=[];if(ve.push(function(){return lr.drawLabels(e,r,{vals:S,layer:w,plotinfo:l,transFn:g,labelFns:lr.makeLabelFns(r,y)})}),r.type==="multicategory"){var ke={x:2,y:10}[f];ve.push(function(){var he={x:"height",y:"width"}[f],Ae=d()[he]+ke+(r._tickAngles[s+"tick"]?r.tickfont.size*qf:0);return lr.drawLabels(e,r,{vals:MX(r,S),layer:w,cls:s+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:x,labelFns:lr.makeLabelFns(r,y+Ae*X[4])})}),ve.push(function(){return r._depth=X[4]*(d("tick2")[r.side]-y),SX(e,r,{vals:N,layer:w,path:lr.makeTickPath(r,y,X[4],{len:r._depth}),transFn:x})})}else r.title.hasOwnProperty("standoff")&&ve.push(function(){r._depth=X[4]*(d()[r.side]-y)});var Se=Ff.getComponentMethod("rangeslider","isVisible")(r);return!t.skipTitle&&!(Se&&r.side==="bottom")&&ve.push(function(){return CX(e,r)}),ve.push(function(){var he=r.side.charAt(0),Ae=eX[r.side].charAt(0),Ce=lr.getPxPosition(e,r),Pe=D?r.ticklen:0,Ee,Ne,Ue,ge;(r.automargin||Se||r._shiftPusher)&&(r.type==="multicategory"?Ee=d("tick2"):(Ee=d(),f==="x"&&he==="b"&&(r._depth=Math.max(Ee.width>0?Ee.bottom-Ce:0,Pe))));var we=0,Te=0;if(r._shiftPusher&&(we=Math.max(Pe,Ee.height>0?he==="l"?Ce-Ee.left:Ee.right-Ce:0),r.title.text!==u._dfltTitle[f]&&(Te=(r._titleStandoff||0)+(r._titleScoot||0),he==="l"&&(Te+=mM(r))),r._fullDepth=Math.max(we,Te)),r.automargin){Ne={x:0,y:0,r:0,l:0,t:0,b:0};var me=[0,1],ye=typeof r._shift=="number"?r._shift:0;if(f==="x"){if(he==="b"?Ne[he]=r._depth:(Ne[he]=r._depth=Math.max(Ee.width>0?Ce-Ee.top:0,Pe),me.reverse()),Ee.width>0){var pe=Ee.right-(r._offset+r._length);pe>0&&(Ne.xr=1,Ne.r=pe);var ce=r._offset-Ee.left;ce>0&&(Ne.xl=0,Ne.l=ce)}}else if(he==="l"?(r._depth=Math.max(Ee.height>0?Ce-Ee.left:0,Pe),Ne[he]=r._depth-ye):(r._depth=Math.max(Ee.height>0?Ee.right-Ce:0,Pe),Ne[he]=r._depth+ye,me.reverse()),Ee.height>0){var be=Ee.bottom-(r._offset+r._length);be>0&&(Ne.yb=0,Ne.b=be);var Le=r._offset-Ee.top;Le>0&&(Ne.yt=1,Ne.t=Le)}Ne[h]=r.anchor==="free"?r.position:r._anchorAxis.domain[me[0]],r.title.text!==u._dfltTitle[f]&&(Ne[he]+=mM(r)+(r.title.standoff||0)),r.mirror&&r.anchor!=="free"&&(Ue={x:0,y:0,r:0,l:0,t:0,b:0},Ue[Ae]=r.linewidth,r.mirror&&r.mirror!==!0&&(Ue[Ae]+=Pe),r.mirror===!0||r.mirror==="ticks"?Ue[h]=r._anchorAxis.domain[me[1]]:(r.mirror==="all"||r.mirror==="allticks")&&(Ue[h]=[r._counterDomainMin,r._counterDomainMax][me[1]]))}Se&&(ge=Ff.getComponentMethod("rangeslider","autoMarginOpts")(e,r)),typeof r.automargin=="string"&&(yM(Ne,r.automargin),yM(Ue,r.automargin)),ru.autoMargin(e,h2(r),Ne),ru.autoMargin(e,CM(r),Ue),ru.autoMargin(e,EM(r),ge)}),Er.syncOrAsync(ve)}};function yM(e,r){if(e){var t=Object.keys(fM).reduce(function(n,a){return r.indexOf(a)!==-1&&fM[a].forEach(function(o){n[o]=1}),n},{});Object.keys(e).forEach(function(n){t[n]||(n.length===1?e[n]=0:delete e[n])})}}function wX(e,r){var t=[],n,a=function(o,i){var l=o.xbnd[i];l!==null&&t.push(Er.extendFlat({},o,{x:l}))};if(r.length){for(n=0;n<r.length;n++)a(r[n],0);a(r[n-1],1)}return t}function MX(e,r){for(var t=[],n={},a=0;a<r.length;a++){var o=r[a];n[o.text2]?n[o.text2].push(o.x):n[o.text2]=[o.x]}for(var i in n)t.push(AM(e,Er.interp(n[i],.5),i));return t}function TX(e,r){var t=[],n,a,o=r.length&&r[r.length-1].x<r[0].x,i=function(u,s){var f=u.xbnd[s];f!==null&&t.push(Er.extendFlat({},u,{x:f}))};if(e.showdividers&&r.length){for(n=0;n<r.length;n++){var l=r[n];l.text2!==a&&i(l,o?1:0),a=l.text2}i(r[n-1],o?0:1)}return t}function AX(e,r,t){var n,a,o,i;if(e._selections[r].size())n=1/0,a=-1/0,o=1/0,i=-1/0,e._selections[r].each(function(){var u=l2(this);if(u.node().style.display!=="none"){var s=da.bBox(u.node().parentNode);n=Math.min(n,s.top),a=Math.max(a,s.bottom),o=Math.min(o,s.left),i=Math.max(i,s.right)}});else{var l=lr.makeLabelFns(e,t);n=a=l.yFn({dx:0,dy:0,fontSize:0}),o=i=l.xFn({dx:0,dy:0,fontSize:0})}return{top:n,bottom:a,left:o,right:i,height:a-n,width:i-o}}lr.getTickSigns=function(e,r){var t=e._id.charAt(0),n={x:"top",y:"right"}[t],a=e.side===n?1:-1,o=[-1,1,a,-a],i=r?(e.minor||{}).ticks:e.ticks;return i!=="inside"==(t==="x")&&(o=o.map(function(l){return-l})),e.side&&o.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),o};lr.makeTransTickFn=function(e){return e._id.charAt(0)==="x"?function(r){return tu(e._offset+e.l2p(r.x),0)}:function(r){return tu(0,e._offset+e.l2p(r.x))}};lr.makeTransTickLabelFn=function(e){var r=kX(e),t=e.ticklabelshift||0,n=e.ticklabelstandoff||0,a=r[0],o=r[1],i=e.range[0]>e.range[1],l=e.ticklabelposition&&e.ticklabelposition.indexOf("inside")!==-1,u=!l;if(t){var s=i?-1:1;t=t*s}if(n){var f=e.side,h=l&&(f==="top"||f==="left")||u&&(f==="bottom"||f==="right")?1:-1;n=n*h}return e._id.charAt(0)==="x"?function(p){return tu(a+e._offset+e.l2p(o2(p))+t,o+n)}:function(p){return tu(o+n,a+e._offset+e.l2p(o2(p))+t)}};function o2(e){return e.periodX!==void 0?e.periodX:e.x}function kX(e){var r=e.ticklabelposition||"",t=e.tickson||"",n=function(m){return r.indexOf(m)!==-1},a=n("top"),o=n("left"),i=n("right"),l=n("bottom"),u=n("inside"),s=t!=="boundaries"&&(l||o||a||i);if(!s&&!u)return[0,0];var f=e.side,h=s?(e.tickwidth||0)/2:0,p=Wh,_=e.tickfont?e.tickfont.size:12;return(l||a)&&(h+=_*Vl,p+=(e.linewidth||0)/2),(o||i)&&(h+=(e.linewidth||0)/2,p+=Wh),u&&f==="top"&&(p-=_*(1-Vl)),(o||a)&&(h=-h),(f==="bottom"||f==="right")&&(p=-p),[s?h:0,u?p:0]}lr.makeTickPath=function(e,r,t,n){n||(n={});var a=n.minor;if(a&&!e.minor)return"";var o=n.len!==void 0?n.len:a?e.minor.ticklen:e.ticklen,i=e._id.charAt(0),l=(e.linewidth||1)/2;return i==="x"?"M0,"+(r+l*t)+"v"+o*t:"M"+(r+l*t)+",0h"+o*t};lr.makeLabelFns=function(e,r,t){var n=e.ticklabelposition||"",a=e.tickson||"",o=function(E){return n.indexOf(E)!==-1},i=o("top"),l=o("left"),u=o("right"),s=o("bottom"),f=a!=="boundaries"&&(s||l||i||u),h=o("inside"),p=n==="inside"&&e.ticks==="inside"||!h&&e.ticks==="outside"&&a!=="boundaries",_=0,m=0,w=p?e.ticklen:0;if(h?w*=-1:f&&(w=0),p&&(_+=w,t)){var T=Er.deg2rad(t);_=w*Math.cos(T)+1,m=w*Math.sin(T)}e.showticklabels&&(p||e.showline)&&(_+=.2*e.tickfont.size),_+=(e.linewidth||1)/2*(h?-1:1);var y={labelStandoff:_,labelShift:m},k,S,b,M,d=0,x=e.side,g=e._id.charAt(0),c=e.tickangle,A;if(g==="x")A=!h&&x==="bottom"||h&&x==="top",M=A?1:-1,h&&(M*=-1),k=m*M,S=r+_*M,b=A?1:-.2,Math.abs(c)===90&&(h?b+=If:c===-90&&x==="bottom"?b=Vl:c===90&&x==="top"?b=If:b=.5,d=If/2*(c/90)),y.xFn=function(E){return E.dx+k+d*E.fontSize},y.yFn=function(E){return E.dy+S+E.fontSize*b},y.anchorFn=function(E,R){if(f){if(l)return"end";if(u)return"start"}return!Xt(R)||R===0||R===180?"middle":R*M<0!==h?"end":"start"},y.heightFn=function(E,R,N){return R<-60||R>60?-.5*N:e.side==="top"!==h?-N:0};else if(g==="y"){if(A=!h&&x==="left"||h&&x==="right",M=A?1:-1,h&&(M*=-1),k=_,S=m*M,b=0,!h&&Math.abs(c)===90&&(c===-90&&x==="left"||c===90&&x==="right"?b=Vl:b=.5),h){var v=Xt(c)?+c:0;if(v!==0){var D=Er.deg2rad(v);d=Math.abs(Math.sin(D))*Vl*M,b=0}}y.xFn=function(E){return E.dx+r-(k+E.fontSize*b)*M+d*E.fontSize},y.yFn=function(E){return E.dy+S+E.fontSize*If},y.anchorFn=function(E,R){return Xt(R)&&Math.abs(R)===90?"middle":A?"end":"start"},y.heightFn=function(E,R,N){return e.side==="right"&&(R*=-1),R<-30?-N:R<30?-.5*N:0}}return y};function Jh(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}lr.drawTicks=function(e,r,t){t=t||{};var n=r._id+"tick",a=[].concat(r.minor&&r.minor.ticks?t.vals.filter(function(i){return i.minor&&!i.noTick}):[]).concat(r.ticks?t.vals.filter(function(i){return!i.minor&&!i.noTick}):[]),o=t.layer.selectAll("path."+n).data(a,Jh);o.exit().remove(),o.enter().append("path").classed(n,1).classed("ticks",1).classed("crisp",t.crisp!==!1).each(function(i){return Nf.stroke(Da.select(this),i.minor?r.minor.tickcolor:r.tickcolor)}).style("stroke-width",function(i){return da.crispRound(e,i.minor?r.minor.tickwidth:r.tickwidth,1)+"px"}).attr("d",t.path).style("display",null),Kh(r,[bM]),o.attr("transform",t.transFn)};lr.drawGrid=function(e,r,t){if(t=t||{},r.tickmode!=="sync"){var n=r._id+"grid",a=r.minor&&r.minor.showgrid,o=a?t.vals.filter(function(y){return y.minor}):[],i=r.showgrid?t.vals.filter(function(y){return!y.minor}):[],l=t.counterAxis;if(l&&lr.shouldShowZeroLine(e,r,l))for(var u=r.tickmode==="array",s=0;s<i.length;s++){var f=i[s].x;if(u?!f:Math.abs(f)<r.dtick/100)if(i=i.slice(0,s).concat(i.slice(s+1)),u)s--;else break}r._gw=da.crispRound(e,r.gridwidth,1);for(var h=a?da.crispRound(e,r.minor.gridwidth,1):0,p=t.layer,_=t.minorLayer,m=1;m>=0;m--){var w=m?p:_;if(w){var T=w.selectAll("path."+n).data(m?i:o,Jh);T.exit().remove(),T.enter().append("path").classed(n,1).classed("crisp",t.crisp!==!1),T.attr("transform",t.transFn).attr("d",t.path).each(function(y){return Nf.stroke(Da.select(this),y.minor?r.minor.gridcolor:r.gridcolor||"#ddd")}).style("stroke-dasharray",function(y){return da.dashStyle(y.minor?r.minor.griddash:r.griddash,y.minor?r.minor.gridwidth:r.gridwidth)}).style("stroke-width",function(y){return(y.minor?h:r._gw)+"px"}).style("display",null),typeof t.path=="function"&&T.attr("d",t.path)}}Kh(r,[a2,i2])}};lr.drawZeroLine=function(e,r,t){t=t||t;var n=r._id+"zl",a=lr.shouldShowZeroLine(e,r,t.counterAxis),o=t.layer.selectAll("path."+n).data(a?[{x:0,id:r._id}]:[]);o.exit().remove(),o.enter().append("path").classed(n,1).classed("zl",1).classed("crisp",t.crisp!==!1).each(function(){t.layer.selectAll("path").sort(function(i,l){return tX(i.id,l.id)})}),o.attr("transform",t.transFn).attr("d",t.path).call(Nf.stroke,r.zerolinecolor||Nf.defaultLine).style("stroke-width",da.crispRound(e,r.zerolinewidth,r._gw||1)+"px").style("display",null),Kh(r,[n2])};lr.drawLabels=function(e,r,t){t=t||{};var n=e._fullLayout,a=r._id,o=r.zerolinelayer==="above traces",i=t.cls||a+"tick",l=t.vals.filter(function(P){return P.text}),u=t.labelFns,s=t.secondary?0:r.tickangle,f=(r._prevTickAngles||{})[i],h=t.layer.selectAll("g."+i).data(r.showticklabels?l:[],Jh),p=[];h.enter().append("g").classed(i,1).append("text").attr("text-anchor","middle").each(function(P){var O=Da.select(this),U=e._promises.length;O.call(Ul.positionText,u.xFn(P),u.yFn(P)).call(da.font,{family:P.font,size:P.fontSize,color:P.fontColor,weight:P.fontWeight,style:P.fontStyle,variant:P.fontVariant,textcase:P.fontTextcase,lineposition:P.fontLineposition,shadow:P.fontShadow}).text(P.text).call(Ul.convertToTspans,e),e._promises[U]?p.push(e._promises.pop().then(function(){_(O,s)})):_(O,s)}),Kh(r,[uM]),h.exit().remove(),t.repositionOnUpdate&&h.each(function(P){Da.select(this).select("text").call(Ul.positionText,u.xFn(P),u.yFn(P))});function _(P,O){P.each(function(U){var X=Da.select(this),$=X.select(".text-math-group"),j=u.anchorFn(U,O),Y=t.transFn.call(X.node(),U)+(Xt(O)&&+O!=0?" rotate("+O+","+u.xFn(U)+","+(u.yFn(U)-U.fontSize/2)+")":""),q=Ul.lineCount(X),K=qf*U.fontSize,ne=u.heightFn(U,Xt(O)?+O:0,(q-1)*K);if(ne&&(Y+=tu(0,ne)),$.empty()){var Q=X.select("text");Q.attr({transform:Y,"text-anchor":j}),Q.style("display",null),r._adjustTickLabelsOverflow&&r._adjustTickLabelsOverflow()}else{var oe=da.bBox($.node()).width,re=oe*{end:-.5,start:.5}[j];$.attr("transform",Y+tu(re,0))}})}r._adjustTickLabelsOverflow=function(){var P=r.ticklabeloverflow;if(!(!P||P==="allow")){var O=P.indexOf("hide")!==-1,U=r._id.charAt(0)==="x",X=0,$=U?e._fullLayout.width:e._fullLayout.height;if(P.indexOf("domain")!==-1){var j=Er.simpleMap(r.range,r.r2l);X=r.l2p(j[0])+r._offset,$=r.l2p(j[1])+r._offset}var Y=Math.min(X,$),q=Math.max(X,$),K=r.side,ne=1/0,Q=-1/0;h.each(function(ee){var V=Da.select(this),te=V.select(".text-math-group");if(te.empty()){var ue=da.bBox(V.node()),ve=0;U?(ue.right>q||ue.left<Y)&&(ve=1):(ue.bottom>q||ue.top+(r.tickangle?0:ee.fontSize/4)<Y)&&(ve=1);var ke=V.select("text");ve?O&&ke.style("display","none"):ke.node().style.display!=="none"&&(ke.style("display",null),K==="bottom"||K==="right"?ne=Math.min(ne,U?ue.top:ue.left):ne=-1/0,K==="top"||K==="left"?Q=Math.max(Q,U?ue.bottom:ue.right):Q=1/0)}});for(var oe in n._plots){var re=n._plots[oe];if(!(r._id!==re.xaxis._id&&r._id!==re.yaxis._id)){var H=U?re.yaxis:re.xaxis;H&&(H["_visibleLabelMin_"+r._id]=ne,H["_visibleLabelMax_"+r._id]=Q)}}}},r._hideCounterAxisInsideTickLabels=function(P){var O=r._id.charAt(0)==="x",U=[];for(var X in n._plots){var $=n._plots[X];r._id!==$.xaxis._id&&r._id!==$.yaxis._id||U.push(O?$.yaxis:$.xaxis)}U.forEach(function(j,Y){j&&Bf(j)&&(P||[n2,i2,a2,bM,uM]).forEach(function(q){var K=q.K==="tick"&&q.L==="text"&&r.ticklabelmode==="period",ne=n._plots[r._mainSubplot],Q;if(q.K===n2.K){var oe=o?ne.zerolinelayerAbove:ne.zerolinelayer;Q=oe.selectAll("."+r._id+"zl")}else q.K===i2.K?Q=ne.minorGridlayer.selectAll("."+r._id):q.K===a2.K?Q=ne.gridlayer.selectAll("."+r._id):Q=ne[r._id.charAt(0)+"axislayer"];Q.each(function(){var re=Da.select(this);q.L&&(re=re.selectAll(q.L)),re.each(function(H){var ee=r.l2p(K?o2(H):H.x)+r._offset,V=Da.select(this);ee<r["_visibleLabelMax_"+j._id]&&ee>r["_visibleLabelMin_"+j._id]?V.style("display","none"):q.K==="tick"&&!Y&&V.node().style.display!=="none"&&V.style("display",null)})})})})},_(h,f+1?f:s);function m(){return p.length&&Promise.all(p)}var w=null;function T(){if(_(h,s),l.length&&r.autotickangles&&(r.type!=="log"||String(r.dtick).charAt(0)!=="D")){w=r.autotickangles[0];var P=0,O=[],U,X=1;h.each(function(Ne){P=Math.max(P,Ne.fontSize);var Ue=r.l2p(Ne.x),ge=l2(this),we=da.bBox(ge.node());X=Math.max(X,Ul.lineCount(ge)),O.push({top:0,bottom:10,height:10,left:Ue-we.width/2,right:Ue+we.width/2+2,width:we.width+2})});var $=(r.tickson==="boundaries"||r.showdividers)&&!t.secondary,j=l.length,Y=Math.abs((l[j-1].x-l[0].x)*r._m)/(j-1),q=$?Y/2:Y,K=$?r.ticklen:P*1.25*X,ne=Math.sqrt(Math.pow(q,2)+Math.pow(K,2)),Q=q/ne,oe=r.autotickangles.map(function(Ne){return Ne*Math.PI/180}),re=oe.find(function(Ne){return Math.abs(Math.cos(Ne))<=Q});re===void 0&&(re=oe.reduce(function(Ne,Ue){return Math.abs(Math.cos(Ne))<Math.abs(Math.cos(Ue))?Ne:Ue},oe[0]));var H=re*(180/Math.PI);if($){var ee=2;for(r.ticks&&(ee+=r.tickwidth/2),U=0;U<O.length;U++){var V=l[U].xbnd,te=O[U];if(V[0]!==null&&te.left-r.l2p(V[0])<ee||V[1]!==null&&r.l2p(V[1])-te.right<ee){w=H;break}}}else{var ue=r.ticklabelposition||"",ve=r.tickson||"",ke=function(Ne){return ue.indexOf(Ne)!==-1},Se=ke("top"),he=ke("left"),Ae=ke("right"),Ce=ke("bottom"),Pe=ve!=="boundaries"&&(Ce||he||Se||Ae),Ee=Pe?(r.tickwidth||0)+2*Wh:0;for(U=0;U<O.length-1;U++)if(Er.bBoxIntersect(O[U],O[U+1],Ee)){w=H;break}}w&&_(h,w)}}r._selections&&(r._selections[i]=h);var y=[m];r.automargin&&n._redrawFromAutoMarginCount&&f===90?(w=f,y.push(function(){_(h,f)})):y.push(T),r._tickAngles&&y.push(function(){r._tickAngles[i]=w===null?Xt(s)?s:0:w});var k=function(){var P=0,O=0;return h.each(function(U,X){var $=l2(this),j=$.select(".text-math-group");if(j.empty()){var Y;r._vals[X]&&(Y=r._vals[X].bb||da.bBox($.node()),r._vals[X].bb=Y),P=Math.max(P,Y.width),O=Math.max(O,Y.height)}}),{labelsMaxW:P,labelsMaxH:O}},S=r._anchorAxis;if(S&&(S.autorange||S.insiderange)&&Bf(r)&&!nX(n,r._id)&&(n._insideTickLabelsUpdaterange||(n._insideTickLabelsUpdaterange={}),S.autorange&&(n._insideTickLabelsUpdaterange[S._name+".autorange"]=S.autorange,y.push(k)),S.insiderange)){var b=k(),M=r._id.charAt(0)==="y"?b.labelsMaxW:b.labelsMaxH;M+=2*Wh,r.ticklabelposition==="inside"&&(M+=r.ticklen||0);var d=r.side==="right"||r.side==="top"?1:-1,x=d===1?1:0,g=d===1?0:1,c=[];c[g]=S.range[g];var A=S.range,v=S.r2p(A[x]),D=S.r2p(A[g]),E=n._insideTickLabelsUpdaterange[S._name+".range"];if(E){var R=S.r2p(E[x]),N=S.r2p(E[g]),F=d*(r._id.charAt(0)==="y"?1:-1);F*v<F*R&&(v=R,c[x]=A[x]=E[x]),F*D>F*N&&(D=N,c[g]=A[g]=E[g])}var I=Math.abs(D-v);I-M>0?(I-=M,M*=1+M/I):M=0,r._id.charAt(0)!=="y"&&(M=-M),c[x]=S.p2r(S.r2p(A[x])+d*M),S.autorange==="min"||S.autorange==="max reversed"?(c[0]=null,S._rangeInitial0=void 0,S._rangeInitial1=void 0):(S.autorange==="max"||S.autorange==="min reversed")&&(c[1]=null,S._rangeInitial0=void 0,S._rangeInitial1=void 0),n._insideTickLabelsUpdaterange[S._name+".range"]=c}var L=Er.syncOrAsync(y);return L&&L.then&&e._promises.push(L),L};function SX(e,r,t){var n=r._id+"divider",a=t.vals,o=t.layer.selectAll("path."+n).data(a,Jh);o.exit().remove(),o.enter().insert("path",":first-child").classed(n,1).classed("crisp",1).call(Nf.stroke,r.dividercolor).style("stroke-width",da.crispRound(e,r.dividerwidth,1)+"px"),o.attr("transform",t.transFn).attr("d",t.path)}lr.getPxPosition=function(e,r){var t=e._fullLayout._size,n=r._id.charAt(0),a=r.side,o;if(r.anchor!=="free"?o=r._anchorAxis:n==="x"?o={_offset:t.t+(1-(r.position||0))*t.h,_length:0}:n==="y"&&(o={_offset:t.l+(r.position||0)*t.w+r._shift,_length:0}),a==="top"||a==="left")return o._offset;if(a==="bottom"||a==="right")return o._offset+o._length};function mM(e){var r=e.title.font.size,t=(e.title.text.match(Ul.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?r*(Vl+t*qf):t?r*(t+1)*qf:r}function CX(e,r){var t=e._fullLayout,n=r._id,a=n.charAt(0),o=r.title.font.size,i,l=(r.title.text.match(Ul.BR_TAG_ALL)||[]).length;if(r.title.hasOwnProperty("standoff"))r.side==="bottom"||r.side==="right"?i=r._depth+r.title.standoff+o*Vl:(r.side==="top"||r.side==="left")&&(i=r._depth+r.title.standoff+o*(If+l*qf));else{var u=Bf(r);if(r.type==="multicategory")i=r._depth;else{var s=1.5*o;u&&(s=.5*o,r.ticks==="outside"&&(s+=r.ticklen)),i=10+s+(r.linewidth?r.linewidth-1:0)}u||(a==="x"?i+=r.side==="top"?o*(r.showticklabels?1:0):o*(r.showticklabels?1.5:.5):i+=r.side==="right"?o*(r.showticklabels?1:.5):o*(r.showticklabels?.5:0))}var f=lr.getPxPosition(e,r),h,p,_;a==="x"?(p=r._offset+r._length/2,_=r.side==="top"?f-i:f+i):(_=r._offset+r._length/2,p=r.side==="right"?f+i:f-i,h={rotate:"-90",offset:0});var m;if(r.type!=="multicategory"){var w=r._selections[r._id+"tick"];if(m={selection:w,side:r.side},w&&w.node()&&w.node().parentNode){var T=da.getTranslate(w.node().parentNode);m.offsetLeft=T.x,m.offsetTop=T.y}r.title.hasOwnProperty("standoff")&&(m.pad=0)}return r._titleStandoff=i,XW.draw(e,n+"title",{propContainer:r,propName:r._name+".title.text",placeholder:t._dfltTitle[a],avoid:m,transform:h,attributes:{x:p,y:_,"text-anchor":"middle"}})}lr.shouldShowZeroLine=function(e,r,t){var n=Er.simpleMap(r.range,r.r2l);return n[0]*n[1]<=0&&r.zeroline&&(r.type==="linear"||r.type==="-")&&!(r.rangebreaks&&r.maskBreaks(0)===Xh)&&(SM(r,0)||!EX(e,r,t,n)||LX(e,r))};lr.clipEnds=function(e,r){return r.filter(function(t){return SM(e,t.x)})};function SM(e,r){var t=e.l2p(r);return t>1&&t<e._length-1}function EX(e,r,t,n){var a=t._mainAxis;if(!a)return;var o=e._fullLayout,i=r._id.charAt(0),l=lr.counterLetter(r._id),u=r._offset+(Math.abs(n[0])<Math.abs(n[1])==(i==="x")?0:r._length);function s(m){if(!m.showline||!m.linewidth)return!1;var w=Math.max((m.linewidth+r.zerolinewidth)/2,1);function T(S){return typeof S=="number"&&Math.abs(S-u)<w}if(T(m._mainLinePosition)||T(m._mainMirrorPosition))return!0;var y=m._linepositions||{};for(var k in y)if(T(y[k][0])||T(y[k][1]))return!0}var f=o._plots[t._mainSubplot];if(!(f.mainplotinfo||f).overlays.length)return s(t,u);for(var h=lr.list(e,l),p=0;p<h.length;p++){var _=h[p];if(_._mainAxis===a&&s(_,u))return!0}}function LX(e,r){for(var t=e._fullData,n=r._mainSubplot,a=r._id.charAt(0),o=0;o<t.length;o++){var i=t[o];if(i.visible===!0&&i.xaxis+i.yaxis===n&&(Ff.traceIs(i,"bar-like")&&i.orientation==={x:"h",y:"v"}[a]||i.fill&&i.fill.charAt(i.fill.length-1)===a))return!0}return!1}function l2(e){var r=Da.select(e),t=r.select(".text-math-group");return t.empty()?r.select("text"):t}lr.allowAutoMargin=function(e){for(var r=lr.list(e,"",!0),t=0;t<r.length;t++){var n=r[t];n.automargin&&(ru.allowAutoMargin(e,h2(n)),n.mirror&&ru.allowAutoMargin(e,CM(n))),Ff.getComponentMethod("rangeslider","isVisible")(n)&&ru.allowAutoMargin(e,EM(n))}};function h2(e){return e._id+".automargin"}function CM(e){return h2(e)+".mirror"}function EM(e){return e._id+".rangeslider"}lr.swap=function(e,r){for(var t=DX(e,r),n=0;n<t.length;n++)RX(e,t[n].x,t[n].y)};function DX(e,r){var t=[],n,a;for(n=0;n<r.length;n++){var o=[],i=e._fullData[r[n]].xaxis,l=e._fullData[r[n]].yaxis;if(!(!i||!l)){for(a=0;a<t.length;a++)(t[a].x.indexOf(i)!==-1||t[a].y.indexOf(l)!==-1)&&o.push(a);if(!o.length){t.push({x:[i],y:[l]});continue}var u=t[o[0]],s;if(o.length>1)for(a=1;a<o.length;a++)s=t[o[a]],Bh(u.x,s.x),Bh(u.y,s.y);Bh(u.x,[i]),Bh(u.y,[l])}}return t}function Bh(e,r){for(var t=0;t<r.length;t++)e.indexOf(r[t])===-1&&e.push(r[t])}function RX(e,r,t){var n=[],a=[],o=e.layout,i,l;for(i=0;i<r.length;i++)n.push(lr.getFromId(e,r[i]));for(i=0;i<t.length;i++)a.push(lr.getFromId(e,t[i]));var u=Object.keys(ZW),s=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(i=0;i<u.length;i++){var h=u[i],p=n[0][h],_=a[0][h],m=!0,w=!1,T=!1;if(!(h.charAt(0)==="_"||typeof p=="function"||s.indexOf(h)!==-1)){for(l=1;l<n.length&&m;l++){var y=n[l][h];h==="type"&&f.indexOf(p)!==-1&&f.indexOf(y)!==-1&&p!==y?w=!0:y!==p&&(m=!1)}for(l=1;l<a.length&&m;l++){var k=a[l][h];h==="type"&&f.indexOf(_)!==-1&&f.indexOf(k)!==-1&&_!==k?T=!0:a[l][h]!==_&&(m=!1)}m&&(w&&(o[n[0]._name].type="linear"),T&&(o[a[0]._name].type="linear"),PX(o,h,n,a,e._fullLayout._dfltTitle))}}for(i=0;i<e._fullLayout.annotations.length;i++){var S=e._fullLayout.annotations[i];r.indexOf(S.xref)!==-1&&t.indexOf(S.yref)!==-1&&Er.swapAttrs(o.annotations[i],["?"])}}function PX(e,r,t,n,a){var o=Er.nestedProperty,i=o(e[t[0]._name],r).get(),l=o(e[n[0]._name],r).get(),u;for(r==="title"&&(i&&i.text===a.x&&(i.text=a.y),l&&l.text===a.y&&(l.text=a.x)),u=0;u<t.length;u++)o(e,t[u]._name+"."+r).set(l);for(u=0;u<n.length;u++)o(e,n[u]._name+"."+r).set(i)}function v2(e){return e._id==="angularaxis"}function r2(e,r){for(var t=r._rangebreaks.length,n=0;n<t;n++){var a=r._rangebreaks[n];if(e>=a.min&&e<a.max)return a.max}return e}function Bf(e){return(e.ticklabelposition||"").indexOf("inside")!==-1}function Kh(e,r){Bf(e._anchorAxis||{})&&e._hideCounterAxisInsideTickLabels&&e._hideCounterAxisInsideTickLabels(r)}function s2(e,r,t,n){var a=e.anchor!=="free"&&(e.overlaying===void 0||e.overlaying===!1)?e._id:e.overlaying,o;n?o=e.side==="right"?r:-r:o=r,a in t||(t[a]={}),e.side in t[a]||(t[a][e.side]=0),t[a][e.side]+=o}function IX(e,r){return e.autoshift?r[e.overlaying][e.side]:e.shift||0}function FX(e,r){return/%f/.test(r)?e>=jW:/%L/.test(r)?e>=$W:/%[SX]/.test(r)?e>=Yh:/%M/.test(r)?e>=zf:/%[HI]/.test(r)?e>=Ii:/%p/.test(r)?e>=Ho:/%[Aadejuwx]/.test(r)?e>=On:/%[UVW]/.test(r)?e>=pa:/%[Bbm]/.test(r)?e>=Gh:/%[q]/.test(r)?e>=Vh:/%[Yy]/.test(r)?e>=Hh:!0}});var RM=de((Bce,DM)=>{"use strict";DM.exports=function(r,t,n){var a,o;if(n){var i=t==="reversed"||t==="min reversed"||t==="max reversed";a=n[i?1:0],o=n[i?0:1]}var l=r("autorangeoptions.minallowed",o===null?a:void 0),u=r("autorangeoptions.maxallowed",a===null?o:void 0);l===void 0&&r("autorangeoptions.clipmin"),u===void 0&&r("autorangeoptions.clipmax"),r("autorangeoptions.include")}});var d2=de((Uce,PM)=>{"use strict";var NX=RM();PM.exports=function(r,t,n,a){var o=t._template||{},i=t.type||o.type||"-";n("minallowed"),n("maxallowed");var l=n("range");if(!l){var u;!a.noInsiderange&&i!=="log"&&(u=n("insiderange"),u&&(u[0]===null||u[1]===null)&&(t.insiderange=!1,u=void 0),u&&(l=n("range",u)))}var s=t.getAutorangeDflt(l,a),f=n("autorange",s),h;l&&(l[0]===null&&l[1]===null||(l[0]===null||l[1]===null)&&(f==="reversed"||f===!0)||l[0]!==null&&(f==="min"||f==="max reversed")||l[1]!==null&&(f==="max"||f==="min reversed"))&&(l=void 0,delete t.range,t.autorange=!0,h=!0),h||(s=t.getAutorangeDflt(l,a),f=n("autorange",s)),f&&(NX(n,f,l),(i==="linear"||i==="-")&&n("rangemode")),t.cleanRange()}});var FM=de((Hce,IM)=>{var zX={left:0,top:0};IM.exports=qX;function qX(e,r,t){r=r||e.currentTarget||e.srcElement,Array.isArray(t)||(t=[0,0]);var n=e.clientX||0,a=e.clientY||0,o=OX(r);return t[0]=n-o.left,t[1]=a-o.top,t}function OX(e){return e===window||e===document||e===document.body?zX:e.getBoundingClientRect()}});var Qh=de((Vce,NM)=>{"use strict";var BX=Gp();function UX(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch(t){e=!1}return e}NM.exports=BX&&UX()});var qM=de((Gce,zM)=>{"use strict";zM.exports=function(r,t,n,a,o){var i=(r-n)/(a-n),l=i+t/(a-n),u=(i+l)/2;return o==="left"||o==="bottom"?i:o==="center"||o==="middle"?u:o==="right"||o==="top"?l:i<2/3-u?i:l>4/3-u?l:u}});var UM=de((Yce,BM)=>{"use strict";var OM=ir(),HX=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];BM.exports=function(r,t,n,a){return n==="left"?r=0:n==="center"?r=1:n==="right"?r=2:r=OM.constrain(Math.floor(r*3),0,2),a==="bottom"?t=0:a==="middle"?t=1:a==="top"?t=2:t=OM.constrain(Math.floor(t*3),0,2),HX[t][r]}});var VM=de((Wce,HM)=>{"use strict";var VX=Mf(),GX=$c(),YX=pf().getGraphDiv,WX=cf(),p2=HM.exports={};p2.wrapped=function(e,r,t){e=YX(e),e._fullLayout&&GX.clear(e._fullLayout._uid+WX.HOVERID),p2.raw(e,r,t)};p2.raw=function(r,t){var n=r._fullLayout,a=r._hoverdata;t||(t={}),!(t.target&&!r._dragged&&VX.triggerHandler(r,"plotly_beforehover",t)===!1)&&(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),r._hoverdata=void 0,t.target&&a&&r.emit("plotly_unhover",{event:t,points:a}))}});var ni=de((Xce,XM)=>{"use strict";var XX=FM(),g2=Wp(),ZX=Qh(),JX=ir().removeElement,KX=_n(),Gl=XM.exports={};Gl.align=qM();Gl.getCursor=UM();var YM=VM();Gl.unhover=YM.wrapped;Gl.unhoverRaw=YM.raw;Gl.init=function(r){var t=r.gd,n=1,a=t._context.doubleClickDelay,o=r.element,i,l,u,s,f,h,p,_;t._mouseDownTime||(t._mouseDownTime=0),o.style.pointerEvents="all",o.onmousedown=T,ZX?(o._ontouchstart&&o.removeEventListener("touchstart",o._ontouchstart),o._ontouchstart=T,o.addEventListener("touchstart",T,{passive:!1})):o.ontouchstart=T;function m(S,b,M){return Math.abs(S)<M&&(S=0),Math.abs(b)<M&&(b=0),[S,b]}var w=r.clampFn||m;function T(S){t._dragged=!1,t._dragging=!0;var b=GM(S);i=b[0],l=b[1],p=S.target,h=S,_=S.buttons===2||S.ctrlKey,typeof S.clientX=="undefined"&&typeof S.clientY=="undefined"&&(S.clientX=i,S.clientY=l),u=new Date().getTime(),u-t._mouseDownTime<a?n+=1:(n=1,t._mouseDownTime=u),r.prepFn&&r.prepFn(S,i,l),g2&&!_?(f=WM(),f.style.cursor=window.getComputedStyle(o).cursor):g2||(f=document,s=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(o).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),r.dragmode!==!1&&(S.preventDefault(),document.addEventListener("mousemove",y),document.addEventListener("touchmove",y,{passive:!1}))}function y(S){S.preventDefault();var b=GM(S),M=r.minDrag||KX.MINDRAG,d=w(b[0]-i,b[1]-l,M),x=d[0],g=d[1];(x||g)&&(t._dragged=!0,Gl.unhover(t,S)),t._dragged&&r.moveFn&&!_&&(t._dragdata={element:o,dx:x,dy:g},r.moveFn(x,g))}function k(S){if(delete t._dragdata,r.dragmode!==!1&&(S.preventDefault(),document.removeEventListener("mousemove",y),document.removeEventListener("touchmove",y)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),g2?JX(f):s&&(f.documentElement.style.cursor=s,s=null),!t._dragging){t._dragged=!1;return}if(t._dragging=!1,new Date().getTime()-t._mouseDownTime>a&&(n=Math.max(n-1,1)),t._dragged)r.doneFn&&r.doneFn();else{var b;h.target===p?b=h:(b={target:p,srcElement:p,toElement:p},Object.keys(h).concat(Object.keys(h.__proto__)).forEach(M=>{var d=h[M];!b[M]&&typeof d!="function"&&(b[M]=d)})),r.clickFn&&r.clickFn(n,b),_||p.dispatchEvent(new MouseEvent("click",S))}t._dragging=!1,t._dragged=!1}};function WM(){var e=document.createElement("div");e.className="dragcover";var r=e.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(e),e}Gl.coverSlip=WM;function GM(e){return XX(e.changedTouches?e.changedTouches[0]:e,document.body)}});var Vo=de((Zce,ZM)=>{"use strict";ZM.exports=function(r,t){(r.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&r.classed(n,!1)}),t&&r.classed("cursor-"+t,!0)}});var QM=de((Jce,KM)=>{"use strict";var y2=Vo(),Uf="data-savedcursor",JM="!!";KM.exports=function(r,t){var n=r.attr(Uf);if(t){if(!n){for(var a=(r.attr("class")||"").split(" "),o=0;o<a.length;o++){var i=a[o];i.indexOf("cursor-")===0&&r.attr(Uf,i.substr(7)).classed(i,!1)}r.attr(Uf)||r.attr(Uf,JM)}y2(r,t)}else n&&(r.attr(Uf,null),n===JM?y2(r):y2(r,n))}});var b2=de((Kce,$M)=>{"use strict";var m2=kn(),QX=Ti();$M.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:QX.defaultLine,editType:"legend"},maxheight:{valType:"number",min:0,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:m2({editType:"legend"}),grouptitlefont:m2({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:m2({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}});var jh=de($h=>{"use strict";$h.isGrouped=function(r){return(r.traceorder||"").indexOf("grouped")!==-1};$h.isVertical=function(r){return r.orientation!=="h"};$h.isReversed=function(r){return(r.traceorder||"").indexOf("reversed")!==-1}});var w2=de(($ce,jM)=>{"use strict";var x2=Cr(),ga=ir(),$X=yt(),jX=Sn(),eZ=b2(),rZ=Is(),_2=jh();function tZ(e,r,t,n){var a=r[e]||{},o=$X.newContainer(t,e);function i(I,L){return ga.coerce(a,o,eZ,I,L)}var l=ga.coerceFont(i,"font",t.font);i("bgcolor",t.paper_bgcolor),i("bordercolor");var u=i("visible");if(u){for(var s,f=function(I,L){var P=s._input,O=s;return ga.coerce(P,O,jX,I,L)},h=t.font||{},p=ga.coerceFont(i,"grouptitlefont",h,{overrideDflt:{size:Math.round(h.size*1.1)}}),_=0,m=!1,w="normal",T=(t.shapes||[]).filter(function(I){return I.showlegend}),y=n.concat(T).filter(function(I){return e===(I.legend||"legend")}),k=0;k<y.length;k++)if(s=y[k],!!s.visible){var S=s._isShape;(s.showlegend||s._dfltShowLegend&&!(s._module&&s._module.attributes&&s._module.attributes.showlegend&&s._module.attributes.showlegend.dflt===!1))&&(_++,s.showlegend&&(m=!0,(!S&&x2.traceIs(s,"pie-like")||s._input.showlegend===!0)&&_++),ga.coerceFont(f,"legendgrouptitle.font",p)),(!S&&x2.traceIs(s,"bar")&&t.barmode==="stack"||["tonextx","tonexty"].indexOf(s.fill)!==-1)&&(w=_2.isGrouped({traceorder:w})?"grouped+reversed":"reversed"),s.legendgroup!==void 0&&s.legendgroup!==""&&(w=_2.isReversed({traceorder:w})?"reversed+grouped":"grouped")}var b=ga.coerce(r,t,rZ,"showlegend",m&&_>(e==="legend"?1:0));if(b===!1&&(t[e]=void 0),!(b===!1&&!a.uirevision)&&(i("uirevision",t.uirevision),b!==!1)){i("borderwidth");var M=i("orientation"),d=i("yref"),x=i("xref"),g=M==="h",c=d==="paper",A=x==="paper",v,D,E,R="left";g?(v=0,x2.getComponentMethod("rangeslider","isVisible")(r.xaxis)?c?(D=1.1,E="bottom"):(D=1,E="top"):c?(D=-.1,E="top"):(D=0,E="bottom")):(D=1,E="auto",A?v=1.02:(v=1,R="right")),ga.coerce(a,o,{x:{valType:"number",editType:"legend",min:A?-2:0,max:A?3:1,dflt:v}},"x"),ga.coerce(a,o,{y:{valType:"number",editType:"legend",min:c?-2:0,max:c?3:1,dflt:D}},"y"),i("traceorder",w),_2.isGrouped(t[e])&&i("tracegroupgap"),i("entrywidth"),i("entrywidthmode"),i("indentation"),i("itemsizing"),i("itemwidth"),i("itemclick"),i("itemdoubleclick"),i("groupclick"),i("xanchor",R),i("yanchor",E),i("maxheight"),i("valign"),ga.noneOrAll(a,o,["x","y"]);var N=i("title.text");if(N){i("title.side",g?"left":"top");var F=ga.extendFlat({},l,{size:ga.bigFont(l.size)});ga.coerceFont(i,"title.font",F)}}}}jM.exports=function(r,t,n){var a,o=n.slice(),i=t.shapes;if(i)for(a=0;a<i.length;a++){var l=i[a];if(l.showlegend){var u={_input:l._input,visible:l.visible,showlegend:l.showlegend,legend:l.legend};o.push(u)}}var s=["legend"];for(a=0;a<o.length;a++)ga.pushUnique(s,o[a].legend);for(t._legends=[],a=0;a<s.length;a++){var f=s[a];tZ(f,r,t,o),t[f]&&(t[f]._id=f),t._legends.push(f)}}});var rT=de((jce,eT)=>{"use strict";var iu=Cr(),T2=ir(),nZ=T2.pushUnique,M2=!0;eT.exports=function(r,t,n){var a=t._fullLayout;if(t._dragged||t._editing)return;var o=a.legend.itemclick,i=a.legend.itemdoubleclick,l=a.legend.groupclick;n===1&&o==="toggle"&&i==="toggleothers"&&M2&&t.data&&t._context.showTips&&T2.notifier(T2._(t,"Double-click on legend to isolate one trace"),"long"),M2=!1;var u;if(n===1?u=o:n===2&&(u=i),!u)return;var s=l==="togglegroup",f=a.hiddenlabels?a.hiddenlabels.slice():[],h=r.data()[0][0];if(h.groupTitle&&h.noClick)return;var p=t._fullData,_=(a.shapes||[]).filter(function(Ae){return Ae.showlegend}),m=p.concat(_),w=h.trace;w._isShape&&(w=w._fullInput);var T=w.legendgroup,y,k,S,b,M,d,x={},g=[],c=[],A=[];function v(Ae,Ce){var Pe=g.indexOf(Ae),Ee=x.visible;return Ee||(Ee=x.visible=[]),g.indexOf(Ae)===-1&&(g.push(Ae),Pe=g.length-1),Ee[Pe]=Ce,Pe}var D=(a.shapes||[]).map(function(Ae){return Ae._input}),E=!1;function R(Ae,Ce){D[Ae].visible=Ce,E=!0}function N(Ae,Ce){if(!(h.groupTitle&&!s)){var Pe=Ae._fullInput||Ae,Ee=Pe._isShape,Ne=Pe.index;Ne===void 0&&(Ne=Pe._index);var Ue=Pe.visible===!1?!1:Ce;Ee?R(Ne,Ue):v(Ne,Ue)}}var F=w.legend,I=w._fullInput,L=I&&I._isShape;if(!L&&iu.traceIs(w,"pie-like")){var P=h.label,O=f.indexOf(P);if(u==="toggle")O===-1?f.push(P):f.splice(O,1);else if(u==="toggleothers"){var U=O!==-1,X=[];for(y=0;y<t.calcdata.length;y++){var $=t.calcdata[y];for(k=0;k<$.length;k++){var j=$[k],Y=j.label;F===$[0].trace.legend&&P!==Y&&(f.indexOf(Y)===-1&&(U=!0),nZ(f,Y),X.push(Y))}}if(!U)for(var q=0;q<X.length;q++){var K=f.indexOf(X[q]);K!==-1&&f.splice(K,1)}}iu.call("_guiRelayout",t,"hiddenlabels",f)}else{var ne=T&&T.length,Q=[],oe;if(ne)for(y=0;y<m.length;y++)oe=m[y],oe.visible&&oe.legendgroup===T&&Q.push(y);if(u==="toggle"){var re;switch(w.visible){case!0:re="legendonly";break;case!1:re=!1;break;case"legendonly":re=!0;break}if(ne)if(s)for(y=0;y<m.length;y++){var H=m[y];H.visible!==!1&&H.legendgroup===T&&N(H,re)}else N(w,re);else N(w,re)}else if(u==="toggleothers"){var ee,V,te,ue,ve,ke=!0;for(y=0;y<m.length;y++)if(ve=m[y],ee=ve===w,te=ve.showlegend!==!0,!(ee||te)&&(V=ne&&ve.legendgroup===T,!V&&ve.legend===F&&ve.visible===!0&&!iu.traceIs(ve,"notLegendIsolatable"))){ke=!1;break}for(y=0;y<m.length;y++)if(ve=m[y],!(ve.visible===!1||ve.legend!==F)&&!iu.traceIs(ve,"notLegendIsolatable"))switch(w.visible){case"legendonly":N(ve,!0);break;case!0:ue=ke?!0:"legendonly",ee=ve===w,te=ve.showlegend!==!0&&!ve.legendgroup,V=ee||ne&&ve.legendgroup===T,N(ve,V||te?!0:ue);break}}for(y=0;y<c.length;y++)if(S=c[y],!!S){var Se=S.constructUpdate(),he=Object.keys(Se);for(k=0;k<he.length;k++)b=he[k],d=x[b]=x[b]||[],d[A[y]]=Se[b]}for(M=Object.keys(x),y=0;y<M.length;y++)for(b=M[y],k=0;k<g.length;k++)x[b].hasOwnProperty(k)||(x[b][k]=void 0);E?iu.call("_guiUpdate",t,x,{shapes:D},g):iu.call("_guiRestyle",t,x,g)}}});var A2=de((ehe,tT)=>{"use strict";tT.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}});var iT=de((rhe,aT)=>{"use strict";var nT=Cr(),k2=jh();aT.exports=function(r,t,n){var a=t._inHover,o=k2.isGrouped(t),i=k2.isReversed(t),l={},u=[],s=!1,f={},h=0,p=0,_,m;function w(I,L,P){if(t.visible!==!1&&!(n&&I!==t._id))if(L===""||!k2.isGrouped(t)){var O="~~i"+h;u.push(O),l[O]=[P],h++}else u.indexOf(L)===-1?(u.push(L),s=!0,l[L]=[P]):l[L].push(P)}for(_=0;_<r.length;_++){var T=r[_],y=T[0],k=y.trace,S=k.legend,b=k.legendgroup;if(!(!a&&(!k.visible||!k.showlegend)))if(nT.traceIs(k,"pie-like"))for(f[b]||(f[b]={}),m=0;m<T.length;m++){var M=T[m].label;f[b][M]||(w(S,b,{label:M,color:T[m].color,i:T[m].i,trace:k,pts:T[m].pts}),f[b][M]=!0,p=Math.max(p,(M||"").length))}else w(S,b,y),p=Math.max(p,(k.name||"").length)}if(!u.length)return[];var d=!s||!o,x=[];for(_=0;_<u.length;_++){var g=l[u[_]];d?x.push(g[0]):x.push(g)}for(d&&(x=[x]),_=0;_<x.length;_++){var c=1/0;for(m=0;m<x[_].length;m++){var A=x[_][m].trace.legendrank;c>A&&(c=A)}x[_][0]._groupMinRank=c,x[_][0]._preGroupSort=_}var v=function(I,L){return I[0]._groupMinRank-L[0]._groupMinRank||I[0]._preGroupSort-L[0]._preGroupSort},D=function(I,L){return I.trace.legendrank-L.trace.legendrank||I._preSort-L._preSort};for(x.forEach(function(I,L){I[0]._preGroupSort=L}),x.sort(v),_=0;_<x.length;_++){x[_].forEach(function(I,L){I._preSort=L}),x[_].sort(D);var E=x[_][0].trace,R=null;for(m=0;m<x[_].length;m++){var N=x[_][m].trace.legendgrouptitle;if(N&&N.text){R=N,a&&(N.font=t._groupTitleFont);break}}if(i&&x[_].reverse(),R){var F=!1;for(m=0;m<x[_].length;m++)if(nT.traceIs(x[_][m].trace,"pie-like")){F=!0;break}x[_].unshift({i:-1,groupTitle:R,noClick:F,trace:{showlegend:E.showlegend,legendgroup:E.legendgroup,visible:t.groupclick==="toggleitem"?!0:E.visible}})}for(m=0;m<x[_].length;m++)x[_][m]=[x[_][m]]}return t._lgroupsLength=x.length,t._maxNameLength=p,x}});var S2=de(Yl=>{"use strict";var ev=ir();function oT(e){return e.indexOf("e")!==-1?e.replace(/[.]?0+e/,"e"):e.indexOf(".")!==-1?e.replace(/[.]?0+$/,""):e}Yl.formatPiePercent=function(r,t){var n=oT((r*100).toPrecision(3));return ev.numSeparate(n,t)+"%"};Yl.formatPieValue=function(r,t){var n=oT(r.toPrecision(10));return ev.numSeparate(n,t)};Yl.getFirstFilled=function(r,t){if(ev.isArrayOrTypedArray(r))for(var n=0;n<t.length;n++){var a=r[t[n]];if(a||a===0||a==="")return a}};Yl.castOption=function(r,t){if(ev.isArrayOrTypedArray(r))return Yl.getFirstFilled(r,t);if(r)return r};Yl.getRotationAngle=function(e){return(e==="auto"?0:e)*Math.PI/180}});var sT=de((nhe,lT)=>{"use strict";var aZ=mt(),iZ=Xr();lT.exports=function(r,t,n,a){var o=n.marker.pattern;o&&o.shape?aZ.pointStyle(r,n,a,t):iZ.fill(r,t.color)}});var hT=de((ahe,cT)=>{"use strict";var uT=Xr(),fT=S2().castOption,oZ=sT();cT.exports=function(r,t,n,a){var o=n.marker.line,i=fT(o.color,t.pts)||uT.defaultLine,l=fT(o.width,t.pts)||0;r.call(oZ,t,n,a).style("stroke-width",l).call(uT.stroke,i)}});var D2=de((ihe,mT)=>{"use strict";var Bn=it(),C2=Cr(),En=ir(),vT=En.strTranslate,ya=mt(),Ra=Xr(),E2=Si().extractOpts,rv=oa(),lZ=hT(),sZ=S2().castOption,uZ=A2(),dT=12,pT=5,Wl=2,fZ=10,ou=5;mT.exports=function(r,t,n){var a=t._fullLayout;n||(n=a.legend);var o=n.itemsizing==="constant",i=n.itemwidth,l=(i+uZ.itemGap*2)/2,u=vT(l,0),s=function(x,g,c,A){var v;if(x+1)v=x;else if(g&&g.width>0)v=g.width;else return 0;return o?A:Math.min(v,c)};r.each(function(x){var g=Bn.select(this),c=En.ensureSingle(g,"g","layers");c.style("opacity",x[0].trace.opacity);var A=n.indentation,v=n.valign,D=x[0].lineHeight,E=x[0].height;if(v==="middle"&&A===0||!D||!E)c.attr("transform",null);else{var R={top:1,bottom:-1}[v],N=R*(.5*(D-E+3))||0,F=n.indentation;c.attr("transform",vT(F,N))}var I=c.selectAll("g.legendfill").data([x]);I.enter().append("g").classed("legendfill",!0);var L=c.selectAll("g.legendlines").data([x]);L.enter().append("g").classed("legendlines",!0);var P=c.selectAll("g.legendsymbols").data([x]);P.enter().append("g").classed("legendsymbols",!0),P.selectAll("g.legendpoints").data([x]).enter().append("g").classed("legendpoints",!0)}).each(d).each(p).each(m).each(_).each(T).each(b).each(S).each(f).each(h).each(y).each(k);function f(x){var g=gT(x),c=g.showFill,A=g.showLine,v=g.showGradientLine,D=g.showGradientFill,E=g.anyFill,R=g.anyLine,N=x[0],F=N.trace,I,L,P=E2(F),O=P.colorscale,U=P.reversescale,X=function(Q){if(Q.size())if(c)ya.fillGroupStyle(Q,t,!0);else{var oe="legendfill-"+F.uid;ya.gradient(Q,t,oe,L2(U),O,"fill")}},$=function(Q){if(Q.size()){var oe="legendline-"+F.uid;ya.lineGroupStyle(Q),ya.gradient(Q,t,oe,L2(U),O,"stroke")}},j=rv.hasMarkers(F)||!E?"M5,0":R?"M5,-2":"M5,-3",Y=Bn.select(this),q=Y.select(".legendfill").selectAll("path").data(c||D?[x]:[]);if(q.enter().append("path").classed("js-fill",!0),q.exit().remove(),q.attr("d",j+"h"+i+"v6h-"+i+"z").call(X),A||v){var K=s(void 0,F.line,fZ,pT);L=En.minExtend(F,{line:{width:K}}),I=[En.minExtend(N,{trace:L})]}var ne=Y.select(".legendlines").selectAll("path").data(A||v?[I]:[]);ne.enter().append("path").classed("js-line",!0),ne.exit().remove(),ne.attr("d",j+(v?"l"+i+",0.0001":"h"+i)).call(A?ya.lineGroupStyle:$)}function h(x){var g=gT(x),c=g.anyFill,A=g.anyLine,v=g.showLine,D=g.showMarker,E=x[0],R=E.trace,N=!D&&!A&&!c&&rv.hasText(R),F,I;function L(q,K,ne,Q){var oe=En.nestedProperty(R,q).get(),re=En.isArrayOrTypedArray(oe)&&K?K(oe):oe;if(o&&re&&Q!==void 0&&(re=Q),ne){if(re<ne[0])return ne[0];if(re>ne[1])return ne[1]}return re}function P(q){return E._distinct&&E.index&&q[E.index]?q[E.index]:q[0]}if(D||N||v){var O={},U={};if(D){O.mc=L("marker.color",P),O.mx=L("marker.symbol",P),O.mo=L("marker.opacity",En.mean,[.2,1]),O.mlc=L("marker.line.color",P),O.mlw=L("marker.line.width",En.mean,[0,5],Wl),U.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var X=L("marker.size",En.mean,[2,16],dT);O.ms=X,U.marker.size=X}v&&(U.line={width:L("line.width",P,[0,10],pT)}),N&&(O.tx="Aa",O.tp=L("textposition",P),O.ts=10,O.tc=L("textfont.color",P),O.tf=L("textfont.family",P),O.tw=L("textfont.weight",P),O.ty=L("textfont.style",P),O.tv=L("textfont.variant",P),O.tC=L("textfont.textcase",P),O.tE=L("textfont.lineposition",P),O.tS=L("textfont.shadow",P)),F=[En.minExtend(E,O)],I=En.minExtend(R,U),I.selectedpoints=null,I.texttemplate=null}var $=Bn.select(this).select("g.legendpoints"),j=$.selectAll("path.scatterpts").data(D?F:[]);j.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",u),j.exit().remove(),j.call(ya.pointStyle,I,t),D&&(F[0].mrc=3);var Y=$.selectAll("g.pointtext").data(N?F:[]);Y.enter().append("g").classed("pointtext",!0).append("text").attr("transform",u),Y.exit().remove(),Y.selectAll("text").call(ya.textPointStyle,I,t)}function p(x){var g=x[0].trace,c=g.type==="waterfall";if(x[0]._distinct&&c){var A=x[0].trace[x[0].dir].marker;return x[0].mc=A.color,x[0].mlw=A.line.width,x[0].mlc=A.line.color,w(x,this,"waterfall")}var v=[];g.visible&&c&&(v=x[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var D=Bn.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(v);D.enter().append("path").classed("legendwaterfall",!0).attr("transform",u).style("stroke-miterlimit",1),D.exit().remove(),D.each(function(E){var R=Bn.select(this),N=g[E[0]].marker,F=s(void 0,N.line,ou,Wl);R.attr("d",E[1]).style("stroke-width",F+"px").call(Ra.fill,N.color),F&&R.call(Ra.stroke,N.line.color)})}function _(x){w(x,this)}function m(x){w(x,this,"funnel")}function w(x,g,c){var A=x[0].trace,v=A.marker||{},D=v.line||{},E=v.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",R=c?A.visible&&A.type===c:C2.traceIs(A,"bar"),N=Bn.select(g).select("g.legendpoints").selectAll("path.legend"+c).data(R?[x]:[]);N.enter().append("path").classed("legend"+c,!0).attr("d",E).attr("transform",u),N.exit().remove(),N.each(function(F){var I=Bn.select(this),L=F[0],P=s(L.mlw,v.line,ou,Wl);I.style("stroke-width",P+"px");var O=L.mcc;if(!n._inHover&&"mc"in L){var U=E2(v),X=U.mid;X===void 0&&(X=(U.max+U.min)/2),O=ya.tryColorscale(v,"")(X)}var $=O||L.mc||v.color,j=v.pattern,Y=ya.getPatternAttr,q=j&&(Y(j.shape,0,"")||Y(j.path,0,""));if(q){var K=Y(j.bgcolor,0,null),ne=Y(j.fgcolor,0,null),Q=j.fgopacity,oe=yT(j.size,8,10),re=yT(j.solidity,.5,1),H="legend-"+A.uid;I.call(ya.pattern,"legend",t,H,q,oe,re,O,j.fillmode,K,ne,Q)}else I.call(Ra.fill,$);P&&Ra.stroke(I,L.mlc||D.color)})}function T(x){var g=x[0].trace,c=Bn.select(this).select("g.legendpoints").selectAll("path.legendbox").data(g.visible&&C2.traceIs(g,"box-violin")?[x]:[]);c.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",u),c.exit().remove(),c.each(function(){var A=Bn.select(this);if((g.boxpoints==="all"||g.points==="all")&&Ra.opacity(g.fillcolor)===0&&Ra.opacity((g.line||{}).color)===0){var v=En.minExtend(g,{marker:{size:o?dT:En.constrain(g.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});c.call(ya.pointStyle,v,t)}else{var D=s(void 0,g.line,ou,Wl);A.style("stroke-width",D+"px").call(Ra.fill,g.fillcolor),D&&Ra.stroke(A,g.line.color)}})}function y(x){var g=x[0].trace,c=Bn.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(g.visible&&g.type==="candlestick"?[x,x]:[]);c.enter().append("path").classed("legendcandle",!0).attr("d",function(A,v){return v?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",u).style("stroke-miterlimit",1),c.exit().remove(),c.each(function(A,v){var D=Bn.select(this),E=g[v?"increasing":"decreasing"],R=s(void 0,E.line,ou,Wl);D.style("stroke-width",R+"px").call(Ra.fill,E.fillcolor),R&&Ra.stroke(D,E.line.color)})}function k(x){var g=x[0].trace,c=Bn.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(g.visible&&g.type==="ohlc"?[x,x]:[]);c.enter().append("path").classed("legendohlc",!0).attr("d",function(A,v){return v?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",u).style("stroke-miterlimit",1),c.exit().remove(),c.each(function(A,v){var D=Bn.select(this),E=g[v?"increasing":"decreasing"],R=s(void 0,E.line,ou,Wl);D.style("fill","none").call(ya.dashLine,E.line.dash,R),R&&Ra.stroke(D,E.line.color)})}function S(x){M(x,this,"pie")}function b(x){M(x,this,"funnelarea")}function M(x,g,c){var A=x[0],v=A.trace,D=c?v.visible&&v.type===c:C2.traceIs(v,c),E=Bn.select(g).select("g.legendpoints").selectAll("path.legend"+c).data(D?[x]:[]);if(E.enter().append("path").classed("legend"+c,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",u),E.exit().remove(),E.size()){var R=v.marker||{},N=s(sZ(R.line.width,A.pts),R.line,ou,Wl),F="pieLike",I=En.minExtend(v,{marker:{line:{width:N}}},F),L=En.minExtend(A,{trace:I},F);lZ(E,L,I,t)}}function d(x){var g=x[0].trace,c,A=[];if(g.visible)switch(g.type){case"histogram2d":case"heatmap":A=[["M-15,-2V4H15V-2Z"]],c=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":A=[["M-6,-6V6H6V-6Z"]],c=!0;break;case"densitymapbox":case"densitymap":A=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],c="radial";break;case"cone":A=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],c=!1;break;case"streamtube":A=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],c=!1;break;case"surface":A=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],c=!0;break;case"mesh3d":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],c=!1;break;case"volume":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],c=!0;break;case"isosurface":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],c=!1;break}var v=Bn.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(A);v.enter().append("path").classed("legend3dandfriends",!0).attr("transform",u).style("stroke-miterlimit",1),v.exit().remove(),v.each(function(D,E){var R=Bn.select(this),N=E2(g),F=N.colorscale,I=N.reversescale,L=function(X){if(X.size()){var $="legendfill-"+g.uid;ya.gradient(X,t,$,L2(I,c==="radial"),F,"fill")}},P;if(F){if(!c){var U=F.length;P=E===0?F[I?U-1:0][1]:E===1?F[I?0:U-1][1]:F[Math.floor((U-1)/2)][1]}}else{var O=g.vertexcolor||g.facecolor||g.color;P=En.isArrayOrTypedArray(O)?O[E]||O[0]:O}R.attr("d",D[0]),P?R.call(Ra.fill,P):R.call(L)})}};function L2(e,r){var t=r?"radial":"horizontal";return t+(e?"":"reversed")}function gT(e){var r=e[0].trace,t=r.contours,n=rv.hasLines(r),a=rv.hasMarkers(r),o=r.visible&&r.fill&&r.fill!=="none",i=!1,l=!1;if(t){var u=t.coloring;u==="lines"?i=!0:n=u==="none"||u==="heatmap"||t.showlines,t.type==="constraint"?o=t._operation!=="=":(u==="fill"||u==="heatmap")&&(l=!0)}return{showMarker:a,showLine:n,showFill:o,showGradientLine:i,showGradientFill:l,anyLine:n||i,anyFill:o||l}}function yT(e,r,t){return e&&En.isArrayOrTypedArray(e)?r:e>t?t:e}});var F2=de((ohe,CT)=>{"use strict";var la=it(),Zt=ir(),P2=on(),uu=Cr(),bT=Mf(),R2=ni(),Jt=mt(),nv=Xr(),Xl=Wn(),xT=rT(),en=A2(),I2=qn(),kT=I2.LINE_SPACING,su=I2.FROM_TL,_T=I2.FROM_BR,wT=iT(),cZ=D2(),MT=jh(),lu=1,hZ=/^legend[0-9]*$/;CT.exports=function(r,t){if(t)TT(r,t);else{var n=r._fullLayout,a=n._legends,o=n._infolayer.selectAll('[class^="legend"]');o.each(function(){var s=la.select(this),f=s.attr("class"),h=f.split(" ")[0];h.match(hZ)&&a.indexOf(h)===-1&&s.remove()});for(var i=0;i<a.length;i++){var l=a[i],u=r._fullLayout[l];TT(r,u)}}};function vZ(e,r,t){if(!(r.title.side!=="top center"&&r.title.side!=="top right")){var n=r.title.font,a=n.size*kT,o=0,i=e.node(),l=Jt.bBox(i).width;r.title.side==="top center"?o=.5*(r._width-2*t-2*en.titlePad-l):r.title.side==="top right"&&(o=r._width-2*t-2*en.titlePad-l),Xl.positionText(e,t+en.titlePad+o,t+a)}}function TT(e,r){var t=r||{},n=e._fullLayout,a=lv(t),o,i,l=t._inHover;if(l?(i=t.layer,o="hover"):(i=n._infolayer,o=a),!!i){o+=n._uid,e._legendMouseDownTime||(e._legendMouseDownTime=0);var u;if(l){if(!t.entries)return;u=wT(t.entries,t)}else{for(var s=(e.calcdata||[]).slice(),f=n.shapes,h=0;h<f.length;h++){var p=f[h];if(p.showlegend){var _={_isShape:!0,_fullInput:p,index:p._index,name:p.name||p.label.text||"shape "+p._index,legend:p.legend,legendgroup:p.legendgroup,legendgrouptitle:p.legendgrouptitle,legendrank:p.legendrank,legendwidth:p.legendwidth,showlegend:p.showlegend,visible:p.visible,opacity:p.opacity,mode:p.type==="line"?"lines":"markers",line:p.line,marker:{line:p.line,color:p.fillcolor,size:12,symbol:p.type==="rect"?"square":p.type==="circle"?"circle":"hexagon2"}};s.push([{trace:_}])}}u=n.showlegend&&wT(s,t,n._legends.length>1)}var m=n.hiddenlabels||[];if(!l&&(!n.showlegend||!u.length))return i.selectAll("."+a).remove(),n._topdefs.select("#"+o).remove(),P2.autoMargin(e,a);var w=Zt.ensureSingle(i,"g",a,function(g){l||g.attr("pointer-events","all")}),T=Zt.ensureSingleById(n._topdefs,"clipPath",o,function(g){g.append("rect")}),y=Zt.ensureSingle(w,"rect","bg",function(g){g.attr("shape-rendering","crispEdges")});y.call(nv.stroke,t.bordercolor).call(nv.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var k=Zt.ensureSingle(w,"g","scrollbox"),S=t.title;t._titleWidth=0,t._titleHeight=0;var b;S.text?(b=Zt.ensureSingle(k,"text",a+"titletext"),b.attr("text-anchor","start").call(Jt.font,S.font).text(S.text),av(b,k,e,t,lu)):k.selectAll("."+a+"titletext").remove();var M=Zt.ensureSingle(w,"rect","scrollbar",function(g){g.attr(en.scrollBarEnterAttrs).call(nv.fill,en.scrollBarColor)}),d=k.selectAll("g.groups").data(u);d.enter().append("g").attr("class","groups"),d.exit().remove();var x=d.selectAll("g.traces").data(Zt.identity);x.enter().append("g").attr("class","traces"),x.exit().remove(),x.style("opacity",function(g){var c=g[0].trace;return uu.traceIs(c,"pie-like")?m.indexOf(g[0].label)!==-1?.5:1:c.visible==="legendonly"?.5:1}).each(function(){la.select(this).call(dZ,e,t)}).call(cZ,e,t).each(function(){l||la.select(this).call(pZ,e,a)}),Zt.syncOrAsync([P2.previousPromises,function(){return mZ(e,d,x,t)},function(){var g=n._size,c=t.borderwidth,A=t.xref==="paper",v=t.yref==="paper";if(S.text&&vZ(b,t,c),!l){var D,E;A?D=g.l+g.w*t.x-su[iv(t)]*t._width:D=n.width*t.x-su[iv(t)]*t._width,v?E=g.t+g.h*(1-t.y)-su[ov(t)]*t._effHeight:E=n.height*(1-t.y)-su[ov(t)]*t._effHeight;var R=bZ(e,a,D,E);if(R)return;if(n.margin.autoexpand){var N=D,F=E;D=A?Zt.constrain(D,0,n.width-t._width):N,E=v?Zt.constrain(E,0,n.height-t._effHeight):F,D!==N&&Zt.log("Constrain "+a+".x to make legend fit inside graph"),E!==F&&Zt.log("Constrain "+a+".y to make legend fit inside graph")}Jt.setTranslate(w,D,E)}if(M.on(".drag",null),w.on("wheel",null),l||t._height<=t._maxHeight||e._context.staticPlot){var I=t._effHeight;l&&(I=t._height),y.attr({width:t._width-c,height:I-c,x:c/2,y:c/2}),Jt.setTranslate(k,0,0),T.select("rect").attr({width:t._width-2*c,height:I-2*c,x:c,y:c}),Jt.setClipUrl(k,o,e),Jt.setRect(M,0,0,0,0),delete t._scrollY}else{var L=Math.max(en.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),P=t._effHeight-L-2*en.scrollBarMargin,O=t._height-t._effHeight,U=P/O,X=Math.min(t._scrollY||0,O);y.attr({width:t._width-2*c+en.scrollBarWidth+en.scrollBarMargin,height:t._effHeight-c,x:c/2,y:c/2}),T.select("rect").attr({width:t._width-2*c+en.scrollBarWidth+en.scrollBarMargin,height:t._effHeight-2*c,x:c,y:c+X}),Jt.setClipUrl(k,o,e),oe(X,L,U),w.on("wheel",function(){X=Zt.constrain(t._scrollY+la.event.deltaY/O*P,0,O),oe(X,L,U),X!==0&&X!==O&&la.event.preventDefault()});var $,j,Y,q=function(te,ue,ve){var ke=(ve-ue)/U+te;return Zt.constrain(ke,0,O)},K=function(te,ue,ve){var ke=(ue-ve)/U+te;return Zt.constrain(ke,0,O)},ne=la.behavior.drag().on("dragstart",function(){var te=la.event.sourceEvent;te.type==="touchstart"?$=te.changedTouches[0].clientY:$=te.clientY,Y=X}).on("drag",function(){var te=la.event.sourceEvent;te.buttons===2||te.ctrlKey||(te.type==="touchmove"?j=te.changedTouches[0].clientY:j=te.clientY,X=q(Y,$,j),oe(X,L,U))});M.call(ne);var Q=la.behavior.drag().on("dragstart",function(){var te=la.event.sourceEvent;te.type==="touchstart"&&($=te.changedTouches[0].clientY,Y=X)}).on("drag",function(){var te=la.event.sourceEvent;te.type==="touchmove"&&(j=te.changedTouches[0].clientY,X=K(Y,$,j),oe(X,L,U))});k.call(Q)}function oe(te,ue,ve){t._scrollY=e._fullLayout[a]._scrollY=te,Jt.setTranslate(k,0,-te),Jt.setRect(M,t._width,en.scrollBarMargin+te*ve,en.scrollBarWidth,ue),T.select("rect").attr("y",c+te)}if(e._context.edits.legendPosition){var re,H,ee,V;w.classed("cursor-move",!0),R2.init({element:w.node(),gd:e,prepFn:function(te){if(te.target!==M.node()){var ue=Jt.getTranslate(w);ee=ue.x,V=ue.y}},moveFn:function(te,ue){if(ee!==void 0&&V!==void 0){var ve=ee+te,ke=V+ue;Jt.setTranslate(w,ve,ke),re=R2.align(ve,t._width,g.l,g.l+g.w,t.xanchor),H=R2.align(ke+t._height,-t._height,g.t+g.h,g.t,t.yanchor)}},doneFn:function(){if(re!==void 0&&H!==void 0){var te={};te[a+".x"]=re,te[a+".y"]=H,uu.call("_guiRelayout",e,te)}},clickFn:function(te,ue){var ve=i.selectAll("g.traces").filter(function(){var ke=this.getBoundingClientRect();return ue.clientX>=ke.left&&ue.clientX<=ke.right&&ue.clientY>=ke.top&&ue.clientY<=ke.bottom});ve.size()>0&&ST(e,w,ve,te,ue)}})}}],e)}}function tv(e,r,t){var n=e[0],a=n.width,o=r.entrywidthmode,i=n.trace.legendwidth||r.entrywidth;return o==="fraction"?r._maxWidth*i:t+(i||a)}function ST(e,r,t,n,a){var o=t.data()[0][0].trace,i={event:a,node:t.node(),curveNumber:o.index,expandedIndex:o.index,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};o._group&&(i.group=o._group),uu.traceIs(o,"pie-like")&&(i.label=t.datum()[0].label);var l=bT.triggerHandler(e,"plotly_legendclick",i);if(n===1){if(l===!1)return;r._clickTimeout=setTimeout(function(){e._fullLayout&&xT(t,e,n)},e._context.doubleClickDelay)}else if(n===2){r._clickTimeout&&clearTimeout(r._clickTimeout),e._legendMouseDownTime=0;var u=bT.triggerHandler(e,"plotly_legenddoubleclick",i);u!==!1&&l!==!1&&xT(t,e,n)}}function dZ(e,r,t){var n=lv(t),a=e.data()[0][0],o=a.trace,i=uu.traceIs(o,"pie-like"),l=!t._inHover&&r._context.edits.legendText&&!i,u=t._maxNameLength,s,f;a.groupTitle?(s=a.groupTitle.text,f=a.groupTitle.font):(f=t.font,t.entries?s=a.text:(s=i?a.label:o.name,o._meta&&(s=Zt.templateString(s,o._meta))));var h=Zt.ensureSingle(e,"text",n+"text");h.attr("text-anchor","start").call(Jt.font,f).text(l?AT(s,u):s);var p=t.indentation+t.itemwidth+en.itemGap*2;Xl.positionText(h,p,0),l?h.call(Xl.makeEditable,{gd:r,text:s}).call(av,e,r,t).on("edit",function(_){this.text(AT(_,u)).call(av,e,r,t);var m=a.trace._fullInput||{},w={};return w.name=_,m._isShape?uu.call("_guiRelayout",r,"shapes["+o.index+"].name",w.name):uu.call("_guiRestyle",r,w,o.index)}):av(h,e,r,t)}function AT(e,r){var t=Math.max(4,r);if(e&&e.trim().length>=t/2)return e;e=e||"";for(var n=t-e.length;n>0;n--)e+=" ";return e}function pZ(e,r,t){var n=r._context.doubleClickDelay,a,o=1,i=Zt.ensureSingle(e,"rect",t+"toggle",function(l){r._context.staticPlot||l.style("cursor","pointer").attr("pointer-events","all"),l.call(nv.fill,"rgba(0,0,0,0)")});r._context.staticPlot||(i.on("mousedown",function(){a=new Date().getTime(),a-r._legendMouseDownTime<n?o+=1:(o=1,r._legendMouseDownTime=a)}),i.on("mouseup",function(){if(!(r._dragged||r._editing)){var l=r._fullLayout[t];new Date().getTime()-r._legendMouseDownTime>n&&(o=Math.max(o-1,1)),ST(r,l,e,o,la.event)}}))}function av(e,r,t,n,a){n._inHover&&e.attr("data-notex",!0),Xl.convertToTspans(e,t,function(){gZ(r,t,n,a)})}function gZ(e,r,t,n){var a=e.data()[0][0];if(!t._inHover&&a&&!a.trace.showlegend){e.remove();return}var o=e.select("g[class*=math-group]"),i=o.node(),l=lv(t);t||(t=r._fullLayout[l]);var u=t.borderwidth,s;n===lu?s=t.title.font:a.groupTitle?s=a.groupTitle.font:s=t.font;var f=s.size*kT,h,p;if(i){var _=Jt.bBox(i);h=_.height,p=_.width,n===lu?Jt.setTranslate(o,u,u+h*.75):Jt.setTranslate(o,0,h*.25)}else{var m="."+l+(n===lu?"title":"")+"text",w=e.select(m),T=Xl.lineCount(w),y=w.node();if(h=f*T,p=y?Jt.bBox(y).width:0,n===lu)t.title.side==="left"&&(p+=en.itemGap*2),Xl.positionText(w,u+en.titlePad,u+f);else{var k=en.itemGap*2+t.indentation+t.itemwidth;a.groupTitle&&(k=en.itemGap,p-=t.indentation+t.itemwidth),Xl.positionText(w,k,-f*((T-1)/2-.3))}}n===lu?(t._titleWidth=p,t._titleHeight=h):(a.lineHeight=f,a.height=Math.max(h,16)+3,a.width=p)}function yZ(e){var r=0,t=0,n=e.title.side;return n&&(n.indexOf("left")!==-1&&(r=e._titleWidth),n.indexOf("top")!==-1&&(t=e._titleHeight)),[r,t]}function mZ(e,r,t,n){var a=e._fullLayout,o=lv(n);n||(n=a[o]);var i=a._size,l=MT.isVertical(n),u=MT.isGrouped(n),s=n.entrywidthmode==="fraction",f=n.borderwidth,h=2*f,p=en.itemGap,_=n.indentation+n.itemwidth+p*2,m=2*(f+p),w=ov(n),T=n.y<0||n.y===0&&w==="top",y=n.y>1||n.y===1&&w==="bottom",k=n.tracegroupgap,S={};let{orientation:b,yref:M}=n,{maxheight:d}=n,x=T||y||b!=="v"||M!=="paper";d||(d=x?.5:1);let g=x?a.height:i.h;n._maxHeight=Math.max(d>1?d:d*g,30);var c=0;n._width=0,n._height=0;var A=yZ(n);if(l)t.each(function(oe){var re=oe[0].height;Jt.setTranslate(this,f+A[0],f+A[1]+n._height+re/2+p),n._height+=re,n._width=Math.max(n._width,oe[0].width)}),c=_+n._width,n._width+=p+_+h,n._height+=m,u&&(r.each(function(oe,re){Jt.setTranslate(this,0,re*n.tracegroupgap)}),n._height+=(n._lgroupsLength-1)*n.tracegroupgap);else{var v=iv(n),D=n.x<0||n.x===0&&v==="right",E=n.x>1||n.x===1&&v==="left",R=y||T,N=a.width/2;n._maxWidth=Math.max(D?R&&v==="left"?i.l+i.w:N:E?R&&v==="right"?i.r+i.w:N:i.w,2*_);var F=0,I=0;t.each(function(oe){var re=tv(oe,n,_);F=Math.max(F,re),I+=re}),c=null;var L=0;if(u){var P=0,O=0,U=0;r.each(function(){var oe=0,re=0;la.select(this).selectAll("g.traces").each(function(ee){var V=tv(ee,n,_),te=ee[0].height;Jt.setTranslate(this,A[0],A[1]+f+p+te/2+re),re+=te,oe=Math.max(oe,V),S[ee[0].trace.legendgroup]=oe});var H=oe+p;O>0&&H+f+O>n._maxWidth?(L=Math.max(L,O),O=0,U+=P+k,P=re):P=Math.max(P,re),Jt.setTranslate(this,O,U),O+=H}),n._width=Math.max(L,O)+f,n._height=U+P+m}else{var X=t.size(),$=I+h+(X-1)*p<n._maxWidth,j=0,Y=0,q=0,K=0;t.each(function(oe){var re=oe[0].height,H=tv(oe,n,_,u),ee=$?H:F;s||(ee+=p),ee+f+Y-p>=n._maxWidth&&(L=Math.max(L,K),Y=0,q+=j,n._height+=j,j=0),Jt.setTranslate(this,A[0]+f+Y,A[1]+f+q+re/2+p),K=Y+H+p,Y+=ee,j=Math.max(j,re)}),$?(n._width=Y+h,n._height=j+m):(n._width=Math.max(L,K)+h,n._height+=j+m)}}n._width=Math.ceil(Math.max(n._width+A[0],n._titleWidth+2*(f+en.titlePad))),n._height=Math.ceil(Math.max(n._height+A[1],n._titleHeight+2*(f+en.itemGap))),n._effHeight=Math.min(n._height,n._maxHeight);var ne=e._context.edits,Q=ne.legendText||ne.legendPosition;t.each(function(oe){var re=la.select(this).select("."+o+"toggle"),H=oe[0].height,ee=oe[0].trace.legendgroup,V=tv(oe,n,_);u&&ee!==""&&(V=S[ee]);var te=Q?_:c||V;!l&&!s&&(te+=p/2),Jt.setRect(re,0,-H/2,te,H)})}function bZ(e,r,t,n){var a=e._fullLayout,o=a[r],i=iv(o),l=ov(o),u=o.xref==="paper",s=o.yref==="paper";e._fullLayout._reservedMargin[r]={};var f=o.y<.5?"b":"t",h=o.x<.5?"l":"r",p={r:a.width-t,l:t+o._width,b:a.height-n,t:n+o._effHeight};if(u&&s)return P2.autoMargin(e,r,{x:o.x,y:o.y,l:o._width*su[i],r:o._width*_T[i],b:o._effHeight*_T[l],t:o._effHeight*su[l]});u?e._fullLayout._reservedMargin[r][f]=p[f]:s||o.orientation==="v"?e._fullLayout._reservedMargin[r][h]=p[h]:e._fullLayout._reservedMargin[r][f]=p[f]}function iv(e){return Zt.isRightAnchor(e)?"right":Zt.isCenterAnchor(e)?"center":"left"}function ov(e){return Zt.isBottomAnchor(e)?"bottom":Zt.isMiddleAnchor(e)?"middle":"top"}function lv(e){return e._id||"legend"}});var O2=de(q2=>{"use strict";var Zl=it(),ao=nt(),ET=ka(),It=ir(),xZ=It.pushUnique,N2=It.strTranslate,_Z=It.strRotate,wZ=Mf(),Pa=Wn(),MZ=QM(),Fi=mt(),sn=Xr(),sv=ni(),Ni=Lt(),TZ=_n().zindexSeparator,cu=Cr(),ai=to(),Jl=cf(),AZ=w2(),kZ=F2(),zT=Jl.YANGLE,z2=Math.PI*zT/180,SZ=1/Math.sin(z2),CZ=Math.cos(z2),EZ=Math.sin(z2),St=Jl.HOVERARROWSIZE,Qr=Jl.HOVERTEXTPAD,LT={box:!0,ohlc:!0,violin:!0,candlestick:!0},LZ={scatter:!0,scattergl:!0,splom:!0};function DT(e,r){return e.distance-r.distance}q2.hover=function(r,t,n,a){r=It.getGraphDiv(r);var o=t.target;It.throttle(r._fullLayout._uid+Jl.HOVERID,Jl.HOVERMINTIME,function(){DZ(r,t,n,a,o)})};q2.loneHover=function(r,t){var n=!0;Array.isArray(r)||(n=!1,r=[r]);var a=t.gd,o=HT(a),i=VT(a),l=r.map(function(T){var y=T._x0||T.x0||T.x||0,k=T._x1||T.x1||T.x||0,S=T._y0||T.y0||T.y||0,b=T._y1||T.y1||T.y||0,M=T.eventData;if(M){var d=Math.min(y,k),x=Math.max(y,k),g=Math.min(S,b),c=Math.max(S,b),A=T.trace;if(cu.traceIs(A,"gl3d")){var v=a._fullLayout[A.scene]._scene.container,D=v.offsetLeft,E=v.offsetTop;d+=D,x+=D,g+=E,c+=E}M.bbox={x0:d+i,x1:x+i,y0:g+o,y1:c+o},t.inOut_bbox&&t.inOut_bbox.push(M.bbox)}else M=!1;return{color:T.color||sn.defaultLine,x0:T.x0||T.x||0,x1:T.x1||T.x||0,y0:T.y0||T.y||0,y1:T.y1||T.y||0,xLabel:T.xLabel,yLabel:T.yLabel,zLabel:T.zLabel,text:T.text,name:T.name,idealAlign:T.idealAlign,borderColor:T.borderColor,fontFamily:T.fontFamily,fontSize:T.fontSize,fontColor:T.fontColor,fontWeight:T.fontWeight,fontStyle:T.fontStyle,fontVariant:T.fontVariant,nameLength:T.nameLength,textAlign:T.textAlign,trace:T.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:T.hovertemplate||!1,hovertemplateLabels:T.hovertemplateLabels||!1,eventData:M}}),u=!1,s=OT(l,{gd:a,hovermode:"closest",rotateLabels:u,bgColor:t.bgColor||sn.background,container:Zl.select(t.container),outerContainer:t.outerContainer||t.container}),f=s.hoverLabels,h=5,p=0,_=0;f.sort(function(T,y){return T.y0-y.y0}).each(function(T,y){var k=T.y0-T.by/2;k-h<p?T.offset=p-k+h:T.offset=0,p=k+T.by+T.offset,y===t.anchorIndex&&(_=T.offset)}).each(function(T){T.offset-=_});var m=a._fullLayout._invScaleX,w=a._fullLayout._invScaleY;return UT(f,u,m,w),n?f:f.node()};function DZ(e,r,t,n,a){t||(t="xy"),typeof t=="string"&&(t=t.split(TZ)[0]);var o=Array.isArray(t)?t:[t],i,l=e._fullLayout,u=l.hoversubplots,s=l._plots||[],f=s[t],h=l._has("cartesian"),p=r.hovermode||l.hovermode,_=(p||"").charAt(0)==="x",m=(p||"").charAt(0)==="y",w,T;if(h&&(_||m)&&u==="axis"){for(var y=o.length,k=0;k<y;k++)if(i=o[k],s[i]){w=Ni.getFromId(e,i,"x"),T=Ni.getFromId(e,i,"y");var S=(_?w:T)._subplotsWith;if(S&&S.length)for(var b=0;b<S.length;b++)xZ(o,S[b])}}if(f&&u!=="single"){var M=f.overlays.map(function(sr){return sr.id});o=o.concat(M)}for(var d=o.length,x=new Array(d),g=new Array(d),c=!1,A=0;A<d;A++)if(i=o[A],s[i])c=!0,x[A]=s[i].xaxis,g[A]=s[i].yaxis;else if(l[i]&&l[i]._subplot){var v=l[i]._subplot;x[A]=v.xaxis,g[A]=v.yaxis}else{It.warn("Unrecognized subplot: "+i);return}if(p&&!c&&(p="closest"),["x","y","closest","x unified","y unified"].indexOf(p)===-1||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return sv.unhoverRaw(e,r);var D=l.hoverdistance;D===-1&&(D=1/0);var E=l.spikedistance;E===-1&&(E=1/0);var R=[],N=[],F,I,L,P,O,U,X,$,j,Y,q,K,ne,Q={hLinePoint:null,vLinePoint:null},oe=!1;if(Array.isArray(r))for(p="array",L=0;L<r.length;L++)O=e.calcdata[r[L].curveNumber||0],O&&(U=O[0].trace,O[0].trace.hoverinfo!=="skip"&&(N.push(O),U.orientation==="h"&&(oe=!0)));else{var re=e.calcdata.slice();for(re.sort(function(sr,Pr){var $r=sr[0].trace.zorder||0,Fr=Pr[0].trace.zorder||0;return $r-Fr}),P=0;P<re.length;P++)O=re[P],U=O[0].trace,U.hoverinfo!=="skip"&&ai.isTraceInSubplots(U,o)&&(N.push(O),U.orientation==="h"&&(oe=!0));var H=!a,ee,V;if(H)"xpx"in r?ee=r.xpx:ee=x[0]._length/2,"ypx"in r?V=r.ypx:V=g[0]._length/2;else{if(wZ.triggerHandler(e,"plotly_beforehover",r)===!1)return;var te=a.getBoundingClientRect();ee=r.clientX-te.left,V=r.clientY-te.top,l._calcInverseTransform(e);var ue=It.apply3DTransform(l._invTransform)(ee,V);if(ee=ue[0],V=ue[1],ee<0||ee>x[0]._length||V<0||V>g[0]._length)return sv.unhoverRaw(e,r)}if(r.pointerX=ee+x[0]._offset,r.pointerY=V+g[0]._offset,"xval"in r?F=ai.flat(o,r.xval):F=ai.p2c(x,ee),"yval"in r?I=ai.flat(o,r.yval):I=ai.p2c(g,V),!ao(F[0])||!ao(I[0]))return It.warn("Fx.hover failed",r,e),sv.unhoverRaw(e,r)}var ve=1/0;function ke(sr,Pr){for(P=0;P<N.length;P++)if(O=N[P],!(!O||!O[0]||!O[0].trace)&&(U=O[0].trace,!(U.visible!==!0||U._length===0)&&["carpet","contourcarpet"].indexOf(U._module.name)===-1)){if(j=p,ai.isUnifiedHover(j)&&(j=j.charAt(0)),U.type==="splom"?($=0,X=o[$]):(X=ai.getSubplot(U),$=o.indexOf(X)),K={cd:O,trace:U,xa:x[$],ya:g[$],maxHoverDistance:D,maxSpikeDistance:E,index:!1,distance:Math.min(ve,D),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:sn.defaultLine,name:U.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},l[X]&&(K.subplot=l[X]._subplot),l._splomScenes&&l._splomScenes[U.uid]&&(K.scene=l._splomScenes[U.uid]),j==="array"){var $r=r[P];"pointNumber"in $r?(K.index=$r.pointNumber,j="closest"):(j="","xval"in $r&&(Y=$r.xval,j="x"),"yval"in $r&&(q=$r.yval,j=j?"closest":"y"))}else sr!==void 0&&Pr!==void 0?(Y=sr,q=Pr):(Y=F[$],q=I[$]);if(ne=R.length,D!==0)if(U._module&&U._module.hoverPoints){var Fr=U._module.hoverPoints(K,Y,q,j,{finiteRange:!0,hoverLayer:l._hoverlayer,hoversubplots:u,gd:e});if(Fr)for(var Gr,pt=0;pt<Fr.length;pt++)Gr=Fr[pt],ao(Gr.x0)&&ao(Gr.y0)&&R.push(FZ(Gr,p))}else It.log("Unrecognized trace type in hover:",U);if(p==="closest"&&R.length>ne&&(R.splice(0,ne),ve=R[0].distance),h&&E!==0&&R.length===0){K.distance=E,K.index=!1;var Rr=U._module.hoverPoints(K,Y,q,"closest",{hoverLayer:l._hoverlayer});if(Rr&&(Rr=Rr.filter(function(xt){return xt.spikeDistance<=E})),Rr&&Rr.length){var jr,hn=Rr.filter(function(xt){return xt.xa.showspikes&&xt.xa.spikesnap!=="hovered data"});if(hn.length){var Et=hn[0];ao(Et.x0)&&ao(Et.y0)&&(jr=he(Et),(!Q.vLinePoint||Q.vLinePoint.spikeDistance>jr.spikeDistance)&&(Q.vLinePoint=jr))}var Tn=Rr.filter(function(xt){return xt.ya.showspikes&&xt.ya.spikesnap!=="hovered data"});if(Tn.length){var Ot=Tn[0];ao(Ot.x0)&&ao(Ot.y0)&&(jr=he(Ot),(!Q.hLinePoint||Q.hLinePoint.spikeDistance>jr.spikeDistance)&&(Q.hLinePoint=jr))}}}}}ke();function Se(sr,Pr,$r){for(var Fr=null,Gr=1/0,pt,Rr=0;Rr<sr.length;Rr++)w&&w._id!==sr[Rr].xa._id||T&&T._id!==sr[Rr].ya._id||(pt=sr[Rr].spikeDistance,$r&&Rr===0&&(pt=-1/0),pt<=Gr&&pt<=Pr&&(Fr=sr[Rr],Gr=pt));return Fr}function he(sr){return sr?{xa:sr.xa,ya:sr.ya,x:sr.xSpike!==void 0?sr.xSpike:(sr.x0+sr.x1)/2,y:sr.ySpike!==void 0?sr.ySpike:(sr.y0+sr.y1)/2,distance:sr.distance,spikeDistance:sr.spikeDistance,curveNumber:sr.trace.index,color:sr.color,pointNumber:sr.index}:null}var Ae={fullLayout:l,container:l._hoverlayer,event:r},Ce=e._spikepoints,Pe={vLinePoint:Q.vLinePoint,hLinePoint:Q.hLinePoint};e._spikepoints=Pe;var Ee=function(){var sr=R.filter(function($r){return w&&w._id===$r.xa._id&&T&&T._id===$r.ya._id}),Pr=R.filter(function($r){return!(w&&w._id===$r.xa._id&&T&&T._id===$r.ya._id)});sr.sort(DT),Pr.sort(DT),R=sr.concat(Pr),R=zZ(R,p)};Ee();var Ne=p.charAt(0),Ue=(Ne==="x"||Ne==="y")&&R[0]&&LZ[R[0].trace.type];if(h&&E!==0&&R.length!==0){var ge=R.filter(function(sr){return sr.ya.showspikes}),we=Se(ge,E,Ue);Q.hLinePoint=he(we);var Te=R.filter(function(sr){return sr.xa.showspikes}),me=Se(Te,E,Ue);Q.vLinePoint=he(me)}if(R.length===0){var ye=sv.unhoverRaw(e,r);return h&&(Q.hLinePoint!==null||Q.vLinePoint!==null)&&IT(Ce)&&PT(e,Q,Ae),ye}if(h&&IT(Ce)&&PT(e,Q,Ae),ai.isXYhover(j)&&R[0].length!==0&&R[0].trace.type!=="splom"){var pe=R[0];LT[pe.trace.type]?R=R.filter(sr=>sr.trace.index===pe.trace.index):R=[pe];var ce=R.length,be=NT("x",pe,l),Le=NT("y",pe,l);ke(be,Le);var qe=[],ze={},$e=0,Ve=function(sr){var Pr=LT[sr.trace.type]?qT(sr):sr.trace.index;if(!ze[Pr])$e++,ze[Pr]=$e,qe.push(sr);else{var $r=ze[Pr]-1,Fr=qe[$r];$r>0&&Math.abs(sr.distance)<Math.abs(Fr.distance)&&(qe[$r]=sr)}},Be;for(Be=0;Be<ce;Be++)Ve(R[Be]);for(Be=R.length-1;Be>ce-1;Be--)Ve(R[Be]);R=qe,Ee()}var Ye=e._hoverdata,Me=[],Re=HT(e),Qe=VT(e);for(let sr of R){var Ke=ai.makeEventData(sr,sr.trace,sr.cd);if(sr.hovertemplate!==!1){var ar=!1;sr.cd[sr.index]&&sr.cd[sr.index].ht&&(ar=sr.cd[sr.index].ht),sr.hovertemplate=ar||sr.trace.hovertemplate||!1}if(sr.xa&&sr.ya){var se=sr.x0+sr.xa._offset,J=sr.x1+sr.xa._offset,ae=sr.y0+sr.ya._offset,De=sr.y1+sr.ya._offset,He=Math.min(se,J),er=Math.max(se,J),nr=Math.min(ae,De),fr=Math.max(ae,De);Ke.bbox={x0:He+Qe,x1:er+Qe,y0:nr+Re,y1:fr+Re}}sr.eventData=[Ke],Me.push(Ke)}e._hoverdata=Me;var xr=p==="y"&&(N.length>1||R.length>1)||p==="closest"&&oe&&R.length>1,Sr=sn.combine(l.plot_bgcolor||sn.background,l.paper_bgcolor),Mr=OT(R,{gd:e,hovermode:p,rotateLabels:xr,bgColor:Sr,container:l._hoverlayer,outerContainer:l._paper.node(),commonLabelOpts:l.hoverlabel,hoverdistance:l.hoverdistance}),Ar=Mr.hoverLabels;if(ai.isUnifiedHover(p)||(PZ(Ar,xr,l,Mr.commonLabelBoundingBox),UT(Ar,xr,l._invScaleX,l._invScaleY)),a&&a.tagName){var ft=cu.getComponentMethod("annotations","hasClickToShow")(e,Me);MZ(Zl.select(a),ft?"pointer":"")}!a||n||!NZ(e,r,Ye)||(Ye&&e.emit("plotly_unhover",{event:r,points:Ye}),e.emit("plotly_hover",{event:r,points:e._hoverdata,xaxes:x,yaxes:g,xvals:F,yvals:I}))}function qT(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa?e.xa._id:"",e.ya?e.ya._id:""].join(",")}var RZ=/<extra>([\s\S]*)<\/extra>/;function OT(e,r){var t=r.gd,n=t._fullLayout,a=r.hovermode,o=r.rotateLabels,i=r.bgColor,l=r.container,u=r.outerContainer,s=r.commonLabelOpts||{};if(e.length===0)return[[]];var f=r.fontFamily||Jl.HOVERFONT,h=r.fontSize||Jl.HOVERFONTSIZE,p=r.fontWeight||n.font.weight,_=r.fontStyle||n.font.style,m=r.fontVariant||n.font.variant,w=r.fontTextcase||n.font.textcase,T=r.fontLineposition||n.font.lineposition,y=r.fontShadow||n.font.shadow,k=e[0],S=k.xa,b=k.ya,M=a.charAt(0),d=M+"Label",x=k[d];if(x===void 0&&S.type==="multicategory")for(var g=0;g<e.length&&(x=e[g][d],x===void 0);g++);var c=fu(t,u),A=c.top,v=c.width,D=c.height,E=x!==void 0&&k.distance<=r.hoverdistance&&(a==="x"||a==="y");if(E){var R=!0,N,F;for(N=0;N<e.length;N++)if(R&&e[N].zLabel===void 0&&(R=!1),F=e[N].hoverinfo||e[N].trace.hoverinfo,F){var I=Array.isArray(F)?F:F.split("+");if(I.indexOf("all")===-1&&I.indexOf(a)===-1){E=!1;break}}R&&(E=!1)}var L=l.selectAll("g.axistext").data(E?[0]:[]);L.enter().append("g").classed("axistext",!0),L.exit().remove();var P={minX:0,maxX:0,minY:0,maxY:0};if(L.each(function(){var ye=Zl.select(this),pe=It.ensureSingle(ye,"path","",function(fr){fr.style({"stroke-width":"1px"})}),ce=It.ensureSingle(ye,"text","",function(fr){fr.attr("data-notex",1)}),be=s.bgcolor||sn.defaultLine,Le=s.bordercolor||sn.contrast(be),qe=sn.contrast(be),ze=s.font,$e={weight:ze.weight||p,style:ze.style||_,variant:ze.variant||m,textcase:ze.textcase||w,lineposition:ze.lineposition||T,shadow:ze.shadow||y,family:ze.family||f,size:ze.size||h,color:ze.color||qe};pe.style({fill:be,stroke:Le}),ce.text(x).call(Fi.font,$e).call(Pa.positionText,0,0).call(Pa.convertToTspans,t),ye.attr("transform","");var Ve=fu(t,ce.node()),Be,Ye;if(a==="x"){var Me=S.side==="top"?"-":"";ce.attr("text-anchor","middle").call(Pa.positionText,0,S.side==="top"?A-Ve.bottom-St-Qr:A-Ve.top+St+Qr),Be=S._offset+(k.x0+k.x1)/2,Ye=b._offset+(S.side==="top"?0:b._length);var Re=Ve.width/2+Qr,Qe=Be;Be<Re?Qe=Re:Be>n.width-Re&&(Qe=n.width-Re),pe.attr("d","M"+(Be-Qe)+",0L"+(Be-Qe+St)+","+Me+St+"H"+Re+"v"+Me+(Qr*2+Ve.height)+"H"+-Re+"V"+Me+St+"H"+(Be-Qe-St)+"Z"),Be=Qe,P.minX=Be-Re,P.maxX=Be+Re,S.side==="top"?(P.minY=Ye-(Qr*2+Ve.height),P.maxY=Ye-Qr):(P.minY=Ye+Qr,P.maxY=Ye+(Qr*2+Ve.height))}else{var Ke,ar,se;b.side==="right"?(Ke="start",ar=1,se="",Be=S._offset+S._length):(Ke="end",ar=-1,se="-",Be=S._offset),Ye=b._offset+(k.y0+k.y1)/2,ce.attr("text-anchor",Ke),pe.attr("d","M0,0L"+se+St+","+St+"V"+(Qr+Ve.height/2)+"h"+se+(Qr*2+Ve.width)+"V-"+(Qr+Ve.height/2)+"H"+se+St+"V-"+St+"Z"),P.minY=Ye-(Qr+Ve.height/2),P.maxY=Ye+(Qr+Ve.height/2),b.side==="right"?(P.minX=Be+St,P.maxX=Be+St+(Qr*2+Ve.width)):(P.minX=Be-St-(Qr*2+Ve.width),P.maxX=Be-St);var J=Ve.height/2,ae=A-Ve.top-J,De="clip"+n._uid+"commonlabel"+b._id,He;if(Be<Ve.width+2*Qr+St){He="M-"+(St+Qr)+"-"+J+"h-"+(Ve.width-Qr)+"V"+J+"h"+(Ve.width-Qr)+"Z";var er=Ve.width-Be+Qr;Pa.positionText(ce,er,ae),Ke==="end"&&ce.selectAll("tspan").each(function(){var fr=Zl.select(this),xr=Fi.tester.append("text").text(fr.text()).call(Fi.font,$e),Sr=fu(t,xr.node());Math.round(Sr.width)<Math.round(Ve.width)&&fr.attr("x",er-Sr.width),xr.remove()})}else Pa.positionText(ce,ar*(Qr+St),ae),He=null;var nr=n._topclips.selectAll("#"+De).data(He?[0]:[]);nr.enter().append("clipPath").attr("id",De).append("path"),nr.exit().remove(),nr.select("path").attr("d",He),Fi.setClipUrl(ce,He?De:null,t)}ye.attr("transform",N2(Be,Ye))}),ai.isUnifiedHover(a)){l.selectAll("g.hovertext").remove();let ye=e.filter(pe=>pe.hoverinfo!=="none");if(ye.length===0)return[];var O=n.hoverlabel,U=O.font,X=ye[0],$=((a==="x unified"?X.xa:X.ya).unifiedhovertitle||{}).text,j=$?It.hovertemplateString({data:a==="x unified"?[{xa:X.xa,x:X.xVal}]:[{ya:X.ya,y:X.yVal}],fallback:X.trace.hovertemplatefallback,locale:n._d3locale,template:$}):x,Y={showlegend:!0,legend:{title:{text:j,font:U},font:U,bgcolor:O.bgcolor,bordercolor:O.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:n.legend?n.legend.traceorder:void 0,orientation:"v"}},q={font:U};AZ(Y,q,t._fullData);var K=q.legend;K.entries=[];for(var ne=0;ne<ye.length;ne++){var Q=ye[ne];if(Q.hoverinfo!=="none"){var oe=RT(Q,!0,a,n,x),re=oe[0],H=oe[1];Q.name=H,H!==""?Q.text=H+" : "+re:Q.text=re;var ee=Q.cd[Q.index];ee&&(ee.mc&&(Q.mc=ee.mc),ee.mcc&&(Q.mc=ee.mcc),ee.mlc&&(Q.mlc=ee.mlc),ee.mlcc&&(Q.mlc=ee.mlcc),ee.mlw&&(Q.mlw=ee.mlw),ee.mrc&&(Q.mrc=ee.mrc),ee.dir&&(Q.dir=ee.dir)),Q._distinct=!0,K.entries.push([Q])}}K.entries.sort(function(pe,ce){return pe[0].trace.index-ce[0].trace.index}),K.layer=l,K._inHover=!0,K._groupTitleFont=O.grouptitlefont,kZ(t,K);var V=l.select("g.legend"),te=fu(t,V.node()),ue=te.width+2*Qr,ve=te.height+2*Qr,ke=ye[0],Se=(ke.x0+ke.x1)/2,he=(ke.y0+ke.y1)/2,Ae=!(cu.traceIs(ke.trace,"bar-like")||cu.traceIs(ke.trace,"box-violin")),Ce,Pe;M==="y"?Ae?(Pe=he-Qr,Ce=he+Qr):(Pe=Math.min.apply(null,ye.map(function(pe){return Math.min(pe.y0,pe.y1)})),Ce=Math.max.apply(null,ye.map(function(pe){return Math.max(pe.y0,pe.y1)}))):Pe=Ce=It.mean(ye.map(function(pe){return(pe.y0+pe.y1)/2}))-ve/2;var Ee,Ne;M==="x"?Ae?(Ee=Se+Qr,Ne=Se-Qr):(Ee=Math.max.apply(null,ye.map(function(pe){return Math.max(pe.x0,pe.x1)})),Ne=Math.min.apply(null,ye.map(function(pe){return Math.min(pe.x0,pe.x1)}))):Ee=Ne=It.mean(ye.map(function(pe){return(pe.x0+pe.x1)/2}))-ue/2;var Ue=S._offset,ge=b._offset;Ce+=ge,Ee+=Ue,Ne+=Ue-ue,Pe+=ge-ve;var we,Te;return Ee+ue<v&&Ee>=0?we=Ee:Ne+ue<v&&Ne>=0?we=Ne:Ue+ue<v?we=Ue:Ee-Se<Se-Ne+ue?we=v-ue:we=0,we+=Qr,Ce+ve<D&&Ce>=0?Te=Ce:Pe+ve<D&&Pe>=0?Te=Pe:ge+ve<D?Te=ge:Ce-he<he-Pe+ve?Te=D-ve:Te=0,Te+=Qr,V.attr("transform",N2(we-1,Te-1)),V}var me=l.selectAll("g.hovertext").data(e,function(ye){return qT(ye)});return me.enter().append("g").classed("hovertext",!0).each(function(){var ye=Zl.select(this);ye.append("rect").call(sn.fill,sn.addOpacity(i,.8)),ye.append("text").classed("name",!0),ye.append("path").style("stroke-width","1px"),ye.append("text").classed("nums",!0).call(Fi.font,{weight:p,style:_,variant:m,textcase:w,lineposition:T,shadow:y,family:f,size:h})}),me.exit().remove(),me.each(function(ye){var pe=Zl.select(this).attr("transform",""),ce=ye.color;Array.isArray(ce)&&(ce=ce[ye.eventData[0].pointNumber]);var be=ye.bgcolor||ce,Le=sn.combine(sn.opacity(be)?be:sn.defaultLine,i),qe=sn.combine(sn.opacity(ce)?ce:sn.defaultLine,i),ze=ye.borderColor||sn.contrast(Le),$e=RT(ye,E,a,n,x,pe),Ve=$e[0],Be=$e[1],Ye=pe.select("text.nums").call(Fi.font,{family:ye.fontFamily||f,size:ye.fontSize||h,color:ye.fontColor||ze,weight:ye.fontWeight||p,style:ye.fontStyle||_,variant:ye.fontVariant||m,textcase:ye.fontTextcase||w,lineposition:ye.fontLineposition||T,shadow:ye.fontShadow||y}).text(Ve).attr("data-notex",1).call(Pa.positionText,0,0).call(Pa.convertToTspans,t),Me=pe.select("text.name"),Re=0,Qe=0;if(Be&&Be!==Ve){Me.call(Fi.font,{family:ye.fontFamily||f,size:ye.fontSize||h,color:qe,weight:ye.fontWeight||p,style:ye.fontStyle||_,variant:ye.fontVariant||m,textcase:ye.fontTextcase||w,lineposition:ye.fontLineposition||T,shadow:ye.fontShadow||y}).text(Be).attr("data-notex",1).call(Pa.positionText,0,0).call(Pa.convertToTspans,t);var Ke=fu(t,Me.node());Re=Ke.width+2*Qr,Qe=Ke.height+2*Qr}else Me.remove(),pe.select("rect").remove();pe.select("path").style({fill:Le,stroke:ze});var ar=ye.xa._offset+(ye.x0+ye.x1)/2,se=ye.ya._offset+(ye.y0+ye.y1)/2,J=Math.abs(ye.x1-ye.x0),ae=Math.abs(ye.y1-ye.y0),De=fu(t,Ye.node()),He=De.width/n._invScaleX,er=De.height/n._invScaleY;ye.ty0=(A-De.top)/n._invScaleY,ye.bx=He+2*Qr,ye.by=Math.max(er+2*Qr,Qe),ye.anchor="start",ye.txwidth=He,ye.tx2width=Re,ye.offset=0;var nr=(He+St+Qr+Re)*n._invScaleX,fr,xr;if(o)ye.pos=ar,fr=se+ae/2+nr<=D,xr=se-ae/2-nr>=0,(ye.idealAlign==="top"||!fr)&&xr?(se-=ae/2,ye.anchor="end"):fr?(se+=ae/2,ye.anchor="start"):ye.anchor="middle",ye.crossPos=se;else{if(ye.pos=se,fr=ar+J/2+nr<=v,xr=ar-J/2-nr>=0,(ye.idealAlign==="left"||!fr)&&xr)ar-=J/2,ye.anchor="end";else if(fr)ar+=J/2,ye.anchor="start";else{ye.anchor="middle";var Sr=nr/2,Mr=ar+Sr-v,Ar=ar-Sr;Mr>0&&(ar-=Mr),Ar<0&&(ar+=-Ar)}ye.crossPos=ar}Ye.attr("text-anchor",ye.anchor),Re&&Me.attr("text-anchor",ye.anchor),pe.attr("transform",N2(ar,se)+(o?_Z(zT):""))}),{hoverLabels:me,commonLabelBoundingBox:P}}function RT(e,r,t,n,a,o){var i="",l="";e.nameOverride!==void 0&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=It.templateString(e.name,e.trace._meta)),i=FT(e.name,e.nameLength));var u=t.charAt(0),s=u==="x"?"y":"x";e.zLabel!==void 0?(e.xLabel!==void 0&&(l+="x: "+e.xLabel+"<br>"),e.yLabel!==void 0&&(l+="y: "+e.yLabel+"<br>"),e.trace.type!=="choropleth"&&e.trace.type!=="choroplethmapbox"&&e.trace.type!=="choroplethmap"&&(l+=(l?"z: ":"")+e.zLabel)):r&&e[u+"Label"]===a?l=e[s+"Label"]||"":e.xLabel===void 0?e.yLabel!==void 0&&e.trace.type!=="scattercarpet"&&(l=e.yLabel):e.yLabel===void 0?l=e.xLabel:l="("+e.xLabel+", "+e.yLabel+")",(e.text||e.text===0)&&!Array.isArray(e.text)&&(l+=(l?"<br>":"")+e.text),e.extraText!==void 0&&(l+=(l?"<br>":"")+e.extraText),o&&l===""&&!e.hovertemplate&&(i===""&&o.remove(),l=i);let{hovertemplate:f=!1}=e;if(f){let h=e.hovertemplateLabels||e;e[u+"Label"]!==a&&(h[u+"other"]=h[u+"Val"],h[u+"otherLabel"]=h[u+"Label"]),l=It.hovertemplateString({data:[e.eventData[0]||{},e.trace._meta],fallback:e.trace.hovertemplatefallback,labels:h,locale:n._d3locale,template:f}),l=l.replace(RZ,(p,_)=>(i=FT(_,e.nameLength),""))}return[l,i]}function PZ(e,r,t,n){var a=r?"xa":"ya",o=r?"ya":"xa",i=0,l=1,u=e.size(),s=new Array(u),f=0,h=n.minX,p=n.maxX,_=n.minY,m=n.maxY,w=function(F){return F*t._invScaleX},T=function(F){return F*t._invScaleY};e.each(function(F){var I=F[a],L=F[o],P=I._id.charAt(0)==="x",O=I.range;f===0&&O&&O[0]>O[1]!==P&&(l=-1);var U=0,X=P?t.width:t.height;if(t.hovermode==="x"||t.hovermode==="y"){var $=BT(F,r),j=F.anchor,Y=j==="end"?-1:1,q,K;if(j==="middle")q=F.crossPos+(P?T($.y-F.by/2):w(F.bx/2+F.tx2width/2)),K=q+(P?T(F.by):w(F.bx));else if(P)q=F.crossPos+T(St+$.y)-T(F.by/2-St),K=q+T(F.by);else{var ne=w(Y*St+$.x),Q=ne+w(Y*F.bx);q=F.crossPos+Math.min(ne,Q),K=F.crossPos+Math.max(ne,Q)}P?_!==void 0&&m!==void 0&&Math.min(K,m)-Math.max(q,_)>1&&(L.side==="left"?(U=L._mainLinePosition,X=t.width):X=L._mainLinePosition):h!==void 0&&p!==void 0&&Math.min(K,p)-Math.max(q,h)>1&&(L.side==="top"?(U=L._mainLinePosition,X=t.height):X=L._mainLinePosition)}s[f++]=[{datum:F,traceIndex:F.trace.index,dp:0,pos:F.pos,posref:F.posref,size:F.by*(P?SZ:1)/2,pmin:U,pmax:X}]}),s.sort(function(F,I){return F[0].posref-I[0].posref||l*(I[0].traceIndex-F[0].traceIndex)});var y,k,S,b,M,d,x;function g(F){var I=F[0],L=F[F.length-1];if(k=I.pmin-I.pos-I.dp+I.size,S=L.pos+L.dp+L.size-I.pmax,k>.01){for(M=F.length-1;M>=0;M--)F[M].dp+=k;y=!1}if(!(S<.01)){if(k<-.01){for(M=F.length-1;M>=0;M--)F[M].dp-=S;y=!1}if(y){var P=0;for(b=0;b<F.length;b++)d=F[b],d.pos+d.dp+d.size>I.pmax&&P++;for(b=F.length-1;b>=0&&!(P<=0);b--)d=F[b],d.pos>I.pmax-1&&(d.del=!0,P--);for(b=0;b<F.length&&!(P<=0);b++)if(d=F[b],d.pos<I.pmin+1)for(d.del=!0,P--,S=d.size*2,M=F.length-1;M>=0;M--)F[M].dp-=S;for(b=F.length-1;b>=0&&!(P<=0);b--)d=F[b],d.pos+d.dp+d.size>I.pmax&&(d.del=!0,P--)}}}for(;!y&&i<=u;){for(i++,y=!0,b=0;b<s.length-1;){var c=s[b],A=s[b+1],v=c[c.length-1],D=A[0];if(k=v.pos+v.dp+v.size-D.pos-D.dp+D.size,k>.01){for(M=A.length-1;M>=0;M--)A[M].dp+=k;for(c.push.apply(c,A),s.splice(b+1,1),x=0,M=c.length-1;M>=0;M--)x+=c[M].dp;for(S=x/c.length,M=c.length-1;M>=0;M--)c[M].dp-=S;y=!1}else b++}s.forEach(g)}for(b=s.length-1;b>=0;b--){var E=s[b];for(M=E.length-1;M>=0;M--){var R=E[M],N=R.datum;N.offset=R.dp,N.del=R.del}}}function BT(e,r){var t=0,n=e.offset;return r&&(n*=-EZ,t=e.offset*CZ),{x:t,y:n}}function IZ(e){var r={start:1,end:-1,middle:0}[e.anchor],t=r*(St+Qr),n=t+r*(e.txwidth+Qr),a=e.anchor==="middle";return a&&(t-=e.tx2width/2,n+=e.txwidth/2+Qr),{alignShift:r,textShiftX:t,text2ShiftX:n}}function UT(e,r,t,n){var a=function(i){return i*t},o=function(i){return i*n};e.each(function(i){var l=Zl.select(this);if(i.del)return l.remove();var u=l.select("text.nums"),s=i.anchor,f=s==="end"?-1:1,h=IZ(i),p=BT(i,r),_=p.x,m=p.y,w=s==="middle",T="hoverlabel"in i.trace?i.trace.hoverlabel.showarrow:!0,y;w?y="M-"+a(i.bx/2+i.tx2width/2)+","+o(m-i.by/2)+"h"+a(i.bx)+"v"+o(i.by)+"h-"+a(i.bx)+"Z":T?y="M0,0L"+a(f*St+_)+","+o(St+m)+"v"+o(i.by/2-St)+"h"+a(f*i.bx)+"v-"+o(i.by)+"H"+a(f*St+_)+"V"+o(m-St)+"Z":y="M"+a(f*St+_)+","+o(m-i.by/2)+"h"+a(f*i.bx)+"v"+o(i.by)+"h"+a(-f*i.bx)+"Z",l.select("path").attr("d",y);var k=_+h.textShiftX,S=m+i.ty0-i.by/2+Qr,b=i.textAlign||"auto";b!=="auto"&&(b==="left"&&s!=="start"?(u.attr("text-anchor","start"),k=w?-i.bx/2-i.tx2width/2+Qr:-i.bx-Qr):b==="right"&&s!=="end"&&(u.attr("text-anchor","end"),k=w?i.bx/2-i.tx2width/2-Qr:i.bx+Qr)),u.call(Pa.positionText,a(k),o(S)),i.tx2width&&(l.select("text.name").call(Pa.positionText,a(h.text2ShiftX+h.alignShift*Qr+_),o(m+i.ty0-i.by/2+Qr)),l.select("rect").call(Fi.setRect,a(h.text2ShiftX+(h.alignShift-1)*i.tx2width/2+_),o(m-i.by/2-1),a(i.tx2width),o(i.by+2)))})}function FZ(e,r){var t=e.index,n=e.trace||{},a=e.cd[0],o=e.cd[t]||{};function i(p){return p||ao(p)&&p===0}var l=Array.isArray(t)?function(p,_){var m=It.castOption(a,t,p);return i(m)?m:It.extractOption({},n,"",_)}:function(p,_){return It.extractOption(o,n,p,_)};function u(p,_,m){var w=l(_,m);i(w)&&(e[p]=w)}if(u("hoverinfo","hi","hoverinfo"),u("bgcolor","hbg","hoverlabel.bgcolor"),u("borderColor","hbc","hoverlabel.bordercolor"),u("fontFamily","htf","hoverlabel.font.family"),u("fontSize","hts","hoverlabel.font.size"),u("fontColor","htc","hoverlabel.font.color"),u("fontWeight","htw","hoverlabel.font.weight"),u("fontStyle","hty","hoverlabel.font.style"),u("fontVariant","htv","hoverlabel.font.variant"),u("nameLength","hnl","hoverlabel.namelength"),u("textAlign","hta","hoverlabel.align"),e.posref=r==="y"||r==="closest"&&n.orientation==="h"?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=It.constrain(e.x0,0,e.xa._length),e.x1=It.constrain(e.x1,0,e.xa._length),e.y0=It.constrain(e.y0,0,e.ya._length),e.y1=It.constrain(e.y1,0,e.ya._length),e.xLabelVal!==void 0&&(e.xLabel="xLabel"in e?e.xLabel:Ni.hoverLabelText(e.xa,e.xLabelVal,n.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),e.yLabelVal!==void 0&&(e.yLabel="yLabel"in e?e.yLabel:Ni.hoverLabelText(e.ya,e.yLabelVal,n.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),e.zLabelVal!==void 0&&e.zLabel===void 0&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!(e.xa.type==="log"&&e.xerr<=0)){var s=Ni.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;e.xerrneg!==void 0?e.xLabel+=" +"+s+" / -"+Ni.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xB1 "+s,r==="x"&&(e.distance+=1)}if(!isNaN(e.yerr)&&!(e.ya.type==="log"&&e.yerr<=0)){var f=Ni.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;e.yerrneg!==void 0?e.yLabel+=" +"+f+" / -"+Ni.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xB1 "+f,r==="y"&&(e.distance+=1)}var h=e.hoverinfo||e.trace.hoverinfo;return h&&h!=="all"&&(h=Array.isArray(h)?h:h.split("+"),h.indexOf("x")===-1&&(e.xLabel=void 0),h.indexOf("y")===-1&&(e.yLabel=void 0),h.indexOf("z")===-1&&(e.zLabel=void 0),h.indexOf("text")===-1&&(e.text=void 0),h.indexOf("name")===-1&&(e.name=void 0)),e}function PT(e,r,t){var n=t.container,a=t.fullLayout,o=a._size,i=t.event,l=!!r.hLinePoint,u=!!r.vLinePoint,s,f;if(n.selectAll(".spikeline").remove(),!!(u||l)){var h=sn.combine(a.plot_bgcolor,a.paper_bgcolor);if(l){var p=r.hLinePoint,_,m;s=p&&p.xa,f=p&&p.ya;var w=f.spikesnap;w==="cursor"?(_=i.pointerX,m=i.pointerY):(_=s._offset+p.x,m=f._offset+p.y);var T=ET.readability(p.color,h)<1.5?sn.contrast(h):p.color,y=f.spikemode,k=f.spikethickness,S=f.spikecolor||T,b=Ni.getPxPosition(e,f),M,d;if(y.indexOf("toaxis")!==-1||y.indexOf("across")!==-1){if(y.indexOf("toaxis")!==-1&&(M=b,d=_),y.indexOf("across")!==-1){var x=f._counterDomainMin,g=f._counterDomainMax;f.anchor==="free"&&(x=Math.min(x,f.position),g=Math.max(g,f.position)),M=o.l+x*o.w,d=o.l+g*o.w}n.insert("line",":first-child").attr({x1:M,x2:d,y1:m,y2:m,"stroke-width":k,stroke:S,"stroke-dasharray":Fi.dashStyle(f.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:M,x2:d,y1:m,y2:m,"stroke-width":k+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)}y.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:b+(f.side!=="right"?k:-k),cy:m,r:k,fill:S}).classed("spikeline",!0)}if(u){var c=r.vLinePoint,A,v;s=c&&c.xa,f=c&&c.ya;var D=s.spikesnap;D==="cursor"?(A=i.pointerX,v=i.pointerY):(A=s._offset+c.x,v=f._offset+c.y);var E=ET.readability(c.color,h)<1.5?sn.contrast(h):c.color,R=s.spikemode,N=s.spikethickness,F=s.spikecolor||E,I=Ni.getPxPosition(e,s),L,P;if(R.indexOf("toaxis")!==-1||R.indexOf("across")!==-1){if(R.indexOf("toaxis")!==-1&&(L=I,P=v),R.indexOf("across")!==-1){var O=s._counterDomainMin,U=s._counterDomainMax;s.anchor==="free"&&(O=Math.min(O,s.position),U=Math.max(U,s.position)),L=o.t+(1-U)*o.h,P=o.t+(1-O)*o.h}n.insert("line",":first-child").attr({x1:A,x2:A,y1:L,y2:P,"stroke-width":N,stroke:F,"stroke-dasharray":Fi.dashStyle(s.spikedash,N)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:A,x2:A,y1:L,y2:P,"stroke-width":N+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)}R.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:A,cy:I-(s.side!=="top"?N:-N),r:N,fill:F}).classed("spikeline",!0)}}}function NZ(e,r,t){if(!t||t.length!==e._hoverdata.length)return!0;for(var n=t.length-1;n>=0;n--){var a=t[n],o=e._hoverdata[n];if(a.curveNumber!==o.curveNumber||String(a.pointNumber)!==String(o.pointNumber)||String(a.pointNumbers)!==String(o.pointNumbers)||a.binNumber!==o.binNumber)return!0}return!1}function IT(e,r){return!r||r.vLinePoint!==e._spikepoints.vLinePoint||r.hLinePoint!==e._spikepoints.hLinePoint}function FT(e,r){return Pa.plainText(e||"",{len:r,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function zZ(e,r){for(var t=r.charAt(0),n=[],a=[],o=[],i=0;i<e.length;i++){var l=e[i];cu.traceIs(l.trace,"bar-like")||cu.traceIs(l.trace,"box-violin")?o.push(l):l.trace[t+"period"]?a.push(l):n.push(l)}return n.concat(a).concat(o)}function NT(e,r,t){var n=r[e+"a"],a=r[e+"Val"],o=r.cd[0];if(n.type==="category"||n.type==="multicategory")a=n._categoriesMap[a];else if(n.type==="date"){var i=r.trace[e+"periodalignment"];if(i){var l=r.cd[r.index],u=l[e+"Start"];u===void 0&&(u=l[e]);var s=l[e+"End"];s===void 0&&(s=l[e]);var f=s-u;i==="end"?a+=f:i==="middle"&&(a+=f/2)}a=n.d2c(a)}return o&&o.t&&o.t.posLetter===n._id&&(t.boxmode==="group"||t.violinmode==="group")&&(a+=o.t.dPos),a}var HT=e=>e.offsetTop+e.clientTop,VT=e=>e.offsetLeft+e.clientLeft;function fu(e,r){var t=e._fullLayout,n=r.getBoundingClientRect(),a=n.left,o=n.top,i=a+n.width,l=o+n.height,u=It.apply3DTransform(t._invTransform)(a,o),s=It.apply3DTransform(t._invTransform)(i,l),f=u[0],h=u[1],p=s[0],_=s[1];return{x:f,y:h,width:p-f,height:_-h,top:Math.min(h,_),left:Math.min(f,p),right:Math.max(f,p),bottom:Math.max(h,_)}}});var uv=de((she,GT)=>{"use strict";var qZ=ir(),OZ=Xr(),BZ=to().isUnifiedHover;GT.exports=function(r,t,n,a){a=a||{};var o=t.legend;function i(l){a.font[l]||(a.font[l]=o?t.legend.font[l]:t.font[l])}t&&BZ(t.hovermode)&&(a.font||(a.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),o?(a.bgcolor||(a.bgcolor=OZ.combine(t.legend.bgcolor,t.paper_bgcolor)),a.bordercolor||(a.bordercolor=t.legend.bordercolor)):a.bgcolor||(a.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),n("hoverlabel.showarrow",a.showarrow),qZ.coerceFont(n,"hoverlabel.font",a.font),n("hoverlabel.align",a.align)}});var WT=de((uhe,YT)=>{"use strict";var UZ=ir(),HZ=uv(),VZ=wl();YT.exports=function(r,t){function n(a,o){return UZ.coerce(r,t,VZ,a,o)}HZ(r,t,n)}});var JT=de((fhe,ZT)=>{"use strict";var XT=ir(),GZ=Pc(),YZ=uv();ZT.exports=function(r,t,n,a){function o(l,u){return XT.coerce(r,t,GZ,l,u)}var i=XT.extendFlat({},a.hoverlabel);t.hovertemplate&&(i.namelength=-1),YZ(r,t,o,i)}});var B2=de((che,KT)=>{"use strict";var WZ=ir(),XZ=wl();KT.exports=function(r,t){function n(a,o){return t[a]!==void 0?t[a]:WZ.coerce(r,t,XZ,a,o)}return n("clickmode"),n("hoversubplots"),n("hovermode")}});var jT=de((hhe,$T)=>{"use strict";var QT=ir(),ZZ=wl(),JZ=B2(),KZ=uv();$T.exports=function(r,t){function n(f,h){return QT.coerce(r,t,ZZ,f,h)}var a=JZ(r,t);a&&(n("hoverdistance"),n("spikedistance"));var o=n("dragmode");o==="select"&&n("selectdirection");var i=t._has("mapbox"),l=t._has("map"),u=t._has("geo"),s=t._basePlotModules.length;t.dragmode==="zoom"&&((i||l||u)&&s===1||(i||l)&&u&&s===2)&&(t.dragmode="pan"),KZ(r,t,n),QT.coerceFont(n,"hoverlabel.grouptitlefont",t.hoverlabel.font)}});var t9=de((vhe,r9)=>{"use strict";var U2=ir(),e9=Cr();r9.exports=function(r){var t=r.calcdata,n=r._fullLayout;function a(s){return function(f){return U2.coerceHoverinfo({hoverinfo:f},{_module:s._module},n)}}for(var o=0;o<t.length;o++){var i=t[o],l=i[0].trace;if(!e9.traceIs(l,"pie-like")){var u=e9.traceIs(l,"2dMap")?QZ:U2.fillArray;u(l.hoverinfo,i,"hi",a(l)),l.hovertemplate&&u(l.hovertemplate,i,"ht"),l.hoverlabel&&(u(l.hoverlabel.bgcolor,i,"hbg"),u(l.hoverlabel.bordercolor,i,"hbc"),u(l.hoverlabel.font.size,i,"hts"),u(l.hoverlabel.font.color,i,"htc"),u(l.hoverlabel.font.family,i,"htf"),u(l.hoverlabel.font.weight,i,"htw"),u(l.hoverlabel.font.style,i,"hty"),u(l.hoverlabel.font.variant,i,"htv"),u(l.hoverlabel.namelength,i,"hnl"),u(l.hoverlabel.align,i,"hta"),u(l.hoverlabel.showarrow,i,"htsa"))}}};function QZ(e,r,t,n){n=n||U2.identity,Array.isArray(e)&&(r[0][t]=n(e))}});var a9=de((dhe,n9)=>{"use strict";var $Z=Cr(),jZ=O2().hover;n9.exports=function(r,t,n){var a=$Z.getComponentMethod("annotations","onClick")(r,r._hoverdata);n!==void 0&&jZ(r,t,n,!0);function o(){r.emit("plotly_click",{points:r._hoverdata,event:t})}r._hoverdata&&t&&t.target&&(a&&a.then?a.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}});var io=de((phe,l9)=>{"use strict";var eJ=it(),fv=ir(),rJ=ni(),Hf=to(),i9=wl(),o9=O2();l9.exports={moduleType:"component",name:"fx",constants:cf(),schema:{layout:i9},attributes:Pc(),layoutAttributes:i9,supplyLayoutGlobalDefaults:WT(),supplyDefaults:JT(),supplyLayoutDefaults:jT(),calc:t9(),getDistanceFunction:Hf.getDistanceFunction,getClosest:Hf.getClosest,inbox:Hf.inbox,quadrature:Hf.quadrature,appendArrayPointValue:Hf.appendArrayPointValue,castHoverOption:nJ,castHoverinfo:aJ,hover:o9.hover,unhover:rJ.unhover,loneHover:o9.loneHover,loneUnhover:tJ,click:a9()};function tJ(e){var r=fv.isD3Selection(e)?e:eJ.select(e);r.selectAll("g.hovertext").remove(),r.selectAll(".spikeline").remove()}function nJ(e,r,t){return fv.castOption(e,r,"hoverlabel."+t)}function aJ(e,r,t){function n(a){return fv.coerceHoverinfo({hoverinfo:a},{_module:e._module},r)}return fv.castOption(e,t,"hoverinfo",n)}});var hu=de(oo=>{"use strict";oo.selectMode=function(e){return e==="lasso"||e==="select"};oo.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"};oo.openMode=function(e){return e==="drawline"||e==="drawopenpath"};oo.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"};oo.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"};oo.selectingOrDrawing=function(e){return oo.freeMode(e)||oo.rectMode(e)}});var cv=de((yhe,s9)=>{"use strict";s9.exports=function(r){var t=r._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}});var hv=de((mhe,u9)=>{"use strict";u9.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}});var dv=de((bhe,f9)=>{"use strict";var vv=32;f9.exports={CIRCLE_SIDES:vv,i000:0,i090:vv/4,i180:vv/2,i270:vv/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}});var pv=de((xhe,h9)=>{"use strict";var iJ=ir().strTranslate;function c9(e,r){switch(e.type){case"log":return e.p2d(r);case"date":return e.p2r(r,0,e.calendar);default:return e.p2r(r)}}function oJ(e,r){switch(e.type){case"log":return e.d2p(r);case"date":return e.r2p(r,0,e.calendar);default:return e.r2p(r)}}function lJ(e){var r=e._id.charAt(0)==="y"?1:0;return function(t){return c9(e,t[r])}}function sJ(e){return iJ(e.xaxis._offset,e.yaxis._offset)}h9.exports={p2r:c9,r2p:oJ,axValue:lJ,getTransform:sJ}});var Go=de(lo=>{"use strict";var uJ=Eg(),p9=dv(),vu=p9.CIRCLE_SIDES,H2=p9.SQRT2,g9=pv(),v9=g9.p2r,d9=g9.r2p,fJ=[0,3,4,5,6,1,2],cJ=[0,3,4,1,2];lo.writePaths=function(e){var r=e.length;if(!r)return"M0,0Z";for(var t="",n=0;n<r;n++)for(var a=e[n].length,o=0;o<a;o++){var i=e[n][o][0];if(i==="Z")t+="Z";else for(var l=e[n][o].length,u=0;u<l;u++){var s=u;i==="Q"||i==="S"?s=cJ[u]:i==="C"&&(s=fJ[u]),t+=e[n][o][s],u>0&&u<l-1&&(t+=",")}}return t};lo.readPaths=function(e,r,t,n){var a=uJ(e),o=[],i=-1,l=function(){i++,o[i]=[]},u,s=0,f=0,h,p,_=function(){h=s,p=f};_();for(var m=0;m<a.length;m++){var w=[],T,y,k,S,b=a[m][0],M=b;switch(b){case"M":l(),s=+a[m][1],f=+a[m][2],w.push([M,s,f]),_();break;case"Q":case"S":T=+a[m][1],k=+a[m][2],s=+a[m][3],f=+a[m][4],w.push([M,s,f,T,k]);break;case"C":T=+a[m][1],k=+a[m][2],y=+a[m][3],S=+a[m][4],s=+a[m][5],f=+a[m][6],w.push([M,s,f,T,k,y,S]);break;case"T":case"L":s=+a[m][1],f=+a[m][2],w.push([M,s,f]);break;case"H":M="L",s=+a[m][1],w.push([M,s,f]);break;case"V":M="L",f=+a[m][1],w.push([M,s,f]);break;case"A":M="L";var d=+a[m][1],x=+a[m][2];+a[m][4]||(d=-d,x=-x);var g=s-d,c=f;for(u=1;u<=vu/2;u++){var A=2*Math.PI*u/vu;w.push([M,g+d*Math.cos(A),c+x*Math.sin(A)])}break;case"Z":(s!==h||f!==p)&&(s=h,f=p,w.push([M,s,f]));break}for(var v=(t||{}).domain,D=r._fullLayout._size,E=t&&t.xsizemode==="pixel",R=t&&t.ysizemode==="pixel",N=n===!1,F=0;F<w.length;F++){for(u=0;u+2<7;u+=2){var I=w[F][u+1],L=w[F][u+2];I===void 0||L===void 0||(s=I,f=L,t&&(t.xaxis&&t.xaxis.p2r?(N&&(I-=t.xaxis._offset),E?I=d9(t.xaxis,t.xanchor)+I:I=v9(t.xaxis,I)):(N&&(I-=D.l),v?I=v.x[0]+I/D.w:I=I/D.w),t.yaxis&&t.yaxis.p2r?(N&&(L-=t.yaxis._offset),R?L=d9(t.yaxis,t.yanchor)-L:L=v9(t.yaxis,L)):(N&&(L-=D.t),v?L=v.y[1]-L/D.h:L=1-L/D.h)),w[F][u+1]=I,w[F][u+2]=L)}o[i].push(w[F].slice())}}return o};function Vf(e,r){return Math.abs(e-r)<=1e-6}function gv(e,r){var t=r[1]-e[1],n=r[2]-e[2];return Math.sqrt(t*t+n*n)}lo.pointsOnRectangle=function(e){var r=e.length;if(r!==5)return!1;for(var t=1;t<3;t++){var n=e[0][t]-e[1][t],a=e[3][t]-e[2][t];if(!Vf(n,a))return!1;var o=e[0][t]-e[3][t],i=e[1][t]-e[2][t];if(!Vf(o,i))return!1}return!Vf(e[0][1],e[1][1])&&!Vf(e[0][1],e[3][1])?!1:!!(gv(e[0],e[1])*gv(e[0],e[3]))};lo.pointsOnEllipse=function(e){var r=e.length;if(r!==vu+1)return!1;r=vu;for(var t=0;t<r;t++){var n=(r*2-t)%r,a=(r/2+n)%r,o=(r/2+t)%r;if(!Vf(gv(e[t],e[o]),gv(e[n],e[a])))return!1}return!0};lo.handleEllipse=function(e,r,t){if(!e)return[r,t];var n=lo.ellipseOver({x0:r[0],y0:r[1],x1:t[0],y1:t[1]}),a=(n.x1+n.x0)/2,o=(n.y1+n.y0)/2,i=(n.x1-n.x0)/2,l=(n.y1-n.y0)/2;i||(i=l=l/H2),l||(l=i=i/H2);for(var u=[],s=0;s<vu;s++){var f=s*2*Math.PI/vu;u.push([a+i*Math.cos(f),o+l*Math.sin(f)])}return u};lo.ellipseOver=function(e){var r=e.x0,t=e.y0,n=e.x1,a=e.y1,o=n-r,i=a-t;r-=o,t-=i;var l=(r+n)/2,u=(t+a)/2,s=H2;return o*=s,i*=s,{x0:l-o,y0:u-i,x1:l+o,y1:u+i}};lo.fixDatesForPaths=function(e,r,t){var n=r.type==="date",a=t.type==="date";if(!n&&!a)return e;for(var o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++)for(var l=0;l+2<e[o][i].length;l+=2)n&&(e[o][i][l+1]=e[o][i][l+1].replace(" ","_")),a&&(e[o][i][l+2]=e[o][i][l+2].replace(" ","_"));return e}});var bv=de((whe,A9)=>{"use strict";var y9=jt(),w9=hu(),hJ=w9.drawMode,vJ=w9.openMode,du=dv(),m9=du.i000,b9=du.i090,x9=du.i180,_9=du.i270,dJ=du.cos45,pJ=du.sin45,M9=pv(),yv=M9.p2r,Yo=M9.r2p,gJ=Io(),yJ=gJ.clearOutline,mv=Go(),mJ=mv.readPaths,bJ=mv.writePaths,xJ=mv.ellipseOver,_J=mv.fixDatesForPaths;function wJ(e,r){if(e.length){var t=e[0][0];if(t){var n=r.gd,a=r.isActiveShape,o=r.dragmode,i=(n.layout||{}).shapes||[];if(!hJ(o)&&a!==void 0){var l=n._fullLayout._activeShapeIndex;if(l<i.length)switch(n._fullLayout.shapes[l].type){case"rect":o="drawrect";break;case"circle":o="drawcircle";break;case"line":o="drawline";break;case"path":var u=i[l].path||"";u[u.length-1]==="Z"?o="drawclosedpath":o="drawopenpath";break}}var s=T9(e,r,o);yJ(n);for(var f=r.editHelpers,h=(f||{}).modifyItem,p=[],_=0;_<i.length;_++){var m=n._fullLayout.shapes[_];if(p[_]=m._input,a!==void 0&&_===n._fullLayout._activeShapeIndex){var w=s;switch(m.type){case"line":case"rect":case"circle":var T=y9.getFromId(n,m.xref);m.xref.charAt(0)==="x"&&T.type.includes("category")?(h("x0",w.x0-(m.x0shift||0)),h("x1",w.x1-(m.x1shift||0))):(h("x0",w.x0),h("x1",w.x1));var y=y9.getFromId(n,m.yref);m.yref.charAt(0)==="y"&&y.type.includes("category")?(h("y0",w.y0-(m.y0shift||0)),h("y1",w.y1-(m.y1shift||0))):(h("y0",w.y0),h("y1",w.y1));break;case"path":h("path",w.path);break}}}return a===void 0?(p.push(s),p):f?f.getUpdateObj():{}}}}function T9(e,r,t){var n=e[0][0],a=r.gd,o=n.getAttribute("d"),i=a._fullLayout.newshape,l=r.plotinfo,u=r.isActiveShape,s=l.xaxis,f=l.yaxis,h=!!l.domain||!l.xaxis,p=!!l.domain||!l.yaxis,_=vJ(t),m=mJ(o,a,l,u),w={editable:!0,visible:i.visible,name:i.name,showlegend:i.showlegend,legend:i.legend,legendwidth:i.legendwidth,legendgroup:i.legendgroup,legendgrouptitle:{text:i.legendgrouptitle.text,font:i.legendgrouptitle.font},legendrank:i.legendrank,label:i.label,xref:h?"paper":s._id,yref:p?"paper":f._id,layer:i.layer,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}};_||(w.fillcolor=i.fillcolor,w.fillrule=i.fillrule);var T;if(m.length===1&&(T=m[0]),T&&T.length===5&&t==="drawrect")w.type="rect",w.x0=T[0][1],w.y0=T[0][2],w.x1=T[2][1],w.y1=T[2][2];else if(T&&t==="drawline")w.type="line",w.x0=T[0][1],w.y0=T[0][2],w.x1=T[1][1],w.y1=T[1][2];else if(T&&t==="drawcircle"){w.type="circle";var y=T[m9][1],k=T[b9][1],S=T[x9][1],b=T[_9][1],M=T[m9][2],d=T[b9][2],x=T[x9][2],g=T[_9][2],c=l.xaxis&&(l.xaxis.type==="date"||l.xaxis.type==="log"),A=l.yaxis&&(l.yaxis.type==="date"||l.yaxis.type==="log");c&&(y=Yo(l.xaxis,y),k=Yo(l.xaxis,k),S=Yo(l.xaxis,S),b=Yo(l.xaxis,b)),A&&(M=Yo(l.yaxis,M),d=Yo(l.yaxis,d),x=Yo(l.yaxis,x),g=Yo(l.yaxis,g));var v=(k+b)/2,D=(M+x)/2,E=(b-k+S-y)/2,R=(g-d+x-M)/2,N=xJ({x0:v,y0:D,x1:v+E*dJ,y1:D+R*pJ});c&&(N.x0=yv(l.xaxis,N.x0),N.x1=yv(l.xaxis,N.x1)),A&&(N.y0=yv(l.yaxis,N.y0),N.y1=yv(l.yaxis,N.y1)),w.x0=N.x0,w.y0=N.y0,w.x1=N.x1,w.y1=N.y1}else w.type="path",s&&f&&_J(m,s,f),w.path=bJ(m),T=null;return w}A9.exports={newShapes:wJ,createShapeObj:T9}});var G2=de((Mhe,k9)=>{"use strict";var MJ=hu(),TJ=MJ.selectMode,AJ=Io(),kJ=AJ.clearOutline,V2=Go(),SJ=V2.readPaths,CJ=V2.writePaths,EJ=V2.fixDatesForPaths;k9.exports=function(r,t){if(r.length){var n=r[0][0];if(n){var a=n.getAttribute("d"),o=t.gd,i=o._fullLayout.newselection,l=t.plotinfo,u=l.xaxis,s=l.yaxis,f=t.isActiveSelection,h=t.dragmode,p=(o.layout||{}).selections||[];if(!TJ(h)&&f!==void 0){var _=o._fullLayout._activeSelectionIndex;if(_<p.length)switch(o._fullLayout.selections[_].type){case"rect":h="select";break;case"path":h="lasso";break}}var m=SJ(a,o,l,f),w={xref:u._id,yref:s._id,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}},T;m.length===1&&(T=m[0]),T&&T.length===5&&h==="select"?(w.type="rect",w.x0=T[0][1],w.y0=T[0][2],w.x1=T[2][1],w.y1=T[2][2]):(w.type="path",u&&s&&EJ(m,u,s),w.path=CJ(m),T=null),kJ(o);for(var y=t.editHelpers,k=(y||{}).modifyItem,S=[],b=0;b<p.length;b++){var M=o._fullLayout.selections[b];if(!M){S[b]=M;continue}if(S[b]=M._input,f!==void 0&&b===o._fullLayout._activeSelectionIndex){var d=w;switch(M.type){case"rect":k("x0",d.x0),k("x1",d.x1),k("y0",d.y0),k("y1",d.y1);break;case"path":k("path",d.path);break}}}return f===void 0?(S.push(w),S):y?y.getUpdateObj():{}}}}});var Gf=de((The,S9)=>{"use strict";S9.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}});var Wo=de(dn=>{"use strict";var Kl=Gf(),C9=ir(),xv=Lt();dn.rangeToShapePosition=function(e){return e.type==="log"?e.r2d:function(r){return r}};dn.shapePositionToRange=function(e){return e.type==="log"?e.d2r:function(r){return r}};dn.decodeDate=function(e){return function(r){return r.replace&&(r=r.replace("_"," ")),e(r)}};dn.encodeDate=function(e){return function(r){return e(r).replace(" ","_")}};dn.extractPathCoords=function(e,r,t){var n=[],a=e.match(Kl.segmentRE);return a.forEach(function(o){var i=r[o.charAt(0)].drawn;if(i!==void 0){var l=o.substr(1).match(Kl.paramRE);if(!(!l||l.length<i)){var u=l[i],s=t?u:C9.cleanNumber(u);n.push(s)}}}),n};dn.getDataToPixel=function(e,r,t,n,a){var o=e._fullLayout._size,i;if(r)if(a==="domain")i=function(u){return r._length*(n?1-u:u)+r._offset};else{var l=dn.shapePositionToRange(r);i=function(u){var s=Yf(r,t);return r._offset+r.r2p(l(u,!0))+s},r.type==="date"&&(i=dn.decodeDate(i))}else n?i=function(u){return o.t+o.h*(1-u)}:i=function(u){return o.l+o.w*u};return i};dn.getPixelToData=function(e,r,t,n){var a=e._fullLayout._size,o;if(r)if(n==="domain")o=function(l){var u=(l-r._offset)/r._length;return t?1-u:u};else{var i=dn.rangeToShapePosition(r);o=function(l){return i(r.p2r(l-r._offset))}}else t?o=function(l){return 1-(l-a.t)/a.h}:o=function(l){return(l-a.l)/a.w};return o};dn.roundPositionForSharpStrokeRendering=function(e,r){var t=Math.round(r%2)===1,n=Math.round(e);return t?n+.5:n};dn.makeShapesOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.shapes[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&t.xref!=="paper"&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&t.yref!=="paper"&&(n.yaxis=e._fullLayout[t.yref+"axis"])),n.xsizemode=t.xsizemode,n.ysizemode=t.ysizemode,n.xanchor=t.xanchor,n.yanchor=t.yanchor,{options:t,plotinfo:n}};dn.makeSelectionsOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.selections[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&(n.yaxis=e._fullLayout[t.yref+"axis"])),{options:t,plotinfo:n}};dn.getPathString=function(e,r){var t=r.type,n=xv.getRefType(r.xref),a=xv.getRefType(r.yref),o=xv.getFromId(e,r.xref),i=xv.getFromId(e,r.yref),l=e._fullLayout._size,u,s,f,h,p=Yf(o,r.x0shift),_=Yf(o,r.x1shift),m=Yf(i,r.y0shift),w=Yf(i,r.y1shift),T,y,k,S;if(o?n==="domain"?s=function(E){return o._offset+o._length*E}:(u=dn.shapePositionToRange(o),s=function(E){return o._offset+o.r2p(u(E,!0))}):s=function(E){return l.l+l.w*E},i?a==="domain"?h=function(E){return i._offset+i._length*(1-E)}:(f=dn.shapePositionToRange(i),h=function(E){return i._offset+i.r2p(f(E,!0))}):h=function(E){return l.t+l.h*(1-E)},t==="path")return o&&o.type==="date"&&(s=dn.decodeDate(s)),i&&i.type==="date"&&(h=dn.decodeDate(h)),LJ(r,s,h);if(r.xsizemode==="pixel"){var b=s(r.xanchor);T=b+r.x0+p,y=b+r.x1+_}else T=s(r.x0)+p,y=s(r.x1)+_;if(r.ysizemode==="pixel"){var M=h(r.yanchor);k=M-r.y0+m,S=M-r.y1+w}else k=h(r.y0)+m,S=h(r.y1)+w;if(t==="line")return"M"+T+","+k+"L"+y+","+S;if(t==="rect")return"M"+T+","+k+"H"+y+"V"+S+"H"+T+"Z";var d=(T+y)/2,x=(k+S)/2,g=Math.abs(d-T),c=Math.abs(x-k),A="A"+g+","+c,v=d+g+","+x,D=d+","+(x-c);return"M"+v+A+" 0 1,1 "+D+A+" 0 0,1 "+v+"Z"};function LJ(e,r,t){var n=e.path,a=e.xsizemode,o=e.ysizemode,i=e.xanchor,l=e.yanchor;return n.replace(Kl.segmentRE,function(u){var s=0,f=u.charAt(0),h=Kl.paramIsX[f],p=Kl.paramIsY[f],_=Kl.numParams[f],m=u.substr(1).replace(Kl.paramRE,function(w){return h[s]?a==="pixel"?w=r(i)+Number(w):w=r(w):p[s]&&(o==="pixel"?w=t(l)-Number(w):w=t(w)),s++,s>_&&(w="X"),w});return s>_&&(m=m.replace(/[\s,]*X.*/,""),C9.log("Ignoring extra params in segment "+u)),f+m})}function Yf(e,r){r=r||0;var t=0;return r&&e&&(e.type==="category"||e.type==="multicategory")&&(t=(e.r2p(1)-e.r2p(0))*r),t}});var W2=de((khe,R9)=>{"use strict";var DJ=ir(),pu=Lt(),E9=Wn(),L9=mt(),RJ=Go().readPaths,Y2=Wo(),PJ=Y2.getPathString,D9=Hc(),IJ=qn().FROM_TL;R9.exports=function(r,t,n,a){if(a.selectAll(".shape-label").remove(),!!(n.label.text||n.label.texttemplate)){var o;if(n.label.texttemplate){var i={};if(n.type!=="path"){var l=pu.getFromId(r,n.xref),u=pu.getFromId(r,n.yref);for(var s in D9){var f=D9[s](n,l,u);f!==void 0&&(i[s]=f)}}o=DJ.texttemplateStringForShapes({data:[i],fallback:n.label.texttemplatefallback,locale:r._fullLayout._d3locale,template:n.label.texttemplate})}else o=n.label.text;var h={"data-index":t},p=n.label.font,_={"data-notex":1},m=a.append("g").attr(h).classed("shape-label",!0),w=m.append("text").attr(_).classed("shape-label-text",!0).text(o),T,y,k,S;if(n.path){var b=PJ(r,n),M=RJ(b,r);T=1/0,k=1/0,y=-1/0,S=-1/0;for(var d=0;d<M.length;d++)for(var x=0;x<M[d].length;x++)for(var g=M[d][x],c=1;c<g.length;c+=2){var A=g[c],v=g[c+1];T=Math.min(T,A),y=Math.max(y,A),k=Math.min(k,v),S=Math.max(S,v)}}else{var D=pu.getFromId(r,n.xref),E=n.x0shift,R=n.x1shift,N=pu.getRefType(n.xref),F=pu.getFromId(r,n.yref),I=n.y0shift,L=n.y1shift,P=pu.getRefType(n.yref),O=function(ne,Q){var oe=Y2.getDataToPixel(r,D,Q,!1,N);return oe(ne)},U=function(ne,Q){var oe=Y2.getDataToPixel(r,F,Q,!0,P);return oe(ne)};T=O(n.x0,E),y=O(n.x1,R),k=U(n.y0,I),S=U(n.y1,L)}var X=n.label.textangle;X==="auto"&&(n.type==="line"?X=FJ(T,k,y,S):X=0),w.call(function(ne){return ne.call(L9.font,p).attr({}),E9.convertToTspans(ne,r),ne});var $=L9.bBox(w.node()),j=NJ(T,k,y,S,n,X,$),Y=j.textx,q=j.texty,K=j.xanchor;w.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[K],y:q,x:Y,transform:"rotate("+X+","+Y+","+q+")"}).call(E9.positionText,Y,q)}};function FJ(e,r,t,n){var a,o;return o=Math.abs(t-e),t>=e?a=r-n:a=n-r,-180/Math.PI*Math.atan2(a,o)}function NJ(e,r,t,n,a,o,i){var l=a.label.textposition,u=a.label.textangle,s=a.label.padding,f=a.type,h=Math.PI/180*o,p=Math.sin(h),_=Math.cos(h),m=a.label.xanchor,w=a.label.yanchor,T,y,k,S;if(f==="line"){l==="start"?(T=e,y=r):l==="end"?(T=t,y=n):(T=(e+t)/2,y=(r+n)/2),m==="auto"&&(l==="start"?u==="auto"?t>e?m="left":t<e?m="right":m="center":t>e?m="right":t<e?m="left":m="center":l==="end"?u==="auto"?t>e?m="right":t<e?m="left":m="center":t>e?m="left":t<e?m="right":m="center":m="center");var b={left:1,center:0,right:-1},M={bottom:-1,middle:0,top:1};if(u==="auto"){var d=M[w];k=-s*p*d,S=s*_*d}else{var x=b[m],g=M[w];k=s*x,S=s*g}T=T+k,y=y+S}else k=s+3,l.indexOf("right")!==-1?(T=Math.max(e,t)-k,m==="auto"&&(m="right")):l.indexOf("left")!==-1?(T=Math.min(e,t)+k,m==="auto"&&(m="left")):(T=(e+t)/2,m==="auto"&&(m="center")),l.indexOf("top")!==-1?y=Math.min(r,n):l.indexOf("bottom")!==-1?y=Math.max(r,n):y=(r+n)/2,S=s,w==="bottom"?y=y-S:w==="top"&&(y=y+S);var c=IJ[w],A=a.label.font.size,v=i.height,D=(v*c-A)*p,E=-(v*c-A)*_;return{textx:T+D,texty:y+E,xanchor:m}}});var Mv=de((She,B9)=>{"use strict";var zJ=ir(),qJ=zJ.strTranslate,P9=ni(),N9=hu(),OJ=N9.drawMode,z9=N9.selectMode,q9=Cr(),I9=Xr(),wv=dv(),BJ=wv.i000,UJ=wv.i090,HJ=wv.i180,VJ=wv.i270,GJ=Io(),O9=GJ.clearOutlineControllers,Z2=Go(),_v=Z2.pointsOnRectangle,X2=Z2.pointsOnEllipse,YJ=Z2.writePaths,WJ=bv().newShapes,XJ=bv().createShapeObj,ZJ=G2(),JJ=W2();B9.exports=function e(r,t,n,a){a||(a=0);var o=n.gd;function i(){e(r,t,n,a++),(X2(r[0])||n.hasText)&&l({redrawing:!0})}function l(I){var L={};n.isActiveShape!==void 0&&(n.isActiveShape=!1,L=WJ(t,n)),n.isActiveSelection!==void 0&&(n.isActiveSelection=!1,L=ZJ(t,n),o._fullLayout._reselect=!0),Object.keys(L).length&&q9.call((I||{}).redrawing?"relayout":"_guiRelayout",o,L)}var u=o._fullLayout,s=u._zoomlayer,f=n.dragmode,h=OJ(f),p=z9(f);(h||p)&&(o._fullLayout._outlining=!0),O9(o),t.attr("d",YJ(r));var _,m,w,T,y;if(!a&&(n.isActiveShape||n.isActiveSelection)){y=KJ([],r);var k=s.append("g").attr("class","outline-controllers");A(k),F()}if(h&&n.hasText){var S=s.select(".label-temp"),b=XJ(t,n,n.dragmode);JJ(o,"label-temp",b,S)}function M(I){w=+I.srcElement.getAttribute("data-i"),T=+I.srcElement.getAttribute("data-j"),_[w][T].moveFn=d}function d(I,L){if(r.length){var P=y[w][T][1],O=y[w][T][2],U=r[w],X=U.length;if(_v(U)){var $=I,j=L;if(n.isActiveSelection){var Y=F9(U,T);Y[1]===U[T][1]?j=0:$=0}for(var q=0;q<X;q++)if(q!==T){var K=U[q];K[1]===U[T][1]&&(K[1]=P+$),K[2]===U[T][2]&&(K[2]=O+j)}if(U[T][1]=P+$,U[T][2]=O+j,!_v(U))for(var ne=0;ne<X;ne++)for(var Q=0;Q<U[ne].length;Q++)U[ne][Q]=y[w][ne][Q]}else U[T][1]=P+I,U[T][2]=O+L;i()}}function x(){l()}function g(){if(r.length&&r[w]&&r[w].length){for(var I=[],L=0;L<r[w].length;L++)L!==T&&I.push(r[w][L]);I.length>1&&!(I.length===2&&I[1][0]==="Z")&&(T===0&&(I[0][0]="M"),r[w]=I,i(),l())}}function c(I,L){if(I===2){w=+L.srcElement.getAttribute("data-i"),T=+L.srcElement.getAttribute("data-j");var P=r[w];!_v(P)&&!X2(P)&&g()}}function A(I){_=[];for(var L=0;L<r.length;L++){var P=r[L],O=_v(P),U=!O&&X2(P);_[L]=[];for(var X=P.length,$=0;$<X;$++)if(P[$][0]!=="Z"&&!(U&&$!==BJ&&$!==UJ&&$!==HJ&&$!==VJ)){var j=O&&n.isActiveSelection,Y;j&&(Y=F9(P,$));var q=P[$][1],K=P[$][2],ne=I.append(j?"rect":"circle").attr("data-i",L).attr("data-j",$).style({fill:I9.background,stroke:I9.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(j){var Q=Y[1]-q,oe=Y[2]-K,re=oe?5:Math.max(Math.min(25,Math.abs(Q)-5),5),H=Q?5:Math.max(Math.min(25,Math.abs(oe)-5),5);ne.classed(oe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",re).attr("height",H).attr("x",q-re/2).attr("y",K-H/2).attr("transform",qJ(Q/2,oe/2))}else ne.classed("cursor-grab",!0).attr("r",5).attr("cx",q).attr("cy",K);_[L][$]={element:ne.node(),gd:o,prepFn:M,doneFn:x,clickFn:c},P9.init(_[L][$])}}}function v(I,L){if(r.length)for(var P=0;P<r.length;P++)for(var O=0;O<r[P].length;O++)for(var U=0;U+2<r[P][O].length;U+=2)r[P][O][U+1]=y[P][O][U+1]+I,r[P][O][U+2]=y[P][O][U+2]+L}function D(I,L){v(I,L),i()}function E(I){w=+I.srcElement.getAttribute("data-i"),w||(w=0),m[w].moveFn=D}function R(){l()}function N(I){I===2&&QJ(o)}function F(){if(m=[],!!r.length){var I=0;m[I]={element:t[0][0],gd:o,prepFn:E,doneFn:R,clickFn:N},P9.init(m[I])}}};function KJ(e,r){for(var t=0;t<r.length;t++){var n=r[t];e[t]=[];for(var a=0;a<n.length;a++){e[t][a]=[];for(var o=0;o<n[a].length;o++)e[t][a][o]=n[a][o]}}return e}function F9(e,r){var t=e[r][1],n=e[r][2],a=e.length,o,i,l;return o=(r+1)%a,i=e[o][1],l=e[o][2],i===t&&l===n&&(o=(r+2)%a,i=e[o][1],l=e[o][2]),[o,i,l]}function QJ(e){if(z9(e._fullLayout.dragmode)){O9(e);var r=e._fullLayout._activeSelectionIndex,t=(e.layout||{}).selections||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);delete e._fullLayout._activeSelectionIndex;var o=e._fullLayout.selections[r];e._fullLayout._deselect={xref:o.xref,yref:o.yref},q9.call("_guiRelayout",e,{selections:n})}}}});var Sv=de((Che,K9)=>{"use strict";var $J=it(),W9=Cr(),U9=ir(),gu=Lt(),jJ=Go().readPaths,eK=Mv(),Av=W2(),X9=Io().clearOutlineControllers,J2=Xr(),Q2=mt(),rK=yt().arrayEditor,H9=ni(),V9=Vo(),Ql=Gf(),sa=Wo(),K2=sa.getPathString;K9.exports={draw:$2,drawOne:Z9,eraseActiveShape:aK,drawLabel:Av};function $2(e){var r=e._fullLayout;r._shapeUpperLayer.selectAll("path").remove(),r._shapeLowerLayer.selectAll("path").remove(),r._shapeUpperLayer.selectAll("text").remove(),r._shapeLowerLayer.selectAll("text").remove();for(var t in r._plots){var n=r._plots[t].shapelayer;n&&(n.selectAll("path").remove(),n.selectAll("text").remove())}for(var a=0;a<r.shapes.length;a++)r.shapes[a].visible===!0&&Z9(e,a)}function Tv(e){return!!e._fullLayout._outlining}function kv(e){return!e._context.edits.shapePosition}function Z9(e,r){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+r+'"]').remove();var t=sa.makeShapesOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input||n.visible!==!0)return;if(n.layer==="above")i(e._fullLayout._shapeUpperLayer);else if(n.xref==="paper"||n.yref==="paper")i(e._fullLayout._shapeLowerLayer);else if(n.layer==="between")i(a.shapelayerBetween);else if(a._hadPlotinfo){var o=a.mainplotinfo||a;i(o.shapelayer)}else i(e._fullLayout._shapeLowerLayer);function i(l){var u=K2(e,n),s={"data-index":r,"fill-rule":n.fillrule,d:u},f=n.opacity,h=n.fillcolor,p=n.line.width?n.line.color:"rgba(0,0,0,0)",_=n.line.width,m=n.line.dash;!_&&n.editable===!0&&(_=5,m="solid");var w=u[u.length-1]!=="Z",T=kv(e)&&n.editable&&e._fullLayout._activeShapeIndex===r;T&&(h=w?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,f=e._fullLayout.activeshape.opacity);var y=l.append("g").classed("shape-group",!0).attr({"data-index":r}),k=y.append("path").attr(s).style("opacity",f).call(J2.stroke,p).call(J2.fill,h).call(Q2.dashLine,m,_);J9(y,e,n),Av(e,r,n,y);var S;if((T||e._context.edits.shapePosition)&&(S=rK(e.layout,"shapes",n)),T){k.style({cursor:"move"});var b={element:k.node(),plotinfo:a,gd:e,editHelpers:S,hasText:n.label.text||n.label.texttemplate,isActiveShape:!0},M=jJ(u,e);eK(M,k,b)}else e._context.edits.shapePosition?tK(e,k,n,r,l,S):n.editable===!0&&k.style("pointer-events",w||J2.opacity(h)*f<=.5?"stroke":"all");k.node().addEventListener("click",function(){return nK(e,k)})}}function J9(e,r,t){var n=(t.xref+t.yref).replace(/paper/g,"").replace(/[xyz][0-9]* *domain/g,"");Q2.setClipUrl(e,n?"clip"+r._fullLayout._uid+n:null,r)}function tK(e,r,t,n,a,o){var i=10,l=10,u=t.xsizemode==="pixel",s=t.ysizemode==="pixel",f=t.type==="line",h=t.type==="path",p=o.modifyItem,_,m,w,T,y,k,S,b,M,d,x,g,c,A,v,D=$J.select(r.node().parentNode),E=gu.getFromId(e,t.xref),R=gu.getRefType(t.xref),N=gu.getFromId(e,t.yref),F=gu.getRefType(t.yref),I=t.x0shift,L=t.x1shift,P=t.y0shift,O=t.y1shift,U=function(Se,he){var Ae=sa.getDataToPixel(e,E,he,!1,R);return Ae(Se)},X=function(Se,he){var Ae=sa.getDataToPixel(e,N,he,!0,F);return Ae(Se)},$=sa.getPixelToData(e,E,!1,R),j=sa.getPixelToData(e,N,!0,F),Y=ne(),q={element:Y.node(),gd:e,prepFn:re,doneFn:H,clickFn:ee},K;H9.init(q),Y.node().onmousemove=oe;function ne(){return f?Q():r}function Q(){var Se=10,he=Math.max(t.line.width,Se),Ae=a.append("g").attr("data-index",n).attr("drag-helper",!0);Ae.append("path").attr("d",r.attr("d")).style({cursor:"move","stroke-width":he,"stroke-opacity":"0"});var Ce={"fill-opacity":"0"},Pe=Math.max(he/2,Se);return Ae.append("circle").attr({"data-line-point":"start-point",cx:u?U(t.xanchor)+t.x0:U(t.x0,I),cy:s?X(t.yanchor)-t.y0:X(t.y0,P),r:Pe}).style(Ce).classed("cursor-grab",!0),Ae.append("circle").attr({"data-line-point":"end-point",cx:u?U(t.xanchor)+t.x1:U(t.x1,L),cy:s?X(t.yanchor)-t.y1:X(t.y1,O),r:Pe}).style(Ce).classed("cursor-grab",!0),Ae}function oe(Se){if(Tv(e)){K=null;return}if(f)Se.target.tagName==="path"?K="move":K=Se.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var he=q.element.getBoundingClientRect(),Ae=he.right-he.left,Ce=he.bottom-he.top,Pe=Se.clientX-he.left,Ee=Se.clientY-he.top,Ne=!h&&Ae>i&&Ce>l&&!Se.shiftKey?H9.getCursor(Pe/Ae,1-Ee/Ce):"move";V9(r,Ne),K=Ne.split("-")[0]}}function re(Se){Tv(e)||(u&&(y=U(t.xanchor)),s&&(k=X(t.yanchor)),t.type==="path"?v=t.path:(_=u?t.x0:U(t.x0),m=s?t.y0:X(t.y0),w=u?t.x1:U(t.x1),T=s?t.y1:X(t.y1)),_<w?(M=_,c="x0",d=w,A="x1"):(M=w,c="x1",d=_,A="x0"),!s&&m<T||s&&m>T?(S=m,x="y0",b=T,g="y1"):(S=T,x="y1",b=m,g="y0"),oe(Se),ue(a,t),ke(r,t,e),q.moveFn=K==="move"?V:te,q.altKey=Se.altKey)}function H(){Tv(e)||(V9(r),ve(a),J9(r,e,t),W9.call("_guiRelayout",e,o.getUpdateObj()))}function ee(){Tv(e)||ve(a)}function V(Se,he){if(t.type==="path"){var Ae=function(Ee){return Ee},Ce=Ae,Pe=Ae;u?p("xanchor",t.xanchor=$(y+Se)):(Ce=function(Ne){return $(U(Ne)+Se)},E&&E.type==="date"&&(Ce=sa.encodeDate(Ce))),s?p("yanchor",t.yanchor=j(k+he)):(Pe=function(Ne){return j(X(Ne)+he)},N&&N.type==="date"&&(Pe=sa.encodeDate(Pe))),p("path",t.path=G9(v,Ce,Pe))}else u?p("xanchor",t.xanchor=$(y+Se)):(p("x0",t.x0=$(_+Se)),p("x1",t.x1=$(w+Se))),s?p("yanchor",t.yanchor=j(k+he)):(p("y0",t.y0=j(m+he)),p("y1",t.y1=j(T+he)));r.attr("d",K2(e,t)),ue(a,t),Av(e,n,t,D)}function te(Se,he){if(h){var Ae=function(ze){return ze},Ce=Ae,Pe=Ae;u?p("xanchor",t.xanchor=$(y+Se)):(Ce=function($e){return $(U($e)+Se)},E&&E.type==="date"&&(Ce=sa.encodeDate(Ce))),s?p("yanchor",t.yanchor=j(k+he)):(Pe=function($e){return j(X($e)+he)},N&&N.type==="date"&&(Pe=sa.encodeDate(Pe))),p("path",t.path=G9(v,Ce,Pe))}else if(f){if(K==="resize-over-start-point"){var Ee=_+Se,Ne=s?m-he:m+he;p("x0",t.x0=u?Ee:$(Ee)),p("y0",t.y0=s?Ne:j(Ne))}else if(K==="resize-over-end-point"){var Ue=w+Se,ge=s?T-he:T+he;p("x1",t.x1=u?Ue:$(Ue)),p("y1",t.y1=s?ge:j(ge))}}else{var we=function(ze){return K.indexOf(ze)!==-1},Te=we("n"),me=we("s"),ye=we("w"),pe=we("e"),ce=Te?S+he:S,be=me?b+he:b,Le=ye?M+Se:M,qe=pe?d+Se:d;s&&(Te&&(ce=S-he),me&&(be=b-he)),(!s&&be-ce>l||s&&ce-be>l)&&(p(x,t[x]=s?ce:j(ce)),p(g,t[g]=s?be:j(be))),qe-Le>i&&(p(c,t[c]=u?Le:$(Le)),p(A,t[A]=u?qe:$(qe)))}r.attr("d",K2(e,t)),ue(a,t),Av(e,n,t,D)}function ue(Se,he){(u||s)&&Ae();function Ae(){var Ce=he.type!=="path",Pe=Se.selectAll(".visual-cue").data([0]),Ee=1;Pe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ee}).classed("visual-cue",!0);var Ne=U(u?he.xanchor:U9.midRange(Ce?[he.x0,he.x1]:sa.extractPathCoords(he.path,Ql.paramIsX))),Ue=X(s?he.yanchor:U9.midRange(Ce?[he.y0,he.y1]:sa.extractPathCoords(he.path,Ql.paramIsY)));if(Ne=sa.roundPositionForSharpStrokeRendering(Ne,Ee),Ue=sa.roundPositionForSharpStrokeRendering(Ue,Ee),u&&s){var ge="M"+(Ne-1-Ee)+","+(Ue-1-Ee)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Pe.attr("d",ge)}else if(u){var we="M"+(Ne-1-Ee)+","+(Ue-9-Ee)+"v18 h2 v-18 Z";Pe.attr("d",we)}else{var Te="M"+(Ne-9-Ee)+","+(Ue-1-Ee)+"h18 v2 h-18 Z";Pe.attr("d",Te)}}}function ve(Se){Se.selectAll(".visual-cue").remove()}function ke(Se,he,Ae){var Ce=he.xref,Pe=he.yref,Ee=gu.getFromId(Ae,Ce),Ne=gu.getFromId(Ae,Pe),Ue="";Ce!=="paper"&&!Ee.autorange&&(Ue+=Ce),Pe!=="paper"&&!Ne.autorange&&(Ue+=Pe),Q2.setClipUrl(Se,Ue?"clip"+Ae._fullLayout._uid+Ue:null,Ae)}}function G9(e,r,t){return e.replace(Ql.segmentRE,function(n){var a=0,o=n.charAt(0),i=Ql.paramIsX[o],l=Ql.paramIsY[o],u=Ql.numParams[o],s=n.substr(1).replace(Ql.paramRE,function(f){return a>=u||(i[a]?f=r(f):l[a]&&(f=t(f)),a++),f});return o+s})}function nK(e,r){if(kv(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex){Y9(e);return}e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=Y9,$2(e)}}}function Y9(e){if(kv(e)){var r=e._fullLayout._activeShapeIndex;r>=0&&(X9(e),delete e._fullLayout._activeShapeIndex,$2(e))}}function aK(e){if(kv(e)){X9(e);var r=e._fullLayout._activeShapeIndex,t=(e.layout||{}).shapes||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);return delete e._fullLayout._activeShapeIndex,W9.call("_guiRelayout",e,{shapes:n})}}}});var ry=de((Ehe,iA)=>{"use strict";var Ia=Cr(),Q9=on(),$9=jt(),rt=hv(),iK=Sv().eraseActiveShape,Cv=ir(),Jr=Cv._,tt=iA.exports={};tt.toImage={name:"toImage",title:function(e){var r=e._context.toImageButtonOptions||{},t=r.format||"png";return t==="png"?Jr(e,"Download plot as a PNG"):Jr(e,"Download plot")},icon:rt.camera,click:function(e){var r=e._context.toImageButtonOptions,t={format:r.format||"png"};Cv.notifier(Jr(e,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(n){n in r&&(t[n]=r[n])}),Ia.call("downloadImage",e,t).then(function(n){Cv.notifier(Jr(e,"Snapshot succeeded")+" - "+n,"long")}).catch(function(){Cv.notifier(Jr(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}};tt.sendDataToCloud={name:"sendDataToCloud",title:function(e){return Jr(e,"Edit in Chart Studio")},icon:rt.disk,click:function(e){Q9.sendDataToCloud(e)}};tt.editInChartStudio={name:"editInChartStudio",title:function(e){return Jr(e,"Edit in Chart Studio")},icon:rt.pencil,click:function(e){Q9.sendDataToCloud(e)}};tt.zoom2d={name:"zoom2d",_cat:"zoom",title:function(e){return Jr(e,"Zoom")},attr:"dragmode",val:"zoom",icon:rt.zoombox,click:Un};tt.pan2d={name:"pan2d",_cat:"pan",title:function(e){return Jr(e,"Pan")},attr:"dragmode",val:"pan",icon:rt.pan,click:Un};tt.select2d={name:"select2d",_cat:"select",title:function(e){return Jr(e,"Box Select")},attr:"dragmode",val:"select",icon:rt.selectbox,click:Un};tt.lasso2d={name:"lasso2d",_cat:"lasso",title:function(e){return Jr(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:rt.lasso,click:Un};tt.drawclosedpath={name:"drawclosedpath",title:function(e){return Jr(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:rt.drawclosedpath,click:Un};tt.drawopenpath={name:"drawopenpath",title:function(e){return Jr(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:rt.drawopenpath,click:Un};tt.drawline={name:"drawline",title:function(e){return Jr(e,"Draw line")},attr:"dragmode",val:"drawline",icon:rt.drawline,click:Un};tt.drawrect={name:"drawrect",title:function(e){return Jr(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:rt.drawrect,click:Un};tt.drawcircle={name:"drawcircle",title:function(e){return Jr(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:rt.drawcircle,click:Un};tt.eraseshape={name:"eraseshape",title:function(e){return Jr(e,"Erase active shape")},icon:rt.eraseshape,click:iK};tt.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(e){return Jr(e,"Zoom in")},attr:"zoom",val:"in",icon:rt.zoom_plus,click:Un};tt.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(e){return Jr(e,"Zoom out")},attr:"zoom",val:"out",icon:rt.zoom_minus,click:Un};tt.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(e){return Jr(e,"Autoscale")},attr:"zoom",val:"auto",icon:rt.autoscale,click:Un};tt.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(e){return Jr(e,"Reset axes")},attr:"zoom",val:"reset",icon:rt.home,click:Un};tt.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(e){return Jr(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:rt.tooltip_basic,gravity:"ne",click:Un};tt.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(e){return Jr(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:rt.tooltip_compare,gravity:"ne",click:Un};function Un(e,r){var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i={},l=$9.list(e,null,!0),u=o._cartesianSpikesEnabled,s,f;if(n==="zoom"){var h=a==="in"?.5:2,p=(1+h)/2,_=(1-h)/2,m,w;for(f=0;f<l.length;f++)if(s=l[f],w=s.modebardisable==="none"||s.modebardisable.indexOf(a==="auto"||a==="reset"?"autoscale":"zoominout")===-1,w&&!s.fixedrange)if(m=s._name,a==="auto")i[m+".autorange"]=!0;else if(a==="reset")s._rangeInitial0===void 0&&s._rangeInitial1===void 0?i[m+".autorange"]=!0:s._rangeInitial0===void 0?(i[m+".autorange"]=s._autorangeInitial,i[m+".range"]=[null,s._rangeInitial1]):s._rangeInitial1===void 0?(i[m+".range"]=[s._rangeInitial0,null],i[m+".autorange"]=s._autorangeInitial):i[m+".range"]=[s._rangeInitial0,s._rangeInitial1],s._showSpikeInitial!==void 0&&(i[m+".showspikes"]=s._showSpikeInitial,u==="on"&&!s._showSpikeInitial&&(u="off"));else{var T=[s.r2l(s.range[0]),s.r2l(s.range[1])],y=[p*T[0]+_*T[1],p*T[1]+_*T[0]];i[m+".range[0]"]=s.l2r(y[0]),i[m+".range[1]"]=s.l2r(y[1])}}else n==="hovermode"&&(a==="x"||a==="y")&&(a=o._isHoriz?"y":"x",t.setAttribute("data-val",a)),i[n]=a;o._cartesianSpikesEnabled=u,Ia.call("_guiRelayout",e,i)}tt.zoom3d={name:"zoom3d",_cat:"zoom",title:function(e){return Jr(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:rt.zoombox,click:Ev};tt.pan3d={name:"pan3d",_cat:"pan",title:function(e){return Jr(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:rt.pan,click:Ev};tt.orbitRotation={name:"orbitRotation",title:function(e){return Jr(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:rt["3d_rotate"],click:Ev};tt.tableRotation={name:"tableRotation",title:function(e){return Jr(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:rt["z-axis"],click:Ev};function Ev(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],i={},l=n.split("."),u=0;u<o.length;u++)i[o[u]+"."+l[1]]=a;var s=a==="pan"?a:"zoom";i.dragmode=s,Ia.call("_guiRelayout",e,i)}tt.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(e){return Jr(e,"Reset camera to default")},attr:"resetDefault",icon:rt.home,click:j2};tt.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(e){return Jr(e,"Reset camera to last save")},attr:"resetLastSave",icon:rt.movie,click:j2};function j2(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=n==="resetLastSave",o=n==="resetDefault",i=e._fullLayout,l=i._subplots.gl3d||[],u={},s=0;s<l.length;s++){var f=l[s],h=f+".camera",p=f+".aspectratio",_=f+".aspectmode",m=i[f]._scene,w;a?(u[h+".up"]=m.viewInitial.up,u[h+".eye"]=m.viewInitial.eye,u[h+".center"]=m.viewInitial.center,w=!0):o&&(u[h+".up"]=null,u[h+".eye"]=null,u[h+".center"]=null,w=!0),w&&(u[p+".x"]=m.viewInitial.aspectratio.x,u[p+".y"]=m.viewInitial.aspectratio.y,u[p+".z"]=m.viewInitial.aspectratio.z,u[_]=m.viewInitial.aspectmode)}Ia.call("_guiRelayout",e,u)}tt.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(e){return Jr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:rt.tooltip_basic,gravity:"ne",click:oK};function j9(e,r){var t=r.currentTarget,n=t._previousVal,a=e._fullLayout,o=a._subplots.gl3d||[],i=["xaxis","yaxis","zaxis"],l={},u={};if(n)u=n,t._previousVal=null;else{for(var s=0;s<o.length;s++){var f=o[s],h=a[f],p=f+".hovermode";l[p]=h.hovermode,u[p]=!1;for(var _=0;_<3;_++){var m=i[_],w=f+"."+m+".showspikes";u[w]=!1,l[w]=h[m].showspikes}}t._previousVal=l}return u}function oK(e,r){var t=j9(e,r);Ia.call("_guiRelayout",e,t)}tt.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(e){return Jr(e,"Zoom in")},attr:"zoom",val:"in",icon:rt.zoom_plus,click:ey};tt.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(e){return Jr(e,"Zoom out")},attr:"zoom",val:"out",icon:rt.zoom_minus,click:ey};tt.resetGeo={name:"resetGeo",_cat:"reset",title:function(e){return Jr(e,"Reset")},attr:"reset",val:null,icon:rt.autoscale,click:ey};tt.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(e){return Jr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:rt.tooltip_basic,gravity:"ne",click:rA};function ey(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i=o._subplots.geo||[],l=0;l<i.length;l++){var u=i[l],s=o[u];if(n==="zoom"){var f=s.projection.scale,h=a==="in"?2*f:.5*f;Ia.call("_guiRelayout",e,u+".projection.scale",h)}}n==="reset"&&yu(e,"geo")}tt.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(e){return Jr(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:rt.tooltip_basic,gravity:"ne",click:rA};function eA(e){var r=e._fullLayout;return r.hovermode?!1:r._has("cartesian")?r._isHoriz?"y":"x":"closest"}function rA(e){var r=eA(e);Ia.call("_guiRelayout",e,"hovermode",r)}tt.resetViewSankey={name:"resetSankeyGroup",title:function(e){return Jr(e,"Reset view")},icon:rt.home,click:function(e){for(var r={"node.groups":[],"node.x":[],"node.y":[]},t=0;t<e._fullData.length;t++){var n=e._fullData[t]._viewInitial;r["node.groups"].push(n.node.groups.slice()),r["node.x"].push(n.node.x.slice()),r["node.y"].push(n.node.y.slice())}Ia.call("restyle",e,r)}};tt.toggleHover={name:"toggleHover",title:function(e){return Jr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:rt.tooltip_basic,gravity:"ne",click:function(e,r){var t=j9(e,r);t.hovermode=eA(e),Ia.call("_guiRelayout",e,t)}};tt.resetViews={name:"resetViews",title:function(e){return Jr(e,"Reset views")},icon:rt.home,click:function(e,r){var t=r.currentTarget;t.setAttribute("data-attr","zoom"),t.setAttribute("data-val","reset"),Un(e,r),t.setAttribute("data-attr","resetLastSave"),j2(e,r),yu(e,"geo"),yu(e,"mapbox"),yu(e,"map")}};tt.toggleSpikelines={name:"toggleSpikelines",title:function(e){return Jr(e,"Toggle Spike Lines")},icon:rt.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var r=e._fullLayout,t=r._cartesianSpikesEnabled;r._cartesianSpikesEnabled=t==="on"?"off":"on",Ia.call("_guiRelayout",e,lK(e))}};function lK(e){for(var r=e._fullLayout,t=r._cartesianSpikesEnabled==="on",n=$9.list(e,null,!0),a={},o=0;o<n.length;o++){var i=n[o];a[i._name+".showspikes"]=t?!0:i._showSpikeInitial}return a}tt.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(e){return Jr(e,"Reset view")},attr:"reset",icon:rt.home,click:function(e){yu(e,"mapbox")}};tt.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(e){return Jr(e,"Reset view")},attr:"reset",icon:rt.home,click:function(e){yu(e,"map")}};tt.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(e){return Jr(e,"Zoom in")},attr:"zoom",val:"in",icon:rt.zoom_plus,click:tA};tt.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(e){return Jr(e,"Zoom in")},attr:"zoom",val:"in",icon:rt.zoom_plus,click:nA};tt.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(e){return Jr(e,"Zoom out")},attr:"zoom",val:"out",icon:rt.zoom_minus,click:tA};tt.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(e){return Jr(e,"Zoom out")},attr:"zoom",val:"out",icon:rt.zoom_minus,click:nA};function tA(e,r){aA(e,r,"mapbox")}function nA(e,r){aA(e,r,"map")}function aA(e,r,t){for(var n=r.currentTarget,a=n.getAttribute("data-val"),o=e._fullLayout,i=o._subplots[t]||[],l=1.05,u={},s=0;s<i.length;s++){var f=i[s],h=o[f].zoom,p=a==="in"?l*h:h/l;u[f+".zoom"]=p}Ia.call("_guiRelayout",e,u)}function yu(e,r){for(var t=e._fullLayout,n=t._subplots[r]||[],a={},o=0;o<n.length;o++)for(var i=n[o],l=t[i]._subplot,u=l.viewInitial,s=Object.keys(u),f=0;f<s.length;f++){var h=s[f];a[i+"."+h]=u[h]}Ia.call("_guiRelayout",e,a)}});var ty=de((Lhe,uA)=>{"use strict";var oA=ry(),sK=Object.keys(oA),lA=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],sA=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(lA),mu=[],uK=function(e){if(sA.indexOf(e._cat||e.name)===-1){var r=e.name,t=(e._cat||e.name).toLowerCase();mu.indexOf(r)===-1&&mu.push(r),mu.indexOf(t)===-1&&mu.push(t)}};sK.forEach(function(e){uK(oA[e])});mu.sort();uA.exports={DRAW_MODES:lA,backButtons:sA,foreButtons:mu}});var ny=de((Rhe,fA)=>{"use strict";var Dhe=ty();fA.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}});var hA=de((Phe,cA)=>{"use strict";var fK=ir(),Wf=Xr(),cK=yt(),hK=ny();cA.exports=function(r,t){var n=r.modebar||{},a=cK.newContainer(t,"modebar");function o(l,u){return fK.coerce(n,a,hK,l,u)}o("orientation"),o("bgcolor",Wf.addOpacity(t.paper_bgcolor,.5));var i=Wf.contrast(Wf.rgb(t.modebar.bgcolor));o("color",Wf.addOpacity(i,.3)),o("activecolor",Wf.addOpacity(i,.7)),o("uirevision",t.uirevision),o("add"),o("remove")}});var gA=de((Ihe,pA)=>{"use strict";var ay=it(),vK=nt(),Lv=ir(),vA=hv(),dK=_c().version,pK=new DOMParser;function dA(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var zi=dA.prototype;zi.update=function(e,r){this.graphInfo=e;var t=this.graphInfo._context,n=this.graphInfo._fullLayout,a="modebar-"+n._uid;this.element.setAttribute("id",a),this.element.setAttribute("role","toolbar"),this._uid=a,this.element.className="modebar modebar--custom",t.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),n.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var o=n.modebar,i="#"+a+" .modebar-group";document.querySelectorAll(i).forEach(function(h){h.style.backgroundColor=o.bgcolor});var l=!this.hasButtons(r),u=this.hasLogo!==t.displaylogo,s=this.locale!==t.locale;if(this.locale=t.locale,(l||u||s)&&(this.removeAllButtons(),this.updateButtons(r),t.watermark||t.displaylogo)){var f=this.getLogo();t.watermark&&(f.className=f.className+" watermark"),n.modebar.orientation==="v"?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton(),Lv.setStyleOnHover("#"+a+" .modebar-btn",".active",".icon path","fill: "+o.activecolor,"fill: "+o.color,this.element)};zi.updateButtons=function(e){var r=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var n=r.createGroup();t.forEach(function(a){var o=a.name;if(!o)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(o)!==-1)throw new Error("button name '"+o+"' is taken");r.buttonsNames.push(o);var i=r.createButton(a);r.buttonElements.push(i),n.appendChild(i)}),r.element.appendChild(n)})};zi.createGroup=function(){var e=document.createElement("div");e.className="modebar-group";var r=this.graphInfo._fullLayout.modebar;return e.style.backgroundColor=r.bgcolor,e};zi.createButton=function(e){var r=this,t=document.createElement("button");t.setAttribute("type","button"),t.setAttribute("rel","tooltip"),t.className="modebar-btn";var n=e.title;n===void 0?n=e.name:typeof n=="function"&&(n=n(this.graphInfo)),(n||n===0)&&(t.setAttribute("data-title",n),t.setAttribute("aria-label",n)),e.attr!==void 0&&t.setAttribute("data-attr",e.attr);var a=e.val;a!==void 0&&(typeof a=="function"&&(a=a(this.graphInfo)),t.setAttribute("data-val",a));var o=e.click;if(typeof o!="function")throw new Error("must provide button 'click' function in button config");t.addEventListener("click",function(l){e.click(r.graphInfo,l),r.updateActiveButton(l.currentTarget)}),t.setAttribute("data-toggle",e.toggle||!1),e.toggle&&ay.select(t).classed("active",!0);var i=e.icon;return typeof i=="function"?t.appendChild(i()):t.appendChild(this.createIcon(i||vA.question)),t.setAttribute("data-gravity",e.gravity||"n"),t};zi.createIcon=function(e){var r=vK(e.height)?Number(e.height):e.ascent-e.descent,t="http://www.w3.org/2000/svg",n;if(e.path){n=document.createElementNS(t,"svg"),n.setAttribute("viewBox",[0,0,e.width,r].join(" ")),n.setAttribute("class","icon");var a=document.createElementNS(t,"path");a.setAttribute("d",e.path),e.transform?a.setAttribute("transform",e.transform):e.ascent!==void 0&&a.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),n.appendChild(a)}if(e.svg){var o=pK.parseFromString(e.svg,"application/xml");n=o.childNodes[0]}return n.setAttribute("height","1em"),n.setAttribute("width","1em"),n};zi.updateActiveButton=function(e){var r=this.graphInfo._fullLayout,t=e!==void 0?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(n){var a=n.getAttribute("data-val")||!0,o=n.getAttribute("data-attr"),i=n.getAttribute("data-toggle")==="true",l=ay.select(n),u=function(h,p){var _=r.modebar,m=h.querySelector(".icon path");m&&(p||h.matches(":hover")?m.style.fill=_.activecolor:m.style.fill=_.color)};if(i){if(o===t){var s=!l.classed("active");l.classed("active",s),u(n,s)}}else{var f=o===null?o:Lv.nestedProperty(r,o).get();l.classed("active",f===a),u(n,f===a)}})};zi.hasButtons=function(e){var r=this.buttons;if(!r||e.length!==r.length)return!1;for(var t=0;t<e.length;++t){if(e[t].length!==r[t].length)return!1;for(var n=0;n<e[t].length;n++)if(e[t][n].name!==r[t][n].name)return!1}return!0};function gK(e){return e+" (v"+dK+")"}zi.getLogo=function(){var e=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",gK(Lv._(this.graphInfo,"Produced with Plotly.js"))),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(vA.newplotlylogo)),e.appendChild(r),e};zi.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1};zi.destroy=function(){Lv.removeElement(this.container.querySelector(".modebar"))};function yK(e,r){var t=e._fullLayout,n=new dA({graphInfo:e,container:t._modebardiv.node(),buttons:r});return t._privateplot&&ay.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}pA.exports=yK});var bA=de((Fhe,mA)=>{"use strict";var mK=jt(),yA=oa(),iy=Cr(),bK=to().isUnifiedHover,xK=gA(),Dv=ry(),_K=ty().DRAW_MODES,wK=ir().extendDeep;mA.exports=function(r){var t=r._fullLayout,n=r._context,a=t._modeBar;if(!n.displayModeBar&&!n.watermark){a&&(a.destroy(),delete t._modeBar);return}if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var o=n.modeBarButtons,i;Array.isArray(o)&&o.length?i=CK(o):!n.displayModeBar&&n.watermark?i=[]:i=MK(r),a?a.update(r,i):t._modeBar=xK(r,i)};function MK(e){var r=e._fullLayout,t=e._fullData,n=e._context;function a(L,P){if(typeof P=="string"){if(P.toLowerCase()===L.toLowerCase())return!0}else{var O=P.name,U=P._cat||P.name;if(O===L||U===L.toLowerCase())return!0}return!1}var o=r.modebar.add;typeof o=="string"&&(o=[o]);var i=r.modebar.remove;typeof i=="string"&&(i=[i]);var l=n.modeBarButtonsToAdd.concat(o.filter(function(L){for(var P=0;P<n.modeBarButtonsToRemove.length;P++)if(a(L,n.modeBarButtonsToRemove[P]))return!1;return!0})),u=n.modeBarButtonsToRemove.concat(i.filter(function(L){for(var P=0;P<n.modeBarButtonsToAdd.length;P++)if(a(L,n.modeBarButtonsToAdd[P]))return!1;return!0})),s=r._has("cartesian"),f=r._has("gl3d"),h=r._has("geo"),p=r._has("pie"),_=r._has("funnelarea"),m=r._has("ternary"),w=r._has("mapbox"),T=r._has("map"),y=r._has("polar"),k=r._has("smith"),S=r._has("sankey"),b=TK(r),M=bK(r.hovermode),d=[];function x(L){if(L.length){for(var P=[],O=0;O<L.length;O++){for(var U=L[O],X=Dv[U],$=X.name.toLowerCase(),j=(X._cat||X.name).toLowerCase(),Y=!1,q=0;q<u.length;q++){var K=u[q].toLowerCase();if(K===$||K===j){Y=!0;break}}Y||P.push(Dv[U])}d.push(P)}}var g=["toImage"];n.showEditInChartStudio?g.push("editInChartStudio"):n.showSendToCloud&&g.push("sendDataToCloud"),x(g);var c=[],A=[],v=[],D=[];(s||p||_||m)+h+f+w+T+y+k>1?(A=["toggleHover"],v=["resetViews"]):h?(c=["zoomInGeo","zoomOutGeo"],A=["hoverClosestGeo"],v=["resetGeo"]):f?(A=["hoverClosest3d"],v=["resetCameraDefault3d","resetCameraLastSave3d"]):w?(c=["zoomInMapbox","zoomOutMapbox"],A=["toggleHover"],v=["resetViewMapbox"]):T?(c=["zoomInMap","zoomOutMap"],A=["toggleHover"],v=["resetViewMap"]):p?A=["hoverClosestPie"]:S?(A=["hoverClosestCartesian","hoverCompareCartesian"],v=["resetViewSankey"]):A=["toggleHover"],s&&A.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(kK(t)||M)&&(A=[]),s&&!b&&(c=["zoomIn2d","zoomOut2d","autoScale2d"],v[0]!=="resetViews"&&(v=["resetScale2d"])),f?D=["zoom3d","pan3d","orbitRotation","tableRotation"]:s&&!b||m?D=["zoom2d","pan2d"]:w||T||h?D=["pan2d"]:y&&(D=["zoom2d"]),AK(t)&&D.push("select2d","lasso2d");var E=[],R=function(L){E.indexOf(L)===-1&&A.indexOf(L)!==-1&&E.push(L)};if(Array.isArray(l)){for(var N=[],F=0;F<l.length;F++){var I=l[F];typeof I=="string"?(I=I.toLowerCase(),_K.indexOf(I)!==-1?(r._has("mapbox")||r._has("map")||r._has("cartesian"))&&D.push(I):I==="togglespikelines"?R("toggleSpikelines"):I==="togglehover"?R("toggleHover"):I==="hovercompare"?R("hoverCompareCartesian"):I==="hoverclosest"?(R("hoverClosestCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestPie")):I==="v1hovermode"&&(R("hoverClosestCartesian"),R("hoverCompareCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestPie"))):N.push(I)}l=N}return x(D),x(c.concat(v)),x(E),SK(d,l)}function TK(e){for(var r=mK.list({_fullLayout:e},null,!0),t=0;t<r.length;t++){var n=r[t].modebardisable;if(!r[t].fixedrange&&n!=="autoscale+zoominout"&&n!=="zoominout+autoscale")return!1}return!0}function AK(e){for(var r=!1,t=0;t<e.length&&!r;t++){var n=e[t];!n._module||!n._module.selectPoints||(iy.traceIs(n,"scatter-like")?(yA.hasMarkers(n)||yA.hasText(n))&&(r=!0):iy.traceIs(n,"box-violin")?(n.boxpoints==="all"||n.points==="all")&&(r=!0):r=!0)}return r}function kK(e){for(var r=0;r<e.length;r++)if(!iy.traceIs(e[r],"noHover"))return!1;return!0}function SK(e,r){if(r.length)if(Array.isArray(r[0]))for(var t=0;t<r.length;t++)e.push(r[t]);else e.push(r);return e}function CK(e){for(var r=wK([],e),t=0;t<r.length;t++)for(var n=r[t],a=0;a<n.length;a++){var o=n[a];if(typeof o=="string")if(Dv[o]!==void 0)r[t][a]=Dv[o];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return r}});var oy=de((Nhe,xA)=>{"use strict";xA.exports={moduleType:"component",name:"modebar",layoutAttributes:ny(),supplyLayoutDefaults:hA(),manage:bA()}});var ly=de((zhe,_A)=>{"use strict";var EK=qn().FROM_BL;_A.exports=function(r,t,n){n===void 0&&(n=EK[r.constraintoward||"center"]);var a=[r.r2l(r.range[0]),r.r2l(r.range[1])],o=a[0]+(a[1]-a[0])*n;r.range=r._input.range=[r.l2r(o+(a[0]-o)*t),r.l2r(o+(a[1]-o)*t)],r.setScale()}});var Zf=de(Xf=>{"use strict";var $l=ir(),sy=eu(),ii=jt().id2name,LK=La(),wA=ly(),DK=Fh(),RK=nn().ALMOST_EQUAL,PK=qn().FROM_BL;Xf.handleDefaults=function(e,r,t){var n=t.axIds,a=t.axHasImage,o=r._axisConstraintGroups=[],i=r._axisMatchGroups=[],l,u,s,f,h,p,_,m;for(l=0;l<n.length;l++)f=ii(n[l]),h=e[f],p=r[f],IK(h,p,{axIds:n,layoutOut:r,hasImage:a[f]});function w(g,c){for(l=0;l<g.length;l++){u=g[l];for(s in u)r[ii(s)][c]=u}}for(w(i,"_matchGroup"),l=0;l<o.length;l++){u=o[l];for(s in u)if(p=r[ii(s)],p.fixedrange){for(var T in u){var y=ii(T);(e[y]||{}).fixedrange===!1&&$l.warn("fixedrange was specified as false for axis "+y+" but was overridden because another axis in its constraint group has fixedrange true"),r[y].fixedrange=!0}break}}for(l=0;l<o.length;){u=o[l];for(s in u){p=r[ii(s)],p._matchGroup&&Object.keys(p._matchGroup).length===Object.keys(u).length&&(o.splice(l,1),l--);break}l++}w(o,"_constraintGroup");var k=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],S=!1,b=!1;function M(){m=p[_],_==="rangebreaks"&&(b=p._hasDayOfWeekBreaks)}for(l=0;l<i.length;l++){u=i[l];for(var d=0;d<k.length;d++){_=k[d],m=null;var x;for(s in u)if(f=ii(s),h=e[f],p=r[f],_ in p){if(!p.matches&&(x=p,_ in h)){M();break}m===null&&_ in h&&M()}if(_==="range"&&m&&h.range&&h.range.length===2&&h.range[0]!==null&&h.range[1]!==null&&(S=!0),_==="autorange"&&m===null&&S&&(m=!1),m===null&&_ in x&&(m=x[_]),m!==null)for(s in u)p=r[ii(s)],p[_]=_==="range"?m.slice():m,_==="rangebreaks"&&(p._hasDayOfWeekBreaks=b,DK(p,r))}}};function IK(e,r,t){var n=t.axIds,a=t.layoutOut,o=t.hasImage,i=a._axisConstraintGroups,l=a._axisMatchGroups,u=r._id,s=u.charAt(0),f=((a._splomAxes||{})[s]||{})[u]||{},h=r._id,p=h.charAt(0)==="x";r._matchGroup=null,r._constraintGroup=null;function _(D,E){return $l.coerce(e,r,LK,D,E)}_("constrain",o?"domain":"range"),$l.coerce(e,r,{constraintoward:{valType:"enumerated",values:p?["left","center","right"]:["bottom","middle","top"],dflt:p?"center":"middle"}},"constraintoward");var m=r.type,w,T,y=[];for(w=0;w<n.length;w++)if(T=n[w],T!==h){var k=a[ii(T)];k.type===m&&y.push(T)}var S=AA(i,h);if(S){var b=[];for(w=0;w<y.length;w++)T=y[w],S[T]||b.push(T);y=b}var M=y.length,d,x;M&&(e.matches||f.matches)&&(d=$l.coerce(e,r,{matches:{valType:"enumerated",values:y,dflt:y.indexOf(f.matches)!==-1?f.matches:void 0}},"matches"));var g=o&&!p?r.anchor:void 0;if(M&&!d&&(e.scaleanchor||g)&&(x=$l.coerce(e,r,{scaleanchor:{valType:"enumerated",values:y.concat([!1])}},"scaleanchor",g)),d){r._matchGroup=uy(l,h,d,1);var c=a[ii(d)],A=MA(a,r)/MA(a,c);p!==(d.charAt(0)==="x")&&(A=(p?"x":"y")+A),uy(i,h,d,A)}else e.matches&&n.indexOf(e.matches)!==-1&&$l.warn("ignored "+r._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(x){var v=_("scaleratio");v||(v=r.scaleratio=1),uy(i,h,x,v)}else e.scaleanchor&&n.indexOf(e.scaleanchor)!==-1&&$l.warn("ignored "+r._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function MA(e,r){var t=r.domain;return t||(t=e[ii(r.overlaying)].domain),t[1]-t[0]}function AA(e,r){for(var t=0;t<e.length;t++)if(e[t][r])return e[t];return null}function uy(e,r,t,n){var a,o,i,l,u,s=AA(e,r);s===null?(s={},s[r]=1,u=e.length,e.push(s)):u=e.indexOf(s);var f=Object.keys(s);for(a=0;a<e.length;a++)if(i=e[a],a!==u&&i[t]){var h=i[t];for(o=0;o<f.length;o++)l=f[o],i[l]=fy(h,fy(n,s[l]));e.splice(u,1);return}if(n!==1)for(o=0;o<f.length;o++){var p=f[o];s[p]=fy(n,s[p])}s[t]=1}function fy(e,r){var t="",n="",a,o;typeof e=="string"&&(t=e.match(/^[xy]*/)[0],a=t.length,e=+e.substr(a)),typeof r=="string"&&(n=r.match(/^[xy]*/)[0],o=n.length,r=+r.substr(o));var i=e*r;return!a&&!o?i:!a||!o||t.charAt(0)===n.charAt(0)?t+n+e*r:a===o?i:(a>o?t.substr(o):n.substr(a))+i}function FK(e,r){for(var t=r._size,n=t.h/t.w,a={},o=Object.keys(e),i=0;i<o.length;i++){var l=o[i],u=e[l];if(typeof u=="string"){var s=u.match(/^[xy]*/)[0],f=s.length;u=+u.substr(f);for(var h=s.charAt(0)==="y"?n:1/n,p=0;p<f;p++)u*=h}a[l]=u}return a}Xf.enforce=function(r){var t=r._fullLayout,n=t._axisConstraintGroups||[],a,o,i,l,u,s,f,h;for(a=0;a<n.length;a++){i=FK(n[a],t);var p=Object.keys(i),_=1/0,m=0,w=1/0,T={},y={},k=!1;for(o=0;o<p.length;o++)l=p[o],y[l]=u=t[ii(l)],u._inputDomain?u.domain=u._inputDomain.slice():u._inputDomain=u.domain.slice(),u._inputRange||(u._inputRange=u.range.slice()),u.setScale(),T[l]=s=Math.abs(u._m)/i[l],_=Math.min(_,s),(u.constrain==="domain"||!u._constraintShrinkable)&&(w=Math.min(w,s)),delete u._constraintShrinkable,m=Math.max(m,s),u.constrain==="domain"&&(k=!0);if(!(_>RK*m&&!k)){for(o=0;o<p.length;o++)if(l=p[o],s=T[l],u=y[l],f=u.constrain,s!==w||f==="domain")if(h=s/w,f==="range")wA(u,h);else{var S=u._inputDomain,b=(u.domain[1]-u.domain[0])/(S[1]-S[0]),M=(u.r2l(u.range[1])-u.r2l(u.range[0]))/(u.r2l(u._inputRange[1])-u.r2l(u._inputRange[0]));if(h/=b,h*M<1){u.domain=u._input.domain=S.slice(),wA(u,h);continue}if(M<1&&(u.range=u._input.range=u._inputRange.slice(),h*=M),u.autorange){var d=u.r2l(u.range[0]),x=u.r2l(u.range[1]),g=(d+x)/2,c=g,A=g,v=Math.abs(x-g),D=g-v*h*1.0001,E=g+v*h*1.0001,R=sy.makePadFn(t,u,0),N=sy.makePadFn(t,u,1);TA(u,h);var F=Math.abs(u._m),I=sy.concatExtremes(r,u),L=I.min,P=I.max,O,U;for(U=0;U<L.length;U++)O=L[U].val-R(L[U])/F,O>D&&O<c&&(c=O);for(U=0;U<P.length;U++)O=P[U].val+N(P[U])/F,O<E&&O>A&&(A=O);var X=(A-c)/(2*v);h/=X,c=u.l2r(c),A=u.l2r(A),u.range=u._input.range=d<x?[c,A]:[A,c]}TA(u,h)}}}};Xf.getAxisGroup=function(r,t){for(var n=r._axisMatchGroups,a=0;a<n.length;a++){var o=n[a];if(o[t])return"g"+a}return t};Xf.clean=function(r,t){if(t._inputDomain){for(var n=!1,a=t._id,o=r._fullLayout._axisConstraintGroups,i=0;i<o.length;i++)if(o[i][a]){n=!0;break}(!n||t.constrain!=="domain")&&(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}};function TA(e,r){var t=e._inputDomain,n=PK[e.constraintoward],a=t[0]+(t[1]-t[0])*n;e.domain=e._input.domain=[a+(t[0]-a)/r,a+(t[1]-a)/r],e.setScale()}});var Iv=de(un=>{"use strict";var Pv=it(),Hn=Cr(),ma=on(),Fa=ir(),cy=Wn(),hy=cv(),Jf=Xr(),bu=mt(),kA=Rf(),DA=oy(),Kf=Lt(),so=qn(),RA=Zf(),NK=RA.enforce,zK=RA.clean,SA=eu().doAutoRange,PA="start",qK="middle",IA="end",OK=_n().zindexSeparator;un.layoutStyles=function(e){return Fa.syncOrAsync([ma.doAutoMargin,UK],e)};function BK(e,r,t){for(var n=0;n<t.length;n++){var a=t[n][0],o=t[n][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&o[0]<r[1]&&o[1]>r[0])return!0}return!1}function UK(e){var r=e._fullLayout,t=r._size,n=t.p,a=Kf.list(e,"",!0),o,i,l,u,s,f;if(r._paperdiv.style({width:e._context.responsive&&r.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":r.width+"px",height:e._context.responsive&&r.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":r.height+"px"}).selectAll(".main-svg").call(bu.setSize,r.width,r.height),e._context.setBackground(e,r.paper_bgcolor),un.drawMainTitle(e),DA.manage(e),!r._has("cartesian"))return ma.previousPromises(e);function h(re,H,ee){var V=re._lw/2;if(re._id.charAt(0)==="x"){if(H){if(ee==="top")return H._offset-n-V}else return t.t+t.h*(1-(re.position||0))+V%1;return H._offset+H._length+n+V}if(H){if(ee==="right")return H._offset+H._length+n+V}else return t.l+t.w*(re.position||0)+V%1;return H._offset-n-V}for(o=0;o<a.length;o++){u=a[o];var p=u._anchorAxis;u._linepositions={},u._lw=bu.crispRound(e,u.linewidth,1),u._mainLinePosition=h(u,p,u.side),u._mainMirrorPosition=u.mirror&&p?h(u,p,so.OPPOSITE_SIDE[u.side]):null}var _=[],m=[],w=[],T=Jf.opacity(r.paper_bgcolor)===1&&Jf.opacity(r.plot_bgcolor)===1&&r.paper_bgcolor===r.plot_bgcolor;for(i in r._plots)if(l=r._plots[i],l.mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var y=l.xaxis.domain,k=l.yaxis.domain,S=l.plotgroup;if(BK(y,k,w)&&i.indexOf(OK)===-1){var b=S.node(),M=l.bg=Fa.ensureSingle(S,"rect","bg");b.insertBefore(M.node(),b.childNodes[0]),m.push(i)}else S.select("rect.bg").remove(),w.push([y,k]),T||(_.push(i),m.push(i))}var d=r._bgLayer.selectAll(".bg").data(_);for(d.enter().append("rect").classed("bg",!0),d.exit().remove(),d.each(function(re){r._plots[re].bg=Pv.select(this)}),o=0;o<m.length;o++)l=r._plots[m[o]],s=l.xaxis,f=l.yaxis,l.bg&&s._offset!==void 0&&f._offset!==void 0&&l.bg.call(bu.setRect,s._offset-n,f._offset-n,s._length+2*n,f._length+2*n).call(Jf.fill,r.plot_bgcolor).style("stroke-width",0);if(!r._hasOnlyLargeSploms)for(i in r._plots){l=r._plots[i],s=l.xaxis,f=l.yaxis;var x=l.clipId="clip"+r._uid+i+"plot",g=Fa.ensureSingleById(r._clips,"clipPath",x,function(re){re.classed("plotclip",!0).append("rect")});l.clipRect=g.select("rect").attr({width:s._length,height:f._length}),bu.setTranslate(l.plot,s._offset,f._offset);var c,A;l._hasClipOnAxisFalse?(c=null,A=x):(c=x,A=null),bu.setClipUrl(l.plot,c,e),l.layerClipId=A}var v,D,E,R,N,F,I,L,P,O,U,X,$;function j(re){return"M"+v+","+re+"H"+D}function Y(re){return"M"+s._offset+","+re+"h"+s._length}function q(re){return"M"+re+","+L+"V"+I}function K(re){return f._shift!==void 0&&(re+=f._shift),"M"+re+","+f._offset+"v"+f._length}function ne(re,H,ee){if(!re.showline||i!==re._mainSubplot)return"";if(!re._anchorAxis)return ee(re._mainLinePosition);var V=H(re._mainLinePosition);return re.mirror&&(V+=H(re._mainMirrorPosition)),V}for(i in r._plots){l=r._plots[i],s=l.xaxis,f=l.yaxis;var Q="M0,0";CA(s,i)&&(N=Rv(s,"left",f,a),v=s._offset-(N?n+N:0),F=Rv(s,"right",f,a),D=s._offset+s._length+(F?n+F:0),E=h(s,f,"bottom"),R=h(s,f,"top"),$=!s._anchorAxis||i!==s._mainSubplot,$&&(s.mirror==="allticks"||s.mirror==="all")&&(s._linepositions[i]=[E,R]),Q=ne(s,j,Y),$&&s.showline&&(s.mirror==="all"||s.mirror==="allticks")&&(Q+=j(E)+j(R)),l.xlines.style("stroke-width",s._lw+"px").call(Jf.stroke,s.showline?s.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",Q);var oe="M0,0";CA(f,i)&&(U=Rv(f,"bottom",s,a),I=f._offset+f._length+(U?n:0),X=Rv(f,"top",s,a),L=f._offset-(X?n:0),P=h(f,s,"left"),O=h(f,s,"right"),$=!f._anchorAxis||i!==f._mainSubplot,$&&(f.mirror==="allticks"||f.mirror==="all")&&(f._linepositions[i]=[P,O]),oe=ne(f,q,K),$&&f.showline&&(f.mirror==="all"||f.mirror==="allticks")&&(oe+=q(P)+q(O)),l.ylines.style("stroke-width",f._lw+"px").call(Jf.stroke,f.showline?f.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",oe)}return Kf.makeClipPaths(e),ma.previousPromises(e)}function CA(e,r){return(e.ticks||e.showline)&&(r===e._mainSubplot||e.mirror==="all"||e.mirror==="allticks")}function EA(e,r,t){if(!t.showline||!t._lw)return!1;if(t.mirror==="all"||t.mirror==="allticks")return!0;var n=t._anchorAxis;if(!n)return!1;var a=so.FROM_BL[r];return t.side===r?n.domain[a]===e.domain[a]:t.mirror&&n.domain[1-a]===e.domain[1-a]}function Rv(e,r,t,n){if(EA(e,r,t))return t._lw;for(var a=0;a<n.length;a++){var o=n[a];if(o._mainAxis===t._mainAxis&&EA(e,r,o))return o._lw}return 0}un.drawMainTitle=function(e){var r=e._fullLayout.title,t=e._fullLayout,n=ZK(t),a=JK(t),o=XK(t,a),i=WK(t,n);if(kA.draw(e,"gtitle",{propContainer:t,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:t._dfltTitle.plot,subtitlePlaceholder:t._dfltTitle.subtitle,attributes:{x:i,y:o,"text-anchor":n,dy:a}}),r.text&&r.automargin){var l=Pv.select(e).selectAll(".gtitle"),u=bu.bBox(Pv.select(e).selectAll(".g-gtitle").node()).height,s=GK(e,r,u);if(s>0){YK(e,o,s,u),l.attr({x:i,y:o,"text-anchor":n,dy:LA(r.yanchor)}).call(cy.positionText,i,o);var f=(r.text.match(cy.BR_TAG_ALL)||[]).length;if(f){var h=so.LINE_SPACING*f+so.MID_SHIFT;r.y===0&&(h=-h),l.selectAll(".line").each(function(){var T=+this.getAttribute("dy").slice(0,-2)-h+"em";this.setAttribute("dy",T)})}var p=Pv.select(e).selectAll(".gtitle-subtitle");if(p.node()){var _=l.node().getBBox(),m=_.y+_.height,w=m+kA.SUBTITLE_PADDING_EM*r.subtitle.font.size;p.attr({x:i,y:w,"text-anchor":n,dy:LA(r.yanchor)}).call(cy.positionText,i,w)}}}};function HK(e,r,t,n,a){var o=r.yref==="paper"?e._fullLayout._size.h:e._fullLayout.height,i=Fa.isTopAnchor(r)?n:n-a,l=t==="b"?o-i:i;return Fa.isTopAnchor(r)&&t==="t"||Fa.isBottomAnchor(r)&&t==="b"?!1:l<a}function VK(e,r,t,n,a){var o=0;return t==="middle"&&(o+=a/2),e==="t"?(t==="top"&&(o+=a),o+=n-r*n):(t==="bottom"&&(o+=a),o+=r*n),o}function GK(e,r,t){var n=r.y,a=r.yanchor,o=n>.5?"t":"b",i=e._fullLayout.margin[o],l=0;return r.yref==="paper"?l=t+r.pad.t+r.pad.b:r.yref==="container"&&(l=VK(o,n,a,e._fullLayout.height,t)+r.pad.t+r.pad.b),l>i?l:0}function YK(e,r,t,n){var a="title.automargin",o=e._fullLayout.title,i=o.y>.5?"t":"b",l={x:o.x,y:o.y,t:0,b:0},u={};o.yref==="paper"&&HK(e,o,i,r,n)?l[i]=t:o.yref==="container"&&(u[i]=t,e._fullLayout._reservedMargin[a]=u),ma.allowAutoMargin(e,a),ma.autoMargin(e,a,l)}function WK(e,r){var t=e.title,n=e._size,a=0;switch(r===PA?a=t.pad.l:r===IA&&(a=-t.pad.r),t.xref){case"paper":return n.l+n.w*t.x+a;case"container":default:return e.width*t.x+a}}function XK(e,r){var t=e.title,n=e._size,a=0;if(r==="0em"||!r?a=-t.pad.b:r===so.CAP_SHIFT+"em"&&(a=t.pad.t),t.y==="auto")return n.t/2;switch(t.yref){case"paper":return n.t+n.h-n.h*t.y+a;case"container":default:return e.height-e.height*t.y+a}}function LA(e){return e==="top"?so.CAP_SHIFT+.3+"em":e==="bottom"?"-0.3em":so.MID_SHIFT+"em"}function ZK(e){var r=e.title,t=qK;return Fa.isRightAnchor(r)?t=IA:Fa.isLeftAnchor(r)&&(t=PA),t}function JK(e){var r=e.title,t="0em";return Fa.isTopAnchor(r)?t=so.CAP_SHIFT+"em":Fa.isMiddleAnchor(r)&&(t=so.MID_SHIFT+"em"),t}un.doTraceStyle=function(e){var r=e.calcdata,t=[],n;for(n=0;n<r.length;n++){var a=r[n],o=a[0]||{},i=o.trace||{},l=i._module||{},u=l.arraysToCalcdata;u&&u(a,i);var s=l.editStyle;s&&t.push({fn:s,cd0:o})}if(t.length){for(n=0;n<t.length;n++){var f=t[n];f.fn(e,f.cd0)}hy(e),un.redrawReglTraces(e)}return ma.style(e),Hn.getComponentMethod("legend","draw")(e),ma.previousPromises(e)};un.doColorBars=function(e){return Hn.getComponentMethod("colorbar","draw")(e),ma.previousPromises(e)};un.layoutReplot=function(e){var r=e.layout;return e.layout=void 0,Hn.call("_doPlot",e,"",r)};un.doLegend=function(e){return Hn.getComponentMethod("legend","draw")(e),ma.previousPromises(e)};un.doTicksRelayout=function(e){return Kf.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(Hn.subplotsRegistry.splom.updateGrid(e),hy(e),un.redrawReglTraces(e)),un.drawMainTitle(e),ma.previousPromises(e)};un.doModeBar=function(e){var r=e._fullLayout;DA.manage(e);for(var t=0;t<r._basePlotModules.length;t++){var n=r._basePlotModules[t].updateFx;n&&n(e)}return ma.previousPromises(e)};un.doCamera=function(e){for(var r=e._fullLayout,t=r._subplots.gl3d,n=0;n<t.length;n++){var a=r[t[n]],o=a._scene;o.setViewport(a)}};un.drawData=function(e){var r=e._fullLayout;hy(e);for(var t=r._basePlotModules,n=0;n<t.length;n++)t[n].plot(e);return un.redrawReglTraces(e),ma.style(e),Hn.getComponentMethod("selections","draw")(e),Hn.getComponentMethod("shapes","draw")(e),Hn.getComponentMethod("annotations","draw")(e),Hn.getComponentMethod("images","draw")(e),r._replotting=!1,ma.previousPromises(e)};un.redrawReglTraces=function(e){var r=e._fullLayout;if(r._has("regl")){var t=e._fullData,n=[],a=[],o,i;for(r._hasOnlyLargeSploms&&r._splomGrid.draw(),o=0;o<t.length;o++){var l=t[o];l.visible===!0&&l._length!==0&&(l.type==="splom"?r._splomScenes[l.uid].draw():l.type==="scattergl"?Fa.pushUnique(n,l.xaxis+l.yaxis):l.type==="scatterpolargl"&&Fa.pushUnique(a,l.subplot))}for(o=0;o<n.length;o++)i=r._plots[n[o]],i._scene&&i._scene.draw();for(o=0;o<a.length;o++)i=r[a[o]]._subplot,i._scene&&i._scene.draw()}};un.doAutoRangeAndConstraints=function(e){for(var r=Kf.list(e,"",!0),t,n={},a=0;a<r.length;a++)if(t=r[a],!n[t._id]){n[t._id]=1,zK(e,t),SA(e,t);var o=t._matchGroup;if(o)for(var i in o){var l=Kf.getFromId(e,i);SA(e,l,t.range),n[i]=1}}NK(e)};un.finalDraw=function(e){Hn.getComponentMethod("rangeslider","draw")(e),Hn.getComponentMethod("rangeselector","draw")(e)};un.drawMarginPushers=function(e){Hn.getComponentMethod("legend","draw")(e),Hn.getComponentMethod("rangeselector","draw")(e),Hn.getComponentMethod("sliders","draw")(e),Hn.getComponentMethod("updatemenus","draw")(e),Hn.getComponentMethod("colorbar","draw")(e)}});var py=de((Bhe,OA)=>{"use strict";var KK=Go().readPaths,QK=Mv(),FA=Io().clearOutlineControllers,vy=Xr(),NA=mt(),$K=yt().arrayEditor,zA=Wo(),jK=zA.getPathString;OA.exports={draw:Fv,drawOne:qA,activateLastSelection:tQ};function Fv(e){var r=e._fullLayout;FA(e),r._selectionLayer.selectAll("path").remove();for(var t in r._plots){var n=r._plots[t].selectionLayer;n&&n.selectAll("path").remove()}for(var a=0;a<r.selections.length;a++)qA(e,a)}function Nv(e){return e._context.editSelection}function qA(e,r){e._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+r+'"]').remove();var t=zA.makeSelectionsOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input)return;o(e._fullLayout._selectionLayer);function o(i){var l=jK(e,n),u={"data-index":r,"fill-rule":"evenodd",d:l},s=n.opacity,f="rgba(0,0,0,0)",h=n.line.color||vy.contrast(e._fullLayout.plot_bgcolor),p=n.line.width,_=n.line.dash;p||(p=5,_="solid");var m=Nv(e)&&e._fullLayout._activeSelectionIndex===r;m&&(f=e._fullLayout.activeselection.fillcolor,s=e._fullLayout.activeselection.opacity);for(var w=[],T=1;T>=0;T--){var y=i.append("path").attr(u).style("opacity",T?.1:s).call(vy.stroke,h).call(vy.fill,f).call(NA.dashLine,T?"solid":_,T?4+p:p);if(eQ(y,e,n),m){var k=$K(e.layout,"selections",n);y.style({cursor:"move"});var S={element:y.node(),plotinfo:a,gd:e,editHelpers:k,isActiveSelection:!0},b=KK(l,e);QK(b,y,S)}else y.style("pointer-events",T?"all":"none");w[T]=y}var M=w[0],d=w[1];d.node().addEventListener("click",function(){return rQ(e,M)})}}function eQ(e,r,t){var n=t.xref+t.yref;NA.setClipUrl(e,"clip"+r._fullLayout._uid+n,r)}function rQ(e,r){if(Nv(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeSelectionIndex){dy(e);return}e._fullLayout._activeSelectionIndex=n,e._fullLayout._deactivateSelection=dy,Fv(e)}}}function tQ(e){if(Nv(e)){var r=e._fullLayout.selections.length-1;e._fullLayout._activeSelectionIndex=r,e._fullLayout._deactivateSelection=dy,Fv(e)}}function dy(e){if(Nv(e)){var r=e._fullLayout._activeSelectionIndex;r>=0&&(FA(e),delete e._fullLayout._activeSelectionIndex,Fv(e))}}});var UA=de((Uhe,BA)=>{function nQ(){var e,r=0,t=!1;function n(a,o){return e.list.push({type:a,data:o?JSON.parse(JSON.stringify(o)):void 0}),e}return e={list:[],segmentId:function(){return r++},checkIntersection:function(a,o){return n("check",{seg1:a,seg2:o})},segmentChop:function(a,o){return n("div_seg",{seg:a,pt:o}),n("chop",{seg:a,pt:o})},statusRemove:function(a){return n("pop_seg",{seg:a})},segmentUpdate:function(a){return n("seg_update",{seg:a})},segmentNew:function(a,o){return n("new_seg",{seg:a,primary:o})},segmentRemove:function(a){return n("rem_seg",{seg:a})},tempStatus:function(a,o,i){return n("temp_status",{seg:a,above:o,below:i})},rewind:function(a){return n("rewind",{seg:a})},status:function(a,o,i){return n("status",{seg:a,above:o,below:i})},vert:function(a){return a===t?e:(t=a,n("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),n("log",{txt:a})},reset:function(){return n("reset")},selected:function(a){return n("selected",{segs:a})},chainStart:function(a){return n("chain_start",{seg:a})},chainRemoveHead:function(a,o){return n("chain_rem_head",{index:a,pt:o})},chainRemoveTail:function(a,o){return n("chain_rem_tail",{index:a,pt:o})},chainNew:function(a,o){return n("chain_new",{pt1:a,pt2:o})},chainMatch:function(a){return n("chain_match",{index:a})},chainClose:function(a){return n("chain_close",{index:a})},chainAddHead:function(a,o){return n("chain_add_head",{index:a,pt:o})},chainAddTail:function(a,o){return n("chain_add_tail",{index:a,pt:o})},chainConnect:function(a,o){return n("chain_con",{index1:a,index2:o})},chainReverse:function(a){return n("chain_rev",{index:a})},chainJoin:function(a,o){return n("chain_join",{index1:a,index2:o})},done:function(){return n("done")}},e}BA.exports=nQ});var VA=de((Hhe,HA)=>{function aQ(e){typeof e!="number"&&(e=1e-10);var r={epsilon:function(t){return typeof t=="number"&&(e=t),e},pointAboveOrOnLine:function(t,n,a){var o=n[0],i=n[1],l=a[0],u=a[1],s=t[0],f=t[1];return(l-o)*(f-i)-(u-i)*(s-o)>=-e},pointBetween:function(t,n,a){var o=t[1]-n[1],i=a[0]-n[0],l=t[0]-n[0],u=a[1]-n[1],s=l*i+o*u;if(s<e)return!1;var f=i*i+u*u;return!(s-f>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(t,n){return r.pointsSameX(t,n)&&r.pointsSameY(t,n)},pointsCompare:function(t,n){return r.pointsSameX(t,n)?r.pointsSameY(t,n)?0:t[1]<n[1]?-1:1:t[0]<n[0]?-1:1},pointsCollinear:function(t,n,a){var o=t[0]-n[0],i=t[1]-n[1],l=n[0]-a[0],u=n[1]-a[1];return Math.abs(o*u-l*i)<e},linesIntersect:function(t,n,a,o){var i=n[0]-t[0],l=n[1]-t[1],u=o[0]-a[0],s=o[1]-a[1],f=i*s-l*u;if(Math.abs(f)<e)return!1;var h=t[0]-a[0],p=t[1]-a[1],_=(u*p-s*h)/f,m=(i*p-l*h)/f,w={alongA:0,alongB:0,pt:[t[0]+_*i,t[1]+_*l]};return _<=-e?w.alongA=-2:_<e?w.alongA=-1:_-1<=-e?w.alongA=0:_-1<e?w.alongA=1:w.alongA=2,m<=-e?w.alongB=-2:m<e?w.alongB=-1:m-1<=-e?w.alongB=0:m-1<e?w.alongB=1:w.alongB=2,w},pointInsideRegion:function(t,n){for(var a=t[0],o=t[1],i=n[n.length-1][0],l=n[n.length-1][1],u=!1,s=0;s<n.length;s++){var f=n[s][0],h=n[s][1];h-o>e!=l-o>e&&(i-f)*(o-h)/(l-h)+f-a>e&&(u=!u),i=f,l=h}return u}};return r}HA.exports=aQ});var YA=de((Vhe,GA)=>{var iQ={create:function(){var e={root:{root:!0,next:null},exists:function(r){return!(r===null||r===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(r,t){for(var n=e.root,a=e.root.next;a!==null;){if(t(a)){r.prev=a.prev,r.next=a,a.prev.next=r,a.prev=r;return}n=a,a=a.next}n.next=r,r.prev=n,r.next=null},findTransition:function(r){for(var t=e.root,n=e.root.next;n!==null&&!r(n);)t=n,n=n.next;return{before:t===e.root?null:t,after:n,insert:function(a){return a.prev=t,a.next=n,t.next=a,n!==null&&(n.prev=a),a}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};GA.exports=iQ});var XA=de((Ghe,WA)=>{var Qf=YA();function oQ(e,r,t){function n(m,w){return{id:t?t.segmentId():-1,start:m,end:w,myFill:{above:null,below:null},otherFill:null}}function a(m,w,T){return{id:t?t.segmentId():-1,start:m,end:w,myFill:{above:T.myFill.above,below:T.myFill.below},otherFill:null}}var o=Qf.create();function i(m,w,T,y,k,S){var b=r.pointsCompare(w,k);return b!==0?b:r.pointsSame(T,S)?0:m!==y?m?1:-1:r.pointAboveOrOnLine(T,y?k:S,y?S:k)?1:-1}function l(m,w){o.insertBefore(m,function(T){var y=i(m.isStart,m.pt,w,T.isStart,T.pt,T.other.pt);return y<0})}function u(m,w){var T=Qf.node({isStart:!0,pt:m.start,seg:m,primary:w,other:null,status:null});return l(T,m.end),T}function s(m,w,T){var y=Qf.node({isStart:!1,pt:w.end,seg:w,primary:T,other:m,status:null});m.other=y,l(y,m.pt)}function f(m,w){var T=u(m,w);return s(T,m,w),T}function h(m,w){t&&t.segmentChop(m.seg,w),m.other.remove(),m.seg.end=w,m.other.pt=w,l(m.other,m.pt)}function p(m,w){var T=a(w,m.seg.end,m.seg);return h(m,w),f(T,m.primary)}function _(m,w){var T=Qf.create();function y(N,F){var I=N.seg.start,L=N.seg.end,P=F.seg.start,O=F.seg.end;return r.pointsCollinear(I,P,O)?r.pointsCollinear(L,P,O)||r.pointAboveOrOnLine(L,P,O)?1:-1:r.pointAboveOrOnLine(I,P,O)?1:-1}function k(N){return T.findTransition(function(F){var I=y(N,F.ev);return I>0})}function S(N,F){var I=N.seg,L=F.seg,P=I.start,O=I.end,U=L.start,X=L.end;t&&t.checkIntersection(I,L);var $=r.linesIntersect(P,O,U,X);if($===!1){if(!r.pointsCollinear(P,O,U)||r.pointsSame(P,X)||r.pointsSame(O,U))return!1;var j=r.pointsSame(P,U),Y=r.pointsSame(O,X);if(j&&Y)return F;var q=!j&&r.pointBetween(P,U,X),K=!Y&&r.pointBetween(O,U,X);if(j)return K?p(F,O):p(N,X),F;q&&(Y||(K?p(F,O):p(N,X)),p(F,P))}else $.alongA===0&&($.alongB===-1?p(N,U):$.alongB===0?p(N,$.pt):$.alongB===1&&p(N,X)),$.alongB===0&&($.alongA===-1?p(F,P):$.alongA===0?p(F,$.pt):$.alongA===1&&p(F,O));return!1}for(var b=[];!o.isEmpty();){var M=o.getHead();if(t&&t.vert(M.pt[0]),M.isStart){let N=function(){if(x){var F=S(M,x);if(F)return F}return g?S(M,g):!1};var R=N;t&&t.segmentNew(M.seg,M.primary);var d=k(M),x=d.before?d.before.ev:null,g=d.after?d.after.ev:null;t&&t.tempStatus(M.seg,x?x.seg:!1,g?g.seg:!1);var c=N();if(c){if(e){var A;M.seg.myFill.below===null?A=!0:A=M.seg.myFill.above!==M.seg.myFill.below,A&&(c.seg.myFill.above=!c.seg.myFill.above)}else c.seg.otherFill=M.seg.myFill;t&&t.segmentUpdate(c.seg),M.other.remove(),M.remove()}if(o.getHead()!==M){t&&t.rewind(M.seg);continue}if(e){var A;M.seg.myFill.below===null?A=!0:A=M.seg.myFill.above!==M.seg.myFill.below,g?M.seg.myFill.below=g.seg.myFill.above:M.seg.myFill.below=m,A?M.seg.myFill.above=!M.seg.myFill.below:M.seg.myFill.above=M.seg.myFill.below}else if(M.seg.otherFill===null){var v;g?M.primary===g.primary?v=g.seg.otherFill.above:v=g.seg.myFill.above:v=M.primary?w:m,M.seg.otherFill={above:v,below:v}}t&&t.status(M.seg,x?x.seg:!1,g?g.seg:!1),M.other.status=d.insert(Qf.node({ev:M}))}else{var D=M.status;if(D===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(T.exists(D.prev)&&T.exists(D.next)&&S(D.prev.ev,D.next.ev),t&&t.statusRemove(D.ev.seg),D.remove(),!M.primary){var E=M.seg.myFill;M.seg.myFill=M.seg.otherFill,M.seg.otherFill=E}b.push(M.seg)}o.getHead().remove()}return t&&t.done(),b}return e?{addRegion:function(m){for(var w,T=m[m.length-1],y=0;y<m.length;y++){w=T,T=m[y];var k=r.pointsCompare(w,T);k!==0&&f(n(k<0?w:T,k<0?T:w),!0)}},calculate:function(m){return _(m,!1)}}:{calculate:function(m,w,T,y){return m.forEach(function(k){f(a(k.start,k.end,k),!0)}),T.forEach(function(k){f(a(k.start,k.end,k),!1)}),_(w,y)}}}WA.exports=oQ});var JA=de((Yhe,ZA)=>{function lQ(e,r,t){var n=[],a=[];return e.forEach(function(o){var i=o.start,l=o.end;if(r.pointsSame(i,l)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}t&&t.chainStart(o);var u={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},f=u;function h(R,N,F){return f.index=R,f.matches_head=N,f.matches_pt1=F,f===u?(f=s,!1):(f=null,!0)}for(var p=0;p<n.length;p++){var _=n[p],m=_[0],w=_[1],T=_[_.length-1],y=_[_.length-2];if(r.pointsSame(m,i)){if(h(p,!0,!0))break}else if(r.pointsSame(m,l)){if(h(p,!0,!1))break}else if(r.pointsSame(T,i)){if(h(p,!1,!0))break}else if(r.pointsSame(T,l)&&h(p,!1,!1))break}if(f===u){n.push([i,l]),t&&t.chainNew(i,l);return}if(f===s){t&&t.chainMatch(u.index);var k=u.index,S=u.matches_pt1?l:i,b=u.matches_head,_=n[k],M=b?_[0]:_[_.length-1],d=b?_[1]:_[_.length-2],x=b?_[_.length-1]:_[0],g=b?_[_.length-2]:_[1];if(r.pointsCollinear(d,M,S)&&(b?(t&&t.chainRemoveHead(u.index,S),_.shift()):(t&&t.chainRemoveTail(u.index,S),_.pop()),M=d),r.pointsSame(x,S)){n.splice(k,1),r.pointsCollinear(g,x,M)&&(b?(t&&t.chainRemoveTail(u.index,M),_.pop()):(t&&t.chainRemoveHead(u.index,M),_.shift())),t&&t.chainClose(u.index),a.push(_);return}b?(t&&t.chainAddHead(u.index,S),_.unshift(S)):(t&&t.chainAddTail(u.index,S),_.push(S));return}function c(R){t&&t.chainReverse(R),n[R].reverse()}function A(R,N){var F=n[R],I=n[N],L=F[F.length-1],P=F[F.length-2],O=I[0],U=I[1];r.pointsCollinear(P,L,O)&&(t&&t.chainRemoveTail(R,L),F.pop(),L=P),r.pointsCollinear(L,O,U)&&(t&&t.chainRemoveHead(N,O),I.shift()),t&&t.chainJoin(R,N),n[R]=F.concat(I),n.splice(N,1)}var v=u.index,D=s.index;t&&t.chainConnect(v,D);var E=n[v].length<n[D].length;u.matches_head?s.matches_head?E?(c(v),A(v,D)):(c(D),A(D,v)):A(D,v):s.matches_head?A(v,D):E?(c(v),A(D,v)):(c(D),A(v,D))}),a}ZA.exports=lQ});var QA=de((Whe,KA)=>{function $f(e,r,t){var n=[];return e.forEach(function(a){var o=(a.myFill.above?8:0)+(a.myFill.below?4:0)+(a.otherFill&&a.otherFill.above?2:0)+(a.otherFill&&a.otherFill.below?1:0);r[o]!==0&&n.push({id:t?t.segmentId():-1,start:a.start,end:a.end,myFill:{above:r[o]===1,below:r[o]===2},otherFill:null})}),t&&t.selected(n),n}var sQ={union:function(e,r){return $f(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],r)},intersect:function(e,r){return $f(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],r)},difference:function(e,r){return $f(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],r)},differenceRev:function(e,r){return $f(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],r)},xor:function(e,r){return $f(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],r)}};KA.exports=sQ});var jA=de((Xhe,$A)=>{var uQ={toPolygon:function(e,r){function t(o){if(o.length<=0)return e.segments({inverted:!1,regions:[]});function i(s){var f=s.slice(0,s.length-1);return e.segments({inverted:!1,regions:[f]})}for(var l=i(o[0]),u=1;u<o.length;u++)l=e.selectDifference(e.combine(l,i(o[u])));return l}if(r.type==="Polygon")return e.polygon(t(r.coordinates));if(r.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),a=0;a<r.coordinates.length;a++)n=e.selectUnion(e.combine(n,t(r.coordinates[a])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,r,t){t=e.polygon(e.segments(t));function n(_,m){return r.pointInsideRegion([(_[0][0]+_[1][0])*.5,(_[0][1]+_[1][1])*.5],m)}function a(_){return{region:_,children:[]}}var o=a(null);function i(_,m){for(var w=0;w<_.children.length;w++){var T=_.children[w];if(n(m,T.region)){i(T,m);return}}for(var y=a(m),w=0;w<_.children.length;w++){var T=_.children[w];n(T.region,m)&&(y.children.push(T),_.children.splice(w,1),w--)}_.children.push(y)}for(var l=0;l<t.regions.length;l++){var u=t.regions[l];u.length<3||i(o,u)}function s(_,m){for(var w=0,T=_[_.length-1][0],y=_[_.length-1][1],k=[],S=0;S<_.length;S++){var b=_[S][0],M=_[S][1];k.push([b,M]),w+=M*T-b*y,T=b,y=M}var d=w<0;return d!==m&&k.reverse(),k.push([k[0][0],k[0][1]]),k}var f=[];function h(_){var m=[s(_.region,!1)];f.push(m);for(var w=0;w<_.children.length;w++)m.push(p(_.children[w]))}function p(_){for(var m=0;m<_.children.length;m++)h(_.children[m]);return s(_.region,!0)}for(var l=0;l<o.children.length;l++)h(o.children[l]);return f.length<=0?{type:"Polygon",coordinates:[]}:f.length==1?{type:"Polygon",coordinates:f[0]}:{type:"MultiPolygon",coordinates:f}}};$A.exports=uQ});var nk=de((Zhe,tk)=>{var fQ=UA(),cQ=VA(),ek=XA(),hQ=JA(),jf=QA(),rk=jA(),Na=!1,e0=cQ(),ua;ua={buildLog:function(e){return e===!0?Na=fQ():e===!1&&(Na=!1),Na===!1?!1:Na.list},epsilon:function(e){return e0.epsilon(e)},segments:function(e){var r=ek(!0,e0,Na);return e.regions.forEach(r.addRegion),{segments:r.calculate(e.inverted),inverted:e.inverted}},combine:function(e,r){var t=ek(!1,e0,Na);return{combined:t.calculate(e.segments,e.inverted,r.segments,r.inverted),inverted1:e.inverted,inverted2:r.inverted}},selectUnion:function(e){return{segments:jf.union(e.combined,Na),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:jf.intersect(e.combined,Na),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:jf.difference(e.combined,Na),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:jf.differenceRev(e.combined,Na),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:jf.xor(e.combined,Na),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:hQ(e.segments,e0,Na),inverted:e.inverted}},polygonFromGeoJSON:function(e){return rk.toPolygon(ua,e)},polygonToGeoJSON:function(e){return rk.fromPolygon(ua,e0,e)},union:function(e,r){return r0(e,r,ua.selectUnion)},intersect:function(e,r){return r0(e,r,ua.selectIntersect)},difference:function(e,r){return r0(e,r,ua.selectDifference)},differenceRev:function(e,r){return r0(e,r,ua.selectDifferenceRev)},xor:function(e,r){return r0(e,r,ua.selectXor)}};function r0(e,r,t){var n=ua.segments(e),a=ua.segments(r),o=ua.combine(n,a),i=t(o);return ua.polygon(i)}typeof window=="object"&&(window.PolyBool=ua);tk.exports=ua});var ik=de((Jhe,ak)=>{ak.exports=function(r,t,n,a){var o=r[0],i=r[1],l=!1;n===void 0&&(n=0),a===void 0&&(a=t.length);for(var u=a-n,s=0,f=u-1;s<u;f=s++){var h=t[s+n][0],p=t[s+n][1],_=t[f+n][0],m=t[f+n][1],w=p>i!=m>i&&o<(_-h)*(i-p)/(m-p)+h;w&&(l=!l)}return l}});var yy=de((Khe,ok)=>{"use strict";var gy=Oc().dot,zv=nn().BADNUM,qv=ok.exports={};qv.tester=function(r){var t=r.slice(),n=t[0][0],a=n,o=t[0][1],i=o,l;for((t[t.length-1][0]!==t[0][0]||t[t.length-1][1]!==t[0][1])&&t.push(t[0]),l=1;l<t.length;l++)n=Math.min(n,t[l][0]),a=Math.max(a,t[l][0]),o=Math.min(o,t[l][1]),i=Math.max(i,t[l][1]);var u=!1,s;t.length===5&&(t[0][0]===t[1][0]?t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]&&(u=!0,s=function(m){return m[0]===t[0][0]}):t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0]&&(u=!0,s=function(m){return m[1]===t[0][1]}));function f(m,w){var T=m[0],y=m[1];return!(T===zv||T<n||T>a||y===zv||y<o||y>i||w&&s(m))}function h(m,w){var T=m[0],y=m[1];if(T===zv||T<n||T>a||y===zv||y<o||y>i)return!1;var k=t.length,S=t[0][0],b=t[0][1],M=0,d,x,g,c,A;for(d=1;d<k;d++)if(x=S,g=b,S=t[d][0],b=t[d][1],c=Math.min(x,S),!(T<c||T>Math.max(x,S)||y>Math.max(g,b)))if(y<Math.min(g,b))T!==c&&M++;else{if(S===x?A=y:A=g+(T-x)*(b-g)/(S-x),y===A)return!(d===1&&w);y<=A&&T!==c&&M++}return M%2===1}var p=!0,_=t[0];for(l=1;l<t.length;l++)if(_[0]!==t[l][0]||_[1]!==t[l][1]){p=!1;break}return{xmin:n,xmax:a,ymin:o,ymax:i,pts:t,contains:u?f:h,isRect:u,degenerate:p}};qv.isSegmentBent=function(r,t,n,a){var o=r[t],i=[r[n][0]-o[0],r[n][1]-o[1]],l=gy(i,i),u=Math.sqrt(l),s=[-i[1]/u,i[0]/u],f,h,p;for(f=t+1;f<n;f++)if(h=[r[f][0]-o[0],r[f][1]-o[1]],p=gy(h,i),p<0||p>l||Math.abs(gy(h,s))>a)return!0;return!1};qv.filter=function(r,t){var n=[r[0]],a=0,o=0;function i(u){r.push(u);var s=n.length,f=a;n.splice(o+1);for(var h=f+1;h<r.length;h++)(h===r.length-1||qv.isSegmentBent(r,f,h+1,t))&&(n.push(r[h]),n.length<s-2&&(a=h,o=n.length-1),f=h)}if(r.length>1){var l=r.pop();i(l)}return{addPt:i,raw:r,filtered:n}}});var sk=de((Qhe,lk)=>{"use strict";lk.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}});var Lk=de(($he,Ek)=>{"use strict";var uk=nk(),vQ=ik(),a0=Cr(),dQ=mt().dashStyle,t0=Xr(),pQ=io(),gQ=to().makeEventData,u0=hu(),yQ=u0.freeMode,mQ=u0.rectMode,i0=u0.drawMode,_y=u0.openMode,wy=u0.selectMode,fk=Wo(),ck=Gf(),gk=Mv(),yk=Io().clearOutline,mk=Go(),my=mk.handleEllipse,bQ=mk.readPaths,xQ=bv().newShapes,_Q=G2(),wQ=py().activateLastSelection,Bv=ir(),MQ=Bv.sorterAsc,bk=yy(),n0=$c(),za=jt().getFromId,TQ=cv(),AQ=Iv().redrawReglTraces,Uv=sk(),qi=Uv.MINSELECT,kQ=bk.filter,My=bk.tester,Ty=pv(),hk=Ty.p2r,SQ=Ty.axValue,CQ=Ty.getTransform;function Ay(e){return e.subplot!==void 0}function EQ(e,r,t,n,a){var o=!Ay(n),i=yQ(a),l=mQ(a),u=_y(a),s=i0(a),f=wy(a),h=a==="drawline",p=a==="drawcircle",_=h||p,m=n.gd,w=m._fullLayout,T=f&&w.newselection.mode==="immediate"&&o,y=w._zoomlayer,k=n.element.getBoundingClientRect(),S=n.plotinfo,b=CQ(S),M=r-k.left,d=t-k.top;w._calcInverseTransform(m);var x=Bv.apply3DTransform(w._invTransform)(M,d);M=x[0],d=x[1];var g=w._invScaleX,c=w._invScaleY,A=M,v=d,D="M"+M+","+d,E=n.xaxes[0],R=n.yaxes[0],N=E._length,F=R._length,I=e.altKey&&!(i0(a)&&u),L,P,O,U,X,$,j;_k(e,m,n),i&&(L=kQ([[M,d]],Uv.BENDPX));var Y=y.selectAll("path.select-outline-"+S.id).data([1]),q=s?w.newshape:w.newselection;s&&(n.hasText=q.label.text||q.label.texttemplate);var K=s&&!u?q.fillcolor:"rgba(0,0,0,0)",ne=q.line.color||(o?t0.contrast(m._fullLayout.plot_bgcolor):"#7f7f7f");Y.enter().append("path").attr("class","select-outline select-outline-"+S.id).style({opacity:s?q.opacity/2:1,"stroke-dasharray":dQ(q.line.dash,q.line.width),"stroke-width":q.line.width+"px","shape-rendering":"crispEdges"}).call(t0.stroke,ne).call(t0.fill,K).attr("fill-rule","evenodd").classed("cursor-move",!!s).attr("transform",b).attr("d",D+"Z");var Q=y.append("path").attr("class","zoombox-corners").style({fill:t0.background,stroke:t0.defaultLine,"stroke-width":1}).attr("transform",b).attr("d","M0,0Z");if(s&&n.hasText){var oe=y.select(".label-temp");oe.empty()&&(oe=y.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var re=w._uid+Uv.SELECTID,H=[],ee=Hv(m,n.xaxes,n.yaxes,n.subplot);T&&!e.shiftKey&&(n._clearSubplotSelections=function(){if(o){var te=E._id,ue=R._id;kk(m,te,ue,ee);for(var ve=(m.layout||{}).selections||[],ke=[],Se=!1,he=0;he<ve.length;he++){var Ae=w.selections[he];!Ae||Ae.xref!==te||Ae.yref!==ue?ke.push(ve[he]):Se=!0}Se&&(m._fullLayout._noEmitSelectedAtStart=!0,a0.call("_guiRelayout",m,{selections:ke}))}});var V=VQ(n);n.moveFn=function(te,ue){n._clearSubplotSelections&&(n._clearSubplotSelections(),n._clearSubplotSelections=void 0),A=Math.max(0,Math.min(N,g*te+M)),v=Math.max(0,Math.min(F,c*ue+d));var ve=Math.abs(A-M),ke=Math.abs(v-d);if(l){var Se,he,Ae;if(f){var Ce=w.selectdirection;switch(Ce==="any"?ke<Math.min(ve*.6,qi)?Se="h":ve<Math.min(ke*.6,qi)?Se="v":Se="d":Se=Ce,Se){case"h":he=p?F/2:0,Ae=F;break;case"v":he=p?N/2:0,Ae=N;break}}if(s)switch(w.newshape.drawdirection){case"vertical":Se="h",he=p?F/2:0,Ae=F;break;case"horizontal":Se="v",he=p?N/2:0,Ae=N;break;case"ortho":ve<ke?(Se="h",he=d,Ae=v):(Se="v",he=M,Ae=A);break;default:Se="d"}Se==="h"?(U=_?my(p,[A,he],[A,Ae]):[[M,he],[M,Ae],[A,Ae],[A,he]],U.xmin=_?A:Math.min(M,A),U.xmax=_?A:Math.max(M,A),U.ymin=Math.min(he,Ae),U.ymax=Math.max(he,Ae),Q.attr("d","M"+U.xmin+","+(d-qi)+"h-4v"+2*qi+"h4ZM"+(U.xmax-1)+","+(d-qi)+"h4v"+2*qi+"h-4Z")):Se==="v"?(U=_?my(p,[he,v],[Ae,v]):[[he,d],[he,v],[Ae,v],[Ae,d]],U.xmin=Math.min(he,Ae),U.xmax=Math.max(he,Ae),U.ymin=_?v:Math.min(d,v),U.ymax=_?v:Math.max(d,v),Q.attr("d","M"+(M-qi)+","+U.ymin+"v-4h"+2*qi+"v4ZM"+(M-qi)+","+(U.ymax-1)+"v4h"+2*qi+"v-4Z")):Se==="d"&&(U=_?my(p,[M,d],[A,v]):[[M,d],[M,v],[A,v],[A,d]],U.xmin=Math.min(M,A),U.xmax=Math.max(M,A),U.ymin=Math.min(d,v),U.ymax=Math.max(d,v),Q.attr("d","M0,0Z"))}else i&&(L.addPt([A,v]),U=L.filtered);if(n.selectionDefs&&n.selectionDefs.length?(O=wk(n.mergedPolygons,U,I),U.subtract=I,P=ky(n.selectionDefs.concat([U]))):(O=[U],P=My(U)),gk(Tk(O,u),Y,n),f){var Pe=xy(m,!1),Ee=Pe.eventData?Pe.eventData.points.slice():[];Pe=xy(m,!1,P,ee,n),P=Pe.selectionTesters,j=Pe.eventData;var Ne;L?Ne=L.filtered:Ne=Sk(O),n0.throttle(re,Uv.SELECTDELAY,function(){H=Ak(P,ee);for(var Ue=H.slice(),ge=0;ge<Ee.length;ge++){for(var we=Ee[ge],Te=!1,me=0;me<Ue.length;me++)if(Ue[me].curveNumber===we.curveNumber&&Ue[me].pointNumber===we.pointNumber){Te=!0;break}Te||Ue.push(we)}Ue.length&&(j||(j={}),j.points=Ue),V(j,Ne),GQ(m,j)})}},n.clickFn=function(te,ue){if(Q.remove(),m._fullLayout._activeShapeIndex>=0){m._fullLayout._deactivateShape(m);return}if(!s){var ve=w.clickmode;n0.done(re).then(function(){if(n0.clear(re),te===2){for(Y.remove(),X=0;X<ee.length;X++)$=ee[X],$._module.selectPoints($,!1);if(l0(m,ee),o0(n),Cy(m),ee.length){var ke=ee[0].xaxis,Se=ee[0].yaxis;if(ke&&Se){for(var he=[],Ae=m._fullLayout.selections,Ce=0;Ce<Ae.length;Ce++){var Pe=Ae[Ce];Pe&&(Pe.xref!==ke._id||Pe.yref!==Se._id)&&he.push(Pe)}he.length<Ae.length&&(m._fullLayout._noEmitSelectedAtStart=!0,a0.call("_guiRelayout",m,{selections:he}))}}}else ve.indexOf("select")>-1&&xk(ue,m,n.xaxes,n.yaxes,n.subplot,n,Y),ve==="event"&&s0(m,void 0);pQ.click(m,ue,S.id)}).catch(Bv.error)}},n.doneFn=function(){Q.remove(),n0.done(re).then(function(){n0.clear(re),!T&&U&&n.selectionDefs&&(U.subtract=I,n.selectionDefs.push(U),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,O)),(T||s)&&o0(n,T),n.doneFnCompleted&&n.doneFnCompleted(H),f&&s0(m,j)}).catch(Bv.error)}}function xk(e,r,t,n,a,o,i){var l=r._hoverdata,u=r._fullLayout,s=u.clickmode,f=s.indexOf("event")>-1,h=[],p,_,m,w,T,y,k,S,b,M;if(IQ(l)){_k(e,r,o),p=Hv(r,t,n,a);var d=FQ(l,p),x=d.pointNumbers.length>0;if(x?NQ(p,d):zQ(p)&&(k=dk(d))){for(i&&i.remove(),M=0;M<p.length;M++)_=p[M],_._module.selectPoints(_,!1);l0(r,p),o0(o),f&&Cy(r)}else{S=e.shiftKey&&(k!==void 0?k:dk(d)),m=LQ(d.pointNumber,d.searchInfo,S);var g=o.selectionDefs.concat([m]);for(w=ky(g,w),M=0;M<p.length;M++)if(T=p[M]._module.selectPoints(p[M],w),y=Mk(T,p[M]),h.length)for(var c=0;c<y.length;c++)h.push(y[c]);else h=y;if(b={points:h},l0(r,p,b),m&&o&&o.selectionDefs.push(m),i){var A=o.mergedPolygons,v=_y(o.dragmode);gk(Tk(A,v),i,o)}f&&s0(r,b)}}}function LQ(e,r,t){return{pointNumber:e,searchInfo:r,subtract:!!t}}function by(e){return"pointNumber"in e&&"searchInfo"in e}function DQ(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(r,t,n,a){var o=e.searchInfo.cd[0].trace.index,i=a.cd[0].trace.index;return i===o&&n===e.pointNumber},isRect:!1,degenerate:!1,subtract:!!e.subtract}}function ky(e){if(!e.length)return;for(var r=[],t=by(e[0])?0:e[0][0][0],n=t,a=by(e[0])?0:e[0][0][1],o=a,i=0;i<e.length;i++)if(by(e[i]))r.push(DQ(e[i]));else{var l=My(e[i]);l.subtract=!!e[i].subtract,r.push(l),t=Math.min(t,l.xmin),n=Math.max(n,l.xmax),a=Math.min(a,l.ymin),o=Math.max(o,l.ymax)}function u(s,f,h,p){for(var _=!1,m=0;m<r.length;m++)r[m].contains(s,f,h,p)&&(_=!r[m].subtract);return _}return{xmin:t,xmax:n,ymin:a,ymax:o,pts:[],contains:u,isRect:!1,degenerate:!1}}function _k(e,r,t){var n=r._fullLayout,a=t.plotinfo,o=t.dragmode,i=n._lastSelectedSubplot&&n._lastSelectedSubplot===a.id,l=(e.shiftKey||e.altKey)&&!(i0(o)&&_y(o));i&&l&&a.selection&&a.selection.selectionDefs&&!t.selectionDefs?(t.selectionDefs=a.selection.selectionDefs,t.mergedPolygons=a.selection.mergedPolygons):(!l||!a.selection)&&o0(t),i||(yk(r),n._lastSelectedSubplot=a.id)}function RQ(e){return e._fullLayout._activeShapeIndex>=0}function PQ(e){return e._fullLayout._activeSelectionIndex>=0}function o0(e,r){var t=e.dragmode,n=e.plotinfo,a=e.gd;RQ(a)&&a._fullLayout._deactivateShape(a),PQ(a)&&a._fullLayout._deactivateSelection(a);var o=a._fullLayout,i=o._zoomlayer,l=i0(t),u=wy(t);if(l||u){var s=i.selectAll(".select-outline-"+n.id);if(s&&a._fullLayout._outlining){var f;l&&(f=xQ(s,e)),f&&a0.call("_guiRelayout",a,{shapes:f});var h;u&&!Ay(e)&&(h=_Q(s,e)),h&&(a._fullLayout._noEmitSelectedAtStart=!0,a0.call("_guiRelayout",a,{selections:h}).then(function(){r&&wQ(a)})),a._fullLayout._outlining=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function vk(e){return e._id}function Hv(e,r,t,n){if(!e.calcdata)return[];var a=[],o=r.map(vk),i=t.map(vk),l,u,s;for(s=0;s<e.calcdata.length;s++)if(l=e.calcdata[s],u=l[0].trace,!(u.visible!==!0||!u._module||!u._module.selectPoints))if(Ay({subplot:n})&&(u.subplot===n||u.geo===n))a.push(Ov(u._module,l,r[0],t[0]));else if(u.type==="splom"){if(u._xaxes[o[0]]&&u._yaxes[i[0]]){var f=Ov(u._module,l,r[0],t[0]);f.scene=e._fullLayout._splomScenes[u.uid],a.push(f)}}else if(u.type==="sankey"){var h=Ov(u._module,l,r[0],t[0]);a.push(h)}else{if(o.indexOf(u.xaxis)===-1&&(!u._xA||!u._xA.overlaying)||i.indexOf(u.yaxis)===-1&&(!u._yA||!u._yA.overlaying))continue;a.push(Ov(u._module,l,za(e,u.xaxis),za(e,u.yaxis)))}return a}function Ov(e,r,t,n){return{_module:e,cd:r,xaxis:t,yaxis:n}}function IQ(e){return e&&Array.isArray(e)&&e[0].hoverOnBox!==!0}function FQ(e,r){var t=e[0],n=-1,a=[],o,i;for(i=0;i<r.length;i++)if(o=r[i],t.fullData.index===o.cd[0].trace.index){if(t.hoverOnBox===!0)break;t.pointNumber!==void 0?n=t.pointNumber:t.binNumber!==void 0&&(n=t.binNumber,a=t.pointNumbers);break}return{pointNumber:n,pointNumbers:a,searchInfo:o}}function dk(e){var r=e.searchInfo.cd[0].trace,t=e.pointNumber,n=e.pointNumbers,a=n.length>0,o=a?n[0]:t;return r.selectedpoints?r.selectedpoints.indexOf(o)>-1:!1}function NQ(e,r){var t=[],n,a,o,i;for(i=0;i<e.length;i++)n=e[i],n.cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&t.push(n);if(t.length===1&&(o=t[0]===r.searchInfo,o&&(a=r.searchInfo.cd[0].trace,a.selectedpoints.length===r.pointNumbers.length))){for(i=0;i<r.pointNumbers.length;i++)if(a.selectedpoints.indexOf(r.pointNumbers[i])<0)return!1;return!0}return!1}function zQ(e){var r=0,t,n,a;for(a=0;a<e.length;a++)if(t=e[a],n=t.cd[0].trace,n.selectedpoints&&(n.selectedpoints.length>1||(r+=n.selectedpoints.length,r>1)))return!1;return r===1}function l0(e,r,t){var n;for(n=0;n<r.length;n++){var a=r[n].cd[0].trace._fullInput,o=e._fullLayout._tracePreGUI[a.uid]||{};o.selectedpoints===void 0&&(o.selectedpoints=a._input.selectedpoints||null)}var i;if(t){var l=t.points||[];for(n=0;n<r.length;n++)i=r[n].cd[0].trace,i._input.selectedpoints=i._fullInput.selectedpoints=[],i._fullInput!==i&&(i.selectedpoints=[]);for(var u=0;u<l.length;u++){var s=l[u],f=s.data,h=s.fullData,p=s.pointIndex,_=s.pointIndices;_?([].push.apply(f.selectedpoints,_),i._fullInput!==i&&[].push.apply(h.selectedpoints,_)):(f.selectedpoints.push(p),i._fullInput!==i&&h.selectedpoints.push(p))}}else for(n=0;n<r.length;n++)i=r[n].cd[0].trace,delete i.selectedpoints,delete i._input.selectedpoints,i._fullInput!==i&&delete i._fullInput.selectedpoints;qQ(e,r)}function qQ(e,r){for(var t=!1,n=0;n<r.length;n++){var a=r[n],o=a.cd;a0.traceIs(o[0].trace,"regl")&&(t=!0);var i=a._module,l=i.styleOnSelect||i.style;l&&(l(e,o,o[0].node3),o[0].nodeRangePlot3&&l(e,o,o[0].nodeRangePlot3))}t&&(TQ(e),AQ(e))}function wk(e,r,t){for(var n=t?uk.difference:uk.union,a=n({regions:e},{regions:[r]}),o=a.regions.reverse(),i=0;i<o.length;i++){var l=o[i];l.subtract=Sy(l,o.slice(0,i))}return o}function Mk(e,r){if(Array.isArray(e))for(var t=r.cd,n=r.cd[0].trace,a=0;a<e.length;a++)e[a]=gQ(e[a],n,t);return e}function Tk(e,r){for(var t=[],n=0;n<e.length;n++){t[n]=[];for(var a=0;a<e[n].length;a++){t[n][a]=[],t[n][a][0]=a?"L":"M";for(var o=0;o<e[n][a].length;o++)t[n][a].push(e[n][a][o])}r||t[n].push(["Z",t[n][0][1],t[n][0][2]])}return t}function Ak(e,r){for(var t=[],n,a=[],o,i=0;i<r.length;i++){var l=r[i];o=l._module.selectPoints(l,e),a.push(o),n=Mk(o,l),t=t.concat(n)}return t}function xy(e,r,t,n,a){var o=!!n,i,l,u;a&&(i=a.plotinfo,l=a.xaxes[0]._id,u=a.yaxes[0]._id);var s=[],f=[],h=pk(e),p=e._fullLayout;if(i){var _=p._zoomlayer,m=p.dragmode,w=i0(m),T=wy(m);if(w||T){var y=za(e,l,"x"),k=za(e,u,"y");if(y&&k){var S=_.selectAll(".select-outline-"+i.id);if(S&&e._fullLayout._outlining&&S.length){for(var b=S[0][0],M=b.getAttribute("d"),d=bQ(M,e,i),x=[],g=0;g<d.length;g++){for(var c=d[g],A=[],v=0;v<c.length;v++)A.push([Xo(y,c[v][1]),Xo(k,c[v][2])]);A.xref=l,A.yref=u,A.subtract=Sy(A,x),x.push(A)}h=h.concat(x)}}}}var D=l&&u?[l+u]:p._subplots.cartesian;OQ(e);for(var E={},R=0;R<D.length;R++){var N=D[R],F=N.indexOf("y"),I=N.slice(0,F),L=N.slice(F),P=l&&u?t:void 0;if(P=UQ(h,I,L,P),P){var O=n;if(!o){var U=za(e,I,"x"),X=za(e,L,"y");O=Hv(e,[U],[X],N);for(var $=0;$<O.length;$++){var j=O[$],Y=j.cd[0],q=Y.trace;if(j._module.name==="scattergl"&&!Y.t.xpx){var K=q.x,ne=q.y,Q=q._length;Y.t.xpx=[],Y.t.ypx=[];for(var oe=0;oe<Q;oe++)Y.t.xpx[oe]=U.c2p(K[oe]),Y.t.ypx[oe]=X.c2p(ne[oe])}j._module.name==="splom"&&(E[q.uid]||(E[q.uid]=!0))}}var re=Ak(P,O);s=s.concat(re),f=f.concat(O)}}var H={points:s};l0(e,f,H);var ee=p.clickmode,V=ee.indexOf("event")>-1&&r;if(!i&&r){var te=pk(e,!0);if(te.length){var ue=te[0].xref,ve=te[0].yref;if(ue&&ve){var ke=Sk(te),Se=Ck([za(e,ue,"x"),za(e,ve,"y")]);Se(H,ke)}}e._fullLayout._noEmitSelectedAtStart?e._fullLayout._noEmitSelectedAtStart=!1:V&&s0(e,H),p._reselect=!1}if(!i&&p._deselect){var he=p._deselect;l=he.xref,u=he.yref,BQ(l,u,f)||kk(e,l,u,n),V&&(H.points.length?s0(e,H):Cy(e)),p._deselect=!1}return{eventData:H,selectionTesters:t}}function OQ(e){var r=e.calcdata;if(r)for(var t=0;t<r.length;t++){var n=r[t][0],a=n.trace,o=e._fullLayout._splomScenes;if(o){var i=o[a.uid];i&&(i.selectBatch=[])}}}function BQ(e,r,t){for(var n=0;n<t.length;n++){var a=t[n];if(a.xaxis&&a.xaxis._id===e&&a.yaxis&&a.yaxis._id===r)return!0}return!1}function kk(e,r,t,n){n=Hv(e,[za(e,r,"x")],[za(e,t,"y")],r+t);for(var a=0;a<n.length;a++){var o=n[a];o._module.selectPoints(o,!1)}l0(e,n)}function UQ(e,r,t,n){for(var a,o=0;o<e.length;o++){var i=e[o];if(!(r!==i.xref||t!==i.yref))if(a){var l=!!i.subtract;a=wk(a,i,l),n=ky(a)}else a=[i],n=My(i)}return n}function pk(e,r){for(var t=[],n=e._fullLayout,a=n.selections,o=a.length,i=0;i<o;i++)if(!(r&&i!==n._activeSelectionIndex)){var l=a[i];if(l){var u=l.xref,s=l.yref,f=za(e,u,"x"),h=za(e,s,"y"),p,_,m,w,T;if(l.type==="rect"){T=[];var y=Xo(f,l.x0),k=Xo(f,l.x1),S=Xo(h,l.y0),b=Xo(h,l.y1);T=[[y,S],[y,b],[k,b],[k,S]],p=Math.min(y,k),_=Math.max(y,k),m=Math.min(S,b),w=Math.max(S,b),T.xmin=p,T.xmax=_,T.ymin=m,T.ymax=w,T.xref=u,T.yref=s,T.subtract=!1,T.isRect=!0,t.push(T)}else if(l.type==="path")for(var M=l.path.split("Z"),d=[],x=0;x<M.length;x++){var g=M[x];if(g){g+="Z";var c=fk.extractPathCoords(g,ck.paramIsX,"raw"),A=fk.extractPathCoords(g,ck.paramIsY,"raw");p=1/0,_=-1/0,m=1/0,w=-1/0,T=[];for(var v=0;v<c.length;v++){var D=Xo(f,c[v]),E=Xo(h,A[v]);T.push([D,E]),p=Math.min(D,p),_=Math.max(D,_),m=Math.min(E,m),w=Math.max(E,w)}T.xmin=p,T.xmax=_,T.ymin=m,T.ymax=w,T.xref=u,T.yref=s,T.subtract=Sy(T,d),d.push(T),t.push(T)}}}}return t}function Sy(e,r){for(var t=!1,n=0;n<r.length;n++)for(var a=r[n],o=0;o<e.length;o++)if(vQ(e[o],a)){t=!t;break}return t}function Xo(e,r){return e.type==="date"&&(r=r.replace("_"," ")),e.type==="log"?e.c2p(r):e.r2p(r,null,e.calendar)}function Sk(e){for(var r=e.length,t=[],n=0;n<r;n++){var a=e[n];t=t.concat(a),t=t.concat([a[0]])}return HQ(t)}function HQ(e){return e.isRect=e.length===5&&e[0][0]===e[4][0]&&e[0][1]===e[4][1]&&e[0][0]===e[1][0]&&e[2][0]===e[3][0]&&e[0][1]===e[3][1]&&e[1][1]===e[2][1]||e[0][1]===e[1][1]&&e[2][1]===e[3][1]&&e[0][0]===e[3][0]&&e[1][0]===e[2][0],e.isRect&&(e.xmin=Math.min(e[0][0],e[2][0]),e.xmax=Math.max(e[0][0],e[2][0]),e.ymin=Math.min(e[0][1],e[2][1]),e.ymax=Math.max(e[0][1],e[2][1])),e}function Ck(e){return function(r,t){for(var n,a,o=0;o<e.length;o++){var i=e[o],l=i._id,u=l.charAt(0);if(t.isRect){n||(n={});var s=t[u+"min"],f=t[u+"max"];s!==void 0&&f!==void 0&&(n[l]=[hk(i,s),hk(i,f)].sort(MQ))}else a||(a={}),a[l]=t.map(SQ(i))}n&&(r.range=n),a&&(r.lassoPoints=a)}}function VQ(e){var r=e.plotinfo;return r.fillRangeItems||Ck(e.xaxes.concat(e.yaxes))}function GQ(e,r){e.emit("plotly_selecting",r)}function s0(e,r){r&&(r.selections=(e.layout||{}).selections||[]),e.emit("plotly_selected",r)}function Cy(e){e.emit("plotly_deselect",null)}Ek.exports={reselect:xy,prepSelect:EQ,clearOutline:yk,clearSelectionsCache:o0,selectOnClick:xk}});var Ey=de((jhe,Dk)=>{"use strict";Dk.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]});var f0=de((eve,Rk)=>{"use strict";Rk.exports={axisRefDescription:function(e,r,t){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+t+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",r,"and the",t,"of the domain of the","second",e,"axis."].join(" ")}}});var xu=de((tve,Fk)=>{"use strict";var Pk=Ey(),Ik=kn(),Vv=_n(),YQ=yt().templatedArray,rve=f0();Fk.exports=YQ("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:Ik({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:Pk.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:Pk.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",Vv.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",Vv.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",Vv.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",Vv.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:Ik({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})});var Gv=de((nve,Nk)=>{"use strict";Nk.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}});var qk=de((ave,zk)=>{"use strict";zk.exports=function(r){return{valType:"color",editType:"style",anim:!0}}});var jl=de((ive,Yk)=>{"use strict";var Ok=ro().axisHoverFormat,{hovertemplateAttrs:WQ,texttemplateAttrs:XQ,templatefallbackAttrs:Bk}=Ka(),Uk=ei(),ZQ=kn(),JQ=Ao().dash,KQ=Ao().pattern,QQ=mt(),$Q=Gv(),Yv=Tt().extendFlat,jQ=qk();function Hk(e){return{valType:"any",dflt:0,editType:"calc"}}function Vk(e){return{valType:"any",editType:"calc"}}function Gk(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}Yk.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:Hk("x"),yperiod:Hk("y"),xperiod0:Vk("x0"),yperiod0:Vk("y0"),xperiodalignment:Gk("x"),yperiodalignment:Gk("y"),xhoverformat:Ok("x"),yhoverformat:Ok("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:XQ(),texttemplatefallback:Bk({editType:"calc"}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:WQ({},{keys:$Q.eventDataKeys}),hovertemplatefallback:Bk(),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:Yv({},JQ,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:jQ(!0),fillgradient:Yv({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:KQ,marker:Yv({symbol:{valType:"enumerated",values:QQ.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:Yv({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},Uk("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},Uk("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:ZQ({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}});var Ly=de((lve,Zk)=>{"use strict";var Wk=xu(),Xk=jl().line,e$=Ao().dash,Wv=Tt().extendFlat,r$=zn().overrideAll,t$=yt().templatedArray,ove=f0();Zk.exports=r$(t$("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:Wv({},Wk.xref,{}),yref:Wv({},Wk.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:Xk.color,width:Wv({},Xk.width,{min:1,dflt:1}),dash:Wv({},e$,{dflt:"dot"})}}),"arraydraw","from-root")});var $k=de((sve,Qk)=>{"use strict";var Jk=ir(),Xv=Lt(),n$=ri(),a$=Ly(),Kk=Wo();Qk.exports=function(r,t){n$(r,t,{name:"selections",handleItemDefaults:i$});for(var n=t.selections,a=0;a<n.length;a++){var o=n[a];o&&o.path===void 0&&(o.x0===void 0||o.x1===void 0||o.y0===void 0||o.y1===void 0)&&(t.selections[a]=null)}};function i$(e,r,t){function n(d,x){return Jk.coerce(e,r,a$,d,x)}var a=n("path"),o=a?"path":"rect",i=n("type",o),l=i!=="path";l&&delete r.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var u=["x","y"],s=0;s<2;s++){var f=u[s],h={_fullLayout:t},p,_,m,w=Xv.coerceRef(e,r,h,f);if(p=Xv.getFromId(h,w),p._selectionIndices.push(r._index),m=Kk.rangeToShapePosition(p),_=Kk.shapePositionToRange(p),l){var T=f+"0",y=f+"1",k=e[T],S=e[y];e[T]=_(e[T],!0),e[y]=_(e[y],!0),Xv.coercePosition(r,h,n,w,T),Xv.coercePosition(r,h,n,w,y);var b=r[T],M=r[y];b!==void 0&&M!==void 0&&(r[T]=m(b),r[y]=m(M),e[T]=k,e[y]=S)}}l&&Jk.noneOrAll(e,r,["x0","x1","y0","y1"])}});var eS=de((uve,jk)=>{"use strict";jk.exports=function(r,t,n){n("newselection.mode");var a=n("newselection.line.width");a&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}});var c0=de((fve,nS)=>{"use strict";var o$=Cr(),rS=ir(),tS=jt();nS.exports=function(r){return function(n,a){var o=n[r];if(Array.isArray(o))for(var i=o$.subplotsRegistry.cartesian,l=i.idRegex,u=a._subplots,s=u.xaxis,f=u.yaxis,h=u.cartesian,p=a._has("cartesian"),_=0;_<o.length;_++){var m=o[_];if(rS.isPlainObject(m)){var w=tS.cleanId(m.xref,"x",!1),T=tS.cleanId(m.yref,"y",!1),y=l.x.test(w),k=l.y.test(T);if(y||k){p||rS.pushUnique(a._basePlotModules,i);var S=!1;y&&s.indexOf(w)===-1&&(s.push(w),S=!0),k&&f.indexOf(T)===-1&&(f.push(T),S=!0),S&&y&&k&&h.push(w+T)}}}}}});var _u=de((cve,iS)=>{"use strict";var aS=py(),h0=Lk();iS.exports={moduleType:"component",name:"selections",layoutAttributes:Ly(),supplyLayoutDefaults:$k(),supplyDrawNewSelectionDefaults:eS(),includeBasePlot:c0()("selections"),draw:aS.draw,drawOne:aS.drawOne,reselect:h0.reselect,prepSelect:h0.prepSelect,clearOutline:h0.clearOutline,clearSelectionsCache:h0.clearSelectionsCache,selectOnClick:h0.selectOnClick}});var kS=de((hve,AS)=>{"use strict";var Fy=it(),qa=ir(),oS=qa.numberFormat,l$=ka(),s$=Qh(),Zv=Cr(),pS=qa.strTranslate,u$=Wn(),lS=Xr(),Zo=mt(),f$=io(),sS=Lt(),c$=Vo(),h$=ni(),gS=hu(),Jv=gS.selectingOrDrawing,v$=gS.freeMode,d$=qn().FROM_TL,p$=cv(),g$=Iv().redrawReglTraces,y$=on(),Ry=jt().getFromId,m$=_u().prepSelect,b$=_u().clearOutline,x$=_u().selectOnClick,Dy=ly(),Ny=_n(),uS=Ny.MINDRAG,Xn=Ny.MINZOOM,fS=!0;function _$(e,r,t,n,a,o,i,l){var u=e._fullLayout._zoomlayer,s=i+l==="nsew",f=(i+l).length===1,h,p,_,m,w,T,y,k,S,b,M,d,x,g,c,A,v,D,E,R,N,F,I;t+=r.yaxis._shift;function L(){if(h=r.xaxis,p=r.yaxis,S=h._length,b=p._length,y=h._offset,k=p._offset,_={},_[h._id]=h,m={},m[p._id]=p,i&&l)for(var pe=r.overlays,ce=0;ce<pe.length;ce++){var be=pe[ce].xaxis;_[be._id]=be;var Le=pe[ce].yaxis;m[Le._id]=Le}w=dS(_),T=dS(m),x=cS(w,l),g=cS(T,i),c=!g&&!x,d=vS(e,e._fullLayout._axisMatchGroups,_,m),M=vS(e,e._fullLayout._axisConstraintGroups,_,m,d);var qe=M.isSubplotConstrained||d.isSubplotConstrained;A=l||qe,v=i||qe;var ze=e._fullLayout;D=ze._has("scattergl"),E=ze._has("splom"),R=ze._has("svg")}L();var P=T$(g+x,e._fullLayout.dragmode,s),O=mS(r,i+l+"drag",P,t,n,a,o);if(c&&!s)return O.onmousedown=null,O.style.pointerEvents="none",O;var U={element:O,gd:e,plotinfo:r};U.prepFn=function(pe,ce,be){var Le=U.dragmode,qe=e._fullLayout.dragmode;qe!==Le&&(U.dragmode=qe),L(),F=e._fullLayout._invScaleX,I=e._fullLayout._invScaleY,c||(s?pe.shiftKey?qe==="pan"?qe="zoom":Jv(qe)||(qe="pan"):pe.ctrlKey&&(qe="pan"):qe="pan"),v$(qe)?U.minDrag=1:U.minDrag=void 0,Jv(qe)?(U.xaxes=w,U.yaxes=T,m$(pe,ce,be,U,qe)):(U.clickFn=$,Jv(Le)&&X(),c||(qe==="zoom"?(U.moveFn=te,U.doneFn=ve,U.minDrag=1,V(pe,ce,be)):qe==="pan"&&(U.moveFn=Pe,U.doneFn=ge))),e._fullLayout._redrag=function(){var ze=e._dragdata;if(ze&&ze.element===O){var $e=e._fullLayout.dragmode;Jv($e)||(L(),we([0,0,S,b]),U.moveFn(ze.dx,ze.dy))}}};function X(){U.plotinfo.selection=!1,b$(e)}function $(pe,ce){var be=U.gd;if(be._fullLayout._activeShapeIndex>=0){be._fullLayout._deactivateShape(be);return}var Le=be._fullLayout.clickmode;if(Iy(be),pe===2&&!f&&Ue(),s)Le.indexOf("select")>-1&&x$(ce,be,w,T,r.id,U),Le.indexOf("event")>-1&&f$.click(be,ce,r.id);else if(pe===1&&f){var qe=i?p:h,ze=i==="s"||l==="w"?0:1,$e=qe._name+".range["+ze+"]",Ve=w$(qe,ze),Be="left",Ye="middle";if(qe.fixedrange)return;i?(Ye=i==="n"?"top":"bottom",qe.side==="right"&&(Be="right")):l==="e"&&(Be="right"),be._context.showAxisRangeEntryBoxes&&Fy.select(O).call(u$.makeEditable,{gd:be,immediate:!0,background:be._fullLayout.paper_bgcolor,text:String(Ve),fill:qe.tickfont?qe.tickfont.color:"#444",horizontalAlign:Be,verticalAlign:Ye}).on("edit",function(Me){var Re=qe.d2r(Me);Re!==void 0&&Zv.call("_guiRelayout",be,$e,Re)})}}h$.init(U);var j,Y,q,K,ne,Q,oe,re,H,ee;function V(pe,ce,be){var Le=O.getBoundingClientRect();j=ce-Le.left,Y=be-Le.top,e._fullLayout._calcInverseTransform(e);var qe=qa.apply3DTransform(e._fullLayout._invTransform)(j,Y);j=qe[0],Y=qe[1],q={l:j,r:j,w:0,t:Y,b:Y,h:0},K=e._hmpixcount?e._hmlumcount/e._hmpixcount:l$(e._fullLayout.plot_bgcolor).getLuminance(),ne="M0,0H"+S+"V"+b+"H0V0",Q=!1,oe="xy",ee=!1,re=bS(u,K,y,k,ne),H=xS(u,y,k)}function te(pe,ce){if(e._transitioningWithDuration)return!1;var be=Math.max(0,Math.min(S,F*pe+j)),Le=Math.max(0,Math.min(b,I*ce+Y)),qe=Math.abs(be-j),ze=Math.abs(Le-Y);q.l=Math.min(j,be),q.r=Math.max(j,be),q.t=Math.min(Y,Le),q.b=Math.max(Y,Le);function $e(){oe="",q.r=q.l,q.t=q.b,H.attr("d","M0,0Z")}if(M.isSubplotConstrained)qe>Xn||ze>Xn?(oe="xy",qe/S>ze/b?(ze=qe*b/S,Y>Le?q.t=Y-ze:q.b=Y+ze):(qe=ze*S/b,j>be?q.l=j-qe:q.r=j+qe),H.attr("d",Kv(q))):$e();else if(d.isSubplotConstrained)if(qe>Xn||ze>Xn){oe="xy";var Ve=Math.min(q.l/S,(b-q.b)/b),Be=Math.max(q.r/S,(b-q.t)/b);q.l=Ve*S,q.r=Be*S,q.b=(1-Ve)*b,q.t=(1-Be)*b,H.attr("d",Kv(q))}else $e();else!g||ze<Math.min(Math.max(qe*.6,uS),Xn)?qe<uS||!x?$e():(q.t=0,q.b=b,oe="x",H.attr("d",A$(q,Y))):!x||qe<Math.min(ze*.6,Xn)?(q.l=0,q.r=S,oe="y",H.attr("d",k$(q,j))):(oe="xy",H.attr("d",Kv(q)));q.w=q.r-q.l,q.h=q.b-q.t,oe&&(ee=!0),e._dragged=ee,_S(re,H,q,ne,Q,K),ue(),e.emit("plotly_relayouting",N),Q=!0}function ue(){N={},(oe==="xy"||oe==="x")&&(Py(w,q.l/S,q.r/S,N,M.xaxes),Ee("x",N)),(oe==="xy"||oe==="y")&&(Py(T,(b-q.b)/b,(b-q.t)/b,N,M.yaxes),Ee("y",N))}function ve(){ue(),Iy(e),ge(),MS(e)}var ke=[0,0,S,b],Se=null,he=Ny.REDRAWDELAY,Ae=r.mainplot?e._fullLayout._plots[r.mainplot]:r;function Ce(pe){if(!e._context._scrollZoom.cartesian&&!e._fullLayout._enablescrollzoom)return;if(X(),e._transitioningWithDuration){pe.preventDefault(),pe.stopPropagation();return}L(),clearTimeout(Se);var ce=-pe.deltaY;if(isFinite(ce)||(ce=pe.wheelDelta/10),!isFinite(ce)){qa.log("Did not find wheel motion attributes: ",pe);return}var be=Math.exp(-Math.min(Math.max(ce,-20),20)/200),Le=Ae.draglayer.select(".nsewdrag").node().getBoundingClientRect(),qe=(pe.clientX-Le.left)/Le.width,ze=(Le.bottom-pe.clientY)/Le.height,$e;function Ve(Be,Ye,Me){if(Be.fixedrange)return;var Re=qa.simpleMap(Be.range,Be.r2l),Qe=Re[0]+(Re[1]-Re[0])*Ye;function Ke(ar){return Be.l2r(Qe+(ar-Qe)*Me)}Be.range=Re.map(Ke)}if(A){for(l||(qe=.5),$e=0;$e<w.length;$e++)Ve(w[$e],qe,be);Ee("x"),ke[2]*=be,ke[0]+=ke[2]*qe*(1/be-1)}if(v){for(i||(ze=.5),$e=0;$e<T.length;$e++)Ve(T[$e],ze,be);Ee("y"),ke[3]*=be,ke[1]+=ke[3]*(1-ze)*(1/be-1)}we(ke),Ne(),e.emit("plotly_relayouting",N),Se=setTimeout(function(){e._fullLayout&&(ke=[0,0,S,b],ge())},he),pe.preventDefault()}i.length*l.length!==1&&TS(O,Ce);function Pe(pe,ce){if(pe=pe*F,ce=ce*I,e._transitioningWithDuration)return;if(e._fullLayout._replotting=!0,x==="ew"||g==="ns"){var be=x?-pe:0,Le=g?-ce:0;if(d.isSubplotConstrained){if(x&&g){var qe=(pe/S-ce/b)/2;pe=qe*S,ce=-qe*b,be=-pe,Le=-ce}g?be=-Le*S/b:Le=-be*b/S}x&&(hS(w,pe),Ee("x")),g&&(hS(T,ce),Ee("y")),we([be,Le,S,b]),Ne(),e.emit("plotly_relayouting",N);return}function ze(Ke,ar,se){for(var J=1-ar,ae,De,He=0;He<Ke.length;He++){var er=Ke[He];if(!er.fixedrange){ae=er,De=er._rl[J]+(er._rl[ar]-er._rl[J])/M$(se/er._length);var nr=er.l2r(De);nr!==!1&&nr!==void 0&&(er.range[ar]=nr)}}return ae._length*(ae._rl[ar]-De)/(ae._rl[ar]-ae._rl[J])}var $e=x==="w"==(g==="n")?1:-1;if(x&&g&&(M.isSubplotConstrained||d.isSubplotConstrained)){var Ve=(pe/S+$e*ce/b)/2;pe=Ve*S,ce=$e*Ve*b}var Be,Ye;if(x==="w"?pe=ze(w,0,pe):x==="e"?pe=ze(w,1,-pe):x||(pe=0),g==="n"?ce=ze(T,1,ce):g==="s"?ce=ze(T,0,-ce):g||(ce=0),Be=x==="w"?pe:0,Ye=g==="n"?ce:0,M.isSubplotConstrained&&!d.isSubplotConstrained||d.isSubplotConstrained&&x&&g&&$e>0){var Me;if(d.isSubplotConstrained||!x&&g.length===1){for(Me=0;Me<w.length;Me++)w[Me].range=w[Me]._r.slice(),Dy(w[Me],1-ce/b);pe=ce*S/b,Be=pe/2}if(d.isSubplotConstrained||!g&&x.length===1){for(Me=0;Me<T.length;Me++)T[Me].range=T[Me]._r.slice(),Dy(T[Me],1-pe/S);ce=pe*b/S,Ye=ce/2}}(!d.isSubplotConstrained||!g)&&Ee("x"),(!d.isSubplotConstrained||!x)&&Ee("y");var Re=S-pe,Qe=b-ce;d.isSubplotConstrained&&!(x&&g)&&(x?(Ye=Be?0:pe*b/S,Qe=Re*b/S):(Be=Ye?0:ce*S/b,Re=Qe*S/b)),we([Be,Ye,Re,Qe]),Ne(),e.emit("plotly_relayouting",N)}function Ee(pe,ce){for(var be=d.isSubplotConstrained?{x:T,y:w}[pe]:d[pe+"axes"],Le=d.isSubplotConstrained?{x:w,y:T}[pe]:[],qe=0;qe<be.length;qe++){var ze=be[qe],$e=ze._id,Ve=d.xLinks[$e]||d.yLinks[$e],Be=Le[0]||_[Ve]||m[Ve];Be&&(ce?(ce[ze._name+".range[0]"]=ce[Be._name+".range[0]"],ce[ze._name+".range[1]"]=ce[Be._name+".range[1]"]):ze.range=Be.range.slice())}}function Ne(){var pe=[],ce;function be($e){for(ce=0;ce<$e.length;ce++)$e[ce].fixedrange||pe.push($e[ce]._id)}function Le($e,Ve){for(ce=0;ce<$e.length;ce++){var Be=$e[ce],Ye=Be[Ve];!Be.fixedrange&&Ye.tickmode==="sync"&&pe.push(Ye._id)}}for(A&&(be(w),be(M.xaxes),be(d.xaxes),Le(r.overlays,"xaxis")),v&&(be(T),be(M.yaxes),be(d.yaxes),Le(r.overlays,"yaxis")),N={},ce=0;ce<pe.length;ce++){var qe=pe[ce],ze=Ry(e,qe);sS.drawOne(e,ze,{skipTitle:!0}),N[ze._name+".range[0]"]=ze.range[0],N[ze._name+".range[1]"]=ze.range[1]}sS.redrawComponents(e,pe)}function Ue(){if(!e._transitioningWithDuration){var pe=e._context.doubleClick,ce=[];x&&(ce=ce.concat(w)),g&&(ce=ce.concat(T)),d.xaxes&&(ce=ce.concat(d.xaxes)),d.yaxes&&(ce=ce.concat(d.yaxes));var be={},Le,qe;if(pe==="reset+autosize")for(pe="autosize",qe=0;qe<ce.length;qe++){Le=ce[qe];var ze=Le._rangeInitial0,$e=Le._rangeInitial1,Ve=ze!==void 0||$e!==void 0;if(Ve&&(ze!==void 0&&ze!==Le.range[0]||$e!==void 0&&$e!==Le.range[1])||!Ve&&Le.autorange!==!0){pe="reset";break}}if(pe==="autosize")for(qe=0;qe<ce.length;qe++)Le=ce[qe],Le.fixedrange||(be[Le._name+".autorange"]=!0);else if(pe==="reset"){for((x||M.isSubplotConstrained)&&(ce=ce.concat(M.xaxes)),g&&!M.isSubplotConstrained&&(ce=ce.concat(M.yaxes)),M.isSubplotConstrained&&(x?g||(ce=ce.concat(T)):ce=ce.concat(w)),qe=0;qe<ce.length;qe++)if(Le=ce[qe],!Le.fixedrange){var Be=Le._name,Ye=Le._autorangeInitial;Le._rangeInitial0===void 0&&Le._rangeInitial1===void 0?be[Be+".autorange"]=!0:Le._rangeInitial0===void 0?(be[Be+".autorange"]=Ye,be[Be+".range"]=[null,Le._rangeInitial1]):Le._rangeInitial1===void 0?(be[Be+".range"]=[Le._rangeInitial0,null],be[Be+".autorange"]=Ye):be[Be+".range"]=[Le._rangeInitial0,Le._rangeInitial1]}}e.emit("plotly_doubleclick",null),Zv.call("_guiRelayout",e,be)}}function ge(){we([0,0,S,b]),qa.syncOrAsync([y$.previousPromises,function(){e._fullLayout._replotting=!1,Zv.call("_guiRelayout",e,N)}],e)}function we(pe){var ce=e._fullLayout,be=ce._plots,Le=ce._subplots.cartesian,qe,ze,$e,Ve;if(E&&Zv.subplotsRegistry.splom.drag(e),D){for(qe=0;qe<Le.length;qe++)if(ze=be[Le[qe]],$e=ze.xaxis,Ve=ze.yaxis,ze._scene){$e.limitRange&&$e.limitRange(),Ve.limitRange&&Ve.limitRange();var Be=qa.simpleMap($e.range,$e.r2l),Ye=qa.simpleMap(Ve.range,Ve.r2l);ze._scene.update({range:[Be[0],Ye[0],Be[1],Ye[1]]})}}if((E||D)&&(p$(e),g$(e)),R){var Me=pe[2]/h._length,Re=pe[3]/p._length;for(qe=0;qe<Le.length;qe++){ze=be[Le[qe]],$e=ze.xaxis,Ve=ze.yaxis;var Qe=(A||d.isSubplotConstrained)&&!$e.fixedrange&&_[$e._id],Ke=(v||d.isSubplotConstrained)&&!Ve.fixedrange&&m[Ve._id],ar,se,J,ae;if(Qe?(ar=Me,J=l||d.isSubplotConstrained?pe[0]:ye($e,ar)):d.xaHash[$e._id]?(ar=Me,J=pe[0]*$e._length/h._length):d.yaHash[$e._id]?(ar=Re,J=g==="ns"?-pe[1]*$e._length/p._length:ye($e,ar,{n:"top",s:"bottom"}[g])):(ar=Te($e,Me,Re),J=me($e,ar)),ar>1&&($e.maxallowed!==void 0&&A===($e.range[0]<$e.range[1]?"e":"w")||$e.minallowed!==void 0&&A===($e.range[0]<$e.range[1]?"w":"e"))&&(ar=1,J=0),Ke?(se=Re,ae=i||d.isSubplotConstrained?pe[1]:ye(Ve,se)):d.yaHash[Ve._id]?(se=Re,ae=pe[1]*Ve._length/p._length):d.xaHash[Ve._id]?(se=Me,ae=x==="ew"?-pe[0]*Ve._length/h._length:ye(Ve,se,{e:"right",w:"left"}[x])):(se=Te(Ve,Me,Re),ae=me(Ve,se)),se>1&&(Ve.maxallowed!==void 0&&v===(Ve.range[0]<Ve.range[1]?"n":"s")||Ve.minallowed!==void 0&&v===(Ve.range[0]<Ve.range[1]?"s":"n"))&&(se=1,ae=0),!(!ar&&!se)){ar||(ar=1),se||(se=1);var De=$e._offset-J/ar,He=Ve._offset-ae/se;ze.clipRect.call(Zo.setTranslate,J,ae).call(Zo.setScale,ar,se),ze.plot.call(Zo.setTranslate,De,He).call(Zo.setScale,1/ar,1/se),(ar!==ze.xScaleFactor||se!==ze.yScaleFactor)&&(Zo.setPointGroupScale(ze.zoomScalePts,ar,se),Zo.setTextPointsScale(ze.zoomScaleTxt,ar,se)),Zo.hideOutsideRangePoints(ze.clipOnAxisFalseTraces,ze),ze.xScaleFactor=ar,ze.yScaleFactor=se}}}}function Te(pe,ce,be){return pe.fixedrange?0:A&&M.xaHash[pe._id]?ce:v&&(M.isSubplotConstrained?M.xaHash:M.yaHash)[pe._id]?be:0}function me(pe,ce){return ce?(pe.range=pe._r.slice(),Dy(pe,ce),ye(pe,ce)):0}function ye(pe,ce,be){return pe._length*(1-ce)*d$[be||pe.constraintoward||"middle"]}return O}function yS(e,r,t,n){var a=qa.ensureSingle(e.draglayer,r,t,function(o){o.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return a.call(c$,n),a.node()}function mS(e,r,t,n,a,o,i){var l=yS(e,"rect",r,t);return Fy.select(l).call(Zo.setRect,n,a,o,i),l}function cS(e,r){for(var t=0;t<e.length;t++)if(!e[t].fixedrange)return r;return""}function w$(e,r){var t=e.range[r],n=Math.abs(t-e.range[1-r]),a;return e.type==="date"?t:e.type==="log"?(a=Math.ceil(Math.max(0,-Math.log(n)/Math.LN10))+3,oS("."+a+"g")(Math.pow(10,t))):(a=Math.floor(Math.log(Math.abs(t))/Math.LN10)-Math.floor(Math.log(n)/Math.LN10)+4,oS("."+String(a)+"g")(t))}function Py(e,r,t,n,a){for(var o=0;o<e.length;o++){var i=e[o];if(!i.fixedrange)if(i.rangebreaks){var l=i._id.charAt(0)==="y",u=l?1-r:r,s=l?1-t:t;n[i._name+".range[0]"]=i.l2r(i.p2l(u*i._length)),n[i._name+".range[1]"]=i.l2r(i.p2l(s*i._length))}else{var f=i._rl[0],h=i._rl[1]-f;n[i._name+".range[0]"]=i.l2r(f+h*r),n[i._name+".range[1]"]=i.l2r(f+h*t)}}if(a&&a.length){var p=(r+(1-t))/2;Py(a,p,1-p,n,[])}}function hS(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(!n.fixedrange){if(n.rangebreaks){var a=0,o=n._length,i=n.p2l(a+r)-n.p2l(a),l=n.p2l(o+r)-n.p2l(o),u=(i+l)/2;n.range=[n.l2r(n._rl[0]-u),n.l2r(n._rl[1]-u)]}else n.range=[n.l2r(n._rl[0]-r/n._m),n.l2r(n._rl[1]-r/n._m)];n.limitRange&&n.limitRange()}}}function M$(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function T$(e,r,t){return e?e==="nsew"?t?"":r==="pan"?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function bS(e,r,t,n,a){return e.append("path").attr("class","zoombox").style({fill:r>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",pS(t,n)).attr("d",a+"Z")}function xS(e,r,t){return e.append("path").attr("class","zoombox-corners").style({fill:lS.background,stroke:lS.defaultLine,"stroke-width":1,opacity:0}).attr("transform",pS(r,t)).attr("d","M0,0Z")}function _S(e,r,t,n,a,o){e.attr("d",n+"M"+t.l+","+t.t+"v"+t.h+"h"+t.w+"v-"+t.h+"h-"+t.w+"Z"),wS(e,r,a,o)}function wS(e,r,t,n){t||(e.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),r.transition().style("opacity",1).duration(200))}function Iy(e){Fy.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function MS(e){fS&&e.data&&e._context.showTips&&(qa.notifier(qa._(e,"Double-click to zoom back out"),"long"),fS=!1)}function A$(e,r){return"M"+(e.l-.5)+","+(r-Xn-.5)+"h-3v"+(2*Xn+1)+"h3ZM"+(e.r+.5)+","+(r-Xn-.5)+"h3v"+(2*Xn+1)+"h-3Z"}function k$(e,r){return"M"+(r-Xn-.5)+","+(e.t-.5)+"v-3h"+(2*Xn+1)+"v3ZM"+(r-Xn-.5)+","+(e.b+.5)+"v3h"+(2*Xn+1)+"v-3Z"}function Kv(e){var r=Math.floor(Math.min(e.b-e.t,e.r-e.l,Xn)/2);return"M"+(e.l-3.5)+","+(e.t-.5+r)+"h3v"+-r+"h"+r+"v-3h-"+(r+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+r)+"h-3v"+-r+"h"+-r+"v-3h"+(r+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-r)+"h-3v"+r+"h"+-r+"v3h"+(r+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-r)+"h3v"+r+"h"+r+"v3h-"+(r+3)+"Z"}function vS(e,r,t,n,a){for(var o=!1,i={},l={},u,s,f,h,p=(a||{}).xaHash,_=(a||{}).yaHash,m=0;m<r.length;m++){var w=r[m];for(u in t)if(w[u]){for(f in w)!(a&&(p[f]||_[f]))&&!(f.charAt(0)==="x"?t:n)[f]&&(i[f]=u);for(s in n)!(a&&(p[s]||_[s]))&&w[s]&&(o=!0)}for(s in n)if(w[s])for(h in w)!(a&&(p[h]||_[h]))&&!(h.charAt(0)==="x"?t:n)[h]&&(l[h]=s)}o&&(qa.extendFlat(i,l),l={});var T={},y=[];for(f in i){var k=Ry(e,f);y.push(k),T[k._id]=k}var S={},b=[];for(h in l){var M=Ry(e,h);b.push(M),S[M._id]=M}return{xaHash:T,yaHash:S,xaxes:y,yaxes:b,xLinks:i,yLinks:l,isSubplotConstrained:o}}function TS(e,r){if(!s$)e.onwheel!==void 0?e.onwheel=r:e.onmousewheel!==void 0?e.onmousewheel=r:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",r,{passive:!1}));else{var t=e.onwheel!==void 0?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(t,e._onwheel),e._onwheel=r,e.addEventListener(t,r,{passive:!1})}}function dS(e){var r=[];for(var t in e)r.push(e[t]);return r}AS.exports={makeDragBox:_$,makeDragger:yS,makeRectDragger:mS,makeZoombox:bS,makeCorners:xS,updateZoombox:_S,xyCorners:Kv,transitionZoombox:wS,removeZoombox:Iy,showDoubleClickNotifier:MS,attachWheelEventHandler:TS}});var zy=de($v=>{"use strict";var S$=it(),Qv=io(),C$=ni(),E$=Vo(),oi=kS().makeDragBox,fn=_n().DRAGGERSIZE;$v.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){S$.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var n=Object.keys(t._plots||{}).sort(function(o,i){if((t._plots[o].mainplot&&!0)===(t._plots[i].mainplot&&!0)){var l=o.split("y"),u=i.split("y");return l[0]===u[0]?Number(l[1]||1)-Number(u[1]||1):Number(l[0]||1)-Number(u[0]||1)}return t._plots[o].mainplot?1:-1});n.forEach(function(o){var i=t._plots[o],l=i.xaxis,u=i.yaxis;if(!i.mainplot){var s=oi(r,i,l._offset,u._offset,l._length,u._length,"ns","ew");s.onmousemove=function(p){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===o&&r._fullLayout._plots[o]&&Qv.hover(r,p,o)},Qv.hover(r,p,o),r._fullLayout._lasthover=s,r._fullLayout._hoversubplot=o},s.onmouseout=function(p){r._dragging||(r._fullLayout._hoversubplot=null,C$.unhover(r,p))},r._context.showAxisDragHandles&&(oi(r,i,l._offset-fn,u._offset-fn,fn,fn,"n","w"),oi(r,i,l._offset+l._length,u._offset-fn,fn,fn,"n","e"),oi(r,i,l._offset-fn,u._offset+u._length,fn,fn,"s","w"),oi(r,i,l._offset+l._length,u._offset+u._length,fn,fn,"s","e"))}if(r._context.showAxisDragHandles){if(o===l._mainSubplot){var f=l._mainLinePosition;l.side==="top"&&(f-=fn),oi(r,i,l._offset+l._length*.1,f,l._length*.8,fn,"","ew"),oi(r,i,l._offset,f,l._length*.1,fn,"","w"),oi(r,i,l._offset+l._length*.9,f,l._length*.1,fn,"","e")}if(o===u._mainSubplot){var h=u._mainLinePosition;u.side!=="right"&&(h-=fn),oi(r,i,h,u._offset+u._length*.1,fn,u._length*.8,"ns",""),oi(r,i,h,u._offset+u._length*.9,fn,u._length*.1,"s",""),oi(r,i,h,u._offset,fn,u._length*.1,"n","")}}});var a=t._hoverlayer.node();a.onmousemove=function(o){o.target=r._fullLayout._lasthover,Qv.hover(r,o,t._hoversubplot)},a.onclick=function(o){o.target=r._fullLayout._lasthover,Qv.click(r,o)},a.onmousedown=function(o){r._fullLayout._lasthover.onmousedown(o)},$v.updateFx(r)}};$v.updateFx=function(e){var r=e._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";E$(r._draggers,t)}});var ES=de((dve,CS)=>{"use strict";var SS=Cr();CS.exports=function(r){for(var t=SS.layoutArrayContainers,n=SS.layoutArrayRegexes,a=r.split("[")[0],o,i,l=0;l<n.length;l++)if(i=r.match(n[l]),i&&i.index===0){o=i[0];break}if(o||(o=t[t.indexOf(a)]),!o)return!1;var u=r.substr(o.length);return u?(i=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),i?{array:o,index:Number(i[1]),property:i[3]||""}:!1):{array:o,index:"",property:""}}});var DS=de(d0=>{"use strict";var L$=wo(),qy=qc(),v0=kl(),D$=Pp().sorterAsc,Oy=Cr();d0.containerArrayMatch=ES();var R$=d0.isAddVal=function(r){return r==="add"||L$(r)},LS=d0.isRemoveVal=function(r){return r===null||r==="remove"};d0.applyContainerArrayChanges=function(r,t,n,a,o){var i=t.astr,l=Oy.getComponentMethod(i,"supplyLayoutDefaults"),u=Oy.getComponentMethod(i,"draw"),s=Oy.getComponentMethod(i,"drawOne"),f=a.replot||a.recalc||l===qy||u===qy,h=r.layout,p=r._fullLayout;if(n[""]){Object.keys(n).length>1&&v0.warn("Full array edits are incompatible with other edits",i);var _=n[""][""];if(LS(_))t.set(null);else if(Array.isArray(_))t.set(_);else return v0.warn("Unrecognized full array edit value",i,_),!0;return f?!1:(l(h,p),u(r),!0)}var m=Object.keys(n).map(Number).sort(D$),w=t.get(),T=w||[],y=o(p,i).get(),k=[],S=-1,b=T.length,M,d,x,g,c,A,v,D;for(M=0;M<m.length;M++){if(x=m[M],g=n[x],c=Object.keys(g),A=g[""],v=R$(A),x<0||x>T.length-(v?0:1)){v0.warn("index out of range",i,x);continue}if(A!==void 0)c.length>1&&v0.warn("Insertion & removal are incompatible with edits to the same index.",i,x),LS(A)?k.push(x):v?(A==="add"&&(A={}),T.splice(x,0,A),y&&y.splice(x,0,{})):v0.warn("Unrecognized full object edit value",i,x,A),S===-1&&(S=x);else for(d=0;d<c.length;d++)D=i+"["+x+"].",o(T[x],c[d],D).set(g[c[d]])}for(M=k.length-1;M>=0;M--)T.splice(k[M],1),y&&y.splice(k[M],1);if(T.length?w||t.set(T):t.set(null),f)return!1;if(l(h,p),s!==qy){var E;if(S===-1)E=m;else{for(b=Math.max(T.length,b),E=[],M=0;M<m.length&&(x=m[M],!(x>=S));M++)E.push(x);for(M=S;M<b;M++)E.push(M)}for(M=0;M<E.length;M++)s(r,E[M])}else u(r);return!0}});var OS=de(Oa=>{"use strict";var FS=nt(),NS=Cr(),Vn=ir(),p0=on(),zS=jt(),qS=Xr(),g0=zS.cleanId,P$=zS.getFromTrace,By=NS.traceIs,I$=["x","y","z"];Oa.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&Vn.log("Clearing previous rejected promises from queue."),e._promises=[]};Oa.cleanLayout=function(e){var r,t;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var n=(p0.subplotsRegistry.cartesian||{}).attrRegex,a=(p0.subplotsRegistry.polar||{}).attrRegex,o=(p0.subplotsRegistry.ternary||{}).attrRegex,i=(p0.subplotsRegistry.gl3d||{}).attrRegex,l=Object.keys(e);for(r=0;r<l.length;r++){var u=l[r];if(n&&n.test(u)){var s=e[u];s.anchor&&s.anchor!=="free"&&(s.anchor=g0(s.anchor)),s.overlaying&&(s.overlaying=g0(s.overlaying)),s.type||(s.isdate?s.type="date":s.islog?s.type="log":s.isdate===!1&&s.islog===!1&&(s.type="linear")),(s.autorange==="withzero"||s.autorange==="tozero")&&(s.autorange=!0,s.rangemode="tozero"),s.insiderange&&delete s.range,delete s.islog,delete s.isdate,delete s.categories,jv(s,"domain")&&delete s.domain}}var f=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<f;r++){var h=e.annotations[r];Vn.isPlainObject(h)&&(wu(h,"xref"),wu(h,"yref"))}var p=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<p;r++){var _=e.shapes[r];Vn.isPlainObject(_)&&(wu(_,"xref"),wu(_,"yref"))}var m=Array.isArray(e.images)?e.images.length:0;for(r=0;r<m;r++){var w=e.images[r];Vn.isPlainObject(w)&&(wu(w,"xref"),wu(w,"yref"))}var T=e.legend;return T&&(T.x>3?(T.x=1.02,T.xanchor="left"):T.x<-2&&(T.x=-.02,T.xanchor="right"),T.y>3?(T.y=1.02,T.yanchor="bottom"):T.y<-2&&(T.y=-.02,T.yanchor="top")),e.dragmode==="rotate"&&(e.dragmode="orbit"),qS.clean(e),e.template&&e.template.layout&&Oa.cleanLayout(e.template.layout),e};function wu(e,r){var t=e[r],n=r.charAt(0);t&&t!=="paper"&&(e[r]=g0(t,n,!0))}Oa.cleanData=function(e){for(var r=0;r<e.length;r++){var t=e[r],n;if(t.type==="histogramy"&&"xbins"in t&&!("ybins"in t)&&(t.ybins=t.xbins,delete t.xbins),t.type==="histogramy"&&Oa.swapXYData(t),(t.type==="histogramx"||t.type==="histogramy")&&(t.type="histogram"),"scl"in t&&!("colorscale"in t)&&(t.colorscale=t.scl,delete t.scl),"reversescl"in t&&!("reversescale"in t)&&(t.reversescale=t.reversescl,delete t.reversescl),t.xaxis&&(t.xaxis=g0(t.xaxis,"x")),t.yaxis&&(t.yaxis=g0(t.yaxis,"y")),By(t,"gl3d")&&t.scene&&(t.scene=p0.subplotsRegistry.gl3d.cleanId(t.scene)),!By(t,"pie-like")&&!By(t,"bar-like"))if(Array.isArray(t.textposition))for(n=0;n<t.textposition.length;n++)t.textposition[n]=PS(t.textposition[n]);else t.textposition&&(t.textposition=PS(t.textposition));var a=NS.getModule(t);if(a&&a.colorbar){var o=a.colorbar.container,i=o?t[o]:t;i&&i.colorscale&&(i.colorscale==="YIGnBu"&&(i.colorscale="YlGnBu"),i.colorscale==="YIOrRd"&&(i.colorscale="YlOrRd"))}if(t.type==="surface"&&Vn.isPlainObject(t.contours)){var l=["x","y","z"];for(n=0;n<l.length;n++){var u=t.contours[l[n]];Vn.isPlainObject(u)&&(u.highlightColor&&(u.highlightcolor=u.highlightColor,delete u.highlightColor),u.highlightWidth&&(u.highlightwidth=u.highlightWidth,delete u.highlightWidth))}}if(t.type==="candlestick"||t.type==="ohlc"){var s=(t.increasing||{}).showlegend!==!1,f=(t.decreasing||{}).showlegend!==!1,h=RS(t.increasing),p=RS(t.decreasing);if(h!==!1&&p!==!1){var _=F$(h,p,s,f);_&&(t.name=_)}else(h||p)&&!t.name&&(t.name=h||p)}jv(t,"line")&&delete t.line,"marker"in t&&(jv(t.marker,"line")&&delete t.marker.line,jv(t,"marker")&&delete t.marker),qS.clean(t),t.autobinx&&(delete t.autobinx,delete t.xbins),t.autobiny&&(delete t.autobiny,delete t.ybins)}};function RS(e){if(!Vn.isPlainObject(e))return!1;var r=e.name;return delete e.name,delete e.showlegend,(typeof r=="string"||typeof r=="number")&&String(r)}function F$(e,r,t,n){if(t&&!n)return e;if(n&&!t||!e.trim())return r;if(!r.trim())return e;var a=Math.min(e.length,r.length),o;for(o=0;o<a&&e.charAt(o)===r.charAt(o);o++);var i=e.substr(0,o);return i.trim()}function PS(e){var r="middle",t="center";return typeof e=="string"&&(e.indexOf("top")!==-1?r="top":e.indexOf("bottom")!==-1&&(r="bottom"),e.indexOf("left")!==-1?t="left":e.indexOf("right")!==-1&&(t="right")),r+" "+t}function jv(e,r){return r in e&&typeof e[r]=="object"&&Object.keys(e[r]).length===0}Oa.swapXYData=function(e){var r;if(Vn.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var t=e.error_y,n="copy_ystyle"in t?t.copy_ystyle:!(t.color||t.thickness||t.width);Vn.swapAttrs(e,["error_?.copy_ystyle"]),n&&Vn.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if(typeof e.hoverinfo=="string"){var a=e.hoverinfo.split("+");for(r=0;r<a.length;r++)a[r]==="x"?a[r]="y":a[r]==="y"&&(a[r]="x");e.hoverinfo=a.join("+")}};Oa.coerceTraceIndices=function(e,r){if(FS(r))return[r];if(!Array.isArray(r)||!r.length)return e.data.map(function(a,o){return o});if(Array.isArray(r)){for(var t=[],n=0;n<r.length;n++)Vn.isIndex(r[n],e.data.length)?t.push(r[n]):Vn.warn("trace index (",r[n],") is not a number or is out of bounds");return t}return r};Oa.manageArrayContainers=function(e,r,t){var n=e.obj,a=e.parts,o=a.length,i=a[o-1],l=FS(i);if(l&&r===null){var u=a.slice(0,o-1).join("."),s=Vn.nestedProperty(n,u).get();s.splice(i,1)}else l&&e.get()===void 0&&e.get()===void 0&&(t[e.astr]=null),e.set(r)};var N$=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function IS(e){var r=e.search(N$);if(r>0)return e.substr(0,r)}Oa.hasParent=function(e,r){for(var t=IS(r);t;){if(t in e)return!0;t=IS(t)}return!1};Oa.clearAxisTypes=function(e,r,t){for(var n=0;n<r.length;n++)for(var a=e._fullData[n],o=0;o<3;o++){var i=P$(e,a,I$[o]);if(i&&i.type!=="log"){var l=i._name,u=i._id.substr(1);if(u.substr(0,5)==="scene"){if(t[u]!==void 0)continue;l=u+"."+l}var s=l+".type";t[l]===void 0&&t[s]===void 0&&Vn.nestedProperty(e.layout,s).set(null)}}};var Uy=(e,r)=>{let t=(...n)=>n.every(a=>Vn.isPlainObject(a))||n.every(a=>Array.isArray(a));if([e,r].every(n=>Array.isArray(n))){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++){let a=e[n],o=r[n];if(a!==o&&!(t(a,o)?Uy(a,o):!1))return!1}return!0}else if([e,r].every(n=>Vn.isPlainObject(n))){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(let n in e){if(n.startsWith("_"))continue;let a=e[n],o=r[n];if(a!==o&&!(t(a,o)?Uy(a,o):!1))return!1}return!0}return!1};Oa.collectionsAreEqual=Uy});var Xy=de(et=>{"use strict";var t1=it(),z$=nt(),q$=Wp(),dr=ir(),wt=dr.nestedProperty,Gy=Mf(),Zn=gw(),Ba=Cr(),u1=Ys(),Lr=on(),Gn=Lt(),O$=d2(),B$=La(),Hy=mt(),U$=Xr(),H$=zy().initInteractions,V$=Fo(),G$=_u().clearOutline,GS=Al().dfltConfig,e1=DS(),Gt=OS(),ht=Iv(),Jo=zn(),Y$=_n().AX_NAME_PATTERN,Vy=0,BS=5;function W$(e,r,t,n){var a;if(e=dr.getGraphDiv(e),Gy.init(e),dr.isPlainObject(r)){var o=r;r=o.data,t=o.layout,n=o.config,a=o.frames}var i=Gy.triggerHandler(e,"plotly_beforeplot",[r,t,n]);if(i===!1)return Promise.reject();!r&&!t&&!dr.isPlotDiv(e)&&dr.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",e);function l(){if(a)return et.addFrames(e,a)}WS(e,n),t||(t={}),t1.select(e).classed("js-plotly-plot",!0),Hy.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var u=(e.data||[]).length===0&&Array.isArray(r);Array.isArray(r)&&(Gt.cleanData(r),u?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),(!e.layout||u)&&(e.layout=Gt.cleanLayout(t)),Lr.supplyDefaults(e);var s=e._fullLayout,f=s._has("cartesian");s._replotting=!0,(u||s._shouldCreateBgLayer)&&(pj(e),s._shouldCreateBgLayer&&delete s._shouldCreateBgLayer),Hy.initGradients(e),Hy.initPatterns(e),u&&Gn.saveShowSpikeInitial(e);var h=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;h&&Lr.doCalcdata(e);for(var p=0;p<e.calcdata.length;p++)e.calcdata[p][0].trace=e._fullData[p];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){dr.isHidden(e)||Lr.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):dr.clearResponsive(e);var _=dr.extendFlat({},s._size),m=0;function w(){for(var x=s._basePlotModules,g=0;g<x.length;g++)x[g].drawFramework&&x[g].drawFramework(e);!s._glcanvas&&s._has("gl")&&(s._glcanvas=s._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(D){return D.key}),s._glcanvas.enter().append("canvas").attr("class",function(D){return"gl-canvas gl-canvas-"+D.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var c=e._context.plotGlPixelRatio;if(s._glcanvas){s._glcanvas.attr("width",s.width*c).attr("height",s.height*c).style("width",s.width+"px").style("height",s.height+"px");var A=s._glcanvas.data()[0].regl;if(A&&(Math.floor(s.width*c)!==A._gl.drawingBufferWidth||Math.floor(s.height*c)!==A._gl.drawingBufferHeight)){var v="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(m)dr.error(v);else return dr.log(v+" Clearing graph and plotting again."),Lr.cleanPlot([],{},e._fullData,s),Lr.supplyDefaults(e),s=e._fullLayout,Lr.doCalcdata(e),m++,w()}}return s.modebar.orientation==="h"?s._modebardiv.style("height",null).style("width","100%"):s._modebardiv.style("width",null).style("height",s.height+"px"),Lr.previousPromises(e)}function T(){if(Lr.clearAutoMarginIds(e),ht.drawMarginPushers(e),Gn.allowAutoMargin(e),e._fullLayout.title.text&&e._fullLayout.title.automargin&&Lr.allowAutoMargin(e,"title.automargin"),s._has("pie"))for(var x=e._fullData,g=0;g<x.length;g++){var c=x[g];c.type==="pie"&&c.automargin&&Lr.allowAutoMargin(e,"pie."+c.uid+".automargin")}return Lr.doAutoMargin(e),Lr.previousPromises(e)}function y(){if(Lr.didMarginChange(_,s._size))return dr.syncOrAsync([T,ht.layoutStyles],e)}function k(){if(!h){S();return}return dr.syncOrAsync([Ba.getComponentMethod("shapes","calcAutorange"),Ba.getComponentMethod("annotations","calcAutorange"),S],e)}function S(){e._transitioning||(ht.doAutoRangeAndConstraints(e),u&&Gn.saveRangeInitial(e),Ba.getComponentMethod("rangeslider","calcAutorange")(e))}function b(){return Gn.draw(e,u?"":"redraw")}var M=[Lr.previousPromises,l,w,T,y];f&&M.push(k),M.push(ht.layoutStyles),f&&M.push(b,function(g){var c=g._fullLayout._insideTickLabelsUpdaterange;if(c)return g._fullLayout._insideTickLabelsUpdaterange=void 0,y0(g,c).then(function(){Gn.saveRangeInitial(g,!0)})}),M.push(ht.drawData,ht.finalDraw,H$,Lr.addLinks,Lr.rehover,Lr.redrag,Lr.reselect,Lr.doAutoMargin,Lr.previousPromises);var d=dr.syncOrAsync(M,e);return(!d||!d.then)&&(d=Promise.resolve()),d.then(function(){return m0(e),e})}function m0(e){var r=e._fullLayout;r._redrawFromAutoMarginCount?r._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function X$(e){return dr.extendFlat(GS,e)}function YS(e,r){try{e._fullLayout._paper.style("background",r)}catch(t){dr.error(t)}}function Z$(e,r){var t=U$.combine(r,"white");YS(e,t)}function WS(e,r){if(!e._context){e._context=dr.extendDeep({},GS);var t=t1.select("base");e._context._baseUrl=t.size()&&t.attr("href")?window.location.href.split("#")[0]:""}var n=e._context,a,o,i;if(r){for(o=Object.keys(r),a=0;a<o.length;a++)i=o[a],!(i==="editable"||i==="edits")&&i in n&&(i==="setBackground"&&r[i]==="opaque"?n[i]=Z$:n[i]=r[i]);var l=r.editable;if(l!==void 0)for(n.editable=l,o=Object.keys(n.edits),a=0;a<o.length;a++)n.edits[o[a]]=l;if(r.edits)for(o=Object.keys(r.edits),a=0;a<o.length;a++)i=o[a],i in n.edits&&(n.edits[i]=r.edits[i]);n._exportedPlot=r._exportedPlot}n.staticPlot&&(n.editable=!1,n.edits={},n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1),n.displayModeBar==="hover"&&!q$&&(n.displayModeBar=!0),(n.setBackground==="transparent"||typeof n.setBackground!="function")&&(n.setBackground=YS),n._hasZeroHeight=n._hasZeroHeight||e.clientHeight===0,n._hasZeroWidth=n._hasZeroWidth||e.clientWidth===0;var u=n.scrollZoom,s=n._scrollZoom={};if(u===!0)s.cartesian=1,s.gl3d=1,s.geo=1,s.mapbox=1,s.map=1;else if(typeof u=="string"){var f=u.split("+");for(a=0;a<f.length;a++)s[f[a]]=1}else u!==!1&&(s.gl3d=1,s.geo=1,s.mapbox=1,s.map=1)}function J$(e){if(e=dr.getGraphDiv(e),!dr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return Gt.cleanData(e.data),Gt.cleanLayout(e.layout),e.calcdata=void 0,et._doPlot(e).then(function(){return e.emit("plotly_redraw"),e})}function K$(e,r,t,n){return e=dr.getGraphDiv(e),Lr.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),Lr.purge(e),et._doPlot(e,r,t,n)}function n1(e,r){var t=r+1,n=[],a,o;for(a=0;a<e.length;a++)o=e[a],o<0?n.push(t+o):n.push(o);return n}function a1(e,r,t){var n,a;for(n=0;n<r.length;n++){if(a=r[n],a!==parseInt(a,10))throw new Error("all values in "+t+" must be integers");if(a>=e.data.length||a<-e.data.length)throw new Error(t+" must be valid indices for gd.data.");if(r.indexOf(a,n+1)>-1||a>=0&&r.indexOf(-e.data.length+a)>-1||a<0&&r.indexOf(e.data.length+a)>-1)throw new Error("each index in "+t+" must be unique.")}}function XS(e,r,t){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(r)||(r=[r]),a1(e,r,"currentIndices"),typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&a1(e,t,"newIndices"),typeof t!="undefined"&&r.length!==t.length)throw new Error("current and new indices must be of equal length.")}function Q$(e,r,t){var n,a;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("traces must be defined.");for(Array.isArray(r)||(r=[r]),n=0;n<r.length;n++)if(a=r[n],typeof a!="object"||Array.isArray(a)||a===null)throw new Error("all values in traces array must be non-array objects");if(typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&t.length!==r.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function $$(e,r,t,n){var a=dr.isPlainObject(n);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!dr.isPlainObject(r))throw new Error("update must be a key:value object");if(typeof t=="undefined")throw new Error("indices must be an integer or array of integers");a1(e,t,"indices");for(var o in r){if(!Array.isArray(r[o])||r[o].length!==t.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(a&&(!(o in n)||!Array.isArray(n[o])||n[o].length!==r[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 correspondence with the keys and number of traces in the update object")}}function j$(e,r,t,n){var a=dr.isPlainObject(n),o=[],i,l,u,s,f;Array.isArray(t)||(t=[t]),t=n1(t,e.data.length-1);for(var h in r)for(var p=0;p<t.length;p++){if(i=e.data[t[p]],u=wt(i,h),l=u.get(),s=r[h][p],!dr.isArrayOrTypedArray(s))throw new Error("attribute: "+h+" index: "+p+" must be an array");if(!dr.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+h);if(l.constructor!==s.constructor)throw new Error("cannot extend array with an array of a different type: "+h);f=a?n[h][p]:n,z$(f)||(f=-1),o.push({prop:u,target:l,insert:s,maxp:Math.floor(f)})}return o}function ZS(e,r,t,n,a){$$(e,r,t,n);for(var o=j$(e,r,t,n),i={},l={},u=0;u<o.length;u++){var s=o[u].prop,f=o[u].maxp,h=a(o[u].target,o[u].insert,f);s.set(h[0]),Array.isArray(i[s.astr])||(i[s.astr]=[]),i[s.astr].push(h[1]),Array.isArray(l[s.astr])||(l[s.astr]=[]),l[s.astr].push(o[u].target.length)}return{update:i,maxPoints:l}}function JS(e,r){var t=new e.constructor(e.length+r.length);return t.set(e),t.set(r,e.length),t}function KS(e,r,t,n){e=dr.getGraphDiv(e);function a(u,s,f){var h,p;if(dr.isTypedArray(u))if(f<0){var _=new u.constructor(0),m=JS(u,s);f<0?(h=m,p=_):(h=_,p=m)}else if(h=new u.constructor(f),p=new u.constructor(u.length+s.length-f),f===s.length)h.set(s),p.set(u);else if(f<s.length){var w=s.length-f;h.set(s.subarray(w)),p.set(u),p.set(s.subarray(0,w),u.length)}else{var T=f-s.length,y=u.length-T;h.set(u.subarray(y)),h.set(s,T),p.set(u.subarray(0,y))}else h=u.concat(s),p=f>=0&&f<h.length?h.splice(0,h.length-f):[];return[h,p]}var o=ZS(e,r,t,n,a),i=et.redraw(e),l=[e,o.update,t,o.maxPoints];return Zn.add(e,et.prependTraces,l,KS,arguments),i}function QS(e,r,t,n){e=dr.getGraphDiv(e);function a(u,s,f){var h,p;if(dr.isTypedArray(u))if(f<=0){var _=new u.constructor(0),m=JS(s,u);f<0?(h=m,p=_):(h=_,p=m)}else if(h=new u.constructor(f),p=new u.constructor(u.length+s.length-f),f===s.length)h.set(s),p.set(u);else if(f<s.length){var w=s.length-f;h.set(s.subarray(0,w)),p.set(s.subarray(w)),p.set(u,w)}else{var T=f-s.length;h.set(s),h.set(u.subarray(0,T),s.length),p.set(u.subarray(T))}else h=s.concat(u),p=f>=0&&f<h.length?h.splice(f,h.length):[];return[h,p]}var o=ZS(e,r,t,n,a),i=et.redraw(e),l=[e,o.update,t,o.maxPoints];return Zn.add(e,et.extendTraces,l,QS,arguments),i}function $S(e,r,t){e=dr.getGraphDiv(e);var n=[],a=et.deleteTraces,o=$S,i=[e,n],l=[e,r],u,s;for(Q$(e,r,t),Array.isArray(r)||(r=[r]),r=r.map(function(f){return dr.extendFlat({},f)}),Gt.cleanData(r),u=0;u<r.length;u++)e.data.push(r[u]);for(u=0;u<r.length;u++)n.push(-r.length+u);if(typeof t=="undefined")return s=et.redraw(e),Zn.add(e,a,i,o,l),s;Array.isArray(t)||(t=[t]);try{XS(e,n,t)}catch(f){throw e.data.splice(e.data.length-r.length,r.length),f}return Zn.startSequence(e),Zn.add(e,a,i,o,l),s=et.moveTraces(e,n,t),Zn.stopSequence(e),s}function jS(e,r){e=dr.getGraphDiv(e);var t=[],n=et.addTraces,a=jS,o=[e,t,r],i=[e,r],l,u;if(typeof r=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),a1(e,r,"indices"),r=n1(r,e.data.length-1),r.sort(dr.sorterDes),l=0;l<r.length;l+=1)u=e.data.splice(r[l],1)[0],t.push(u);var s=et.redraw(e);return Zn.add(e,n,o,a,i),s}function Yy(e,r,t){e=dr.getGraphDiv(e);var n=[],a=[],o=Yy,i=Yy,l=[e,t,r],u=[e,r,t],s;if(XS(e,r,t),r=Array.isArray(r)?r:[r],typeof t=="undefined")for(t=[],s=0;s<r.length;s++)t.push(-r.length+s);for(t=Array.isArray(t)?t:[t],r=n1(r,e.data.length-1),t=n1(t,e.data.length-1),s=0;s<e.data.length;s++)r.indexOf(s)===-1&&n.push(e.data[s]);for(s=0;s<r.length;s++)a.push({newIndex:t[s],trace:e.data[r[s]]});for(a.sort(function(h,p){return h.newIndex-p.newIndex}),s=0;s<a.length;s+=1)n.splice(a[s].newIndex,0,a[s].trace);e.data=n;var f=et.redraw(e);return Zn.add(e,o,l,i,u),f}function i1(e,r,t,n){e=dr.getGraphDiv(e),Gt.clearPromiseQueue(e);var a={};if(typeof r=="string")a[r]=t;else if(dr.isPlainObject(r))a=dr.extendFlat({},r),n===void 0&&(n=t);else return dr.warn("Restyle fail.",r,t,n),Promise.reject();Object.keys(a).length&&(e.changed=!0);var o=Gt.coerceTraceIndices(e,n),i=eC(e,a,o),l=i.flags;l.calc&&(e.calcdata=void 0),l.clearAxisTypes&&Gt.clearAxisTypes(e,o,{});var u=[];l.fullReplot?u.push(et._doPlot):(u.push(Lr.previousPromises),Lr.supplyDefaults(e),l.markerSize&&(Lr.doCalcdata(e),f1(u)),l.style&&u.push(ht.doTraceStyle),l.colorbars&&u.push(ht.doColorBars),u.push(m0)),u.push(Lr.rehover,Lr.redrag,Lr.reselect),Zn.add(e,i1,[e,i.undoit,i.traces],i1,[e,i.redoit,i.traces]);var s=dr.syncOrAsync(u,e);return(!s||!s.then)&&(s=Promise.resolve()),s.then(function(){return e.emit("plotly_restyle",i.eventData),e})}function uo(e){return e===void 0?null:e}function r1(e,r){return r?function(t,n,a){var o=wt(t,n),i=o.set;return o.set=function(l){var u=(a||"")+n;o1(u,o.get(),l,e),i(l)},o}:wt}function o1(e,r,t,n){if(Array.isArray(r)||Array.isArray(t))for(var a=Array.isArray(r)?r:[],o=Array.isArray(t)?t:[],i=Math.max(a.length,o.length),l=0;l<i;l++)o1(e+"["+l+"]",a[l],o[l],n);else if(dr.isPlainObject(r)||dr.isPlainObject(t)){var u=dr.isPlainObject(r)?r:{},s=dr.isPlainObject(t)?t:{},f=dr.extendFlat({},u,s);for(var h in f)o1(e+"."+h,u[h],s[h],n)}else n[e]===void 0&&(n[e]=uo(r))}function ej(e,r,t){for(var n in t){var a=wt(e,n);o1(n,a.get(),t[n],r)}}function eC(e,r,t){var n=e._fullLayout,a=e._fullData,o=e.data,i=n._guiEditing,l=r1(n._preGUI,i),u=dr.extendDeepAll({},r),s,f=Jo.traceFlags(),h={},p={},_;function m(){return t.map(function(){})}function w(H){var ee=Gn.id2name(H);_.indexOf(ee)===-1&&_.push(ee)}function T(H){return"LAYOUT"+H+".autorange"}function y(H){return"LAYOUT"+H+".range"}function k(H){for(var ee=H;ee<a.length;ee++)if(a[ee]._input===o[H])return a[ee]}function S(H,ee,V){if(Array.isArray(H)){H.forEach(function(ke){S(ke,ee,V)});return}if(!(H in r||Gt.hasParent(r,H))){var te;if(H.substr(0,6)==="LAYOUT")te=l(e.layout,H.replace("LAYOUT",""));else{var ue=t[V],ve=n._tracePreGUI[k(ue)._fullInput.uid];te=r1(ve,i)(o[ue],H)}H in p||(p[H]=m()),p[H][V]===void 0&&(p[H][V]=uo(te.get())),ee!==void 0&&te.set(ee)}}function b(H){return function(ee){return a[ee][H]}}function M(H){return function(ee,V){return ee===!1?a[t[V]][H]:null}}for(var d in r){if(Gt.hasParent(r,d))throw new Error("cannot set "+d+" and a parent attribute simultaneously");var x=r[d],g,c,A,v,D,E;if((d==="autobinx"||d==="autobiny")&&(d=d.charAt(d.length-1)+"bins",Array.isArray(x)?x=x.map(M(d)):x===!1?x=t.map(b(d)):x=null),h[d]=x,d.substr(0,6)==="LAYOUT"){A=l(e.layout,d.replace("LAYOUT","")),p[d]=[uo(A.get())],A.set(Array.isArray(x)?x[0]:x),f.calc=!0;continue}for(p[d]=m(),s=0;s<t.length;s++){g=o[t[s]],c=k(t[s]);var R=n._tracePreGUI[c._fullInput.uid];if(A=r1(R,i)(g,d),v=A.get(),D=Array.isArray(x)?x[s%x.length]:x,D!==void 0){var N=A.parts[A.parts.length-1],F=d.substr(0,d.length-N.length-1),I=F?F+".":"",L=F?wt(c,F).get():c;if(E=u1.getTraceValObject(c,A.parts),E&&E.impliedEdits&&D!==null)for(var P in E.impliedEdits)S(dr.relativeAttr(d,P),E.impliedEdits[P],s);else if((N==="thicknessmode"||N==="lenmode")&&v!==D&&(D==="fraction"||D==="pixels")&&L){var O=n._size,U=L.orient,X=U==="top"||U==="bottom";if(N==="thicknessmode"){var $=X?O.h:O.w;S(I+"thickness",L.thickness*(D==="fraction"?1/$:$),s)}else{var j=X?O.w:O.h;S(I+"len",L.len*(D==="fraction"?1/j:j),s)}}else if(d==="type"&&(D==="pie"!=(v==="pie")||D==="funnelarea"!=(v==="funnelarea"))){var Y="x",q="y";(D==="bar"||v==="bar")&&g.orientation==="h"&&(Y="y",q="x"),dr.swapAttrs(g,["?","?src"],"labels",Y),dr.swapAttrs(g,["d?","?0"],"label",Y),dr.swapAttrs(g,["?","?src"],"values",q),v==="pie"||v==="funnelarea"?(wt(g,"marker.color").set(wt(g,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):Ba.traceIs(g,"cartesian")&&wt(g,"marker.colors").set(wt(g,"marker.color").get())}p[d][s]=uo(v);var K=["swapxy","swapxyaxes","orientation","orientationaxes"];if(K.indexOf(d)!==-1){if(d==="orientation"){A.set(D);var ne=g.x&&!g.y?"h":"v";if((A.get()||ne)===c.orientation)continue}else d==="orientationaxes"&&(g.orientation={v:"h",h:"v"}[c.orientation]);Gt.swapXYData(g),f.calc=f.clearAxisTypes=!0}else Lr.dataArrayContainers.indexOf(A.parts[0])!==-1?(Gt.manageArrayContainers(A,D,p),f.calc=!0):(E?E.arrayOk&&!Ba.traceIs(c,"regl")&&(dr.isArrayOrTypedArray(D)||dr.isArrayOrTypedArray(v))?f.calc=!0:Jo.update(f,E):f.calc=!0,A.set(D))}}if(["swapxyaxes","orientationaxes"].indexOf(d)!==-1&&Gn.swap(e,t),d==="orientationaxes"){var Q=wt(e.layout,"hovermode"),oe=Q.get();oe==="x"?Q.set("y"):oe==="y"?Q.set("x"):oe==="x unified"?Q.set("y unified"):oe==="y unified"&&Q.set("x unified")}if(["orientation","type"].indexOf(d)!==-1){for(_=[],s=0;s<t.length;s++){var re=o[t[s]];Ba.traceIs(re,"cartesian")&&(w(re.xaxis||"x"),w(re.yaxis||"y"))}S(_.map(T),!0,0),S(_.map(y),[0,1],0)}}return(f.calc||f.plot)&&(f.fullReplot=!0),{flags:f,undoit:p,redoit:h,traces:t,eventData:dr.extendDeepNoArrays([],[u,t])}}function y0(e,r,t){e=dr.getGraphDiv(e),Gt.clearPromiseQueue(e);var n={};if(typeof r=="string")n[r]=t;else if(dr.isPlainObject(r))n=dr.extendFlat({},r);else return dr.warn("Relayout fail.",r,t),Promise.reject();Object.keys(n).length&&(e.changed=!0);var a=aC(e,n),o=a.flags;o.calc&&(e.calcdata=void 0);var i=[Lr.previousPromises];o.layoutReplot?i.push(ht.layoutReplot):Object.keys(n).length&&(rC(e,o,a)||Lr.supplyDefaults(e),o.legend&&i.push(ht.doLegend),o.layoutstyle&&i.push(ht.layoutStyles),o.axrange&&f1(i,a.rangesAltered),o.ticks&&i.push(ht.doTicksRelayout),o.modebar&&i.push(ht.doModeBar),o.camera&&i.push(ht.doCamera),o.colorbars&&i.push(ht.doColorBars),i.push(m0)),i.push(Lr.rehover,Lr.redrag,Lr.reselect),Zn.add(e,y0,[e,a.undoit],y0,[e,a.redoit]);var l=dr.syncOrAsync(i,e);return(!l||!l.then)&&(l=Promise.resolve(e)),l.then(function(){return e.emit("plotly_relayout",a.eventData),e})}function rC(e,r,t){var n=e._fullLayout;if(!r.axrange)return!1;for(var a in r)if(a!=="axrange"&&r[a])return!1;var o,i,l=function(_,m){return dr.coerce(o,i,B$,_,m)},u={};for(var s in t.rangesAltered){var f=Gn.id2name(s);if(o=e.layout[f],i=n[f],O$(o,i,l,u),i._matchGroup){for(var h in i._matchGroup)if(h!==s){var p=n[Gn.id2name(h)];p.autorange=i.autorange,p.range=i.range.slice(),p._input.range=i.range.slice()}}}return!0}function f1(e,r){var t=r?function(n){var a=[],o=!0;for(var i in r){var l=Gn.getFromId(n,i);if(a.push(i),(l.ticklabelposition||"").indexOf("inside")!==-1&&l._anchorAxis&&a.push(l._anchorAxis._id),l._matchGroup)for(var u in l._matchGroup)r[u]||a.push(u)}return Gn.draw(n,a,{skipTitle:o})}:function(n){return Gn.draw(n,"redraw")};e.push(G$,ht.doAutoRangeAndConstraints,t,ht.drawData,ht.finalDraw)}var tC=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,nC=/^[xyz]axis[0-9]*\.autorange$/,rj=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function aC(e,r){var t=e.layout,n=e._fullLayout,a=n._guiEditing,o=r1(n._preGUI,a),i=Object.keys(r),l=Gn.list(e),u=dr.extendDeepAll({},r),s={},f,h,p;for(i=Object.keys(r),h=0;h<i.length;h++)if(i[h].indexOf("allaxes")===0){for(p=0;p<l.length;p++){var _=l[p]._id.substr(1),m=_.indexOf("scene")!==-1?_+".":"",w=i[h].replace("allaxes",m+l[p]._name);r[w]||(r[w]=r[i[h]])}delete r[i[h]]}var T=Jo.layoutFlags(),y={},k={};function S(ve,ke){if(Array.isArray(ve)){ve.forEach(function(he){S(he,ke)});return}if(!(ve in r||Gt.hasParent(r,ve))){var Se=o(t,ve);ve in k||(k[ve]=uo(Se.get())),ke!==void 0&&Se.set(ke)}}var b={},M;function d(ve){var ke=Gn.name2id(ve.split(".")[0]);return b[ke]=1,ke}for(var x in r){if(Gt.hasParent(r,x))throw new Error("cannot set "+x+" and a parent attribute simultaneously");for(var g=o(t,x),c=r[x],A=g.parts.length,v=A-1;v>0&&typeof g.parts[v]!="string";)v--;var D=g.parts[v],E=g.parts[v-1]+"."+D,R=g.parts.slice(0,v).join("."),N=wt(e.layout,R).get(),F=wt(n,R).get(),I=g.get();if(c!==void 0){y[x]=c,k[x]=D==="reverse"?c:uo(I);var L=u1.getLayoutValObject(n,g.parts);if(L&&L.impliedEdits&&c!==null)for(var P in L.impliedEdits)S(dr.relativeAttr(x,P),L.impliedEdits[P]);if(["width","height"].indexOf(x)!==-1)if(c){S("autosize",null);var O=x==="height"?"width":"height";S(O,n[O])}else n[x]=e._initialAutoSize[x];else if(x==="autosize")S("width",c?null:n.width),S("height",c?null:n.height);else if(E.match(tC))d(E),wt(n,R+"._inputRange").set(null);else if(E.match(nC)){d(E),wt(n,R+"._inputRange").set(null);var U=wt(n,R).get();U._inputDomain&&(U._input.domain=U._inputDomain.slice())}else E.match(rj)&&wt(n,R+"._inputDomain").set(null);if(D==="type"){M=N;var X=F.type==="linear"&&c==="log",$=F.type==="log"&&c==="linear";if(X||$){if(!M||!M.range)S(R+".autorange",!0);else if(F.autorange)X&&(M.range=M.range[1]>M.range[0]?[1,2]:[2,1]);else{var j=M.range[0],Y=M.range[1];X?(j<=0&&Y<=0&&S(R+".autorange",!0),j<=0?j=Y/1e6:Y<=0&&(Y=j/1e6),S(R+".range[0]",Math.log(j)/Math.LN10),S(R+".range[1]",Math.log(Y)/Math.LN10)):(S(R+".range[0]",Math.pow(10,j)),S(R+".range[1]",Math.pow(10,Y)))}Array.isArray(n._subplots.polar)&&n._subplots.polar.length&&n[g.parts[0]]&&g.parts[1]==="radialaxis"&&delete n[g.parts[0]]._subplot.viewInitial["radialaxis.range"],Ba.getComponentMethod("annotations","convertCoords")(e,F,c,S),Ba.getComponentMethod("images","convertCoords")(e,F,c,S)}else S(R+".autorange",!0),S(R+".range",null);wt(n,R+"._inputRange").set(null)}else if(D.match(Y$)){var q=wt(n,x).get(),K=(c||{}).type;(!K||K==="-")&&(K="linear"),Ba.getComponentMethod("annotations","convertCoords")(e,q,K,S),Ba.getComponentMethod("images","convertCoords")(e,q,K,S)}var ne=e1.containerArrayMatch(x);if(ne){f=ne.array,h=ne.index;var Q=ne.property,oe=L||{editType:"calc"};h!==""&&Q===""&&(e1.isAddVal(c)?k[x]=null:e1.isRemoveVal(c)?k[x]=(wt(t,f).get()||[])[h]:dr.warn("unrecognized full object value",r)),Jo.update(T,oe),s[f]||(s[f]={});var re=s[f][h];re||(re=s[f][h]={}),re[Q]=c,delete r[x]}else D==="reverse"?(N.range?N.range.reverse():(S(R+".autorange",!0),N.range=[1,0]),F.autorange?T.calc=!0:T.plot=!0):(x==="dragmode"&&(c===!1&&I!==!1||c!==!1&&I===!1)||n._has("scatter-like")&&n._has("regl")&&x==="dragmode"&&(c==="lasso"||c==="select")&&!(I==="lasso"||I==="select")?T.plot=!0:L?Jo.update(T,L):T.calc=!0,g.set(c))}}for(f in s){var H=e1.applyContainerArrayChanges(e,o(t,f),s[f],T,o);H||(T.plot=!0)}for(var ee in b){M=Gn.getFromId(e,ee);var V=M&&M._constraintGroup;if(V){T.calc=!0;for(var te in V)b[te]||(Gn.getFromId(e,te)._constraintShrinkable=!0)}}(iC(e)||r.height||r.width)&&(T.plot=!0);var ue=n.shapes;for(h=0;h<ue.length;h++)if(ue[h].showlegend){T.calc=!0;break}return(T.plot||T.calc)&&(T.layoutReplot=!0),{flags:T,rangesAltered:b,undoit:k,redoit:y,eventData:u}}function iC(e){var r=e._fullLayout,t=r.width,n=r.height;return e.layout.autosize&&Lr.plotAutoSize(e,e.layout,r),r.width!==t||r.height!==n}function l1(e,r,t,n){e=dr.getGraphDiv(e),Gt.clearPromiseQueue(e),dr.isPlainObject(r)||(r={}),dr.isPlainObject(t)||(t={}),Object.keys(r).length&&(e.changed=!0),Object.keys(t).length&&(e.changed=!0);var a=Gt.coerceTraceIndices(e,n),o=eC(e,dr.extendFlat({},r),a),i=o.flags,l=aC(e,dr.extendFlat({},t)),u=l.flags;(i.calc||u.calc)&&(e.calcdata=void 0),i.clearAxisTypes&&Gt.clearAxisTypes(e,a,t);var s=[];u.layoutReplot?s.push(ht.layoutReplot):i.fullReplot?s.push(et._doPlot):(s.push(Lr.previousPromises),rC(e,u,l)||Lr.supplyDefaults(e),i.style&&s.push(ht.doTraceStyle),(i.colorbars||u.colorbars)&&s.push(ht.doColorBars),u.legend&&s.push(ht.doLegend),u.layoutstyle&&s.push(ht.layoutStyles),u.axrange&&f1(s,l.rangesAltered),u.ticks&&s.push(ht.doTicksRelayout),u.modebar&&s.push(ht.doModeBar),u.camera&&s.push(ht.doCamera),s.push(m0)),s.push(Lr.rehover,Lr.redrag,Lr.reselect),Zn.add(e,l1,[e,o.undoit,l.undoit,o.traces],l1,[e,o.redoit,l.redoit,o.traces]);var f=dr.syncOrAsync(s,e);return(!f||!f.then)&&(f=Promise.resolve(e)),f.then(function(){return e.emit("plotly_update",{data:o.eventData,layout:l.eventData}),e})}function Wy(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var tj=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],nj=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function US(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=e.match(n.pattern);if(a){var o=a[1]||"";return{head:o,tail:e.substr(o.length+1),attr:n.attr}}}}function HS(e,r){var t=wt(r,e).get();if(t!==void 0)return t;var n=e.split(".");for(n.pop();n.length>1;)if(n.pop(),t=wt(r,n.join(".")+".uirevision").get(),t!==void 0)return t;return r.uirevision}function aj(e,r){for(var t=0;t<r.length;t++)if(r[t]._fullInput.uid===e)return t;return-1}function ij(e,r,t){for(var n=0;n<r.length;n++)if(r[n].uid===e)return n;return!r[t]||r[t].uid?-1:t}function VS(e,r){var t=dr.isPlainObject(e),n=Array.isArray(e);return t||n?(t&&dr.isPlainObject(r)||n&&Array.isArray(r))&&JSON.stringify(e)===JSON.stringify(r):e===r}function oj(e,r,t,n){var a=n._preGUI,o,i,l,u,s,f,h,p,_,m,w=[],T={},y={};for(o in a){if(s=US(o,tj),s){if(_=s.head,m=s.tail,i=s.attr||_+".uirevision",l=wt(n,i).get(),u=l&&HS(i,r),u&&u===l){if(f=a[o],f===null&&(f=void 0),h=wt(r,o),p=h.get(),VS(p,f)){p===void 0&&m==="autorange"&&w.push(_),h.set(uo(wt(n,o).get()));continue}else if(m==="autorange"||m.substr(0,6)==="range["){var k=a[_+".range[0]"],S=a[_+".range[1]"],b=a[_+".autorange"];if(b||b===null&&k===null&&S===null){if(!(_ in T)){var M=wt(r,_).get();T[_]=M&&(M.autorange||M.autorange!==!1&&(!M.range||M.range.length!==2))}if(T[_]){h.set(uo(wt(n,o).get()));continue}}}}}else dr.warn("unrecognized GUI edit: "+o);delete a[o],s&&s.tail.substr(0,6)==="range["&&(y[s.head]=1)}for(var d=0;d<w.length;d++){var x=w[d];if(y[x]){var g=wt(r,x).get();g&&delete g.autorange}}var c=n._tracePreGUI;for(var A in c){var v=c[A],D=null,E;for(o in v){if(!D){var R=aj(A,t);if(R<0){delete c[A];break}var N=t[R];E=N._fullInput;var F=ij(A,e,E.index);if(F<0){delete c[A];break}D=e[F]}if(s=US(o,nj),s){if(s.attr?(l=wt(n,s.attr).get(),u=l&&HS(s.attr,r)):(l=E.uirevision,u=D.uirevision,u===void 0&&(u=r.uirevision)),u&&u===l&&(f=v[o],f===null&&(f=void 0),h=wt(D,o),p=h.get(),VS(p,f))){h.set(uo(wt(E,o).get()));continue}}else dr.warn("unrecognized GUI edit: "+o+" in trace uid "+A);delete v[o]}}}function lj(e,r,t,n){var a,o;function i(){return et.addFrames(e,a)}e=dr.getGraphDiv(e),Gt.clearPromiseQueue(e);var l=e._fullData,u=e._fullLayout;if(!dr.isPlotDiv(e)||!l||!u)o=et.newPlot(e,r,t,n);else{if(dr.isPlainObject(r)){var s=r;r=s.data,t=s.layout,n=s.config,a=s.frames}var f=!1;if(n){let E=dr.extendDeepAll({},e._context);e._context=void 0,WS(e,n),f=!Gt.collectionsAreEqual(E,e._context)}if(f){let E=e._ev.eventNames().map(R=>[R,e._ev.listeners(R)]);o=et.newPlot(e,r,t,n).then(()=>{for(let[R,N]of E)N.forEach(F=>e.on(R,F));return et.react(e,r,t,n)})}else{e.data=r||[],Gt.cleanData(e.data),e.layout=t||{},Gt.cleanLayout(e.layout),oj(e.data,e.layout,l,u),Lr.supplyDefaults(e,{skipUpdateCalc:!0});var h=e._fullData,p=e._fullLayout,_=p.datarevision===void 0,m=p.transition,w=uj(e,u,p,_,m),T=w.newDataRevision,y=sj(e,l,h,_,m,T);if(iC(e)&&(w.layoutReplot=!0),y.calc||w.calc){e.calcdata=void 0;for(var k=Object.getOwnPropertyNames(p),S=0;S<k.length;S++){var b=k[S],M=b.substring(0,5);if(M==="xaxis"||M==="yaxis"){var d=p[b]._emptyCategories;d&&d()}}}else Lr.supplyDefaultsUpdateCalc(e.calcdata,h);var x=[];if(a&&(e._transitionData={},Lr.createTransitionData(e),x.push(i)),p.transition&&(y.anim||w.anim))w.ticks&&x.push(ht.doTicksRelayout),Lr.doCalcdata(e),ht.doAutoRangeAndConstraints(e),x.push(function(){return Lr.transitionFromReact(e,y,w,u)});else if(y.fullReplot||w.layoutReplot)e._fullLayout._skipDefaults=!0,x.push(et._doPlot);else{for(var g in w.arrays){var c=w.arrays[g];if(c.length){var A=Ba.getComponentMethod(g,"drawOne");if(A!==dr.noop)for(var v=0;v<c.length;v++)A(e,c[v]);else{var D=Ba.getComponentMethod(g,"draw");if(D===dr.noop)throw new Error("cannot draw components: "+g);D(e)}}}x.push(Lr.previousPromises),y.style&&x.push(ht.doTraceStyle),(y.colorbars||w.colorbars)&&x.push(ht.doColorBars),w.legend&&x.push(ht.doLegend),w.layoutstyle&&x.push(ht.layoutStyles),w.axrange&&f1(x),w.ticks&&x.push(ht.doTicksRelayout),w.modebar&&x.push(ht.doModeBar),w.camera&&x.push(ht.doCamera),x.push(m0)}x.push(Lr.rehover,Lr.redrag,Lr.reselect),o=dr.syncOrAsync(x,e),(!o||!o.then)&&(o=Promise.resolve(e))}}return o.then(()=>(f||e.emit("plotly_react",{config:n,data:r,layout:t}),e))}function sj(e,r,t,n,a,o){var i=r.length===t.length;if(!a&&!i)return{fullReplot:!0,calc:!0};var l=Jo.traceFlags();l.arrays={},l.nChanges=0,l.nChangesAnim=0;var u,s;function f(_){var m=u1.getTraceValObject(s,_);return!s._module.animatable&&m.anim&&(m.anim=!1),m}var h={getValObject:f,flags:l,immutable:n,transition:a,newDataRevision:o,gd:e},p={};for(u=0;u<r.length;u++)if(t[u]){if(s=t[u]._fullInput,p[s.uid])continue;p[s.uid]=1,s1(r[u]._fullInput,s,[],h)}return(l.calc||l.plot)&&(l.fullReplot=!0),a&&l.nChanges&&l.nChangesAnim&&(l.anim=l.nChanges===l.nChangesAnim&&i?"all":"some"),l}function uj(e,r,t,n,a){var o=Jo.layoutFlags();o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0;function i(p){return u1.getLayoutValObject(t,p)}for(var l in t)if(!(!l.startsWith("xaxis")&&!l.startsWith("yaxis"))&&r[l]){var u=t[l].domain,s=r[l].domain,f=r[l]._inputDomain;r[l]._inputDomain&&(u[0]===f[0]&&u[1]===f[1]?t[l].domain=r[l].domain:(u[0]!==s[0]||u[1]!==s[1])&&(t[l]._inputDomain=null))}var h={getValObject:i,flags:o,immutable:n,transition:a,gd:e};return s1(r,t,[],h),(o.plot||o.calc)&&(o.layoutReplot=!0),a&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some"),o}function s1(e,r,t,n){var a,o,i,l=n.getValObject,u=n.flags,s=n.immutable,f=n.inArray,h=n.arrayIndex;function p(){var R=a.editType;if(f&&R.indexOf("arraydraw")!==-1){dr.pushUnique(u.arrays[f],h);return}Jo.update(u,a),R!=="none"&&u.nChanges++,n.transition&&a.anim&&u.nChangesAnim++,(tC.test(i)||nC.test(i))&&(u.rangesAltered[t[0]]=1),o==="datarevision"&&(u.newDataRevision=1)}function _(R){return R.valType==="data_array"||R.arrayOk}for(o in e){if(u.calc&&!n.transition)return;var m=e[o],w=r[o],T=t.concat(o);if(i=T.join("."),!(o.charAt(0)==="_"||typeof m=="function"||m===w)){if((o==="tick0"||o==="dtick")&&t[0]!=="geo"){var y=r.tickmode;if(y==="auto"||y==="array"||!y)continue}if(!(o==="range"&&r.autorange)&&!((o==="zmin"||o==="zmax")&&r.type==="contourcarpet")&&(a=l(T),!!a&&!(a._compareAsJSON&&JSON.stringify(m)===JSON.stringify(w)))){var k=a.valType,S,b=_(a),M=Array.isArray(m),d=Array.isArray(w);if(M&&d){var x="_input_"+o,g=e[x],c=r[x];if(Array.isArray(g)&&g===c)continue}if(w===void 0)b&&M?u.calc=!0:p();else if(a._isLinkedToArray){var A=[],v=!1;f||(u.arrays[o]=A);var D=Math.min(m.length,w.length),E=Math.max(m.length,w.length);if(D!==E)if(a.editType==="arraydraw")v=!0;else{p();continue}for(S=0;S<D;S++)s1(m[S],w[S],T.concat(S),dr.extendFlat({inArray:o,arrayIndex:S},n));if(v)for(S=D;S<E;S++)A.push(S)}else!k&&dr.isPlainObject(m)?s1(m,w,T,n):b?M&&d?(s&&(u.calc=!0),(s||n.newDataRevision)&&p()):M!==d?u.calc=!0:p():M&&d?(m.length!==w.length||String(m)!==String(w))&&p():p()}}}for(o in r)if(!(o in e||o.charAt(0)==="_"||typeof r[o]=="function"))if(a=l(t.concat(o)),_(a)&&Array.isArray(r[o])){u.calc=!0;return}else p()}function fj(e,r,t){if(e=dr.getGraphDiv(e),!dr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var n=e._transitionData;n._frameQueue||(n._frameQueue=[]),t=Lr.supplyAnimationDefaults(t);var a=t.transition,o=t.frame;n._frameWaitingCnt===void 0&&(n._frameWaitingCnt=0);function i(s){return Array.isArray(a)?s>=a.length?a[0]:a[s]:a}function l(s){return Array.isArray(o)?s>=o.length?o[0]:o[s]:o}function u(s,f){var h=0;return function(){if(s&&++h===f)return s()}}return new Promise(function(s,f){function h(){if(n._frameQueue.length!==0){for(;n._frameQueue.length;){var D=n._frameQueue.pop();D.onInterrupt&&D.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function p(D){if(D.length!==0){for(var E=0;E<D.length;E++){var R;D[E].type==="byname"?R=Lr.computeFrame(e,D[E].name):R=D[E].data;var N=l(E),F=i(E);F.duration=Math.min(F.duration,N.duration);var I={frame:R,name:D[E].name,frameOpts:N,transitionOpts:F};E===D.length-1&&(I.onComplete=u(s,2),I.onInterrupt=f),n._frameQueue.push(I)}t.mode==="immediate"&&(n._lastFrameAt=-1/0),n._animationRaf||w()}}function _(){e.emit("plotly_animated"),window.cancelAnimationFrame(n._animationRaf),n._animationRaf=null}function m(){n._currentFrame&&n._currentFrame.onComplete&&n._currentFrame.onComplete();var D=n._currentFrame=n._frameQueue.shift();if(D){var E=D.name?D.name.toString():null;e._fullLayout._currentFrame=E,n._lastFrameAt=Date.now(),n._timeToNext=D.frameOpts.duration,Lr.transition(e,D.frame.data,D.frame.layout,Gt.coerceTraceIndices(e,D.frame.traces),D.frameOpts,D.transitionOpts).then(function(){D.onComplete&&D.onComplete()}),e.emit("plotly_animatingframe",{name:E,frame:D.frame,animation:{frame:D.frameOpts,transition:D.transitionOpts}})}else _()}function w(){e.emit("plotly_animating"),n._lastFrameAt=-1/0,n._timeToNext=0,n._runningTransitions=0,n._currentFrame=null;var D=function(){n._animationRaf=window.requestAnimationFrame(D),Date.now()-n._lastFrameAt>n._timeToNext&&m()};D()}var T=0;function y(D){return Array.isArray(a)?T>=a.length?D.transitionOpts=a[T]:D.transitionOpts=a[0]:D.transitionOpts=a,T++,D}var k,S,b=[],M=r==null,d=Array.isArray(r),x=!M&&!d&&dr.isPlainObject(r);if(x)b.push({type:"object",data:y(dr.extendFlat({},r))});else if(M||["string","number"].indexOf(typeof r)!==-1)for(k=0;k<n._frames.length;k++)S=n._frames[k],S&&(M||String(S.group)===String(r))&&b.push({type:"byname",name:String(S.name),data:y({name:S.name})});else if(d)for(k=0;k<r.length;k++){var g=r[k];["number","string"].indexOf(typeof g)!==-1?(g=String(g),b.push({type:"byname",name:g,data:y({name:g})})):dr.isPlainObject(g)&&b.push({type:"object",data:y(dr.extendFlat({},g))})}for(k=0;k<b.length;k++)if(S=b[k],S.type==="byname"&&!n._frameHash[S.data.name]){dr.warn('animate failure: frame not found: "'+S.data.name+'"'),f();return}["next","immediate"].indexOf(t.mode)!==-1&&h(),t.direction==="reverse"&&b.reverse();var c=e._fullLayout._currentFrame;if(c&&t.fromcurrent){var A=-1;for(k=0;k<b.length;k++)if(S=b[k],S.type==="byname"&&S.name===c){A=k;break}if(A>0&&A<b.length-1){var v=[];for(k=0;k<b.length;k++)S=b[k],(b[k].type!=="byname"||k>A)&&v.push(S);b=v}}b.length>0?p(b):(e.emit("plotly_animated"),s())})}function cj(e,r,t){if(e=dr.getGraphDiv(e),r==null)return Promise.resolve();if(!dr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var n,a,o,i,l=e._transitionData._frames,u=e._transitionData._frameHash;if(!Array.isArray(r))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+r);var s=l.length+r.length*2,f=[],h={};for(n=r.length-1;n>=0;n--)if(dr.isPlainObject(r[n])){var p=r[n].name,_=(u[p]||h[p]||{}).name,m=r[n].name,w=u[_]||h[_];_&&m&&typeof m=="number"&&w&&Vy<BS&&(Vy++,dr.warn('addFrames: overwriting frame "'+(u[_]||h[_]).name+'" with a frame whose name of type "number" also equates to "'+_+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),Vy===BS&&dr.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),h[p]={name:p},f.push({frame:Lr.supplyFrameDefaults(r[n]),index:t&&t[n]!==void 0&&t[n]!==null?t[n]:s+n})}f.sort(function(x,g){return x.index>g.index?-1:x.index<g.index?1:0});var T=[],y=[],k=l.length;for(n=f.length-1;n>=0;n--){if(a=f[n].frame,typeof a.name=="number"&&dr.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!a.name)for(;u[a.name="frame "+e._transitionData._counter++];);if(u[a.name]){for(o=0;o<l.length&&(l[o]||{}).name!==a.name;o++);T.push({type:"replace",index:o,value:a}),y.unshift({type:"replace",index:o,value:l[o]})}else i=Math.max(0,Math.min(f[n].index,k)),T.push({type:"insert",index:i,value:a}),y.unshift({type:"delete",index:i}),k++}var S=Lr.modifyFrames,b=Lr.modifyFrames,M=[e,y],d=[e,T];return Zn&&Zn.add(e,S,M,b,d),Lr.modifyFrames(e,T)}function hj(e,r){if(e=dr.getGraphDiv(e),!dr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var t,n,a=e._transitionData._frames,o=[],i=[];if(!r)for(r=[],t=0;t<a.length;t++)r.push(t);for(r=r.slice(),r.sort(),t=r.length-1;t>=0;t--)n=r[t],o.push({type:"delete",index:n}),i.unshift({type:"insert",index:n,value:a[n]});var l=Lr.modifyFrames,u=Lr.modifyFrames,s=[e,i],f=[e,o];return Zn&&Zn.add(e,l,s,u,f),Lr.modifyFrames(e,o)}function vj(e){e=dr.getGraphDiv(e);var r=e._fullLayout||{},t=e._fullData||[];return Lr.cleanPlot([],{},t,r),Lr.purge(e),Gy.purge(e),r._container&&r._container.remove(),delete e._context,e}function dj(e){var r=e._fullLayout,t=e.getBoundingClientRect();if(!dr.equalDomRects(t,r._lastBBox)){var n=r._invTransform=dr.inverseTransformMatrix(dr.getFullTransformMatrix(e));r._invScaleX=Math.sqrt(n[0][0]*n[0][0]+n[0][1]*n[0][1]+n[0][2]*n[0][2]),r._invScaleY=Math.sqrt(n[1][0]*n[1][0]+n[1][1]*n[1][1]+n[1][2]*n[1][2]),r._lastBBox=t}}function pj(e){var r=t1.select(e),t=e._fullLayout;if(t._calcInverseTransform=dj,t._calcInverseTransform(e),t._container=r.selectAll(".plot-container").data([0]),t._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),t._paperdiv=t._container.selectAll(".svg-container").data([0]),t._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),t._glcontainer=t._paperdiv.selectAll(".gl-container").data([{}]),t._glcontainer.enter().append("div").classed("gl-container",!0),t._paperdiv.selectAll(".main-svg").remove(),t._paperdiv.select(".modebar-container").remove(),t._paper=t._paperdiv.insert("svg",":first-child").classed("main-svg",!0),t._toppaper=t._paperdiv.append("svg").classed("main-svg",!0),t._modebardiv=t._paperdiv.append("div"),delete t._modeBar,t._hoverpaper=t._paperdiv.append("svg").classed("main-svg",!0),!t._uid){var n={};t1.selectAll("defs").each(function(){this.id&&(n[this.id.split("-")[1]]=1)}),t._uid=dr.randstr(n)}t._paperdiv.selectAll(".main-svg").attr(V$.svgAttrs),t._defs=t._paper.append("defs").attr("id","defs-"+t._uid),t._clips=t._defs.append("g").classed("clips",!0),t._topdefs=t._toppaper.append("defs").attr("id","topdefs-"+t._uid),t._topclips=t._topdefs.append("g").classed("clips",!0),t._bgLayer=t._paper.append("g").classed("bglayer",!0),t._draggers=t._paper.append("g").classed("draglayer",!0);var a=t._paper.append("g").classed("layer-below",!0);t._imageLowerLayer=a.append("g").classed("imagelayer",!0),t._shapeLowerLayer=a.append("g").classed("shapelayer",!0),t._cartesianlayer=t._paper.append("g").classed("cartesianlayer",!0),t._polarlayer=t._paper.append("g").classed("polarlayer",!0),t._smithlayer=t._paper.append("g").classed("smithlayer",!0),t._ternarylayer=t._paper.append("g").classed("ternarylayer",!0),t._geolayer=t._paper.append("g").classed("geolayer",!0),t._funnelarealayer=t._paper.append("g").classed("funnelarealayer",!0),t._pielayer=t._paper.append("g").classed("pielayer",!0),t._iciclelayer=t._paper.append("g").classed("iciclelayer",!0),t._treemaplayer=t._paper.append("g").classed("treemaplayer",!0),t._sunburstlayer=t._paper.append("g").classed("sunburstlayer",!0),t._indicatorlayer=t._toppaper.append("g").classed("indicatorlayer",!0),t._glimages=t._paper.append("g").classed("glimages",!0);var o=t._toppaper.append("g").classed("layer-above",!0);t._imageUpperLayer=o.append("g").classed("imagelayer",!0),t._shapeUpperLayer=o.append("g").classed("shapelayer",!0),t._selectionLayer=t._toppaper.append("g").classed("selectionlayer",!0),t._infolayer=t._toppaper.append("g").classed("infolayer",!0),t._menulayer=t._toppaper.append("g").classed("menulayer",!0),t._zoomlayer=t._toppaper.append("g").classed("zoomlayer",!0),t._hoverlayer=t._hoverpaper.append("g").classed("hoverlayer",!0),t._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}et.animate=fj;et.addFrames=cj;et.deleteFrames=hj;et.addTraces=$S;et.deleteTraces=jS;et.extendTraces=KS;et.moveTraces=Yy;et.prependTraces=QS;et.newPlot=K$;et._doPlot=W$;et.purge=vj;et.react=lj;et.redraw=J$;et.relayout=y0;et.restyle=i1;et.setPlotConfig=X$;et.update=l1;et._guiRelayout=Wy(y0);et._guiRestyle=Wy(i1);et._guiUpdate=Wy(l1);et._storeDirectGUIEdit=ej});var es=de(Oi=>{"use strict";var gj=Cr();Oi.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("mapbox")||e._has("map"))?500:0};Oi.getRedrawFunc=function(e){return function(){gj.getComponentMethod("colorbar","draw")(e)}};Oi.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)};Oi.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var oC=window.URL||window.webkitURL;Oi.createObjectURL=function(e){return oC.createObjectURL(e)};Oi.revokeObjectURL=function(e){return oC.revokeObjectURL(e)};Oi.createBlob=function(e,r){if(r==="svg")return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([e],{type:"application/json;charset=utf-8"});var t=yj(window.atob(e));return new window.Blob([t],{type:"image/"+r})};Oi.octetStream=function(e){document.location.href="data:application/octet-stream"+e};function yj(e){for(var r=e.length,t=new ArrayBuffer(r),n=new Uint8Array(t),a=0;a<r;a++)n[a]=e.charCodeAt(a);return t}Oi.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/});var c1=de((_ve,lC)=>{"use strict";var Jy=it(),bve=ir(),mj=mt(),bj=Xr(),xve=Fo(),Zy=/"/g,b0="TOBESTRIPPED",xj=new RegExp('("'+b0+")|("+b0+'")',"g");function _j(e){var r=Jy.select("body").append("div").style({display:"none"}).html(""),t=e.replace(/(&[^;]*;)/gi,function(n){return n==="&lt;"?"&#60;":n==="&rt;"?"&#62;":n.indexOf("<")!==-1||n.indexOf(">")!==-1?"":r.html(n).text()});return r.remove(),t}function wj(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}lC.exports=function(r,t,n){var a=r._fullLayout,o=a._paper,i=a._toppaper,l=a.width,u=a.height,s;o.insert("rect",":first-child").call(mj.setRect,0,0,l,u).call(bj.fill,a.paper_bgcolor);var f=a._basePlotModules||[];for(s=0;s<f.length;s++){var h=f[s];h.toSVG&&h.toSVG(r)}if(i){var p=i.node().childNodes,_=Array.prototype.slice.call(p);for(s=0;s<_.length;s++){var m=_[s];m.childNodes.length&&o.node().appendChild(m)}}a._draggers&&a._draggers.remove(),o.node().style.background="",o.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var T=Jy.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){T.remove();return}else T.style({visibility:null,display:null});var y=this.style.fontFamily;y&&y.indexOf('"')!==-1&&T.style("font-family",y.replace(Zy,b0));var k=this.style.fontWeight;k&&(k==="normal"||k==="400")&&T.style("font-weight",void 0);var S=this.style.fontStyle;S&&S==="normal"&&T.style("font-style",void 0);var b=this.style.fontVariant;b&&b==="normal"&&T.style("font-variant",void 0)}),o.selectAll(".gradient_filled,.pattern_filled").each(function(){var T=Jy.select(this),y=this.style.fill;y&&y.indexOf("url(")!==-1&&T.style("fill",y.replace(Zy,b0));var k=this.style.stroke;k&&k.indexOf("url(")!==-1&&T.style("stroke",k.replace(Zy,b0))}),(t==="pdf"||t==="eps")&&o.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),t==="svg"&&n&&(o.attr("width",n*l),o.attr("height",n*u),o.attr("viewBox","0 0 "+l+" "+u));var w=new window.XMLSerializer().serializeToString(o.node());return w=_j(w),w=wj(w),w=w.replace(xj,"'"),w}});var h1=de((wve,sC)=>{"use strict";var Mj=ir(),Tj=ih().EventEmitter,x0=es();function Aj(e){var r=e.emitter||new Tj,t=new Promise(function(n,a){var o=window.Image,i=e.svg,l=e.format||"png",u=e.canvas,s=e.scale||1,f=e.width||300,h=e.height||150,p=s*f,_=s*h,m=u.getContext("2d",{willReadFrequently:!0}),w=new o,T,y;l==="svg"||Mj.isSafari()?y=x0.encodeSVG(i):(T=x0.createBlob(i,"svg"),y=x0.createObjectURL(T)),u.width=p,u.height=_,w.onload=function(){var k;switch(T=null,x0.revokeObjectURL(y),l!=="svg"&&m.drawImage(w,0,0,p,_),l){case"jpeg":k=u.toDataURL("image/jpeg");break;case"png":k=u.toDataURL("image/png");break;case"webp":k=u.toDataURL("image/webp");break;case"svg":k=y;break;default:var S="Image format is not jpeg, png, svg or webp.";if(a(new Error(S)),!e.promise)return r.emit("error",S)}n(k),e.promise||r.emit("success",k)},w.onerror=function(k){if(T=null,x0.revokeObjectURL(y),a(k),!e.promise)return r.emit("error",k)},w.src=y});return e.promise?t:r}sC.exports=Aj});var Qy=de((Mve,cC)=>{"use strict";var uC=nt(),fC=Xy(),kj=on(),Bi=ir(),_0=es(),Sj=c1(),Cj=h1(),Ej=_c().version,Ky={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function Lj(e,r){r=r||{};var t,n,a,o;Bi.isPlainObject(e)?(t=e.data||[],n=e.layout||{},a=e.config||{},o={}):(e=Bi.getGraphDiv(e),t=Bi.extendDeep([],e.data),n=Bi.extendDeep({},e.layout),a=e._context,o=e._fullLayout||{});function i(d){return!(d in r)||Bi.validate(r[d],Ky[d])}if(!i("width")&&r.width!==null||!i("height")&&r.height!==null)throw new Error("Height and width should be pixel values.");if(!i("format"))throw new Error("Export format is not "+Bi.join2(Ky.format.values,", "," or ")+".");var l={};function u(d,x){return Bi.coerce(r,l,Ky,d,x)}var s=u("format"),f=u("width"),h=u("height"),p=u("scale"),_=u("setBackground"),m=u("imageDataOnly"),w=document.createElement("div");w.style.position="absolute",w.style.left="-5000px",document.body.appendChild(w);var T=Bi.extendFlat({},n);f?T.width=f:r.width===null&&uC(o.width)&&(T.width=o.width),h?T.height=h:r.height===null&&uC(o.height)&&(T.height=o.height);var y=Bi.extendFlat({},a,{_exportedPlot:!0,staticPlot:!0,setBackground:_}),k=_0.getRedrawFunc(w);function S(){return new Promise(function(d){setTimeout(d,_0.getDelay(w._fullLayout))})}function b(){return new Promise(function(d,x){var g=Sj(w,s,p),c=w._fullLayout.width,A=w._fullLayout.height;function v(){fC.purge(w),document.body.removeChild(w)}if(s==="full-json"){var D=kj.graphJson(w,!1,"keepdata","object",!0,!0);return D.version=Ej,D=JSON.stringify(D),v(),d(m?D:_0.encodeJSON(D))}if(v(),s==="svg")return d(m?g:_0.encodeSVG(g));var E=document.createElement("canvas");E.id=Bi.randstr(),Cj({format:s,width:c,height:A,scale:p,canvas:E,svg:g,promise:!0}).then(d).catch(x)})}function M(d){return m?d.replace(_0.IMAGE_URL_PREFIX,""):d}return new Promise(function(d,x){fC.newPlot(w,t,T,y).then(k).then(S).then(b).then(function(g){d(M(g))}).catch(function(g){x(g)})})}cC.exports=Lj});var dC=de((Tve,vC)=>{"use strict";var Ua=ir(),Dj=on(),Rj=Ys(),Pj=Al().dfltConfig,li=Ua.isPlainObject,ts=Array.isArray,$y=Ua.isArrayOrTypedArray;vC.exports=function(r,t){r===void 0&&(r=[]),t===void 0&&(t={});var n=Rj.get(),a=[],o={_context:Ua.extendFlat({},Pj)},i,l;ts(r)?(o.data=Ua.extendDeep([],r),i=r):(o.data=[],i=[],a.push(cn("array","data"))),li(t)?(o.layout=Ua.extendDeep({},t),l=t):(o.layout={},l={},arguments.length>1&&a.push(cn("object","layout"))),Dj.supplyDefaults(o);for(var u=o._fullData,s=i.length,f=0;f<s;f++){var h=i[f],p=["data",f];if(!li(h)){a.push(cn("object",p));continue}var _=u[f],m=_.type,w=n.traces[m].attributes;w.type={valType:"enumerated",values:[m]},_.visible===!1&&h.visible!==!1&&a.push(cn("invisible",p)),v1(h,_,w,a,p)}var T=o._fullLayout,y=Ij(n,u);return v1(l,T,y,a,"layout"),a.length===0?void 0:a};function v1(e,r,t,n,a,o){o=o||[];for(var i=Object.keys(e),l=0;l<i.length;l++){var u=i[l],s=o.slice();s.push(u);var f=e[u],h=r[u],p=zj(t,u),_=(p||{}).valType,m=_==="info_array",w=_==="colorscale",T=(p||{}).items;if(!Nj(t,u))n.push(cn("schema",a,s));else if(li(f)&&li(h)&&_!=="any")v1(f,h,p,n,a,s);else if(m&&ts(f)){f.length>h.length&&n.push(cn("unused",a,s.concat(h.length)));var y=h.length,k=Array.isArray(T);k&&(y=Math.min(y,T.length));var S,b,M,d,x;if(p.dimensions===2)for(b=0;b<y;b++)if(ts(f[b])){f[b].length>h[b].length&&n.push(cn("unused",a,s.concat(b,h[b].length)));var g=h[b].length;for(S=0;S<(k?Math.min(g,T[b].length):g);S++)M=k?T[b][S]:T,d=f[b][S],x=h[b][S],Ua.validate(d,M)?x!==d&&x!==+d&&n.push(cn("dynamic",a,s.concat(b,S),d,x)):n.push(cn("value",a,s.concat(b,S),d))}else n.push(cn("array",a,s.concat(b),f[b]));else for(b=0;b<y;b++)M=k?T[b]:T,d=f[b],x=h[b],Ua.validate(d,M)?x!==d&&x!==+d&&n.push(cn("dynamic",a,s.concat(b),d,x)):n.push(cn("value",a,s.concat(b),d))}else if(p.items&&!m&&ts(f)){var c=T[Object.keys(T)[0]],A=[],v,D;for(v=0;v<h.length;v++){var E=h[v]._index||v;if(D=s.slice(),D.push(E),li(f[E])&&li(h[v])){A.push(E);var R=f[E],N=h[v];li(R)&&R.visible!==!1&&N.visible===!1?n.push(cn("invisible",a,D)):v1(R,N,c,n,a,D)}}for(v=0;v<f.length;v++)D=s.slice(),D.push(v),li(f[v])?A.indexOf(v)===-1&&n.push(cn("unused",a,D)):n.push(cn("object",a,D,f[v]))}else!li(f)&&li(h)?n.push(cn("object",a,s,f)):!$y(f)&&$y(h)&&!m&&!w?n.push(cn("array",a,s,f)):u in r?Ua.validate(f,p)?p.valType==="enumerated"&&(p.coerceNumber&&f!==+h||!$y(f)&&f!==h||String(f)!==String(h))&&n.push(cn("dynamic",a,s,f,h)):n.push(cn("value",a,s,f)):n.push(cn("unused",a,s,f))}return n}function Ij(e,r){for(var t=e.layout.layoutAttributes,n=0;n<r.length;n++){var a=r[n],o=e.traces[a.type],i=o.layoutAttributes;i&&(a.subplot?Ua.extendFlat(t[o.attributes.subplot.dflt],i):Ua.extendFlat(t,i))}return t}var Fj={object:function(e,r){var t;return e==="layout"&&r===""?t="The layout argument":e[0]==="data"&&r===""?t="Trace "+e[1]+" in the data argument":t=rs(e)+"key "+r,t+" must be linked to an object container"},array:function(e,r){var t;return e==="data"?t="The data argument":t=rs(e)+"key "+r,t+" must be linked to an array container"},schema:function(e,r){return rs(e)+"key "+r+" is not part of the schema"},unused:function(e,r,t){var n=li(t)?"container":"key";return rs(e)+n+" "+r+" did not get coerced"},dynamic:function(e,r,t,n){return[rs(e)+"key",r,"(set to '"+t+"')","got reset to","'"+n+"'","during defaults."].join(" ")},invisible:function(e,r){return(r?rs(e)+"item "+r:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,r,t){return[rs(e)+"key "+r,"is set to an invalid value ("+t+")"].join(" ")}};function rs(e){return ts(e)?"In data trace "+e[1]+", ":"In "+e+", "}function cn(e,r,t,n,a){t=t||"";var o,i;ts(r)?(o=r[0],i=r[1]):(o=r,i=null);var l=Oj(t),u=Fj[e](r,l,n,a);return Ua.log(u),{code:e,container:o,trace:i,path:t,astr:l,msg:u}}function Nj(e,r){var t=hC(r),n=t.keyMinusId,a=t.id;return n in e&&e[n]._isSubplotObj&&a?!0:r in e}function zj(e,r){if(r in e)return e[r];var t=hC(r);return e[t.keyMinusId]}var qj=Ua.counterRegex("([a-z]+)");function hC(e){var r=e.match(qj);return{keyMinusId:r&&r[1],id:r&&r[2]}}function Oj(e){if(!ts(e))return String(e);for(var r="",t=0;t<e.length;t++){var n=e[t];typeof n=="number"?r=r.substr(0,r.length-1)+"["+n+"]":r+=n,t<e.length-1&&(r+=".")}return r}});var gC=de((Ave,pC)=>{"use strict";var Bj=ir(),d1=es();function Uj(e,r,t){var n=document.createElement("a"),a="download"in n,o=new Promise(function(i,l){var u,s;if(a)return u=d1.createBlob(e,t),s=d1.createObjectURL(u),n.href=s,n.download=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),d1.revokeObjectURL(s),u=null,i(r);if(Bj.isSafari()){var f=t==="svg"?",":";base64,";return d1.octetStream(f+encodeURIComponent(e)),i(r)}l(new Error("download error"))});return o}pC.exports=Uj});var jy=de((Sve,mC)=>{"use strict";var yC=ir(),Hj=Qy(),Vj=gC(),kve=es();function Gj(e,r){var t;return yC.isPlainObject(e)||(t=yC.getGraphDiv(e)),r=r||{},r.format=r.format||"png",r.width=r.width||null,r.height=r.height||null,r.imageDataOnly=!0,new Promise(function(n,a){t&&t._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),t&&(t._snapshotInProgress=!0);var o=Hj(e,r),i=r.filename||e.fn||"newplot";i+="."+r.format.replace("-","."),o.then(function(l){return t&&(t._snapshotInProgress=!1),Vj(l,i,r.format)}).then(function(l){n(l)}).catch(function(l){t&&(t._snapshotInProgress=!1),a(l)})})}mC.exports=Gj});var MC=de(em=>{"use strict";var fa=ir(),ca=fa.isPlainObject,bC=Ys(),xC=on(),Yj=Sn(),_C=yt(),wC=Al().dfltConfig;em.makeTemplate=function(e){e=fa.isPlainObject(e)?e:fa.getGraphDiv(e),e=fa.extendDeep({_context:wC},{data:e.data,layout:e.layout}),xC.supplyDefaults(e);var r=e.data||[],t=e.layout||{};t._basePlotModules=e._fullLayout._basePlotModules,t._modules=e._fullLayout._modules;var n={data:{},layout:{}};r.forEach(function(_){var m={};w0(_,m,Xj.bind(null,_));var w=fa.coerce(_,{},Yj,"type"),T=n.data[w];T||(T=n.data[w]=[]),T.push(m)}),w0(t,n.layout,Wj.bind(null,t)),delete n.layout.template;var a=t.template;if(ca(a)){var o=a.layout,i,l,u,s,f,h;ca(o)&&p1(o,n.layout);var p=a.data;if(ca(p)){for(l in n.data)if(u=p[l],Array.isArray(u)){for(f=n.data[l],h=f.length,s=u.length,i=0;i<h;i++)p1(u[i%s],f[i]);for(i=h;i<s;i++)f.push(fa.extendDeep({},u[i]))}for(l in p)l in n.data||(n.data[l]=fa.extendDeep([],p[l]))}}return n};function p1(e,r){e=fa.extendDeep({},e);var t=Object.keys(e).sort(),n,a;function o(f,h,p){if(ca(h)&&ca(f))p1(f,h);else if(Array.isArray(h)&&Array.isArray(f)){var _=_C.arrayTemplater({_template:e},p);for(a=0;a<h.length;a++){var m=h[a],w=_.newItem(m)._template;w&&p1(w,m)}var T=_.defaultItems();for(a=0;a<T.length;a++)h.push(T[a]._template);for(a=0;a<h.length;a++)delete h[a].templateitemname}}for(n=0;n<t.length;n++){var i=t[n],l=e[i];if(i in r?o(l,r[i],i):r[i]=l,g1(i)===i)for(var u in r){var s=g1(u);u!==s&&s===i&&!(u in e)&&o(l,r[u],i)}}}function g1(e){return e.replace(/[0-9]+$/,"")}function w0(e,r,t,n,a){var o=a&&t(a);for(var i in e){var l=e[i],u=Ha(e,i,n),s=Ha(e,i,a),f=t(s);if(!f){var h=g1(i);h!==i&&(s=Ha(e,h,a),f=t(s))}if(!(o&&o===f)&&!(!f||f._noTemplating||f.valType==="data_array"||f.arrayOk&&Array.isArray(l)))if(!f.valType&&ca(l))w0(l,r,t,u,s);else if(f._isLinkedToArray&&Array.isArray(l))for(var p=!1,_=0,m={},w=0;w<l.length;w++){var T=l[w];if(ca(T)){var y=T.name;if(y)m[y]||(w0(T,r,t,Ha(l,_,u),Ha(l,_,s)),_++,m[y]=1);else if(!p){var k=_C.arrayDefaultKey(i),S=Ha(e,k,n),b=Ha(l,_,u);w0(T,r,t,b,Ha(l,_,s));var M=fa.nestedProperty(r,b),d=fa.nestedProperty(r,S);d.set(M.get()),M.set(null),p=!0}}}else{var x=fa.nestedProperty(r,u);x.set(l)}}}function Wj(e,r){return bC.getLayoutValObject(e,fa.nestedProperty({},r).parts)}function Xj(e,r){return bC.getTraceValObject(e,fa.nestedProperty({},r).parts)}function Ha(e,r,t){var n;return t?Array.isArray(e)?n=t+"["+r+"]":n=t+"."+r:n=r,n}em.validateTemplate=function(e,r){var t=fa.extendDeep({},{_context:wC,data:e.data,layout:e.layout}),n=t.layout||{};ca(r)||(r=n.template||{});var a=r.layout,o=r.data,i=[];t.layout=n,t.layout.template=r,xC.supplyDefaults(t);var l=t._fullLayout,u=t._fullData,s={};function f(S,b){for(var M in S)if(M.charAt(0)!=="_"&&ca(S[M])){var d=g1(M),x=[],g;for(g=0;g<b.length;g++)x.push(Ha(S,M,b[g])),d!==M&&x.push(Ha(S,d,b[g]));for(g=0;g<x.length;g++)s[x[g]]=1;f(S[M],x)}}function h(S,b){for(var M in S)if(M.indexOf("defaults")===-1&&ca(S[M])){var d=Ha(S,M,b);s[d]?h(S[M],d):i.push({code:"unused",path:d})}}if(ca(a)?(f(l,["layout"]),h(a,"layout")):i.push({code:"layout"}),!ca(o))i.push({code:"data"});else{for(var p={},_,m=0;m<u.length;m++){var w=u[m];_=w.type,p[_]=(p[_]||0)+1,w._fullInput._template||i.push({code:"missing",index:w.index,traceType:_})}for(_ in o){var T=o[_].length,y=p[_]||0;T>y?i.push({code:"unused",traceType:_,templateCount:T,dataCount:y}):y>T&&i.push({code:"reused",traceType:_,templateCount:T,dataCount:y})}}function k(S,b){for(var M in S)if(M.charAt(0)!=="_"){var d=S[M],x=Ha(S,M,b);ca(d)?(Array.isArray(S)&&d._template===!1&&d.templateitemname&&i.push({code:"missing",path:x,templateitemname:d.templateitemname}),k(d,x)):Array.isArray(d)&&Zj(d)&&k(d,x)}}if(k({data:u,layout:l},""),i.length)return i.map(Jj)};function Zj(e){for(var r=0;r<e.length;r++)if(ca(e[r]))return!0}function Jj(e){var r;switch(e.code){case"data":r="The template has no key data.";break;case"layout":r="The template has no key layout.";break;case"missing":e.path?r="There are no templates for item "+e.path+" with name "+e.templateitemname:r="There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":e.path?r="The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?r="Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":r="The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":r="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type.";break}return e.msg=r,e}});var AC=de(Ct=>{"use strict";var rn=Xy();Ct._doPlot=rn._doPlot;Ct.newPlot=rn.newPlot;Ct.restyle=rn.restyle;Ct.relayout=rn.relayout;Ct.redraw=rn.redraw;Ct.update=rn.update;Ct._guiRestyle=rn._guiRestyle;Ct._guiRelayout=rn._guiRelayout;Ct._guiUpdate=rn._guiUpdate;Ct._storeDirectGUIEdit=rn._storeDirectGUIEdit;Ct.react=rn.react;Ct.extendTraces=rn.extendTraces;Ct.prependTraces=rn.prependTraces;Ct.addTraces=rn.addTraces;Ct.deleteTraces=rn.deleteTraces;Ct.moveTraces=rn.moveTraces;Ct.purge=rn.purge;Ct.addFrames=rn.addFrames;Ct.deleteFrames=rn.deleteFrames;Ct.animate=rn.animate;Ct.setPlotConfig=rn.setPlotConfig;var Kj=pf().getGraphDiv,Qj=Sv().eraseActiveShape;Ct.deleteActiveShape=function(e){return Qj(Kj(e))};Ct.toImage=Qy();Ct.validate=dC();Ct.downloadImage=jy();var TC=MC();Ct.makeTemplate=TC.makeTemplate;Ct.validateTemplate=TC.validateTemplate});var SC=de((Lve,kC)=>{"use strict";var rm=ir(),$j=Cr();kC.exports=function(r,t,n,a){var o=a("x"),i=a("y"),l,u=$j.getComponentMethod("calendars","handleTraceDefaults");if(u(r,t,["x","y"],n),o){var s=rm.minRowLength(o);i?l=Math.min(s,rm.minRowLength(i)):(l=s,a("y0"),a("dy"))}else{if(!i)return 0;l=rm.minRowLength(i),a("x0"),a("dx")}return t._length=l,l}});var DC=de((Dve,LC)=>{"use strict";var CC=ir().dateTick0,jj=nn(),eee=jj.ONEWEEK;function EC(e,r){return e%eee===0?CC(r,1):CC(r,0)}LC.exports=function(r,t,n,a,o){if(o||(o={x:!0,y:!0}),o.x){var i=a("xperiod");i&&(a("xperiod0",EC(i,t.xcalendar)),a("xperiodalignment"))}if(o.y){var l=a("yperiod");l&&(a("yperiod0",EC(l,t.ycalendar)),a("yperiodalignment"))}}});var IC=de((Rve,PC)=>{"use strict";var RC=["orientation","groupnorm","stackgaps"];PC.exports=function(r,t,n,a){var o=n._scatterStackOpts,i=a("stackgroup");if(i){var l=t.xaxis+t.yaxis,u=o[l];u||(u=o[l]={});var s=u[i],f=!1;s?s.traces.push(t):(s=u[i]={traceIndices:[],traces:[t]},f=!0);for(var h={orientation:t.x&&!t.y?"h":"v"},p=0;p<RC.length;p++){var _=RC[p],m=_+"Found";if(!s[m]){var w=r[_]!==void 0,T=_==="orientation";if((w||f)&&(s[_]=a(_,h[_]),T&&(s.fillDflt=s[_]==="h"?"tonextx":"tonexty"),w&&(s[m]=!0,!f&&(delete s.traces[0][_],T))))for(var y=0;y<s.traces.length-1;y++){var k=s.traces[y];k._input.fill!==k.fill&&(k.fill=s.fillDflt)}}}return s}}});var tm=de((Pve,qC)=>{"use strict";var FC=Xr(),NC=Si().hasColorscale,zC=Ei(),ree=oa();qC.exports=function(r,t,n,a,o,i){var l=ree.isBubble(r),u=(r.line||{}).color,s;if(i=i||{},u&&(n=u),o("marker.symbol"),o("marker.opacity",l?.7:1),o("marker.size"),i.noAngle||(o("marker.angle"),i.noAngleRef||o("marker.angleref"),i.noStandOff||o("marker.standoff")),o("marker.color",n),NC(r,"marker")&&zC(r,t,a,o,{prefix:"marker.",cLetter:"c"}),i.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),i.noLine||(u&&!Array.isArray(u)&&t.marker.color!==u?s=u:l?s=FC.background:s=FC.defaultLine,o("marker.line.color",s),NC(r,"marker.line")&&zC(r,t,a,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",l?1:0)),l&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),i.gradient){var f=o("marker.gradient.type");f!=="none"&&o("marker.gradient.color")}}});var nm=de((Ive,OC)=>{"use strict";var tee=ir().isArrayOrTypedArray,nee=Si().hasColorscale,aee=Ei();OC.exports=function(r,t,n,a,o,i){i||(i={});var l=(r.marker||{}).color;if(l&&l._inputArray&&(l=l._inputArray),o("line.color",n),nee(r,"line"))aee(r,t,a,o,{prefix:"line.",cLetter:"c"});else{var u=(tee(l)?!1:l)||n;o("line.color",u)}o("line.width"),i.noDash||o("line.dash"),i.backoff&&o("line.backoff")}});var UC=de((Fve,BC)=>{"use strict";BC.exports=function(r,t,n){var a=n("line.shape");a==="spline"&&n("line.smoothing")}});var am=de((Nve,HC)=>{"use strict";var iee=ir();HC.exports=function(e,r,t,n,a){a=a||{},n("textposition"),iee.coerceFont(n,"textfont",a.font||t.font,a),a.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}});var YC=de((zve,GC)=>{"use strict";var y1=Xr(),VC=ir().isArrayOrTypedArray;function oee(e){for(var r=y1.interpolate(e[0][1],e[1][1],.5),t=2;t<e.length;t++){var n=y1.interpolate(e[t-1][1],e[t][1],.5);r=y1.interpolate(r,n,e[t-1][0]/e[t][0])}return r}GC.exports=function(r,t,n,a,o){o||(o={});var i=!1;if(t.marker){var l=t.marker.color,u=(t.marker.line||{}).color;l&&!VC(l)?i=l:u&&!VC(u)&&(i=u)}var s;if(o.moduleHasFillgradient){var f=a("fillgradient.type");if(f!=="none"){a("fillgradient.start"),a("fillgradient.stop");var h=a("fillgradient.colorscale");h&&(s=oee(h))}}a("fillcolor",y1.addOpacity((t.line||{}).color||i||s||n,.5))}});var JC=de((qve,ZC)=>{"use strict";var WC=ir(),lee=Cr(),see=jl(),uee=Gv(),Mu=oa(),fee=SC(),cee=DC(),hee=IC(),vee=tm(),dee=nm(),XC=UC(),pee=am(),gee=YC(),yee=ir().coercePattern;ZC.exports=function(r,t,n,a){function o(_,m){return WC.coerce(r,t,see,_,m)}var i=fee(r,t,a,o);if(i||(t.visible=!1),!!t.visible){cee(r,t,a,o),o("xhoverformat"),o("yhoverformat"),o("zorder");var l=hee(r,t,a,o);a.scattermode==="group"&&t.orientation===void 0&&o("orientation","v");var u=!l&&i<uee.PTS_LINESONLY?"lines+markers":"lines";o("text"),o("hovertext"),o("mode",u),Mu.hasMarkers(t)&&vee(r,t,n,a,o,{gradient:!0}),Mu.hasLines(t)&&(dee(r,t,n,a,o,{backoff:!0}),XC(r,t,o),o("connectgaps"),o("line.simplify")),Mu.hasText(t)&&(o("texttemplate"),o("texttemplatefallback"),pee(r,t,a,o));var s=[];(Mu.hasMarkers(t)||Mu.hasText(t))&&(o("cliponaxis"),o("marker.maxdisplayed"),s.push("points")),o("fill",l?l.fillDflt:"none"),t.fill!=="none"&&(gee(r,t,n,o,{moduleHasFillgradient:!0}),Mu.hasLines(t)||XC(r,t,o),yee(o,"fillpattern",t.fillcolor,!1));var f=(t.line||{}).color,h=(t.marker||{}).color;(t.fill==="tonext"||t.fill==="toself")&&s.push("fills"),o("hoveron",s.join("+")||"points"),t.hoveron!=="fills"&&(o("hovertemplate"),o("hovertemplatefallback"));var p=lee.getComponentMethod("errorbars","supplyDefaults");p(r,t,f||h||n,{axis:"y"}),p(r,t,f||h||n,{axis:"x",inherit:"y"}),WC.coerceSelectionMarkerOpacity(t,o)}}});var QC=de((Ove,KC)=>{"use strict";var mee=Zf().getAxisGroup;KC.exports=function(r,t,n,a,o){var i=t.orientation,l=t[{v:"x",h:"y"}[i]+"axis"],u=mee(n,l)+i,s=n._alignmentOpts||{},f=a("alignmentgroup"),h=s[u];h||(h=s[u]={});var p=h[f];p?p.traces.push(t):p=h[f]={traces:[t],alignmentIndex:Object.keys(h).length,offsetGroups:{}};var _=a("offsetgroup")||"",m=p.offsetGroups,w=m[_];t._offsetIndex=0,(o!=="group"||_)&&(w||(w=m[_]={offsetIndex:Object.keys(m).length}),t._offsetIndex=w.offsetIndex)}});var jC=de((Bve,$C)=>{"use strict";var bee=ir(),xee=QC(),_ee=jl();$C.exports=function(r,t){var n,a,o,i=t.scattermode;function l(p){return bee.coerce(a._input,a,_ee,p)}if(t.scattermode==="group")for(o=0;o<r.length;o++)a=r[o],a.type==="scatter"&&(n=a._input,xee(n,a,t,l,i));for(o=0;o<r.length;o++){var u=r[o];if(u.type==="scatter"){var s=u.fill;if(!(s==="none"||s==="toself")&&(u.opacity=void 0,s==="tonexty"||s==="tonextx"))for(var f=o-1;f>=0;f--){var h=r[f];if(h.type==="scatter"&&h.xaxis===u.xaxis&&h.yaxis===u.yaxis){h.opacity=void 0;break}}}}}});var rE=de((Uve,eE)=>{"use strict";var wee=ir(),Mee=fh();eE.exports=function(e,r){function t(a,o){return wee.coerce(e,r,Mee,a,o)}var n=r.barmode==="group";r.scattermode==="group"&&t("scattergap",n?r.bargap:.2)}});var aE=de((Hve,nE)=>{"use strict";var Tee=nt(),tE=ir(),Aee=tE.dateTime2ms,m1=tE.incrementMonth,kee=nn(),See=kee.ONEAVGMONTH;nE.exports=function(r,t,n,a){if(t.type!=="date")return{vals:a};var o=r[n+"periodalignment"];if(!o)return{vals:a};var i=r[n+"period"],l;if(Tee(i)){if(i=+i,i<=0)return{vals:a}}else if(typeof i=="string"&&i.charAt(0)==="M"){var u=+i.substring(1);if(u>0&&Math.round(u)===u)l=u;else return{vals:a}}for(var s=t.calendar,f=o==="start",h=o==="end",p=r[n+"period0"],_=Aee(p,s)||0,m=[],w=[],T=[],y=a.length,k=0;k<y;k++){var S=a[k],b,M,d;if(l){for(b=Math.round((S-_)/(l*See)),d=m1(_,l*b,s);d>S;)d=m1(d,-l,s);for(;d<=S;)d=m1(d,l,s);M=m1(d,-l,s)}else{for(b=Math.round((S-_)/i),d=_+b*i;d>S;)d-=i;for(;d<=S;)d+=i;M=d-i}m[k]=f?M:h?d:(M+d)/2,w[k]=M,T[k]=d}return{vals:m,starts:w,ends:T}}});var lm=de((Vve,oE)=>{"use strict";var im=Si().hasColorscale,om=zo(),iE=oa();oE.exports=function(r,t){iE.hasLines(t)&&im(t,"line")&&om(r,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),iE.hasMarkers(t)&&(im(t,"marker")&&om(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),im(t,"marker.line")&&om(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}});var b1=de((Gve,lE)=>{"use strict";var Nt=ir();lE.exports=function(r,t){for(var n=0;n<r.length;n++)r[n].i=n;Nt.mergeArray(t.text,r,"tx"),Nt.mergeArray(t.texttemplate,r,"txt"),Nt.mergeArray(t.hovertext,r,"htx"),Nt.mergeArray(t.customdata,r,"data"),Nt.mergeArray(t.textposition,r,"tp"),t.textfont&&(Nt.mergeArrayCastPositive(t.textfont.size,r,"ts"),Nt.mergeArray(t.textfont.color,r,"tc"),Nt.mergeArray(t.textfont.family,r,"tf"),Nt.mergeArray(t.textfont.weight,r,"tw"),Nt.mergeArray(t.textfont.style,r,"ty"),Nt.mergeArray(t.textfont.variant,r,"tv"),Nt.mergeArray(t.textfont.textcase,r,"tC"),Nt.mergeArray(t.textfont.lineposition,r,"tE"),Nt.mergeArray(t.textfont.shadow,r,"tS"));var a=t.marker;if(a){Nt.mergeArrayCastPositive(a.size,r,"ms"),Nt.mergeArrayCastPositive(a.opacity,r,"mo"),Nt.mergeArray(a.symbol,r,"mx"),Nt.mergeArray(a.angle,r,"ma"),Nt.mergeArray(a.standoff,r,"mf"),Nt.mergeArray(a.color,r,"mc");var o=a.line;a.line&&(Nt.mergeArray(o.color,r,"mlc"),Nt.mergeArrayCastPositive(o.width,r,"mlw"));var i=a.gradient;i&&i.type!=="none"&&(Nt.mergeArray(i.type,r,"mgt"),Nt.mergeArray(i.color,r,"mgc"))}}});var fE=de((Yve,uE)=>{"use strict";var sE=ir();uE.exports=function(r,t){sE.isArrayOrTypedArray(t.selectedpoints)&&sE.tagSelected(r,t)}});var hm=de((Wve,yE)=>{"use strict";var cE=nt(),um=ir(),M0=Lt(),hE=aE(),sm=nn().BADNUM,fm=oa(),Cee=lm(),Eee=b1(),Lee=fE();function Dee(e,r){var t=e._fullLayout,n=r._xA=M0.getFromId(e,r.xaxis||"x","x"),a=r._yA=M0.getFromId(e,r.yaxis||"y","y"),o=n.makeCalcdata(r,"x"),i=a.makeCalcdata(r,"y"),l=hE(r,n,"x",o),u=hE(r,a,"y",i),s=l.vals,f=u.vals,h=r._length,p=new Array(h),_=r.ids,m=cm(r,t,n,a),w=!1,T,y,k,S,b,M;pE(t,r);var d="x",x="y",g;if(m)um.pushUnique(m.traceIndices,r.index),T=m.orientation==="v",T?(x="s",g="x"):(d="s",g="y"),b=m.stackgaps==="interpolate";else{var c=dE(r,h);vE(e,r,n,a,s,f,c)}var A=!!r.xperiodalignment,v=!!r.yperiodalignment;for(y=0;y<h;y++){var D=p[y]={},E=cE(s[y]),R=cE(f[y]);E&&R?(D[d]=s[y],D[x]=f[y],A&&(D.orig_x=o[y],D.xEnd=l.ends[y],D.xStart=l.starts[y]),v&&(D.orig_y=i[y],D.yEnd=u.ends[y],D.yStart=u.starts[y])):m&&(T?E:R)?(D[g]=T?s[y]:f[y],D.gap=!0,b?(D.s=sm,w=!0):D.s=0):D[d]=D[x]=sm,_&&(D.id=String(_[y]))}if(Eee(p,r),Cee(e,r),Lee(p,r),m){for(y=0;y<p.length;)p[y][g]===sm?p.splice(y,1):y++;if(um.sort(p,function(L,P){return L[g]-P[g]||L.i-P.i}),w){for(y=0;y<p.length-1&&p[y].gap;)y++;for(M=p[y].s,M||(M=p[y].s=0),k=0;k<y;k++)p[k].s=M;for(S=p.length-1;S>y&&p[S].gap;)S--;for(M=p[S].s,k=p.length-1;k>S;k--)p[k].s=M;for(;y<S;)if(y++,p[y].gap){for(k=y+1;p[k].gap;)k++;for(var N=p[y-1][g],F=p[y-1].s,I=(p[k].s-F)/(p[k][g]-N);y<k;)p[y].s=F+(p[y][g]-N)*I,y++}}}return p}function vE(e,r,t,n,a,o,i){var l=r._length,u=e._fullLayout,s=t._id,f=n._id,h=u._firstScatter[gE(r)]===r.uid,p=(cm(r,u,t,n)||{}).orientation,_=r.fill;t._minDtick=0,n._minDtick=0;var m={padded:!0},w={padded:!0};i&&(m.ppad=w.ppad=i);var T=l<2||a[0]!==a[l-1]||o[0]!==o[l-1];T&&(_==="tozerox"||_==="tonextx"&&(h||p==="h"))?m.tozero=!0:!(r.error_y||{}).visible&&(_==="tonexty"||_==="tozeroy"||!fm.hasMarkers(r)&&!fm.hasText(r))&&(m.padded=!1,m.ppad=0),T&&(_==="tozeroy"||_==="tonexty"&&(h||p==="v"))?w.tozero=!0:(_==="tonextx"||_==="tozerox")&&(w.padded=!1),s&&(r._extremes[s]=M0.findExtremes(t,a,m)),f&&(r._extremes[f]=M0.findExtremes(n,o,w))}function dE(e,r){if(fm.hasMarkers(e)){var t=e.marker,n=1.6*(e.marker.sizeref||1),a;if(e.marker.sizemode==="area"?a=function(s){return Math.max(Math.sqrt((s||0)/n),3)}:a=function(s){return Math.max((s||0)/n,3)},um.isArrayOrTypedArray(t.size)){var o={type:"linear"};M0.setConvert(o);for(var i=o.makeCalcdata(e.marker,"size"),l=new Array(r),u=0;u<r;u++)l[u]=a(i[u]);return l}else return a(t.size)}}function pE(e,r){var t=gE(r),n=e._firstScatter;n[t]||(n[t]=r.uid)}function gE(e){var r=e.stackgroup;return e.xaxis+e.yaxis+e.type+(r?"-"+r:"")}function cm(e,r,t,n){var a=e.stackgroup;if(a){var o=r._scatterStackOpts[t._id+n._id][a],i=o.orientation==="v"?n:t;if(i.type==="linear"||i.type==="log")return o}}yE.exports={calc:Dee,calcMarkerSize:dE,calcAxisExpansion:vE,setFirstScatter:pE,getStackOpts:cm}});var bE=de((Xve,mE)=>{"use strict";mE.exports=x1;var Ree=ir().distinctVals;function x1(e,r){this.traces=e,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var t=1/0,n=r.posAxis._id.charAt(0),a=[],o=0;o<e.length;o++){for(var i=e[o],l=0;l<i.length;l++){var u=i[l],s=u.p;s===void 0&&(s=u[n]),s!==void 0&&a.push(s)}i[0]&&i[0].width1&&(t=Math.min(i[0].width1,t))}this.positions=a;var f=Ree(a);this.distinctPositions=f.vals,f.vals.length===1&&t!==1/0?this.minDiff=t:this.minDiff=Math.min(f.minDiff,t);var h=(r.posAxis||{}).type;(h==="category"||h==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}x1.prototype.put=function(r,t,n){var a=this.getLabel(r,t,n),o=this.bins[a]||0;return this.bins[a]=o+n,o};x1.prototype.get=function(r,t,n){var a=this.getLabel(r,t,n);return this.bins[a]||0};x1.prototype.getLabel=function(r,t,n){var a=n<0&&this.sepNegVal?"v":"^",o=this.overlapNoMerge?r:Math.round(r/this.binWidth);return a+o+"g"+t}});var TE=de((Zve,ME)=>{"use strict";var Va=nt(),Ko=ir().isArrayOrTypedArray,Tu=nn().BADNUM,Pee=Cr(),T0=Lt(),Iee=Zf().getAxisGroup,_1=bE();function Fee(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,l=[],u=[],s=0;s<o.length;s++){var f=o[s];if(f.visible===!0&&Pee.traceIs(f,"bar")&&f.xaxis===t._id&&f.yaxis===n._id&&(f.orientation==="h"?l.push(i[s]):u.push(i[s]),f._computePh))for(var h=e.calcdata[s],p=0;p<h.length;p++)typeof h[p].ph0=="function"&&(h[p].ph0=h[p].ph0()),typeof h[p].ph1=="function"&&(h[p].ph1=h[p].ph1())}var _={xCat:t.type==="category"||t.type==="multicategory",yCat:n.type==="category"||n.type==="multicategory",mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap};dm(e,t,n,u,_),dm(e,n,t,l,_)}function dm(e,r,t,n,a){if(n.length){var o,i,l,u,s;switch(qee(t,n),a.mode){case"overlay":vm(e,r,t,n,a);break;case"group":for(o=[],i=[],l=0;l<n.length;l++)u=n[l],s=u[0].trace,s.offset===void 0?i.push(u):o.push(u);i.length&&Oee(e,r,t,i,a),o.length&&vm(e,r,t,o,a);break;case"stack":case"relative":for(o=[],i=[],l=0;l<n.length;l++)u=n[l],s=u[0].trace,s.base===void 0?i.push(u):o.push(u);zee(i),i.length&&Bee(e,r,t,i,a),o.length&&vm(e,r,t,o,a);break}Nee(n),Wee(n,r)}}function Nee(e){var r,t,n,a,o,i,l;for(r=0;r<e.length;r++)t=e[r],n=t[0].trace,a=t[0].t,a.cornerradiusvalue===void 0&&(o=n.marker?n.marker.cornerradius:void 0,o!==void 0&&(i=Va(o)?+o:+o.slice(0,-1),l=Va(o)?"px":"%",a.cornerradiusvalue=i,a.cornerradiusform=l))}function zee(e){if(!(e.length<2)){var r,t,n,a,o,i,l;for(r=0;r<e.length&&(t=e[r],n=t[0].trace,o=n.marker?n.marker.cornerradius:void 0,o===void 0);r++);if(o!==void 0)for(i=Va(o)?+o:+o.slice(0,-1),l=Va(o)?"px":"%",r=0;r<e.length;r++)t=e[r],a=t[0].t,a.cornerradiusvalue=i,a.cornerradiusform=l}}function qee(e,r){var t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0].trace,i=o.type==="funnel"?o._base:o.base,l,u=o.orientation==="h"?o.xcalendar:o.ycalendar,s=e.type==="category"||e.type==="multicategory"?function(){return null}:e.d2c;if(Ko(i)){for(n=0;n<Math.min(i.length,a.length);n++)l=s(i[n],0,u),Va(l)?(a[n].b=+l,a[n].hasB=1):a[n].b=0;for(;n<a.length;n++)a[n].b=0}else{l=s(i,0,u);var f=Va(l);for(l=f?l:0,n=0;n<a.length;n++)a[n].b=l,f&&(a[n].hasB=1)}}}function vm(e,r,t,n,a){for(var o=0;o<n.length;o++){var i=n[o],l=new _1([i],{posAxis:r,sepNegVal:!1,overlapNoMerge:!a.norm});pm(e,r,l,a),a.norm?(wE(l),gm(t,l,a)):_E(t,l)}}function Oee(e,r,t,n,a){var o=new _1(n,{posAxis:r,sepNegVal:!1,overlapNoMerge:!a.norm});pm(e,r,o,a),Gee(o,r),a.norm?(wE(o),gm(t,o,a)):_E(t,o)}function Bee(e,r,t,n,a){var o=new _1(n,{posAxis:r,sepNegVal:a.mode==="relative",overlapNoMerge:!(a.norm||a.mode==="stack"||a.mode==="relative")});pm(e,r,o,a),Vee(t,o,a);for(var i=0;i<n.length;i++)for(var l=n[i],u=l[0].t.offsetindex,s=0;s<l.length;s++){var f=l[s];if(f.s!==Tu){var h=f.b+f.s===o.get(f.p,u,f.s);h&&(f._outmost=!0)}}a.norm&&gm(t,o,a)}function pm(e,r,t,n){var a=e._fullLayout,o=t.positions,i=t.distinctPositions,l=t.minDiff,u=t.traces,s=u.length,f=o.length!==i.length,h=l*(1-n.gap),p,_,m,w;if(r._id==="angularaxis")p=h,_=p*(1-(n.groupgap||0)),m=-_/2;else{var T=Iee(a,r._id)+u[0][0].trace.orientation;w=a._alignmentOpts[T]||{}}for(var y=0;y<s;y++){var k=u[y],S=k[0].trace;if(r._id!=="angularaxis"){var b=w[S.alignmentgroup]||{},M=Object.keys(b.offsetGroups||{}).length;M?p=h/M:p=f?h/s:h,_=p*(1-(n.groupgap||0)),M?m=((2*S._offsetIndex+1-M)*p-_)/2:m=f?((2*y+1-s)*p-_)/2:-_/2}var d=k[0].t;d.barwidth=_,d.offsetindex=S._offsetIndex||0,d.poffset=m,d.bargroupwidth=h,d.bardelta=l}t.binWidth=u[0][0].t.barwidth/100,Uee(t),Hee(r,t),r._id==="angularaxis"?xE(r,t):xE(r,t,f)}function Uee(e){var r=e.traces,t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0],i=o.trace,l=o.t,u=i._offset||i.offset,s=l.poffset,f;if(Ko(u)){for(f=Array.prototype.slice.call(u,0,a.length),n=0;n<f.length;n++)Va(f[n])||(f[n]=s);for(n=f.length;n<a.length;n++)f.push(s);l.poffset=f}else u!==void 0&&(l.poffset=u);var h=i._width||i.width,p=l.barwidth;if(Ko(h)){var _=Array.prototype.slice.call(h,0,a.length);for(n=0;n<_.length;n++)Va(_[n])||(_[n]=p);for(n=_.length;n<a.length;n++)_.push(p);if(l.barwidth=_,u===void 0){for(f=[],n=0;n<a.length;n++)f.push(s+(p-_[n])/2);l.poffset=f}}else h!==void 0&&(l.barwidth=h,u===void 0&&(l.poffset=s+(p-h)/2))}}function Hee(e,r){for(var t=r.traces,n=Au(e),a=0;a<t.length;a++)for(var o=t[a],i=o[0].t,l=i.poffset,u=Ko(l),s=i.barwidth,f=Ko(s),h=0;h<o.length;h++){var p=o[h],_=p.w=f?s[h]:s;p.p===void 0&&(p.p=p[n],p["orig_"+n]=p[n]);var m=(u?l[h]:l)+_/2;p[n]=p.p+m}}function xE(e,r,t){var n=r.traces,a=r.minDiff,o=a/2;T0.minDtick(e,r.minDiff,r.distinctPositions[0],t);for(var i=0;i<n.length;i++){var l=n[i],u=l[0],s=u.trace,f=[],h,p,_,m;for(m=0;m<l.length;m++)h=l[m],p=h.p-o,_=h.p+o,f.push(p,_);if(s.width||s.offset){var w=u.t,T=w.poffset,y=w.barwidth,k=Ko(T),S=Ko(y);for(m=0;m<l.length;m++){h=l[m];var b=k?T[m]:T,M=S?y[m]:y;p=h.p+b,_=p+M,f.push(p,_)}}s._extremes[e._id]=T0.findExtremes(e,f,{padded:!1})}}function _E(e,r){for(var t=r.traces,n=Au(e),a=0;a<t.length;a++){for(var o=t[a],i=o[0].trace,l=i.type==="scatter",u=i.orientation==="v",s=[],f=!1,h=0;h<o.length;h++){var p=o[h],_=l?0:p.b,m=l?u?p.y:p.x:_+p.s;p[n]=m,s.push(m),p.hasB&&s.push(_),(!p.hasB||!p.b)&&(f=!0)}i._extremes[e._id]=T0.findExtremes(e,s,{tozero:f,padded:!0})}}function Vee(e,r,t){var n=Au(e),a=r.traces,o,i,l,u,s,f,h;for(u=0;u<a.length;u++)if(o=a[u],i=o[0].trace,i.type==="funnel")for(h=o[0].t.offsetindex,s=0;s<o.length;s++)f=o[s],f.s!==Tu&&r.put(f.p,h,-.5*f.s);for(u=0;u<a.length;u++){o=a[u],i=o[0].trace,l=i.type==="funnel",h=i.type==="barpolar"?0:o[0].t.offsetindex;var p=[];for(s=0;s<o.length;s++)if(f=o[s],f.s!==Tu){var _;l?_=f.s:_=f.s+f.b;var m=r.put(f.p,h,_),w=m+_;f.b=m,f[n]=w,t.norm||(p.push(w),f.hasB&&p.push(m))}t.norm||(i._extremes[e._id]=T0.findExtremes(e,p,{tozero:!0,padded:!0}))}}function wE(e){for(var r=e.traces,t=0;t<r.length;t++)for(var n=r[t],a=n[0].t.offsetindex,o=0;o<n.length;o++){var i=n[o];i.s!==Tu&&e.put(i.p,a,i.b+i.s)}}function Gee(e,r){for(var t=e.traces,n=0;n<t.length;n++){var a=t[n],o=a[0].trace,i=a[0].t.offsetindex;if(o.base===void 0)for(var l=new _1([a],{posAxis:r,sepNegVal:!0,overlapNoMerge:!0}),u=0;u<a.length;u++){var s=a[u];if(s.p!==Tu){var f=l.put(s.p,i,s.b+s.s);f&&(s.b=f)}}}}function gm(e,r,t){var n=r.traces,a=Au(e),o=t.norm==="fraction"?1:100,i=o/1e9,l=e.l2c(e.c2l(0)),u=t.mode==="stack"?o:l;function s(d){return Va(e.c2l(d))&&(d<l-i||d>u+i||!Va(l))}for(var f=0;f<n.length;f++){for(var h=n[f],p=h[0].t.offsetindex,_=h[0].trace,m=[],w=!1,T=!1,y=0;y<h.length;y++){var k=h[y];if(k.s!==Tu){var S=Math.abs(o/r.get(k.p,p,k.s));k.b*=S,k.s*=S;var b=k.b,M=b+k.s;k[a]=M,m.push(M),T=T||s(M),k.hasB&&(m.push(b),T=T||s(b)),(!k.hasB||!k.b)&&(w=!0)}}_._extremes[e._id]=T0.findExtremes(e,m,{tozero:w,padded:T})}}function Yee(e,r,t,n){for(var a=Au(n),o=0;o<e.length;o++)for(var i=e[o],l=0;l<i.length;l++){var u=i[l],s=u[a];u._sMin=r[s],u._sMax=t[s]}}function Wee(e,r){var t=Au(r),n={},a,o,i,l=1/0,u=-1/0;for(a=0;a<e.length;a++)for(i=e[a],o=0;o<i.length;o++){var s=i[o].p;Va(s)&&(l=Math.min(l,s),u=Math.max(u,s))}var f=1e4/(u-l),h=n.round=function(g){return String(Math.round(f*(g-l)))},p={},_={},m=e.some(function(g){var c=g[0].trace;return"marker"in c&&c.marker.cornerradius});for(a=0;a<e.length;a++){i=e[a],i[0].t.extents=n;var w=i[0].t.poffset,T=Ko(w);for(o=0;o<i.length;o++){var y=i[o],k=y[t]-y.w/2;if(Va(k)){var S=y[t]+y.w/2,b=h(y.p);n[b]?n[b]=[Math.min(k,n[b][0]),Math.max(S,n[b][1])]:n[b]=[k,S]}if(y.p0=y.p+(T?w[o]:w),y.p1=y.p0+y.w,y.s0=y.b,y.s1=y.s0+y.s,m){var M=Math.min(y.s0,y.s1)||0,d=Math.max(y.s0,y.s1)||0,x=y[t];p[x]=x in p?Math.min(p[x],M):M,_[x]=x in _?Math.max(_[x],d):d}}}m&&Yee(e,p,_,r)}function Au(e){return e._id.charAt(0)}ME.exports={crossTraceCalc:Fee,setGroupPositions:dm}});var CE=de((Jve,SE)=>{"use strict";var AE=hm(),kE=TE().setGroupPositions;function Xee(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,l=[],u=[],s=0;s<o.length;s++){var f=o[s];f.visible===!0&&f.type==="scatter"&&f.xaxis===t._id&&f.yaxis===n._id&&(f.orientation==="h"?l.push(i[s]):f.orientation==="v"&&u.push(i[s]))}var h={mode:a.scattermode,gap:a.scattergap};kE(e,t,n,u,h),kE(e,n,t,l,h)}SE.exports=function(r,t){r._fullLayout.scattermode==="group"&&Xee(r,t);var n=t.xaxis,a=t.yaxis,o=n._id+a._id,i=r._fullLayout._scatterStackOpts[o];if(i){var l=r.calcdata,u,s,f,h,p,_,m,w,T,y,k,S,b,M,d;for(var x in i){y=i[x];var g=y.traceIndices;if(g.length){for(k=y.stackgaps==="interpolate",S=y.groupnorm,y.orientation==="v"?(b="x",M="y"):(b="y",M="x"),d=new Array(g.length),u=0;u<d.length;u++)d[u]=!1;_=l[g[0]];var c=new Array(_.length);for(u=0;u<_.length;u++)c[u]=_[u][b];for(u=1;u<g.length;u++){for(p=l[g[u]],s=f=0;s<p.length;s++){for(m=p[s][b];m>c[f]&&f<c.length;f++)ym(p,s,c[f],u,d,k,b),s++;if(m!==c[f]){for(h=0;h<u;h++)ym(l[g[h]],f,m,h,d,k,b);c.splice(f,0,m)}f++}for(;f<c.length;f++)ym(p,s,c[f],u,d,k,b),s++}var A=c.length;for(s=0;s<_.length;s++){for(w=_[s][M]=_[s].s,u=1;u<g.length;u++)p=l[g[u]],p[0].trace._rawLength=p[0].trace._length,p[0].trace._length=A,w+=p[s].s,p[s][M]=w;if(S)for(T=(S==="fraction"?w:w/100)||1,u=0;u<g.length;u++){var v=l[g[u]][s];v[M]/=T,v.sNorm=v.s/T}}for(u=0;u<g.length;u++){p=l[g[u]];var D=p[0].trace,E=AE.calcMarkerSize(D,D._rawLength),R=Array.isArray(E);if(E&&d[u]||R){var N=E;for(E=new Array(A),s=0;s<A;s++)E[s]=p[s].gap?0:R?N[p[s].i]:N}var F=new Array(A),I=new Array(A);for(s=0;s<A;s++)F[s]=p[s].x,I[s]=p[s].y;AE.calcAxisExpansion(r,D,n,a,F,I,E),p[0].t.orientation=y.orientation}}}}};function ym(e,r,t,n,a,o,i){a[n]=!0;var l={i:null,gap:!0,s:0};if(l[i]=t,e.splice(r,0,l),r&&t===e[r-1][i]){var u=e[r-1];l.s=u.s,l.i=u.i,l.gap=u.gap}else o&&(l.s=Zee(e,r,t,i));r||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function Zee(e,r,t,n){var a=e[r-1],o=e[r+1];return o?a?a.s+(o.s-a.s)*(t-a[n])/(o[n]-a[n]):o.s:a.s}});var FE=de((Kve,IE)=>{"use strict";var Jee=mt(),RE=nn(),A0=RE.BADNUM,PE=RE.LOG_CLIP,EE=PE+.5,LE=PE-.5,w1=ir(),Kee=w1.segmentsIntersect,DE=w1.constrain,mm=Gv();IE.exports=function(r,t){var n=t.trace||{},a=t.xaxis,o=t.yaxis,i=a.type==="log",l=o.type==="log",u=a._length,s=o._length,f=t.backoff,h=n.marker,p=t.connectGaps,_=t.baseTolerance,m=t.shape,w=m==="linear",T=n.fill&&n.fill!=="none",y=[],k=mm.minTolerance,S=r.length,b=new Array(S),M=0,d,x,g,c,A,v,D,E,R,N,F,I,L,P,O,U;function X(Ye){var Me=r[Ye];if(!Me)return!1;var Re=t.linearized?a.l2p(Me.x):a.c2p(Me.x),Qe=t.linearized?o.l2p(Me.y):o.c2p(Me.y);if(Re===A0){if(i&&(Re=a.c2p(Me.x,!0)),Re===A0)return!1;l&&Qe===A0&&(Re*=Math.abs(a._m*s*(a._m>0?EE:LE)/(o._m*u*(o._m>0?EE:LE)))),Re*=1e3}if(Qe===A0){if(l&&(Qe=o.c2p(Me.y,!0)),Qe===A0)return!1;Qe*=1e3}return[Re,Qe]}function $(Ye,Me,Re,Qe){var Ke=Re-Ye,ar=Qe-Me,se=.5-Ye,J=.5-Me,ae=Ke*Ke+ar*ar,De=Ke*se+ar*J;if(De>0&&De<ae){var He=se*ar-J*Ke;if(He*He<ae)return!0}}var j,Y;function q(Ye,Me){var Re=Ye[0]/u,Qe=Ye[1]/s,Ke=Math.max(0,-Re,Re-1,-Qe,Qe-1);return Ke&&j!==void 0&&$(Re,Qe,j,Y)&&(Ke=0),Ke&&Me&&$(Re,Qe,Me[0]/u,Me[1]/s)&&(Ke=0),(1+mm.toleranceGrowth*Ke)*_}function K(Ye,Me){var Re=Ye[0]-Me[0],Qe=Ye[1]-Me[1];return Math.sqrt(Re*Re+Qe*Qe)}var ne=mm.maxScreensAway,Q=-u*ne,oe=u*(1+ne),re=-s*ne,H=s*(1+ne),ee=[[Q,re,oe,re],[oe,re,oe,H],[oe,H,Q,H],[Q,H,Q,re]],V,te,ue,ve,ke,Se;function he(Ye,Me){for(var Re=[],Qe=0,Ke=0;Ke<4;Ke++){var ar=ee[Ke],se=Kee(Ye[0],Ye[1],Me[0],Me[1],ar[0],ar[1],ar[2],ar[3]);se&&(!Qe||Math.abs(se.x-Re[0][0])>1||Math.abs(se.y-Re[0][1])>1)&&(se=[se.x,se.y],Qe&&K(se,Ye)<K(Re[0],Ye)?Re.unshift(se):Re.push(se),Qe++)}return Re}function Ae(Ye){if(Ye[0]<Q||Ye[0]>oe||Ye[1]<re||Ye[1]>H)return[DE(Ye[0],Q,oe),DE(Ye[1],re,H)]}function Ce(Ye,Me){if(Ye[0]===Me[0]&&(Ye[0]===Q||Ye[0]===oe)||Ye[1]===Me[1]&&(Ye[1]===re||Ye[1]===H))return!0}function Pe(Ye,Me){var Re=[],Qe=Ae(Ye),Ke=Ae(Me);return Qe&&Ke&&Ce(Qe,Ke)||(Qe&&Re.push(Qe),Ke&&Re.push(Ke)),Re}function Ee(Ye,Me,Re){return function(Qe,Ke){var ar=Ae(Qe),se=Ae(Ke),J=[];if(ar&&se&&Ce(ar,se))return J;ar&&J.push(ar),se&&J.push(se);var ae=2*w1.constrain((Qe[Ye]+Ke[Ye])/2,Me,Re)-((ar||Qe)[Ye]+(se||Ke)[Ye]);if(ae){var De;ar&&se?De=ae>0==ar[Ye]>se[Ye]?ar:se:De=ar||se,De[Ye]+=ae}return J}}var Ne;m==="linear"||m==="spline"?Ne=he:m==="hv"||m==="vh"?Ne=Pe:m==="hvh"?Ne=Ee(0,Q,oe):m==="vhv"&&(Ne=Ee(1,re,H));function Ue(Ye,Me){var Re=Me[0]-Ye[0],Qe=(Me[1]-Ye[1])/Re,Ke=(Ye[1]*Me[0]-Me[1]*Ye[0])/Re;return Ke>0?[Qe>0?Q:oe,H]:[Qe>0?oe:Q,re]}function ge(Ye){var Me=Ye[0],Re=Ye[1],Qe=Me===b[M-1][0],Ke=Re===b[M-1][1];if(!(Qe&&Ke))if(M>1){var ar=Me===b[M-2][0],se=Re===b[M-2][1];Qe&&(Me===Q||Me===oe)&&ar?se?M--:b[M-1]=Ye:Ke&&(Re===re||Re===H)&&se?ar?M--:b[M-1]=Ye:b[M++]=Ye}else b[M++]=Ye}function we(Ye){b[M-1][0]!==Ye[0]&&b[M-1][1]!==Ye[1]&&ge([ue,ve]),ge(Ye),ke=null,ue=ve=0}var Te=w1.isArrayOrTypedArray(h);function me(Ye){if(Ye&&f&&(Ye.i=d,Ye.d=r,Ye.trace=n,Ye.marker=Te?h[Ye.i]:h,Ye.backoff=f),j=Ye[0]/u,Y=Ye[1]/s,V=Ye[0]<Q?Q:Ye[0]>oe?oe:0,te=Ye[1]<re?re:Ye[1]>H?H:0,V||te){if(!M)b[M++]=[V||Ye[0],te||Ye[1]];else if(ke){var Me=Ne(ke,Ye);Me.length>1&&(we(Me[0]),b[M++]=Me[1])}else Se=Ne(b[M-1],Ye)[0],b[M++]=Se;var Re=b[M-1];V&&te&&(Re[0]!==V||Re[1]!==te)?(ke&&(ue!==V&&ve!==te?ge(ue&&ve?Ue(ke,Ye):[ue||V,ve||te]):ue&&ve&&ge([ue,ve])),ge([V,te])):ue-V&&ve-te&&ge([V||ue,te||ve]),ke=Ye,ue=V,ve=te}else ke&&we(Ne(ke,Ye)[0]),b[M++]=Ye}for(d=0;d<S;d++)if(x=X(d),!!x){for(M=0,ke=null,me(x),d++;d<S;d++){if(c=X(d),!c){if(p)continue;break}if(!w||!t.simplify){me(c);continue}var ye=X(d+1);if(N=K(c,x),!(!(T&&(M===0||M===S-1))&&N<q(c,ye)*k)){for(E=[(c[0]-x[0])/N,(c[1]-x[1])/N],A=x,F=N,I=P=O=0,D=!1,g=c,d++;d<r.length;d++){if(v=ye,ye=X(d+1),!v){if(p)continue;break}if(R=[v[0]-x[0],v[1]-x[1]],U=R[0]*E[1]-R[1]*E[0],P=Math.min(P,U),O=Math.max(O,U),O-P>q(v,ye))break;g=v,L=R[0]*E[0]+R[1]*E[1],L>F?(F=L,c=v,D=!1):L<I&&(I=L,A=v,D=!0)}if(D?(me(c),g!==A&&me(A)):(A!==x&&me(A),g!==c&&me(c)),me(g),d>=r.length||!v)break;me(v),x=v}}ke&&ge([ue||ke[0],ve||ke[1]]),y.push(b.slice(0,M))}var pe=m.slice(m.length-1);if(f&&pe!=="h"&&pe!=="v"){for(var ce=!1,be=-1,Le=[],qe=0;qe<y.length;qe++)for(var ze=0;ze<y[qe].length-1;ze++){var $e=y[qe][ze],Ve=y[qe][ze+1],Be=Jee.applyBackoff(Ve,$e);(Be[0]!==Ve[0]||Be[1]!==Ve[1])&&(ce=!0),Le[be+1]||(be++,Le[be]=[$e,[Be[0],Be[1]]])}return ce?Le:y}return y}});var qE=de((Qve,zE)=>{"use strict";var NE={tonextx:1,tonexty:1,tonext:1};zE.exports=function(r,t,n){var a,o,i,l,u,s={},f=!1,h=-1,p=0,_=-1;for(o=0;o<n.length;o++)a=n[o][0].trace,i=a.stackgroup||"",i?i in s?u=s[i]:(u=s[i]=p,p++):a.fill in NE&&_>=0?u=_:(u=_=p,p++),u<h&&(f=!0),a._groupIndex=h=u;var m=n.slice();f&&m.sort(function(T,y){var k=T[0].trace,S=y[0].trace;return k._groupIndex-S._groupIndex||k.index-S.index});var w={};for(o=0;o<m.length;o++)a=m[o][0].trace,i=a.stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in NE&&(l=w[i],a._prevtrace=l||null,l&&(l._nexttrace=a)),a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace),w[i]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return m}});var HE=de(($ve,UE)=>{"use strict";var si=it(),Qee=Cr(),k0=ir(),ku=k0.ensureSingle,BE=k0.identity,zt=mt(),Su=oa(),$ee=FE(),jee=qE(),M1=yy().tester;UE.exports=function(r,t,n,a,o,i){var l,u,s=!o,f=!!o&&o.duration>0,h=jee(r,t,n);if(l=a.selectAll("g.trace").data(h,function(_){return _[0].trace.uid}),l.enter().append("g").attr("class",function(_){return"trace scatter trace"+_[0].trace.uid}).style("stroke-miterlimit",2),l.order(),ere(r,l,t),f){i&&(u=i());var p=si.transition().duration(o.duration).ease(o.easing).each("end",function(){u&&u()}).each("interrupt",function(){u&&u()});p.each(function(){a.selectAll("g.trace").each(function(_,m){OE(r,m,t,_,h,this,o)})})}else l.each(function(_,m){OE(r,m,t,_,h,this,o)});s&&l.exit().remove(),a.selectAll("path:not([d])").remove()};function ere(e,r,t){r.each(function(n){var a=ku(si.select(this),"g","fills");zt.setClipUrl(a,t.layerClipId,e);var o=n[0].trace,i=[];o._ownfill&&i.push("_ownFill"),o._nexttrace&&i.push("_nextFill");var l=a.selectAll("g").data(i,BE);l.enter().append("g"),l.exit().each(function(u){o[u]=null}).remove(),l.order().each(function(u){o[u]=ku(si.select(this),"path","js-fill")})})}function OE(e,r,t,n,a,o,i){var l=e._context.staticPlot,u;rre(e,r,t,n,a);var s=!!i&&i.duration>0;function f(Ee){return s?Ee.transition():Ee}var h=t.xaxis,p=t.yaxis,_=n[0].trace,m=_.line,w=si.select(o),T=ku(w,"g","errorbars"),y=ku(w,"g","lines"),k=ku(w,"g","points"),S=ku(w,"g","text");if(Qee.getComponentMethod("errorbars","plot")(e,T,t,i),_.visible!==!0)return;f(w).style("opacity",_.opacity);var b,M,d=_.fill.charAt(_.fill.length-1);d!=="x"&&d!=="y"&&(d="");var x,g;d==="y"?(x=1,g=p.c2p(0,!0)):d==="x"&&(x=0,g=h.c2p(0,!0)),n[0][t.isRangePlot?"nodeRangePlot3":"node3"]=w;var c="",A=[],v=_._prevtrace,D=null,E=null;v&&(c=v._prevRevpath||"",M=v._nextFill,A=v._ownPolygons,D=v._fillsegments,E=v._fillElement);var R,N,F="",I="",L,P,O,U,X,$,j=[];_._polygons=[];var Y=[],q=[],K=k0.noop;if(b=_._ownFill,Su.hasLines(_)||_.fill!=="none"){M&&M.datum(n),["hv","vh","hvh","vhv"].indexOf(m.shape)!==-1?(L=zt.steps(m.shape),P=zt.steps(m.shape.split("").reverse().join(""))):m.shape==="spline"?L=P=function(Ee){var Ne=Ee[Ee.length-1];return Ee.length>1&&Ee[0][0]===Ne[0]&&Ee[0][1]===Ne[1]?zt.smoothclosed(Ee.slice(1),m.smoothing):zt.smoothopen(Ee,m.smoothing)}:L=P=function(Ee){return"M"+Ee.join("L")},O=function(Ee){return P(Ee.reverse())},q=$ee(n,{xaxis:h,yaxis:p,trace:_,connectGaps:_.connectgaps,baseTolerance:Math.max(m.width||1,3)/4,shape:m.shape,backoff:m.backoff,simplify:m.simplify,fill:_.fill}),Y=new Array(q.length);var ne=0;for(u=0;u<q.length;u++){var Q,oe=q[u];!Q||!d?(Q=oe.slice(),Y[ne]=Q,ne++):Q.push.apply(Q,oe)}_._fillElement=null,_._fillExclusionElement=E,_._fillsegments=Y.slice(0,ne),Y=_._fillsegments,q.length&&(U=q[0][0].slice(),X=q[q.length-1],$=X[X.length-1].slice()),K=function(Ee){return function(Ne){if(R=L(Ne),N=O(Ne),F?d?(F+="L"+R.substr(1),I=N+("L"+I.substr(1))):(F+="Z"+R,I=N+"Z"+I):(F=R,I=N),Su.hasLines(_)){var Ue=si.select(this);if(Ue.datum(n),Ee)f(Ue.style("opacity",0).attr("d",R).call(zt.lineGroupStyle)).style("opacity",1);else{var ge=f(Ue);ge.attr("d",R),zt.singleLineStyle(n,ge)}}}}}var re=y.selectAll(".js-line").data(q);f(re.exit()).style("opacity",0).remove(),re.each(K(!1)),re.enter().append("path").classed("js-line",!0).style("vector-effect",l?"none":"non-scaling-stroke").call(zt.lineGroupStyle).each(K(!0)),zt.setClipUrl(re,t.layerClipId,e);function H(Ee){f(Ee).attr("d","M0,0Z")}var ee=function(){var Ee=new Array(Y.length);for(u=0;u<Y.length;u++)Ee[u]=M1(Y[u]);return Ee},V=function(Ee){var Ne,Ue;if(!Ee||Ee.length===0)for(Ne=new Array(Y.length),Ue=0;Ue<Y.length;Ue++){var ge=Y[Ue][0].slice(),we=Y[Ue][Y[Ue].length-1].slice();ge[x]=we[x]=g;var Te=[we,ge],me=Te.concat(Y[Ue]);Ne[Ue]=M1(me)}else{for(Ne=new Array(Ee.length-1+Y.length),Ue=0;Ue<Ee.length-1;Ue++)Ne[Ue]=M1(Ee[Ue]);var ye=Ee[Ee.length-1].slice();for(ye.reverse(),Ue=0;Ue<Y.length;Ue++)Ne[Ee.length-1+Ue]=M1(Y[Ue].concat(ye))}return Ne};q.length?(b?(b.datum(n),U&&$&&(d?(U[x]=$[x]=g,f(b).attr("d","M"+$+"L"+U+"L"+F.substr(1)).call(zt.singleFillStyle,e),j=V(null)):(f(b).attr("d",F+"Z").call(zt.singleFillStyle,e),j=ee())),_._polygons=j,_._fillElement=b):M&&(_.fill.substr(0,6)==="tonext"&&F&&c?(_.fill==="tonext"?(f(M).attr("d",F+"Z"+c+"Z").call(zt.singleFillStyle,e),j=ee(),_._polygons=j.concat(A)):(f(M).attr("d",F+"L"+c.substr(1)+"Z").call(zt.singleFillStyle,e),j=V(D),_._polygons=j),_._fillElement=M):H(M)),_._prevRevpath=I):(b?H(b):M&&H(M),_._prevRevpath=null),_._ownPolygons=j;function te(Ee){return Ee.filter(function(Ne){return!Ne.gap&&Ne.vis})}function ue(Ee){return Ee.filter(function(Ne){return Ne.vis})}function ve(Ee){return Ee.filter(function(Ne){return!Ne.gap})}function ke(Ee){return Ee.id}function Se(Ee){if(Ee.ids)return ke}function he(){return!1}function Ae(Ee,Ne,Ue){var ge,we,Te,me=Ue[0].trace,ye=Su.hasMarkers(me),pe=Su.hasText(me),ce=Se(me),be=he,Le=he;if(ye||pe){var qe=BE,ze=me.stackgroup,$e=ze&&e._fullLayout._scatterStackOpts[h._id+p._id][ze].stackgaps==="infer zero";me.marker.maxdisplayed||me._needsCull?qe=$e?ue:te:ze&&!$e&&(qe=ve),ye&&(be=qe),pe&&(Le=qe)}we=Ee.selectAll("path.point"),ge=we.data(be,ce);var Ve=ge.enter().append("path").classed("point",!0);s&&Ve.call(zt.pointStyle,me,e).call(zt.translatePoints,h,p).style("opacity",0).transition().style("opacity",1),ge.order();var Be;ye&&(Be=zt.makePointStyleFns(me)),ge.each(function(Ye){var Me=si.select(this),Re=f(Me);Te=zt.translatePoint(Ye,Re,h,p),Te?(zt.singlePointStyle(Ye,Re,me,Be,e),t.layerClipId&&zt.hideOutsideRangePoint(Ye,Re,h,p,me.xcalendar,me.ycalendar),me.customdata&&Me.classed("plotly-customdata",Ye.data!==null&&Ye.data!==void 0)):Re.remove()}),s?ge.exit().transition().style("opacity",0).remove():ge.exit().remove(),we=Ne.selectAll("g"),ge=we.data(Le,ce),ge.enter().append("g").classed("textpoint",!0).append("text"),ge.order(),ge.each(function(Ye){var Me=si.select(this),Re=f(Me.select("text"));Te=zt.translatePoint(Ye,Re,h,p),Te?t.layerClipId&&zt.hideOutsideRangePoint(Ye,Me,h,p,me.xcalendar,me.ycalendar):Me.remove()}),ge.selectAll("text").call(zt.textPointStyle,me,e).each(function(Ye){var Me=h.c2p(Ye.x),Re=p.c2p(Ye.y);si.select(this).selectAll("tspan.line").each(function(){f(si.select(this)).attr({x:Me,y:Re})})}),ge.exit().remove()}k.datum(n),S.datum(n),Ae(k,S,n);var Ce=_.cliponaxis===!1,Pe=Ce?null:t.layerClipId;zt.setClipUrl(k,Pe,e),zt.setClipUrl(S,Pe,e)}function rre(e,r,t,n,a){var o=t.xaxis,i=t.yaxis,l=si.extent(k0.simpleMap(o.range,o.r2c)),u=si.extent(k0.simpleMap(i.range,i.r2c)),s=n[0].trace;if(Su.hasMarkers(s)){var f=s.marker.maxdisplayed;if(f!==0){var h=n.filter(function(w){return w.x>=l[0]&&w.x<=l[1]&&w.y>=u[0]&&w.y<=u[1]}),p=Math.ceil(h.length/f),_=0;a.forEach(function(w,T){var y=w[0].trace;Su.hasMarkers(y)&&y.marker.maxdisplayed>0&&T<r&&_++});var m=Math.round(_*p/3+Math.floor(_/3)*p/7.1);n.forEach(function(w){delete w.vis}),h.forEach(function(w,T){Math.round((T+m)%p)===0&&(w.vis=!0)})}}}});var GE=de((jve,VE)=>{"use strict";VE.exports={container:"marker",min:"cmin",max:"cmax"}});var WE=de((e1e,YE)=>{"use strict";var T1=Lt();YE.exports=function(r,t,n){var a={},o={_fullLayout:n},i=T1.getFromTrace(o,t,"x"),l=T1.getFromTrace(o,t,"y"),u=r.orig_x;u===void 0&&(u=r.x);var s=r.orig_y;return s===void 0&&(s=r.y),a.xLabel=T1.tickText(i,i.c2l(u),!0).text,a.yLabel=T1.tickText(l,l.c2l(s),!0).text,a}});var wm=de((r1e,XE)=>{"use strict";var bm=it(),Cu=mt(),tre=Cr();function nre(e){var r=bm.select(e).selectAll("g.trace.scatter");r.style("opacity",function(t){return t[0].trace.opacity}),r.selectAll("g.points").each(function(t){var n=bm.select(this),a=t.trace||t[0].trace;xm(n,a,e)}),r.selectAll("g.text").each(function(t){var n=bm.select(this),a=t.trace||t[0].trace;_m(n,a,e)}),r.selectAll("g.trace path.js-line").call(Cu.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(Cu.fillGroupStyle,e,!1),tre.getComponentMethod("errorbars","style")(r)}function xm(e,r,t){Cu.pointStyle(e.selectAll("path.point"),r,t)}function _m(e,r,t){Cu.textPointStyle(e.selectAll("text"),r,t)}function are(e,r,t){var n=r[0].trace;n.selectedpoints?(Cu.selectedPointStyle(t.selectAll("path.point"),n),Cu.selectedTextStyle(t.selectAll("text"),n)):(xm(t,n,e),_m(t,n,e))}XE.exports={style:nre,stylePoints:xm,styleText:_m,styleOnSelect:are}});var JE=de((t1e,ZE)=>{"use strict";var Eu=Xr(),ire=oa();ZE.exports=function(r,t){var n,a;if(r.mode==="lines")return n=r.line.color,n&&Eu.opacity(n)?n:r.fillcolor;if(r.mode==="none")return r.fill?r.fillcolor:"";var o=t.mcc||(r.marker||{}).color,i=t.mlcc||((r.marker||{}).line||{}).color;return a=o&&Eu.opacity(o)?o:i&&Eu.opacity(i)&&(t.mlw||((r.marker||{}).line||{}).width)?i:"",a?Eu.opacity(a)<.3?Eu.addOpacity(a,.3):a:(n=(r.line||{}).color,n&&Eu.opacity(n)&&ire.hasLines(r)&&r.line.width?n:r.fillcolor)}});var $E=de((n1e,QE)=>{"use strict";var A1=ir(),KE=io(),ore=Cr(),lre=JE(),Mm=Xr(),sre=A1.fillText;QE.exports=function(r,t,n,a){var o=r.cd,i=o[0].trace,l=r.xa,u=r.ya,s=l.c2p(t),f=u.c2p(n),h=[s,f],p=i.hoveron||"",_=i.mode.indexOf("markers")!==-1?3:.5,m=!!i.xperiodalignment,w=!!i.yperiodalignment;if(p.indexOf("points")!==-1){var T=function(I){if(m){var L=l.c2p(I.xStart),P=l.c2p(I.xEnd);return s>=Math.min(L,P)&&s<=Math.max(L,P)?0:1/0}var O=Math.max(3,I.mrc||0),U=1-1/O,X=Math.abs(l.c2p(I.x)-s);return X<O?U*X/O:X-O+U},y=function(I){if(w){var L=u.c2p(I.yStart),P=u.c2p(I.yEnd);return f>=Math.min(L,P)&&f<=Math.max(L,P)?0:1/0}var O=Math.max(3,I.mrc||0),U=1-1/O,X=Math.abs(u.c2p(I.y)-f);return X<O?U*X/O:X-O+U},k=function(I){var L=Math.max(_,I.mrc||0),P=l.c2p(I.x)-s,O=u.c2p(I.y)-f;return Math.max(Math.sqrt(P*P+O*O)-L,1-_/L)},S=KE.getDistanceFunction(a,T,y,k);if(KE.getClosest(o,S,r),r.index!==!1){var b=o[r.index],M=l.c2p(b.x,!0),d=u.c2p(b.y,!0),x=b.mrc||1;r.index=b.i;var g=o[0].t.orientation,c=g&&(b.sNorm||b.s),A=g==="h"?c:b.orig_x!==void 0?b.orig_x:b.x,v=g==="v"?c:b.orig_y!==void 0?b.orig_y:b.y;return A1.extendFlat(r,{color:lre(i,b),x0:M-x,x1:M+x,xLabelVal:A,y0:d-x,y1:d+x,yLabelVal:v,spikeDistance:k(b),hovertemplate:i.hovertemplate}),sre(b,i,r),ore.getComponentMethod("errorbars","hoverInfo")(b,i,r),[r]}}function D(I){if(!I)return!1;var L=I.node();try{var P=new DOMPoint(h[0],h[1]);return L.isPointInFill(P)}catch(U){var O=L.ownerSVGElement.createSVGPoint();return O.x=h[0],O.y=h[1],L.isPointInFill(O)}}function E(I){var L,P=[],O=1/0,U=-1/0,X=1/0,$=-1/0,j;for(L=0;L<I.length;L++){var Y=I[L];Y.contains(h)&&(P.push(Y),X=Math.min(X,Y.ymin),$=Math.max($,Y.ymax))}if(P.length===0)return null;X=Math.max(X,0),$=Math.min($,u._length),j=(X+$)/2;var q,K,ne,Q,oe,re,H;for(L=0;L<P.length;L++)for(K=P[L].pts,q=1;q<K.length;q++)re=K[q-1][1],H=K[q][1],re>j!=H>=j&&(Q=K[q-1][0],oe=K[q][0],H-re&&(ne=Q+(oe-Q)*(j-re)/(H-re),O=Math.min(O,ne),U=Math.max(U,ne)));return O=Math.max(O,0),U=Math.min(U,l._length),{x0:O,x1:U,y0:j,y1:j}}if(p.indexOf("fills")!==-1&&i._fillElement){var R=D(i._fillElement)&&!D(i._fillExclusionElement);if(R){var N=E(i._polygons);N===null&&(N={x0:h[0],x1:h[0],y0:h[1],y1:h[1]});var F=Mm.defaultLine;return Mm.opacity(i.fillcolor)?F=i.fillcolor:Mm.opacity((i.line||{}).color)&&(F=i.line.color),A1.extendFlat(r,{distance:r.maxHoverDistance,x0:N.x0,x1:N.x1,y0:N.y0,y1:N.y1,color:F,hovertemplate:!1}),delete r.index,i.text&&!A1.isArrayOrTypedArray(i.text)?r.text=String(i.text):r.text=i.name,[r]}}}});var rL=de((a1e,eL)=>{"use strict";var jE=oa();eL.exports=function(r,t){var n=r.cd,a=r.xaxis,o=r.yaxis,i=[],l=n[0].trace,u,s,f,h,p=!jE.hasMarkers(l)&&!jE.hasText(l);if(p)return[];if(t===!1)for(u=0;u<n.length;u++)n[u].selected=0;else for(u=0;u<n.length;u++)s=n[u],f=a.c2p(s.x),h=o.c2p(s.y),s.i!==null&&t.contains([f,h],!1,u,r)?(i.push({pointNumber:s.i,x:a.c2d(s.x),y:o.c2d(s.y)}),s.selected=1):s.selected=0;return i}});var nL=de((i1e,tL)=>{"use strict";tL.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}});var Am=de((o1e,oL)=>{"use strict";var S0=Cr().traceIs,Tm=Xg();oL.exports=function(r,t,n,a){n("autotypenumbers",a.autotypenumbersDflt);var o=n("type",(a.splomStash||{}).type);o==="-"&&(ure(t,a.data),t.type==="-"?t.type="linear":r.type=t.type)};function ure(e,r){if(e.type==="-"){var t=e._id,n=t.charAt(0),a;t.indexOf("scene")!==-1&&(t=n);var o=fre(r,t,n);if(o){if(o.type==="histogram"&&n==={v:"y",h:"x"}[o.orientation||"v"]){e.type="linear";return}var i=n+"calendar",l=o[i],u={noMultiCategory:!S0(o,"cartesian")||S0(o,"noMultiCategory")};if(o.type==="box"&&o._hasPreCompStats&&n==={h:"x",v:"y"}[o.orientation||"v"]&&(u.noMultiCategory=!0),u.autotypenumbers=e.autotypenumbers,iL(o,n)){var s=aL(o),f=[];for(a=0;a<r.length;a++){var h=r[a];!S0(h,"box-violin")||(h[n+"axis"]||n)!==t||(h[s]!==void 0?f.push(h[s][0]):h.name!==void 0?f.push(h.name):f.push("text"),h[i]!==l&&(l=void 0))}e.type=Tm(f,l,u)}else if(o.type==="splom"){var p=o.dimensions,_=p[o._axesDim[t]];_.visible&&(e.type=Tm(_.values,l,u))}else e.type=Tm(o[n]||[o[n+"0"]],l,u)}}}function fre(e,r,t){for(var n=0;n<e.length;n++){var a=e[n];if(a.type==="splom"&&a._length>0&&(a["_"+t+"axes"]||{})[r])return a;if((a[t+"axis"]||t)===r){if(iL(a,t))return a;if((a[t]||[]).length||a[t+"0"])return a}}}function aL(e){return{v:"x",h:"y"}[e.orientation||"v"]}function iL(e,r){var t=aL(e),n=S0(e,"box-violin"),a=S0(e._fullInput||{},"candlestick");return n&&!a&&r===t&&e[t]===void 0&&e[t+"0"]===void 0}});var sL=de((l1e,lL)=>{"use strict";var cre=ea().isTypedArraySpec;function hre(e,r){var t=r.dataAttr||e._id.charAt(0),n={},a,o,i;if(r.axData)a=r.axData;else for(a=[],o=0;o<r.data.length;o++){var l=r.data[o];l[t+"axis"]===e._id&&a.push(l)}for(o=0;o<a.length;o++){var u=a[o][t];for(i=0;i<u.length;i++){var s=u[i];s!=null&&(n[s]=1)}}return Object.keys(n)}lL.exports=function(r,t,n,a){if(t.type==="category"){var o=r.categoryarray,i=Array.isArray(o)&&o.length>0||cre(o),l;i&&(l="array");var u=n("categoryorder",l),s;u==="array"&&(s=n("categoryarray")),!i&&u==="array"&&(u=t.categoryorder="trace"),u==="trace"?t._initialCategories=[]:u==="array"?t._initialCategories=s.slice():(s=hre(t,a).sort(),u==="category ascending"?t._initialCategories=s:u==="category descending"&&(t._initialCategories=s.reverse()))}}});var cL=de((s1e,fL)=>{"use strict";var uL=ka().mix,vre=Ti(),dre=ir();fL.exports=function(r,t,n,a){a=a||{};var o=a.dfltColor;function i(g,c){return dre.coerce2(r,t,a.attributes,g,c)}var l=i("linecolor",o),u=i("linewidth"),s=n("showline",a.showLine||!!l||!!u);s||(delete t.linecolor,delete t.linewidth);var f=uL(o,a.bgColor,a.blend||vre.lightFraction).toRgbString(),h=i("gridcolor",f),p=i("gridwidth"),_=i("griddash"),m=n("showgrid",a.showGrid||!!h||!!p||!!_);if(m||(delete t.gridcolor,delete t.gridwidth,delete t.griddash),a.hasMinor){var w=uL(t.gridcolor,a.bgColor,67).toRgbString(),T=i("minor.gridcolor",w),y=i("minor.gridwidth",t.gridwidth||1),k=i("minor.griddash",t.griddash||"solid"),S=n("minor.showgrid",!!T||!!y||!!k);S||(delete t.minor.gridcolor,delete t.minor.gridwidth,delete t.minor.griddash)}if(!a.noZeroLine){var b=i("zerolinelayer"),M=i("zerolinecolor",o),d=i("zerolinewidth"),x=n("zeroline",a.showGrid||!!M||!!d);x||(delete t.zerolinelayer,delete t.zerolinecolor,delete t.zerolinewidth)}}});var S1=de((u1e,yL)=>{"use strict";var hL=nt(),pre=Cr(),C0=ir(),gre=yt(),yre=ri(),km=La(),vL=gg(),dL=mg(),mre=_g(),bre=wg(),xre=sL(),_re=cL(),wre=d2(),pL=Fh(),k1=_n().WEEKDAY_PATTERN,Mre=_n().HOUR_PATTERN;yL.exports=function(r,t,n,a,o){var i=a.letter,l=a.font||{},u=a.splomStash||{},s=n("visible",!a.visibleDflt),f=t._template||{},h=t.type||f.type||"-",p;if(h==="date"){var _=pre.getComponentMethod("calendars","handleDefaults");_(r,t,"calendar",a.calendar),a.noTicklabelmode||(p=n("ticklabelmode"))}!a.noTicklabelindex&&(h==="date"||h==="linear")&&n("ticklabelindex");var m="";(!a.noTicklabelposition||h==="multicategory")&&(m=C0.coerce(r,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:p==="period"?["outside","inside"]:i==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),a.noTicklabeloverflow||n("ticklabeloverflow",m.indexOf("inside")!==-1?"hide past domain":h==="category"||h==="multicategory"?"allow":"hide past div"),pL(t,o),wre(r,t,n,a),xre(r,t,n,a),a.noHover||(h!=="category"&&n("hoverformat"),a.noUnifiedhovertitle||n("unifiedhovertitle.text"));var w=n("color"),T=w!==km.color.dflt?w:l.color,y=u.label||o._dfltTitle[i];if(bre(r,t,n,h,a),!s)return t;n("title.text",y),C0.coerceFont(n,"title.font",l,{overrideDflt:{size:C0.bigFont(l.size),color:T}}),vL(r,t,n,h);var k=a.hasMinor;if(k&&(gre.newContainer(t,"minor"),vL(r,t,n,h,{isMinor:!0})),mre(r,t,n,h,a),dL(r,t,n,a),k){var S=a.isMinor;a.isMinor=!0,dL(r,t,n,a),a.isMinor=S}_re(r,t,n,{dfltColor:w,bgColor:a.bgColor,showGrid:a.showGrid,hasMinor:k,attributes:km}),k&&!t.minor.ticks&&!t.minor.showgrid&&delete t.minor,(t.showline||t.ticks)&&n("mirror");var b=h==="multicategory";if(!a.noTickson&&(h==="category"||b)&&(t.ticks||t.showgrid)&&(b?(n("tickson","boundaries"),delete t.ticklabelposition):n("tickson")),b){var M=n("showdividers");M&&(n("dividercolor"),n("dividerwidth"))}if(h==="date")if(yre(r,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:Tre}),!t.rangebreaks.length)delete t.rangebreaks;else{for(var d=0;d<t.rangebreaks.length;d++)if(t.rangebreaks[d].pattern===k1){t._hasDayOfWeekBreaks=!0;break}if(pL(t,o),o._has("scattergl")||o._has("splom"))for(var x=0;x<a.data.length;x++){var g=a.data[x];(g.type==="scattergl"||g.type==="splom")&&(g.visible=!1,C0.warn(g.type+" traces do not work on axes with rangebreaks. Setting trace "+g.index+" to `visible: false`."))}}return t};function Tre(e,r,t){function n(p,_){return C0.coerce(e,r,km.rangebreaks,p,_)}var a=n("enabled");if(a){var o=n("bounds");if(o&&o.length>=2){var i="",l,u;if(o.length===2){for(l=0;l<2;l++)if(u=gL(o[l]),u){i=k1;break}}var s=n("pattern",i);if(s===k1)for(l=0;l<2;l++)u=gL(o[l]),u&&(r.bounds[l]=o[l]=u-1);if(s)for(l=0;l<2;l++)switch(u=o[l],s){case k1:if(!hL(u)){r.enabled=!1;return}if(u=+u,u!==Math.floor(u)||u<0||u>=7){r.enabled=!1;return}r.bounds[l]=o[l]=u;break;case Mre:if(!hL(u)){r.enabled=!1;return}if(u=+u,u<0||u>24){r.enabled=!1;return}r.bounds[l]=o[l]=u;break}if(t.autorange===!1){var f=t.range;if(f[0]<f[1]){if(o[0]<f[0]&&o[1]>f[1]){r.enabled=!1;return}}else if(o[0]>f[0]&&o[1]<f[1]){r.enabled=!1;return}}}else{var h=n("values");if(h&&h.length)n("dvalue");else{r.enabled=!1;return}}}}var Are={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function gL(e){if(typeof e=="string")return Are[e.substr(0,3).toLowerCase()]}});var Sm=de((f1e,mL)=>{"use strict";var kre=nt(),C1=ir();mL.exports=function(r,t,n,a){var o=a.counterAxes||[],i=a.overlayableAxes||[],l=a.letter,u=a.grid,s=a.overlayingDomain,f,h,p,_,m,w;u&&(h=u._domains[l][u._axisMap[t._id]],f=u._anchors[t._id],h&&(p=u[l+"side"].split(" ")[0],_=u.domain[l][p==="right"||p==="top"?1:0])),h=h||[0,1],f=f||(kre(r.position)?"free":o[0]||"free"),p=p||(l==="x"?"bottom":"left"),_=_||0,m=0,w=!1;var T=C1.coerce(r,t,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:f}},"anchor"),y=C1.coerce(r,t,{side:{valType:"enumerated",values:l==="x"?["bottom","top"]:["left","right"],dflt:p}},"side");if(T==="free"){if(l==="y"){var k=n("autoshift");k&&(_=y==="left"?s[0]:s[1],w=t.automargin?t.automargin:!0,m=y==="left"?-3:3),n("shift",m)}n("position",_)}n("automargin",w);var S=!1;if(i.length&&(S=C1.coerce(r,t,{overlaying:{valType:"enumerated",values:[!1].concat(i),dflt:!1}},"overlaying")),!S){var b=n("domain",h);b[0]>b[1]-1/4096&&(t.domain=h),C1.noneOrAll(r.domain,t.domain,h),t.tickmode==="sync"&&(t.tickmode="auto")}return n("layer"),t}});var SL=de((c1e,kL)=>{"use strict";var ns=ir(),bL=Xr(),Sre=to().isUnifiedHover,Cre=B2(),xL=yt(),Ere=Is(),_L=La(),Lre=Am(),wL=S1(),Dre=Zf(),ML=Sm(),Em=jt(),Ui=Em.id2name,TL=Em.name2id,Rre=_n().AX_ID_PATTERN,AL=Cr(),E1=AL.traceIs,Cm=AL.getComponentMethod;function L1(e,r,t){Array.isArray(e[r])?e[r].push(t):e[r]=[t]}kL.exports=function(r,t,n){var a=t.autotypenumbers,o={},i={},l={},u={},s={},f={},h={},p={},_={},m={},w,T;for(w=0;w<n.length;w++){var y=n[w];if(E1(y,"cartesian")){var k;if(y.xaxis)k=Ui(y.xaxis),L1(o,k,y);else if(y.xaxes)for(T=0;T<y.xaxes.length;T++)L1(o,Ui(y.xaxes[T]),y);var S;if(y.yaxis)S=Ui(y.yaxis),L1(o,S,y);else if(y.yaxes)for(T=0;T<y.yaxes.length;T++)L1(o,Ui(y.yaxes[T]),y);if(y.type==="funnel"?y.orientation==="h"?(k&&(i[k]=!0),S&&(h[S]=!0)):S&&(l[S]=!0):y.type==="image"?(S&&(p[S]=!0),k&&(p[k]=!0)):(S&&(s[S]=!0,f[S]=!0),(!E1(y,"carpet")||y.type==="carpet"&&!y._cheater)&&k&&(u[k]=!0)),y.type==="carpet"&&y._cheater&&k&&(i[k]=!0),E1(y,"2dMap")&&(_[k]=!0,_[S]=!0),E1(y,"oriented")){var b=y.orientation==="h"?S:k;m[b]=!0}}}var M=t._subplots,d=M.xaxis,x=M.yaxis,g=ns.simpleMap(d,Ui),c=ns.simpleMap(x,Ui),A=g.concat(c),v=bL.background;d.length&&x.length&&(v=ns.coerce(r,t,Ere,"plot_bgcolor"));var D=bL.combine(v,t.paper_bgcolor),E,R,N,F,I;function L(){var we=o[E]||[];I._traceIndices=we.map(function(Te){return Te.index}),I._annIndices=[],I._shapeIndices=[],I._selectionIndices=[],I._imgIndices=[],I._subplotsWith=[],I._counterAxes=[],I._name=I._attr=E,I._id=R}function P(we,Te){return ns.coerce(F,I,_L,we,Te)}function O(we,Te){return ns.coerce2(F,I,_L,we,Te)}function U(we){return we==="x"?x:d}function X(we,Te){for(var me=we==="x"?g:c,ye=[],pe=0;pe<me.length;pe++){var ce=me[pe];ce!==Te&&!(r[ce]||{}).overlaying&&ye.push(TL(ce))}return ye}var $={x:U("x"),y:U("y")},j=$.x.concat($.y),Y={},q=[];function K(){var we=F.matches;Rre.test(we)&&j.indexOf(we)===-1&&(Y[we]=F.type,q=Object.keys(Y))}var ne=Cre(r,t),Q=Sre(ne);for(w=0;w<A.length;w++){E=A[w],R=TL(E),N=E.charAt(0),ns.isPlainObject(r[E])||(r[E]={}),F=r[E],I=xL.newContainer(t,E,N+"axis"),L();var oe=N==="x"&&!u[E]&&i[E]||N==="y"&&!s[E]&&l[E],re=N==="y"&&(!f[E]&&h[E]||p[E]),H={hasMinor:!0,letter:N,font:t.font,outerTicks:_[E],showGrid:!m[E],data:o[E]||[],bgColor:D,calendar:t.calendar,automargin:!0,visibleDflt:oe,reverseDflt:re,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[N]||{})[R],noAutotickangles:N==="y"};P("uirevision",t.uirevision),Lre(F,I,P,H),wL(F,I,P,H,t);var ee=Q&&N===ne.charAt(0),V=O("spikecolor",Q?I.color:void 0),te=O("spikethickness",Q?1.5:void 0),ue=O("spikedash",Q?"dot":void 0),ve=O("spikemode",Q?"across":void 0),ke=O("spikesnap"),Se=P("showspikes",!!ee||!!V||!!te||!!ue||!!ve||!!ke);Se||(delete I.spikecolor,delete I.spikethickness,delete I.spikedash,delete I.spikemode,delete I.spikesnap);var he=Ui(F.overlaying),Ae=[0,1];if(t[he]!==void 0){var Ce=Ui(t[he].anchor);t[Ce]!==void 0&&(Ae=t[Ce].domain)}ML(F,I,P,{letter:N,counterAxes:$[N],overlayableAxes:X(N,E),grid:t.grid,overlayingDomain:Ae}),P("title.standoff"),K(),I._input=F}for(w=0;w<q.length;){R=q[w++],E=Ui(R),N=E.charAt(0),ns.isPlainObject(r[E])||(r[E]={}),F=r[E],I=xL.newContainer(t,E,N+"axis"),L();var Pe={letter:N,font:t.font,outerTicks:_[E],showGrid:!m[E],data:[],bgColor:D,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[N]||{})[R]};P("uirevision",t.uirevision),I.type=Y[R]||"linear",wL(F,I,P,Pe,t),ML(F,I,P,{letter:N,counterAxes:$[N],overlayableAxes:X(N,E),grid:t.grid}),P("fixedrange"),P("modebardisable"),K(),I._input=F}var Ee=Cm("rangeslider","handleDefaults"),Ne=Cm("rangeselector","handleDefaults");for(w=0;w<g.length;w++)E=g[w],F=r[E],I=t[E],Ee(r,t,E),I.type==="date"&&Ne(F,I,t,c,I.calendar),P("fixedrange"),P("modebardisable");for(w=0;w<c.length;w++){E=c[w],F=r[E],I=t[E];var Ue=t[Ui(I.anchor)],ge=Cm("rangeslider","isVisible")(Ue);P("fixedrange",ge),P("modebardisable")}Dre.handleDefaults(r,t,{axIds:j.concat(q).sort(Em.idSort),axHasImage:p})}});var LL=de((h1e,EL)=>{"use strict";var Pre=it(),CL=Cr(),D1=ir(),ba=mt(),R1=Lt();EL.exports=function(r,t,n,a){var o=r._fullLayout;if(t.length===0){R1.redrawComponents(r);return}function i(T){var y=T.xaxis,k=T.yaxis;o._defs.select("#"+T.clipId+"> rect").call(ba.setTranslate,0,0).call(ba.setScale,1,1),T.plot.call(ba.setTranslate,y._offset,k._offset).call(ba.setScale,1,1);var S=T.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(ba.setPointGroupScale,1,1),S.selectAll(".textpoint").call(ba.setTextPointsScale,1,1),S.call(ba.hideOutsideRangePoints,T)}function l(T,y){var k=T.plotinfo,S=k.xaxis,b=k.yaxis,M=S._length,d=b._length,x=!!T.xr1,g=!!T.yr1,c=[];if(x){var A=D1.simpleMap(T.xr0,S.r2l),v=D1.simpleMap(T.xr1,S.r2l),D=A[1]-A[0],E=v[1]-v[0];c[0]=(A[0]*(1-y)+y*v[0]-A[0])/(A[1]-A[0])*M,c[2]=M*(1-y+y*E/D),S.range[0]=S.l2r(A[0]*(1-y)+y*v[0]),S.range[1]=S.l2r(A[1]*(1-y)+y*v[1])}else c[0]=0,c[2]=M;if(g){var R=D1.simpleMap(T.yr0,b.r2l),N=D1.simpleMap(T.yr1,b.r2l),F=R[1]-R[0],I=N[1]-N[0];c[1]=(R[1]*(1-y)+y*N[1]-R[1])/(R[0]-R[1])*d,c[3]=d*(1-y+y*I/F),b.range[0]=S.l2r(R[0]*(1-y)+y*N[0]),b.range[1]=b.l2r(R[1]*(1-y)+y*N[1])}else c[1]=0,c[3]=d;R1.drawOne(r,S,{skipTitle:!0}),R1.drawOne(r,b,{skipTitle:!0}),R1.redrawComponents(r,[S._id,b._id]);var L=x?M/c[2]:1,P=g?d/c[3]:1,O=x?c[0]:0,U=g?c[1]:0,X=x?c[0]/c[2]*M:0,$=g?c[1]/c[3]*d:0,j=S._offset-X,Y=b._offset-$;k.clipRect.call(ba.setTranslate,O,U).call(ba.setScale,1/L,1/P),k.plot.call(ba.setTranslate,j,Y).call(ba.setScale,L,P),ba.setPointGroupScale(k.zoomScalePts,1/L,1/P),ba.setTextPointsScale(k.zoomScaleTxt,1/L,1/P)}var u;a&&(u=a());function s(){for(var T={},y=0;y<t.length;y++){var k=t[y],S=k.plotinfo.xaxis,b=k.plotinfo.yaxis;k.xr1&&(T[S._name+".range"]=k.xr1.slice()),k.yr1&&(T[b._name+".range"]=k.yr1.slice())}return u&&u(),CL.call("relayout",r,T).then(function(){for(var M=0;M<t.length;M++)i(t[M].plotinfo)})}function f(){for(var T={},y=0;y<t.length;y++){var k=t[y],S=k.plotinfo.xaxis,b=k.plotinfo.yaxis;k.xr0&&(T[S._name+".range"]=k.xr0.slice()),k.yr0&&(T[b._name+".range"]=k.yr0.slice())}return CL.call("relayout",r,T).then(function(){for(var M=0;M<t.length;M++)i(t[M].plotinfo)})}var h,p,_,m=Pre.ease(n.easing);r._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(_),_=null,f()});function w(){p=Date.now();for(var T=Math.min(1,(p-h)/n.duration),y=m(T),k=0;k<t.length;k++)l(t[k],y);p-h>n.duration?(s(),_=window.cancelAnimationFrame(w)):_=window.requestAnimationFrame(w)}return h=Date.now(),_=window.requestAnimationFrame(w),Promise.resolve()}});var Lm=de(Ln=>{"use strict";var I1=it(),DL=Cr(),as=ir(),Ire=on(),Fre=mt(),RL=kf().getModuleCalcData,Qo=jt(),ui=_n(),Nre=Fo(),lt=as.ensureSingle;function P1(e,r,t){return as.ensureSingle(e,r,t,function(n){n.datum(t)})}var is=ui.zindexSeparator;Ln.name="cartesian";Ln.attr=["xaxis","yaxis"];Ln.idRoot=["x","y"];Ln.idRegex=ui.idRegex;Ln.attrRegex=ui.attrRegex;Ln.attributes=nL();Ln.layoutAttributes=La();Ln.supplyLayoutDefaults=SL();Ln.transitionAxes=LL();Ln.finalizeSubplots=function(e,r){var t=r._subplots,n=t.xaxis,a=t.yaxis,o=t.cartesian,i=o,l={},u={},s,f,h;for(s=0;s<i.length;s++){var p=i[s].split("y");l[p[0]]=1,u["y"+p[1]]=1}for(s=0;s<n.length;s++)f=n[s],l[f]||(h=(e[Qo.id2name(f)]||{}).anchor,ui.idRegex.y.test(h)||(h="y"),o.push(f+h),i.push(f+h),u[h]||(u[h]=1,as.pushUnique(a,h)));for(s=0;s<a.length;s++)h=a[s],u[h]||(f=(e[Qo.id2name(h)]||{}).anchor,ui.idRegex.x.test(f)||(f="x"),o.push(f+h),i.push(f+h),l[f]||(l[f]=1,as.pushUnique(n,f)));if(!i.length){f="",h="";for(var _ in e)if(ui.attrRegex.test(_)){var m=_.charAt(0);m==="x"?(!f||+_.substr(5)<+f.substr(5))&&(f=_):(!h||+_.substr(5)<+h.substr(5))&&(h=_)}f=f?Qo.name2id(f):"x",h=h?Qo.name2id(h):"y",n.push(f),a.push(h),o.push(f+h)}};Ln.plot=function(e,r,t,n){var a=e._fullLayout,o=a._subplots.cartesian,i=e.calcdata,l;if(!Array.isArray(r))for(r=[],l=0;l<i.length;l++)r.push(l);for(var u=a._zindices,s=0;s<u.length;s++){var f=u[s];for(l=0;l<o.length;l++){var h=o[l],p=a._plots[h];if(s>0){var _=p.id;if(_.indexOf(is)!==-1)continue;_+=is+(s+1),p=as.extendFlat({},p,{id:_,plot:a._cartesianlayer.selectAll(".subplot").select("."+_)})}for(var m=[],w,T=0;T<i.length;T++){var y=i[T],k=y[0].trace;f===(k.zorder||0)&&k.xaxis+k.yaxis===h&&((r.indexOf(k.index)!==-1||k.carpet)&&(w&&w[0].trace.xaxis+w[0].trace.yaxis===h&&["tonextx","tonexty","tonext"].indexOf(k.fill)!==-1&&m.indexOf(w)===-1&&m.push(w),m.push(y)),w=y)}PL(e,p,m,t,n)}}};function PL(e,r,t,n,a){for(var o=ui.traceLayerClasses,i=e._fullLayout,l=i._zindices,u=i._modules,s,f,h,p=[],_=[],m=0;m<l.length;m++)for(var w=l[m],T=0;T<u.length;T++){s=u[T];var y=s.name,k=DL.modules[y].categories;if(k.svg){var S=s.layerName||y+"layer",b=S+(m?Number(m)+1:""),M=s.plot;f=RL(t,M,w),h=f[0],t=f[1],h.length&&p.push({i:o.indexOf(S),zindex:m,className:b,plotMethod:M,cdModule:h}),k.zoomScale&&_.push("."+b)}}p.sort(function(g,c){return(g.zindex||0)-(c.zindex||0)||g.i-c.i});var d=r.plot.selectAll("g.mlayer").data(p,function(g){return g.className});if(d.enter().append("g").attr("class",function(g){return g.className}).classed("mlayer",!0).classed("rangeplot",r.isRangePlot),d.exit().remove(),d.order(),d.each(function(g){var c=I1.select(this),A=g.className;g.plotMethod(e,r,g.cdModule,c,n,a),ui.clipOnAxisFalseQuery.indexOf("."+A)===-1&&Fre.setClipUrl(c,r.layerClipId,e)}),i._has("scattergl")&&(s=DL.getModule("scattergl"),h=RL(t,s)[0],s.plot(e,r,h)),!e._context.staticPlot&&(r._hasClipOnAxisFalse&&(r.clipOnAxisFalseTraces=r.plot.selectAll(ui.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),_.length)){var x=r.plot.selectAll(_.join(",")).selectAll(".trace");r.zoomScalePts=x.selectAll("path.point"),r.zoomScaleTxt=x.selectAll(".textpoint")}}Ln.clean=function(e,r,t,n){var a=n._plots||{},o=r._plots||{},i=n._subplots||{},l,u,s;if(n._hasOnlyLargeSploms&&!r._hasOnlyLargeSploms)for(s in a)l=a[s],l.plotgroup&&l.plotgroup.remove();var f=n._has&&n._has("gl"),h=r._has&&r._has("gl");if(f&&!h)for(s in a)l=a[s],l._scene&&l._scene.destroy();if(i.xaxis&&i.yaxis){var p=Qo.listIds({_fullLayout:n});for(u=0;u<p.length;u++){var _=p[u];r[Qo.id2name(_)]||n._infolayer.selectAll(".g-"+_+"title").remove()}}var m=n._has&&n._has("cartesian"),w=r._has&&r._has("cartesian");if(m&&!w)FL(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(i.cartesian)for(u=0;u<i.cartesian.length;u++){var T=i.cartesian[u];if(T.indexOf(is)===-1&&!o[T]){var y="."+T+",."+T+"-x,."+T+"-y";n._cartesianlayer.selectAll(y).remove(),NL(T,n)}}};Ln.drawFramework=function(e){var r=e._fullLayout,t=e.calcdata,n,a={};for(n=0;n<t.length;n++){var o=t[n][0],i=o.trace,l=i.zorder||0;a[l]||(a[l]=[]),a[l].push(o)}var u=Object.keys(a).map(Number).sort(as.sorterAsc);u.length||(u=[0]),r._zindices=u;var s=zre(e),f=s.length,h=[];for(n=0;n<f;n++)h[n]=s[n].slice();for(var p=1;p<u.length;p++){var _=[];for(n=0;n<f;n++)_[n]=s[n].slice(),_[n][0]+=is+(p+1);h=h.concat(_)}var m=r._cartesianlayer.selectAll(".subplot").data(h,String);m.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),m.order(),m.exit().call(FL,r),m.each(function(w){var T=w[0],y=T.indexOf(is),k=y!==-1,S=k?T.slice(0,y):T,b=r._plots[T];b||(b=as.extendFlat({},r._plots[S]),b&&(b.id=T,r._plots[T]=b,r._subplots.cartesian.push(T))),b&&(b.plotgroup=I1.select(this),IL(e,b),k||(b.draglayer=lt(r._draggers,"g",T)))})};Ln.rangePlot=function(e,r,t){IL(e,r),PL(e,r,t),Ire.style(e)};function zre(e){var r=e._fullLayout,t=r._zindices.length,n=r._subplots.cartesian,a=n.length,o,i,l,u,s,f,h=[],p=[];for(o=0;o<a;o++){l=n[o],u=r._plots[l],s=u.xaxis,f=u.yaxis;var _=s._mainAxis,m=f._mainAxis,w=_._id+m._id,T=r._plots[w];u.overlays=[],w!==l&&T?(u.mainplot=w,u.mainplotinfo=T,p.push(l)):(u.mainplot=void 0,u.mainplotinfo=void 0,h.push(l))}for(o=0;o<p.length;o++)l=p[o],u=r._plots[l],u.mainplotinfo.overlays.push(u);var y=h.concat(p),k=[];for(o=0;o<a;o++){l=y[o],u=r._plots[l],s=u.xaxis,f=u.yaxis;for(var S=[],b=1;b<=t;b++){var M="";for(b>1&&(M+=is+b),S.push(l+M),i=0;i<u.overlays.length;i++)S.push(u.overlays[i].id+M)}S=S.concat([s.layer,f.layer,s.overlaying||"",f.overlaying||""]),k.push(S)}return k}function IL(e,r){var t=e._fullLayout,n=r.plotgroup,a=r.id,o=a.indexOf(is),i=o!==-1,l=ui.layerValue2layerClass[r.xaxis.layer],u=ui.layerValue2layerClass[r.yaxis.layer],s=t._hasOnlyLargeSploms,f=t._zindices.length>1,h=r.mainplotinfo;if(!r.mainplot||f)if(s)r.xlines=lt(n,"path","xlines-above"),r.ylines=lt(n,"path","ylines-above"),r.xaxislayer=lt(n,"g","xaxislayer-above"),r.yaxislayer=lt(n,"g","yaxislayer-above");else{if(!i){var p=lt(n,"g","layer-subplot");r.shapelayer=lt(p,"g","shapelayer"),r.imagelayer=lt(p,"g","imagelayer"),h&&f?(r.minorGridlayer=h.minorGridlayer,r.gridlayer=h.gridlayer,r.zerolinelayer=h.zerolinelayer):(r.minorGridlayer=lt(n,"g","minor-gridlayer"),r.gridlayer=lt(n,"g","gridlayer"),r.zerolinelayer=lt(n,"g","zerolinelayer"));var _=lt(n,"g","layer-between");r.shapelayerBetween=lt(_,"g","shapelayer"),r.imagelayerBetween=lt(_,"g","imagelayer"),lt(n,"path","xlines-below"),lt(n,"path","ylines-below"),r.overlinesBelow=lt(n,"g","overlines-below"),lt(n,"g","xaxislayer-below"),lt(n,"g","yaxislayer-below"),r.overaxesBelow=lt(n,"g","overaxes-below")}r.overplot=lt(n,"g","overplot"),r.plot=lt(r.overplot,"g",a),h&&f?r.zerolinelayerAbove=h.zerolinelayerAbove:r.zerolinelayerAbove=lt(n,"g","zerolinelayer-above"),i||(r.xlines=lt(n,"path","xlines-above"),r.ylines=lt(n,"path","ylines-above"),r.overlinesAbove=lt(n,"g","overlines-above"),lt(n,"g","xaxislayer-above"),lt(n,"g","yaxislayer-above"),r.overaxesAbove=lt(n,"g","overaxes-above"),r.xlines=n.select(".xlines-"+l),r.ylines=n.select(".ylines-"+u),r.xaxislayer=n.select(".xaxislayer-"+l),r.yaxislayer=n.select(".yaxislayer-"+u))}else{var m=h.plotgroup,w=a+"-x",T=a+"-y";r.minorGridlayer=h.minorGridlayer,r.gridlayer=h.gridlayer,r.zerolinelayer=h.zerolinelayer,r.zerolinelayerAbove=h.zerolinelayerAbove,lt(h.overlinesBelow,"path",w),lt(h.overlinesBelow,"path",T),lt(h.overaxesBelow,"g",w),lt(h.overaxesBelow,"g",T),r.plot=lt(h.overplot,"g",a),lt(h.overlinesAbove,"path",w),lt(h.overlinesAbove,"path",T),lt(h.overaxesAbove,"g",w),lt(h.overaxesAbove,"g",T),r.xlines=m.select(".overlines-"+l).select("."+w),r.ylines=m.select(".overlines-"+u).select("."+T),r.xaxislayer=m.select(".overaxes-"+l).select("."+w),r.yaxislayer=m.select(".overaxes-"+u).select("."+T)}i||(s||(P1(r.minorGridlayer,"g",r.xaxis._id),P1(r.minorGridlayer,"g",r.yaxis._id),r.minorGridlayer.selectAll("g").map(function(y){return y[0]}).sort(Qo.idSort),P1(r.gridlayer,"g",r.xaxis._id),P1(r.gridlayer,"g",r.yaxis._id),r.gridlayer.selectAll("g").map(function(y){return y[0]}).sort(Qo.idSort)),r.xlines.style("fill","none").classed("crisp",!0),r.ylines.style("fill","none").classed("crisp",!0))}function FL(e,r){if(e){var t={};e.each(function(u){var s=u[0],f=I1.select(this);f.remove(),NL(s,r),t[s]=!0});for(var n in r._plots)for(var a=r._plots[n],o=a.overlays||[],i=0;i<o.length;i++){var l=o[i];t[l.id]&&l.plot.selectAll(".trace").remove()}}}function NL(e,r){r._draggers.selectAll("g."+e).remove(),r._defs.select("#clip"+r._uid+e+"plot").remove()}Ln.toSVG=function(e){var r=e._fullLayout._glimages,t=I1.select(e).selectAll(".svg-container"),n=t.filter(function(o,i){return i===t.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function a(){var o=this,i=o.toDataURL("image/png"),l=r.append("svg:image");l.attr({xmlns:Nre.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}n.each(a)};Ln.updateFx=zy().updateFx});var qL=de((d1e,zL)=>{"use strict";var F1=oa();zL.exports={hasLines:F1.hasLines,hasMarkers:F1.hasMarkers,hasText:F1.hasText,isBubble:F1.isBubble,attributes:jl(),layoutAttributes:fh(),supplyDefaults:JC(),crossTraceDefaults:jC(),supplyLayoutDefaults:rE(),calc:hm().calc,crossTraceCalc:CE(),arraysToCalcdata:b1(),plot:HE(),colorbar:GE(),formatLabels:WE(),style:wm().style,styleOnSelect:wm().styleOnSelect,hoverPoints:$E(),selectPoints:rL(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:Lm(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}});var UL=de((p1e,BL)=>{"use strict";var qre=it(),Ore=Xr(),OL=Ey(),Dm=ir(),Bre=Dm.strScale,Ure=Dm.strRotate,Hre=Dm.strTranslate;BL.exports=function(r,t,n){var a=r.node(),o=OL[n.arrowhead||0],i=OL[n.startarrowhead||0],l=(n.arrowwidth||1)*(n.arrowsize||1),u=(n.arrowwidth||1)*(n.startarrowsize||1),s=t.indexOf("start")>=0,f=t.indexOf("end")>=0,h=o.backoff*l+n.standoff,p=i.backoff*u+n.startstandoff,_,m,w,T;if(a.nodeName==="line"){_={x:+r.attr("x1"),y:+r.attr("y1")},m={x:+r.attr("x2"),y:+r.attr("y2")};var y=_.x-m.x,k=_.y-m.y;if(w=Math.atan2(k,y),T=w+Math.PI,h&&p&&h+p>Math.sqrt(y*y+k*k)){R();return}if(h){if(h*h>y*y+k*k){R();return}var S=h*Math.cos(w),b=h*Math.sin(w);m.x+=S,m.y+=b,r.attr({x2:m.x,y2:m.y})}if(p){if(p*p>y*y+k*k){R();return}var M=p*Math.cos(w),d=p*Math.sin(w);_.x-=M,_.y-=d,r.attr({x1:_.x,y1:_.y})}}else if(a.nodeName==="path"){var x=a.getTotalLength(),g="";if(x<h+p){R();return}var c=a.getPointAtLength(0),A=a.getPointAtLength(.1);w=Math.atan2(c.y-A.y,c.x-A.x),_=a.getPointAtLength(Math.min(p,x)),g="0px,"+p+"px,";var v=a.getPointAtLength(x),D=a.getPointAtLength(x-.1);T=Math.atan2(v.y-D.y,v.x-D.x),m=a.getPointAtLength(Math.max(0,x-h));var E=g?p+h:h;g+=x-E+"px,"+x+"px",r.style("stroke-dasharray",g)}function R(){r.style("stroke-dasharray","0px,100px")}function N(F,I,L,P){F.path&&(F.noRotate&&(L=0),qre.select(a.parentNode).append("path").attr({class:r.attr("class"),d:F.path,transform:Hre(I.x,I.y)+Ure(L*180/Math.PI)+Bre(P)}).style({fill:Ore.rgb(n.arrowcolor),"stroke-width":0}))}s&&N(i,_,w,u),f&&N(o,m,T,l)}});var N1=de((g1e,WL)=>{"use strict";var HL=it(),Rm=Cr(),Vre=on(),jo=ir(),Pm=jo.strTranslate,L0=Lt(),os=Xr(),fo=mt(),VL=io(),Im=Wn(),Fm=Vo(),E0=ni(),Gre=yt().arrayEditor,Yre=UL();WL.exports={draw:Wre,drawOne:GL,drawRaw:YL};function Wre(e){var r=e._fullLayout;r._infolayer.selectAll(".annotation").remove();for(var t=0;t<r.annotations.length;t++)r.annotations[t].visible&&GL(e,t);return Vre.previousPromises(e)}function GL(e,r){var t=e._fullLayout,n=t.annotations[r]||{},a=L0.getFromId(e,n.xref),o=L0.getFromId(e,n.yref);a&&a.setScale(),o&&o.setScale(),YL(e,n,r,!1,a,o)}function $o(e,r,t,n,a){var o=a[t],i=a[t+"ref"],l=t.indexOf("y")!==-1,u=L0.getRefType(i)==="domain",s=l?n.h:n.w;return e?u?o+(l?-r:r)/e._length:e.p2r(e.r2p(o)+r):o+(l?-r:r)/s}function YL(e,r,t,n,a,o){var i=e._fullLayout,l=e._fullLayout._size,u=e._context.edits,s,f;n?(s="annotation-"+n,f=n+".annotations"):(s="annotation",f="annotations");var h=Gre(e.layout,f,r),p=h.modifyBase,_=h.modifyItem,m=h.getUpdateObj;i._infolayer.selectAll("."+s+'[data-index="'+t+'"]').remove();var w="clip"+i._uid+"_ann"+t;if(!r._input||r.visible===!1){HL.selectAll("#"+w).remove();return}var T={x:{},y:{}},y=+r.textangle||0,k=i._infolayer.append("g").classed(s,!0).attr("data-index",String(t)).style("opacity",r.opacity),S=k.append("g").classed("annotation-text-g",!0),b=u[r.showarrow?"annotationTail":"annotationPosition"],M=r.captureevents||u.annotationText||b;function d(P){var O={index:t,annotation:r._input,fullAnnotation:r,event:P};return n&&(O.subplotId=n),O}var x=S.append("g").style("pointer-events",M?"all":null).call(Fm,"pointer").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",d(HL.event))});r.hovertext&&x.on("mouseover",function(){var P=r.hoverlabel,O=P.font,U=this.getBoundingClientRect(),X=e.getBoundingClientRect();VL.loneHover({x0:U.left-X.left,x1:U.right-X.left,y:(U.top+U.bottom)/2-X.top,text:r.hovertext,color:P.bgcolor,borderColor:P.bordercolor,fontFamily:O.family,fontSize:O.size,fontColor:O.color,fontWeight:O.weight,fontStyle:O.style,fontVariant:O.variant,fontShadow:O.fontShadow,fontLineposition:O.fontLineposition,fontTextcase:O.fontTextcase},{container:i._hoverlayer.node(),outerContainer:i._paper.node(),gd:e})}).on("mouseout",function(){VL.loneUnhover(i._hoverlayer.node())});var g=r.borderwidth,c=r.borderpad,A=g+c,v=x.append("rect").attr("class","bg").style("stroke-width",g+"px").call(os.stroke,r.bordercolor).call(os.fill,r.bgcolor),D=r.width||r.height,E=i._topclips.selectAll("#"+w).data(D?[0]:[]);E.enter().append("clipPath").classed("annclip",!0).attr("id",w).append("rect"),E.exit().remove();var R=r.font,N=i._meta?jo.templateString(r.text,i._meta):r.text,F=x.append("text").classed("annotation-text",!0).text(N);function I(P){return P.call(fo.font,R).attr({"text-anchor":{left:"start",right:"end"}[r.align]||"middle"}),Im.convertToTspans(P,e,L),P}function L(){var P=F.selectAll("a");if(P.size()===1&&P.text()===F.text()){var O=x.insert("a",":first-child").attr({"xlink:xlink:href":P.attr("xlink:href"),"xlink:xlink:show":P.attr("xlink:show")}).style({cursor:"pointer"});O.node().appendChild(v.node())}var U=x.select(".annotation-text-math-group"),X=!U.empty(),$=fo.bBox((X?U:F).node()),j=$.width,Y=$.height,q=r.width||j,K=r.height||Y,ne=Math.round(q+2*A),Q=Math.round(K+2*A);function oe(Qe,Ke){return Ke==="auto"&&(Qe<1/3?Ke="left":Qe>2/3?Ke="right":Ke="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Ke]}for(var re=!1,H=["x","y"],ee=0;ee<H.length;ee++){var V=H[ee],te=r[V+"ref"]||V,ue=r["a"+V+"ref"],ve={x:a,y:o}[V],ke=(y+(V==="x"?0:-90))*Math.PI/180,Se=ne*Math.cos(ke),he=Q*Math.sin(ke),Ae=Math.abs(Se)+Math.abs(he),Ce=r[V+"anchor"],Pe=r[V+"shift"]*(V==="x"?1:-1),Ee=T[V],Ne,Ue,ge,we,Te,me=L0.getRefType(te);if(ve&&me!=="domain"){var ye=ve.r2fraction(r[V]);(ye<0||ye>1)&&(ue===te?(ye=ve.r2fraction(r["a"+V]),(ye<0||ye>1)&&(re=!0)):re=!0),Ne=ve._offset+ve.r2p(r[V]),we=.5}else{var pe=me==="domain";V==="x"?(ge=r[V],Ne=pe?ve._offset+ve._length*ge:Ne=l.l+l.w*ge):(ge=1-r[V],Ne=pe?ve._offset+ve._length*ge:Ne=l.t+l.h*ge),we=r.showarrow?.5:ge}if(r.showarrow){Ee.head=Ne;var ce=r["a"+V];if(Te=Se*oe(.5,r.xanchor)-he*oe(.5,r.yanchor),ue===te){var be=L0.getRefType(ue);be==="domain"?(V==="y"&&(ce=1-ce),Ee.tail=ve._offset+ve._length*ce):be==="paper"?V==="y"?(ce=1-ce,Ee.tail=l.t+l.h*ce):Ee.tail=l.l+l.w*ce:Ee.tail=ve._offset+ve.r2p(ce),Ue=Te}else Ee.tail=Ne+ce,Ue=Te+ce;Ee.text=Ee.tail+Te;var Le=i[V==="x"?"width":"height"];if(te==="paper"&&(Ee.head=jo.constrain(Ee.head,1,Le-1)),ue==="pixel"){var qe=-Math.max(Ee.tail-3,Ee.text),ze=Math.min(Ee.tail+3,Ee.text)-Le;qe>0?(Ee.tail+=qe,Ee.text+=qe):ze>0&&(Ee.tail-=ze,Ee.text-=ze)}Ee.tail+=Pe,Ee.head+=Pe}else Te=Ae*oe(we,Ce),Ue=Te,Ee.text=Ne+Te;Ee.text+=Pe,Te+=Pe,Ue+=Pe,r["_"+V+"padplus"]=Ae/2+Ue,r["_"+V+"padminus"]=Ae/2-Ue,r["_"+V+"size"]=Ae,r["_"+V+"shift"]=Te}if(re){x.remove();return}var $e=0,Ve=0;if(r.align!=="left"&&($e=(q-j)*(r.align==="center"?.5:1)),r.valign!=="top"&&(Ve=(K-Y)*(r.valign==="middle"?.5:1)),X)U.select("svg").attr({x:A+$e-1,y:A+Ve}).call(fo.setClipUrl,D?w:null,e);else{var Be=A+Ve-$.top,Ye=A+$e-$.left;F.call(Im.positionText,Ye,Be).call(fo.setClipUrl,D?w:null,e)}E.select("rect").call(fo.setRect,A,A,q,K),v.call(fo.setRect,g/2,g/2,ne-g,Q-g),x.call(fo.setTranslate,Math.round(T.x.text-ne/2),Math.round(T.y.text-Q/2)),S.attr({transform:"rotate("+y+","+T.x.text+","+T.y.text+")"});var Me=function(Qe,Ke){k.selectAll(".annotation-arrow-g").remove();var ar=T.x.head,se=T.y.head,J=T.x.tail+Qe,ae=T.y.tail+Ke,De=T.x.text+Qe,He=T.y.text+Ke,er=jo.rotationXYMatrix(y,De,He),nr=jo.apply2DTransform(er),fr=jo.apply2DTransform2(er),xr=+v.attr("width"),Sr=+v.attr("height"),Mr=De-.5*xr,Ar=Mr+xr,ft=He-.5*Sr,sr=ft+Sr,Pr=[[Mr,ft,Mr,sr],[Mr,sr,Ar,sr],[Ar,sr,Ar,ft],[Ar,ft,Mr,ft]].map(fr);if(!Pr.reduce(function(gt,Ft){return gt^!!jo.segmentsIntersect(ar,se,ar+1e6,se+1e6,Ft[0],Ft[1],Ft[2],Ft[3])},!1)){Pr.forEach(function(gt){var Ft=jo.segmentsIntersect(J,ae,ar,se,gt[0],gt[1],gt[2],gt[3]);Ft&&(J=Ft.x,ae=Ft.y)});var $r=r.arrowwidth,Fr=r.arrowcolor,Gr=r.arrowside,pt=k.append("g").style({opacity:os.opacity(Fr)}).classed("annotation-arrow-g",!0),Rr=pt.append("path").attr("d","M"+J+","+ae+"L"+ar+","+se).style("stroke-width",$r+"px").call(os.stroke,os.rgb(Fr));if(Yre(Rr,Gr,r),u.annotationPosition&&Rr.node().parentNode&&!n){var jr=ar,hn=se;if(r.standoff){var Et=Math.sqrt(Math.pow(ar-J,2)+Math.pow(se-ae,2));jr+=r.standoff*(J-ar)/Et,hn+=r.standoff*(ae-se)/Et}var Tn=pt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(J-jr)+","+(ae-hn),transform:Pm(jr,hn)}).style("stroke-width",$r+6+"px").call(os.stroke,"rgba(0,0,0,0)").call(os.fill,"rgba(0,0,0,0)"),Ot,xt;E0.init({element:Tn.node(),gd:e,prepFn:function(){var gt=fo.getTranslate(x);Ot=gt.x,xt=gt.y,a&&a.autorange&&p(a._name+".autorange",!0),o&&o.autorange&&p(o._name+".autorange",!0)},moveFn:function(gt,Ft){var ha=nr(Ot,xt),Qn=ha[0]+gt,In=ha[1]+Ft;x.call(fo.setTranslate,Qn,In),_("x",$o(a,gt,"x",l,r)),_("y",$o(o,Ft,"y",l,r)),r.axref===r.xref&&_("ax",$o(a,gt,"ax",l,r)),r.ayref===r.yref&&_("ay",$o(o,Ft,"ay",l,r)),pt.attr("transform",Pm(gt,Ft)),S.attr({transform:"rotate("+y+","+Qn+","+In+")"})},doneFn:function(){Rm.call("_guiRelayout",e,m());var gt=document.querySelector(".js-notes-box-panel");gt&&gt.redraw(gt.selectedObj)}})}}};if(r.showarrow&&Me(0,0),b){var Re;E0.init({element:x.node(),gd:e,prepFn:function(){Re=S.attr("transform")},moveFn:function(Qe,Ke){var ar="pointer";if(r.showarrow)r.axref===r.xref?_("ax",$o(a,Qe,"ax",l,r)):_("ax",r.ax+Qe),r.ayref===r.yref?_("ay",$o(o,Ke,"ay",l.w,r)):_("ay",r.ay+Ke),Me(Qe,Ke);else{if(n)return;var se,J;if(a)se=$o(a,Qe,"x",l,r);else{var ae=r._xsize/l.w,De=r.x+(r._xshift-r.xshift)/l.w-ae/2;se=E0.align(De+Qe/l.w,ae,0,1,r.xanchor)}if(o)J=$o(o,Ke,"y",l,r);else{var He=r._ysize/l.h,er=r.y-(r._yshift+r.yshift)/l.h-He/2;J=E0.align(er-Ke/l.h,He,0,1,r.yanchor)}_("x",se),_("y",J),(!a||!o)&&(ar=E0.getCursor(a?.5:se,o?.5:J,r.xanchor,r.yanchor))}S.attr({transform:Pm(Qe,Ke)+Re}),Fm(x,ar)},clickFn:function(Qe,Ke){r.captureevents&&e.emit("plotly_clickannotation",d(Ke))},doneFn:function(){Fm(x),Rm.call("_guiRelayout",e,m());var Qe=document.querySelector(".js-notes-box-panel");Qe&&Qe.redraw(Qe.selectedObj)}})}}u.annotationText?F.call(Im.makeEditable,{delegate:x,gd:e}).call(I).on("edit",function(P){r.text=P,this.call(I),_("text",P),a&&a.autorange&&p(a._name+".autorange",!0),o&&o.autorange&&p(o._name+".autorange",!0),Rm.call("_guiRelayout",e,m())}):F.call(I)}});var $L=de((y1e,QL)=>{"use strict";var XL=ir(),Xre=Cr(),ZL=yt().arrayEditor;QL.exports={hasClickToShow:Zre,onClick:Jre};function Zre(e,r){var t=KL(e,r);return t.on.length>0||t.explicitOff.length>0}function Jre(e,r){var t=KL(e,r),n=t.on,a=t.off.concat(t.explicitOff),o={},i=e._fullLayout.annotations,l,u;if(n.length||a.length){for(l=0;l<n.length;l++)u=ZL(e.layout,"annotations",i[n[l]]),u.modifyItem("visible",!0),XL.extendFlat(o,u.getUpdateObj());for(l=0;l<a.length;l++)u=ZL(e.layout,"annotations",i[a[l]]),u.modifyItem("visible",!1),XL.extendFlat(o,u.getUpdateObj());return Xre.call("update",e,{},o)}}function KL(e,r){var t=e._fullLayout.annotations,n=[],a=[],o=[],i=(r||[]).length,l,u,s,f,h,p,_,m;for(l=0;l<t.length;l++)if(s=t[l],f=s.clicktoshow,f){for(u=0;u<i;u++)if(h=r[u],p=h.xaxis,_=h.yaxis,p._id===s.xref&&_._id===s.yref&&p.d2r(h.x)===JL(s._xclick,p)&&_.d2r(h.y)===JL(s._yclick,_)){s.visible?f==="onout"?m=a:m=o:m=n,m.push(l);break}u===i&&s.visible&&f==="onout"&&a.push(l)}return{on:n,off:a,explicitOff:o}}function JL(e,r){return r.type==="log"?r.l2r(e):r.d2r(e)}});var zm=de((m1e,jL)=>{"use strict";var Nm=ir(),Lu=Xr();jL.exports=function(r,t,n,a){a("opacity");var o=a("bgcolor"),i=a("bordercolor"),l=Lu.opacity(i);a("borderpad");var u=a("borderwidth"),s=a("showarrow");a("text",s?" ":n._dfltTitle.annotation),a("textangle"),Nm.coerceFont(a,"font",n.font),a("width"),a("align");var f=a("height");if(f&&a("valign"),s){var h=a("arrowside"),p,_;h.indexOf("end")!==-1&&(p=a("arrowhead"),_=a("arrowsize")),h.indexOf("start")!==-1&&(a("startarrowhead",p),a("startarrowsize",_)),a("arrowcolor",l?t.bordercolor:Lu.defaultLine),a("arrowwidth",(l&&u||1)*2),a("standoff"),a("startstandoff")}var m=a("hovertext"),w=n.hoverlabel||{};if(m){var T=a("hoverlabel.bgcolor",w.bgcolor||(Lu.opacity(o)?Lu.rgb(o):Lu.defaultLine)),y=a("hoverlabel.bordercolor",w.bordercolor||Lu.contrast(T)),k=Nm.extendFlat({},w.font);k.color||(k.color=y),Nm.coerceFont(a,"hoverlabel.font",k)}a("captureevents",!!m)}});var rD=de((b1e,eD)=>{"use strict";var qm=ir(),ls=Lt(),Kre=ri(),Qre=zm(),$re=xu();eD.exports=function(r,t){Kre(r,t,{name:"annotations",handleItemDefaults:jre})};function jre(e,r,t){function n(S,b){return qm.coerce(e,r,$re,S,b)}var a=n("visible"),o=n("clicktoshow");if(a||o){Qre(e,r,t,n);for(var i=r.showarrow,l=["x","y"],u=[-10,-30],s={_fullLayout:t},f=0;f<2;f++){var h=l[f],p=ls.coerceRef(e,r,s,h,"","paper");if(p!=="paper"){var _=ls.getFromId(s,p);_._annIndices.push(r._index)}if(ls.coercePosition(r,s,n,p,h,.5),i){var m="a"+h,w=ls.coerceRef(e,r,s,m,"pixel",["pixel","paper"]);w!=="pixel"&&w!==p&&(w=r[m]="pixel");var T=w==="pixel"?u[f]:.4;ls.coercePosition(r,s,n,w,m,T)}n(h+"anchor"),n(h+"shift")}if(qm.noneOrAll(e,r,["x","y"]),i&&qm.noneOrAll(e,r,["ax","ay"]),o){var y=n("xclick"),k=n("yclick");r._xclick=y===void 0?r.x:ls.cleanPosition(y,s,r.xref),r._yclick=k===void 0?r.y:ls.cleanPosition(k,s,r.yref)}}}});var aD=de((x1e,nD)=>{"use strict";var Om=ir(),ss=Lt(),ete=N1().draw;nD.exports=function(r){var t=r._fullLayout,n=Om.filterVisible(t.annotations);if(n.length&&r._fullData.length)return Om.syncOrAsync([ete,rte],r)};function rte(e){var r=e._fullLayout;Om.filterVisible(r.annotations).forEach(function(t){var n=ss.getFromId(e,t.xref),a=ss.getFromId(e,t.yref),o=ss.getRefType(t.xref),i=ss.getRefType(t.yref);t._extremes={},o==="range"&&tD(t,n),i==="range"&&tD(t,a)})}function tD(e,r){var t=r._id,n=t.charAt(0),a=e[n],o=e["a"+n],i=e[n+"ref"],l=e["a"+n+"ref"],u=e["_"+n+"padplus"],s=e["_"+n+"padminus"],f={x:1,y:-1}[n]*e[n+"shift"],h=3*e.arrowsize*e.arrowwidth||0,p=h+f,_=h-f,m=3*e.startarrowsize*e.arrowwidth||0,w=m+f,T=m-f,y;if(l===i){var k=ss.findExtremes(r,[r.r2c(a)],{ppadplus:p,ppadminus:_}),S=ss.findExtremes(r,[r.r2c(o)],{ppadplus:Math.max(u,w),ppadminus:Math.max(s,T)});y={min:[k.min[0],S.min[0]],max:[k.max[0],S.max[0]]}}else w=o?w+o:w,T=o?T-o:T,y=ss.findExtremes(r,[r.r2c(a)],{ppadplus:Math.max(u,p,w),ppadminus:Math.max(s,_,T)});e._extremes[t]=y}});var oD=de((_1e,iD)=>{"use strict";var tte=nt(),nte=Dc();iD.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(!(o||i))return;var l=r._fullLayout.annotations,u=t._id.charAt(0),s,f;function h(_){var m=s[_],w=null;o?w=nte(m,t.range):w=Math.pow(10,m),tte(w)||(w=null),a(f+_,w)}for(var p=0;p<l.length;p++)s=l[p],f="annotations["+p+"].",s[u+"ref"]===t._id&&h(u),s["a"+u+"ref"]===t._id&&h("a"+u)}});var uD=de((w1e,sD)=>{"use strict";var Bm=N1(),lD=$L();sD.exports={moduleType:"component",name:"annotations",layoutAttributes:xu(),supplyLayoutDefaults:rD(),includeBasePlot:c0()("annotations"),calcAutorange:aD(),draw:Bm.draw,drawOne:Bm.drawOne,drawRaw:Bm.drawRaw,hasClickToShow:lD.hasClickToShow,onClick:lD.onClick,convertCoords:oD()}});var z1=de((M1e,fD)=>{"use strict";var Mt=xu(),ate=zn().overrideAll,ite=yt().templatedArray;fD.exports=ate(ite("annotation",{visible:Mt.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:Mt.xanchor,xshift:Mt.xshift,yanchor:Mt.yanchor,yshift:Mt.yshift,text:Mt.text,textangle:Mt.textangle,font:Mt.font,width:Mt.width,height:Mt.height,opacity:Mt.opacity,align:Mt.align,valign:Mt.valign,bgcolor:Mt.bgcolor,bordercolor:Mt.bordercolor,borderpad:Mt.borderpad,borderwidth:Mt.borderwidth,showarrow:Mt.showarrow,arrowcolor:Mt.arrowcolor,arrowhead:Mt.arrowhead,startarrowhead:Mt.startarrowhead,arrowside:Mt.arrowside,arrowsize:Mt.arrowsize,startarrowsize:Mt.startarrowsize,arrowwidth:Mt.arrowwidth,standoff:Mt.standoff,startstandoff:Mt.startstandoff,hovertext:Mt.hovertext,hoverlabel:Mt.hoverlabel,captureevents:Mt.captureevents}),"calc","from-root")});var hD=de((T1e,cD)=>{"use strict";var Um=ir(),ote=Lt(),lte=ri(),ste=zm(),ute=z1();cD.exports=function(r,t,n){lte(r,t,{name:"annotations",handleItemDefaults:fte,fullLayout:n.fullLayout})};function fte(e,r,t,n){function a(l,u){return Um.coerce(e,r,ute,l,u)}function o(l){var u=l+"axis",s={_fullLayout:{}};return s._fullLayout[u]=t[u],ote.coercePosition(r,s,a,l,l,.5)}var i=a("visible");i&&(ste(e,r,n.fullLayout,a),o("x"),o("y"),o("z"),Um.noneOrAll(e,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",a("ax",-10),a("ay",-30),Um.noneOrAll(e,r,["ax","ay"])))}});var gD=de((A1e,pD)=>{"use strict";var vD=ir(),dD=Lt();pD.exports=function(r){for(var t=r.fullSceneLayout,n=t.annotations,a=0;a<n.length;a++)cte(n[a],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function cte(e,r){var t=r.fullSceneLayout,n=t.domain,a=r.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},vD.extendFlat(e._xa,o),dD.setConvert(e._xa),e._xa._offset=a.l+n.x[0]*a.w,e._xa.l2p=function(){return .5*(1+e._pdata[0]/e._pdata[3])*a.w*(n.x[1]-n.x[0])},e._ya={},vD.extendFlat(e._ya,o),dD.setConvert(e._ya),e._ya._offset=a.t+(1-n.y[1])*a.h,e._ya.l2p=function(){return .5*(1-e._pdata[1]/e._pdata[3])*a.h*(n.y[1]-n.y[0])}}});var Vm=de((k1e,yD)=>{"use strict";function Hm(e,r){var t=[0,0,0,0],n,a;for(n=0;n<4;++n)for(a=0;a<4;++a)t[a]+=e[4*n+a]*r[n];return t}function hte(e,r){var t=Hm(e.projection,Hm(e.view,Hm(e.model,[r[0],r[1],r[2],1])));return t}yD.exports=hte});var bD=de((S1e,mD)=>{"use strict";var vte=N1().drawRaw,dte=Vm(),pte=["x","y","z"];mD.exports=function(r){for(var t=r.fullSceneLayout,n=r.dataScale,a=t.annotations,o=0;o<a.length;o++){for(var i=a[o],l=!1,u=0;u<3;u++){var s=pte[u],f=i[s],h=t[s+"axis"],p=h.r2fraction(f);if(p<0||p>1){l=!0;break}}l?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+o+'"]').remove():(i._pdata=dte(r.glplot.cameraParams,[t.xaxis.r2l(i.x)*n[0],t.yaxis.r2l(i.y)*n[1],t.zaxis.r2l(i.z)*n[2]]),vte(r.graphDiv,i,o,r.id,i._xa,i._ya))}}});var wD=de((C1e,_D)=>{"use strict";var gte=Cr(),xD=ir();_D.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:z1()}}},layoutAttributes:z1(),handleDefaults:hD(),includeBasePlot:yte,convert:gD(),draw:bD()};function yte(e,r){var t=gte.subplotsRegistry.gl3d;if(t)for(var n=t.attrRegex,a=Object.keys(e),o=0;o<a.length;o++){var i=a[o];n.test(i)&&(e[i].annotations||[]).length&&(xD.pushUnique(r._basePlotModules,t),xD.pushUnique(r._subplots.gl3d,i))}}});var Gm=de((L1e,kD)=>{"use strict";var MD=xu(),TD=kn(),AD=jl().line,mte=Ao().dash,fi=Tt().extendFlat,bte=yt().templatedArray,E1e=f0(),Du=Sn(),{shapeTexttemplateAttrs:xte,templatefallbackAttrs:_te}=Ka(),wte=Hc();kD.exports=bte("shape",{visible:fi({},Du.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:fi({},Du.legend,{editType:"calc+arraydraw"}),legendgroup:fi({},Du.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:fi({},Du.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:TD({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:fi({},Du.legendrank,{editType:"calc+arraydraw"}),legendwidth:fi({},Du.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:fi({},MD.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:fi({},MD.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:fi({},AD.color,{editType:"arraydraw"}),width:fi({},AD.width,{editType:"calc+arraydraw"}),dash:fi({},mte,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:xte({},{keys:Object.keys(wte)}),texttemplatefallback:_te({editType:"arraydraw"}),font:TD({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})});var ED=de((D1e,CD)=>{"use strict";var D0=ir(),Ru=Lt(),Mte=ri(),Tte=Gm(),SD=Wo();CD.exports=function(r,t){Mte(r,t,{name:"shapes",handleItemDefaults:kte})};function Ate(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function kte(e,r,t){function n(P,O){return D0.coerce(e,r,Tte,P,O)}r._isShape=!0;var a=n("visible");if(a){var o=n("showlegend");o&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),D0.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var i=n("path"),l=i?"path":"rect",u=n("type",l),s=u!=="path";s&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var f=n("line.width");f&&(n("line.color"),n("line.dash"));for(var h=n("xsizemode"),p=n("ysizemode"),_=["x","y"],m=0;m<2;m++){var w=_[m],T=w+"anchor",y=w==="x"?h:p,k={_fullLayout:t},S,b,M,d=Ru.coerceRef(e,r,k,w,void 0,"paper"),x=Ru.getRefType(d);if(x==="range"?(S=Ru.getFromId(k,d),S._shapeIndices.push(r._index),M=SD.rangeToShapePosition(S),b=SD.shapePositionToRange(S),(S.type==="category"||S.type==="multicategory")&&(n(w+"0shift"),n(w+"1shift"))):b=M=D0.identity,s){var g=.25,c=.75,A=w+"0",v=w+"1",D=e[A],E=e[v];e[A]=b(e[A],!0),e[v]=b(e[v],!0),y==="pixel"?(n(A,0),n(v,10)):(Ru.coercePosition(r,k,n,d,A,g),Ru.coercePosition(r,k,n,d,v,c)),r[A]=M(r[A]),r[v]=M(r[v]),e[A]=D,e[v]=E}if(y==="pixel"){var R=e[T];e[T]=b(e[T],!0),Ru.coercePosition(r,k,n,d,T,.25),r[T]=M(r[T]),e[T]=R}}s&&D0.noneOrAll(e,r,["x0","x1","y0","y1"]);var N=u==="line",F,I;if(s&&(F=n("label.texttemplate"),n("label.texttemplatefallback")),F||(I=n("label.text")),I||F){n("label.textangle");var L=n("label.textposition",N?"middle":"middle center");n("label.xanchor"),n("label.yanchor",Ate(N,L)),n("label.padding"),D0.coerceFont(n,"label.font",t.font)}}}});var RD=de((R1e,DD)=>{"use strict";var Ste=Xr(),LD=ir();function Cte(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}DD.exports=function(r,t,n){n("newshape.visible"),n("newshape.name"),n("newshape.showlegend"),n("newshape.legend"),n("newshape.legendwidth"),n("newshape.legendgroup"),n("newshape.legendgrouptitle.text"),LD.coerceFont(n,"newshape.legendgrouptitle.font"),n("newshape.legendrank"),n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity");var a=n("newshape.line.width");if(a){var o=(r||{}).plot_bgcolor||"#FFF";n("newshape.line.color",Ste.contrast(o)),n("newshape.line.dash")}var i=r.dragmode==="drawline",l=n("newshape.label.text"),u=n("newshape.label.texttemplate");if(n("newshape.label.texttemplatefallback"),l||u){n("newshape.label.textangle");var s=n("newshape.label.textposition",i?"middle":"middle center");n("newshape.label.xanchor"),n("newshape.label.yanchor",Cte(i,s)),n("newshape.label.padding"),LD.coerceFont(n,"newshape.label.font",t.font)}n("activeshape.fillcolor"),n("activeshape.opacity")}});var zD=de((P1e,ND)=>{"use strict";var Ym=ir(),Pu=Lt(),Iu=Gf(),ID=Wo();ND.exports=function(r){var t=r._fullLayout,n=Ym.filterVisible(t.shapes);if(!(!n.length||!r._fullData.length))for(var a=0;a<n.length;a++){var o=n[a];o._extremes={};var i,l,u=Pu.getRefType(o.xref),s=Pu.getRefType(o.yref);o.xref!=="paper"&&u!=="domain"&&(i=Pu.getFromId(r,o.xref),l=PD(i,o,Iu.paramIsX),l&&(o._extremes[i._id]=Pu.findExtremes(i,l,Ete(o)))),o.yref!=="paper"&&s!=="domain"&&(i=Pu.getFromId(r,o.yref),l=PD(i,o,Iu.paramIsY),l&&(o._extremes[i._id]=Pu.findExtremes(i,l,Lte(o))))}};function Ete(e){return FD(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function Lte(e){return FD(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function FD(e,r,t,n,a,o){var i=e/2,l=o;if(r==="pixel"){var u=a?ID.extractPathCoords(a,o?Iu.paramIsY:Iu.paramIsX):[t,n],s=Ym.aggNums(Math.max,null,u),f=Ym.aggNums(Math.min,null,u),h=f<0?Math.abs(f)+i:i,p=s>0?s+i:i;return{ppad:i,ppadplus:l?h:p,ppadminus:l?p:h}}else return{ppad:i}}function PD(e,r,t){var n=e._id.charAt(0)==="x"?"x":"y",a=e.type==="category"||e.type==="multicategory",o,i,l=0,u=0,s=a?e.r2c:e.d2c,f=r[n+"sizemode"]==="scaled";if(f?(o=r[n+"0"],i=r[n+"1"],a&&(l=r[n+"0shift"],u=r[n+"1shift"])):(o=r[n+"anchor"],i=r[n+"anchor"]),o!==void 0)return[s(o)+l,s(i)+u];if(r.path){var h=1/0,p=-1/0,_=r.path.match(Iu.segmentRE),m,w,T,y,k;for(e.type==="date"&&(s=ID.decodeDate(s)),m=0;m<_.length;m++)w=_[m],T=t[w.charAt(0)].drawn,T!==void 0&&(y=_[m].substr(1).match(Iu.paramRE),!(!y||y.length<T)&&(k=s(y[T]),k<h&&(h=k),k>p&&(p=k)));if(p>=h)return[h,p]}}});var BD=de((I1e,OD)=>{"use strict";var qD=Sv();OD.exports={moduleType:"component",name:"shapes",layoutAttributes:Gm(),supplyLayoutDefaults:ED(),supplyDrawNewShapeDefaults:RD(),includeBasePlot:c0()("shapes"),calcAutorange:zD(),draw:qD.draw,drawOne:qD.drawOne}});var Wm=de((N1e,HD)=>{"use strict";var UD=_n(),Dte=yt().templatedArray,F1e=f0();HD.exports=Dte("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",UD.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",UD.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})});var GD=de((z1e,VD)=>{"use strict";var Rte=ir(),Xm=Lt(),Pte=ri(),Ite=Wm(),Fte="images";VD.exports=function(r,t){var n={name:Fte,handleItemDefaults:Nte};Pte(r,t,n)};function Nte(e,r,t){function n(p,_){return Rte.coerce(e,r,Ite,p,_)}var a=n("source"),o=n("visible",!!a);if(!o)return r;n("layer"),n("xanchor"),n("yanchor"),n("sizex"),n("sizey"),n("sizing"),n("opacity");for(var i={_fullLayout:t},l=["x","y"],u=0;u<2;u++){var s=l[u],f=Xm.coerceRef(e,r,i,s,"paper",void 0);if(f!=="paper"){var h=Xm.getFromId(i,f);h._imgIndices.push(r._index)}Xm.coercePosition(r,i,n,f,s,0)}return r}});var ZD=de((q1e,XD)=>{"use strict";var YD=it(),zte=mt(),Fu=Lt(),WD=jt(),qte=Fo();XD.exports=function(r){var t=r._fullLayout,n=[],a={},o=[],i,l;for(l=0;l<t.images.length;l++){var u=t.images[l];if(u.visible)if(u.layer==="below"&&u.xref!=="paper"&&u.yref!=="paper"){i=WD.ref2id(u.xref)+WD.ref2id(u.yref);var s=t._plots[i];if(!s){o.push(u);continue}s.mainplot&&(i=s.mainplot.id),a[i]||(a[i]=[]),a[i].push(u)}else u.layer==="above"?n.push(u):o.push(u)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function h(b){var M=YD.select(this);if(this._imgSrc!==b.source)if(M.attr("xmlns",qte.svg),!r._context.staticPlot||b.source&&b.source.slice(0,5)==="data:")M.attr("xlink:href",b.source),this._imgSrc=b.source;else{var d=new Promise(function(x){var g=new Image;this.img=g,g.setAttribute("crossOrigin","anonymous"),g.onerror=c,g.onload=function(){var A=document.createElement("canvas");A.width=this.width,A.height=this.height;var v=A.getContext("2d",{willReadFrequently:!0});v.drawImage(this,0,0);var D=A.toDataURL("image/png");M.attr("xlink:href",D),x()},M.on("error",c),g.src=b.source,this._imgSrc=b.source;function c(){M.remove(),x()}}.bind(this));r._promises.push(d)}}function p(b){var M=YD.select(this),d=Fu.getFromId(r,b.xref),x=Fu.getFromId(r,b.yref),g=Fu.getRefType(b.xref)==="domain",c=Fu.getRefType(b.yref)==="domain",A=t._size,v,D;d!==void 0?v=typeof b.xref=="string"&&g?d._length*b.sizex:Math.abs(d.l2p(b.sizex)-d.l2p(0)):v=b.sizex*A.w,x!==void 0?D=typeof b.yref=="string"&&c?x._length*b.sizey:Math.abs(x.l2p(b.sizey)-x.l2p(0)):D=b.sizey*A.h;var E=v*f.x[b.xanchor].offset,R=D*f.y[b.yanchor].offset,N=f.x[b.xanchor].sizing+f.y[b.yanchor].sizing,F,I;switch(d!==void 0?F=typeof b.xref=="string"&&g?d._length*b.x+d._offset:d.r2p(b.x)+d._offset:F=b.x*A.w+A.l,F+=E,x!==void 0?I=typeof b.yref=="string"&&c?x._length*(1-b.y)+x._offset:x.r2p(b.y)+x._offset:I=A.h-b.y*A.h+A.t,I+=R,b.sizing){case"fill":N+=" slice";break;case"stretch":N="none";break}M.attr({x:F,y:I,width:v,height:D,preserveAspectRatio:N,opacity:b.opacity});var L=d&&Fu.getRefType(b.xref)!=="domain"?d._id:"",P=x&&Fu.getRefType(b.yref)!=="domain"?x._id:"",O=L+P;zte.setClipUrl(M,O?"clip"+t._uid+O:null,r)}function _(b){return[b.xref,b.x,b.sizex,b.yref,b.y,b.sizey].join("_")}function m(b,M){return b._index-M._index}var w=t._imageLowerLayer.selectAll("image").data(o,_),T=t._imageUpperLayer.selectAll("image").data(n,_);w.enter().append("image"),T.enter().append("image"),w.exit().remove(),T.exit().remove(),w.each(function(b){h.bind(this)(b),p.bind(this)(b)}),T.each(function(b){h.bind(this)(b),p.bind(this)(b)}),w.sort(m),T.sort(m);var y=Object.keys(t._plots);for(l=0;l<y.length;l++){i=y[l];var k=t._plots[i];if(k.imagelayer){var S=k.imagelayer.selectAll("image").data(a[i]||[],_);S.enter().append("image"),S.exit().remove(),S.each(function(b){h.bind(this)(b),p.bind(this)(b)}),S.sort(m)}}}});var QD=de((O1e,KD)=>{"use strict";var JD=nt(),Ote=Dc();KD.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(o||i){for(var l=r._fullLayout.images,u=t._id.charAt(0),s,f,h=0;h<l.length;h++)if(s=l[h],f="images["+h+"].",s[u+"ref"]===t._id){var p=s[u],_=s["size"+u],m=null,w=null;if(o){m=Ote(p,t.range);var T=_/Math.pow(10,m)/2;w=2*Math.log(T+Math.sqrt(1+T*T))/Math.LN10}else m=Math.pow(10,p),w=m*(Math.pow(10,_/2)-Math.pow(10,-_/2));JD(m)?JD(w)||(w=null):(m=null,w=null),a(f+u,m),a(f+"size"+u,w)}}}});var jD=de((B1e,$D)=>{"use strict";$D.exports={moduleType:"component",name:"images",layoutAttributes:Wm(),supplyLayoutDefaults:GD(),includeBasePlot:c0()("images"),draw:ZD(),convertCoords:QD()}});var q1=de((U1e,eR)=>{"use strict";eR.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}});var Zm=de((H1e,tR)=>{"use strict";var Bte=kn(),Ute=Ti(),Hte=Tt().extendFlat,Vte=zn().overrideAll,Gte=Vc(),rR=yt().templatedArray,Yte=rR("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});tR.exports=Vte(rR("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:Yte,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:Hte(Gte({editType:"arraydraw"}),{}),font:Bte({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:Ute.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")});var oR=de((V1e,iR)=>{"use strict";var O1=ir(),nR=ri(),aR=Zm(),Wte=q1(),Xte=Wte.name,Zte=aR.buttons;iR.exports=function(r,t){var n={name:Xte,handleItemDefaults:Jte};nR(r,t,n)};function Jte(e,r,t){function n(i,l){return O1.coerce(e,r,aR,i,l)}var a=nR(e,r,{name:"buttons",handleItemDefaults:Kte}),o=n("visible",a.length>0);o&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),O1.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),O1.coerceFont(n,"font",t.font),n("bgcolor",t.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function Kte(e,r){function t(a,o){return O1.coerce(e,r,Zte,a,o)}var n=t("visible",e.method==="skip"||Array.isArray(e.args));n&&(t("method"),t("args"),t("args2"),t("label"),t("execute"))}});var uR=de((G1e,sR)=>{"use strict";sR.exports=Rt;var ci=it(),lR=Xr(),Nu=mt(),B1=ir();function Rt(e,r,t){this.gd=e,this.container=r,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}Rt.barWidth=2;Rt.barLength=20;Rt.barRadius=2;Rt.barPad=1;Rt.barColor="#808BA4";Rt.prototype.enable=function(r,t,n){var a=this.gd._fullLayout,o=a.width,i=a.height;this.position=r;var l=this.position.l,u=this.position.w,s=this.position.t,f=this.position.h,h=this.position.direction,p=h==="down",_=h==="left",m=h==="right",w=h==="up",T=u,y=f,k,S,b,M;!p&&!_&&!m&&!w&&(this.position.direction="down",p=!0);var d=p||w;d?(k=l,S=k+T,p?(b=s,M=Math.min(b+y,i),y=M-b):(M=s+y,b=Math.max(M-y,0),y=M-b)):(b=s,M=b+y,_?(S=l+T,k=Math.max(S-T,0),T=S-k):(k=l,S=Math.min(k+T,o),T=S-k)),this._box={l:k,t:b,w:T,h:y};var x=u>T,g=Rt.barLength+2*Rt.barPad,c=Rt.barWidth+2*Rt.barPad,A=l,v=s+f;v+c>i&&(v=i-c);var D=this.container.selectAll("rect.scrollbar-horizontal").data(x?[0]:[]);D.exit().on(".drag",null).remove(),D.enter().append("rect").classed("scrollbar-horizontal",!0).call(lR.fill,Rt.barColor),x?(this.hbar=D.attr({rx:Rt.barRadius,ry:Rt.barRadius,x:A,y:v,width:g,height:c}),this._hbarXMin=A+g/2,this._hbarTranslateMax=T-g):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var E=f>y,R=Rt.barWidth+2*Rt.barPad,N=Rt.barLength+2*Rt.barPad,F=l+u,I=s;F+R>o&&(F=o-R);var L=this.container.selectAll("rect.scrollbar-vertical").data(E?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-vertical",!0).call(lR.fill,Rt.barColor),E?(this.vbar=L.attr({rx:Rt.barRadius,ry:Rt.barRadius,x:F,y:I,width:R,height:N}),this._vbarYMin=I+N/2,this._vbarTranslateMax=y-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var P=this.id,O=k-.5,U=E?S+R+.5:S+.5,X=b-.5,$=x?M+c+.5:M+.5,j=a._topdefs.selectAll("#"+P).data(x||E?[0]:[]);if(j.exit().remove(),j.enter().append("clipPath").attr("id",P).append("rect"),x||E?(this._clipRect=j.select("rect").attr({x:Math.floor(O),y:Math.floor(X),width:Math.ceil(U)-Math.floor(O),height:Math.ceil($)-Math.floor(X)}),this.container.call(Nu.setClipUrl,P,this.gd),this.bg.attr({x:l,y:s,width:u,height:f})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Nu.setClipUrl,null),delete this._clipRect),x||E){var Y=ci.behavior.drag().on("dragstart",function(){ci.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Y);var q=ci.behavior.drag().on("dragstart",function(){ci.event.sourceEvent.preventDefault(),ci.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));x&&this.hbar.on(".drag",null).call(q),E&&this.vbar.on(".drag",null).call(q)}this.setTranslate(t,n)};Rt.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Nu.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)};Rt.prototype._onBoxDrag=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r-=ci.event.dx),this.vbar&&(t-=ci.event.dy),this.setTranslate(r,t)};Rt.prototype._onBoxWheel=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r+=ci.event.deltaY),this.vbar&&(t+=ci.event.deltaY),this.setTranslate(r,t)};Rt.prototype._onBarDrag=function(){var r=this.translateX,t=this.translateY;if(this.hbar){var n=r+this._hbarXMin,a=n+this._hbarTranslateMax,o=B1.constrain(ci.event.x,n,a),i=(o-n)/(a-n),l=this.position.w-this._box.w;r=i*l}if(this.vbar){var u=t+this._vbarYMin,s=u+this._vbarTranslateMax,f=B1.constrain(ci.event.y,u,s),h=(f-u)/(s-u),p=this.position.h-this._box.h;t=h*p}this.setTranslate(r,t)};Rt.prototype.setTranslate=function(r,t){var n=this.position.w-this._box.w,a=this.position.h-this._box.h;if(r=B1.constrain(r||0,0,n),t=B1.constrain(t||0,0,a),this.translateX=r,this.translateY=t,this.container.call(Nu.setTranslate,this._box.l-this.position.l-r,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+r-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var o=r/n;this.hbar.call(Nu.setTranslate,r+o*this._hbarTranslateMax,t)}if(this.vbar){var i=t/a;this.vbar.call(Nu.setTranslate,r,t+i*this._vbarTranslateMax)}}});var bR=de((Y1e,mR)=>{"use strict";var zu=it(),R0=on(),P0=Xr(),qu=mt(),xa=ir(),U1=Wn(),Qte=yt().arrayEditor,cR=qn().LINE_SPACING,Dr=q1(),$te=uR();mR.exports=function(r){var t=r._fullLayout,n=xa.filterVisible(t[Dr.name]);function a(p){R0.autoMargin(r,gR(p))}var o=t._menulayer.selectAll("g."+Dr.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(Dr.containerClassName,!0).style("cursor","pointer"),o.exit().each(function(){zu.select(this).selectAll("g."+Dr.headerGroupClassName).each(a)}).remove(),n.length!==0){var i=o.selectAll("g."+Dr.headerGroupClassName).data(n,jte);i.enter().append("g").classed(Dr.headerGroupClassName,!0);for(var l=xa.ensureSingle(o,"g",Dr.dropdownButtonGroupClassName,function(p){p.style("pointer-events","all")}),u=0;u<n.length;u++){var s=n[u];ine(r,s)}var f="updatemenus"+t._uid,h=new $te(r,l,f);i.enter().size()&&(l.node().parentNode.appendChild(l.node()),l.call(Km)),i.exit().each(function(p){l.call(Km),a(p)}).remove(),i.each(function(p){var _=zu.select(this),m=p.type==="dropdown"?l:null;R0.manageCommandObserver(r,p,p.buttons,function(w){Jm(r,p,p.buttons[w.index],_,m,h,w.index,!0)}),p.type==="dropdown"?(vR(r,_,l,h,p),hR(l,p)&&I0(r,_,l,h,p)):I0(r,_,null,null,p)})}};function jte(e){return e._index}function ene(e){return+e.attr(Dr.menuIndexAttrName)==-1}function hR(e,r){return+e.attr(Dr.menuIndexAttrName)===r._index}function Jm(e,r,t,n,a,o,i,l){r.active=i,Qte(e.layout,Dr.name,r).applyUpdate("active",i),r.type==="buttons"?I0(e,n,null,null,r):r.type==="dropdown"&&(a.attr(Dr.menuIndexAttrName,"-1"),vR(e,n,a,o,r),l||I0(e,n,a,o,r))}function vR(e,r,t,n,a){var o=xa.ensureSingle(r,"g",Dr.headerClassName,function(p){p.style("pointer-events","all")}),i=a._dims,l=a.active,u=a.buttons[l]||Dr.blankHeaderOpts,s={y:a.pad.t,yPad:0,x:a.pad.l,xPad:0,index:0},f={width:i.headerWidth,height:i.headerHeight};o.call(Qm,a,u,e).call(yR,a,s,f);var h=xa.ensureSingle(r,"text",Dr.headerArrowClassName,function(p){p.attr("text-anchor","end").call(qu.font,a.font).text(Dr.arrowSymbol[a.direction])});h.attr({x:i.headerWidth-Dr.arrowOffsetX+a.pad.l,y:i.headerHeight/2+Dr.textOffsetY+a.pad.t}),o.on("click",function(){t.call(Km,String(hR(t,a)?-1:a._index)),I0(e,r,t,n,a)}),o.on("mouseover",function(){o.call(dR)}),o.on("mouseout",function(){o.call(pR,a)}),qu.setTranslate(r,i.lx,i.ly)}function I0(e,r,t,n,a){t||(t=r,t.attr("pointer-events","all"));var o=!ene(t)||a.type==="buttons"?a.buttons:[],i=a.type==="dropdown"?Dr.dropdownButtonClassName:Dr.buttonClassName,l=t.selectAll("g."+i).data(xa.filterVisible(o)),u=l.enter().append("g").classed(i,!0),s=l.exit();a.type==="dropdown"?(u.attr("opacity","0").transition().attr("opacity","1"),s.transition().attr("opacity","0").remove()):s.remove();var f=0,h=0,p=a._dims,_=["up","down"].indexOf(a.direction)!==-1;a.type==="dropdown"&&(_?h=p.headerHeight+Dr.gapButtonHeader:f=p.headerWidth+Dr.gapButtonHeader),a.type==="dropdown"&&a.direction==="up"&&(h=-Dr.gapButtonHeader+Dr.gapButton-p.openHeight),a.type==="dropdown"&&a.direction==="left"&&(f=-Dr.gapButtonHeader+Dr.gapButton-p.openWidth);var m={x:p.lx+f+a.pad.l,y:p.ly+h+a.pad.t,yPad:Dr.gapButton,xPad:Dr.gapButton,index:0},w={l:m.x+a.borderwidth,t:m.y+a.borderwidth};l.each(function(T,y){var k=zu.select(this);k.call(Qm,a,T,e).call(yR,a,m),k.on("click",function(){zu.event.defaultPrevented||(T.execute&&(T.args2&&a.active===y?(Jm(e,a,T,r,t,n,-1),R0.executeAPICommand(e,T.method,T.args2)):(Jm(e,a,T,r,t,n,y),R0.executeAPICommand(e,T.method,T.args))),e.emit("plotly_buttonclicked",{menu:a,button:T,active:a.active}))}),k.on("mouseover",function(){k.call(dR)}),k.on("mouseout",function(){k.call(pR,a),l.call(fR,a)})}),l.call(fR,a),_?(w.w=Math.max(p.openWidth,p.headerWidth),w.h=m.y-w.t):(w.w=m.x-w.l,w.h=Math.max(p.openHeight,p.headerHeight)),w.direction=a.direction,n&&(l.size()?rne(e,r,t,n,a,w):tne(n))}function rne(e,r,t,n,a,o){var i=a.direction,l=i==="up"||i==="down",u=a._dims,s=a.active,f,h,p;if(l)for(h=0,p=0;p<s;p++)h+=u.heights[p]+Dr.gapButton;else for(f=0,p=0;p<s;p++)f+=u.widths[p]+Dr.gapButton;n.enable(o,f,h),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1"),n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}function tne(e){var r=!!e.hbar,t=!!e.vbar;r&&e.hbar.transition().attr("opacity","0").each("end",function(){r=!1,t||e.disable()}),t&&e.vbar.transition().attr("opacity","0").each("end",function(){t=!1,r||e.disable()})}function Qm(e,r,t,n){e.call(nne,r).call(ane,r,t,n)}function nne(e,r){var t=xa.ensureSingle(e,"rect",Dr.itemRectClassName,function(n){n.attr({rx:Dr.rx,ry:Dr.ry,"shape-rendering":"crispEdges"})});t.call(P0.stroke,r.bordercolor).call(P0.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function ane(e,r,t,n){var a=xa.ensureSingle(e,"text",Dr.itemTextClassName,function(l){l.attr({"text-anchor":"start","data-notex":1})}),o=t.label,i=n._fullLayout._meta;i&&(o=xa.templateString(o,i)),a.call(qu.font,r.font).text(o).call(U1.convertToTspans,n)}function fR(e,r){var t=r.active;e.each(function(n,a){var o=zu.select(this);a===t&&r.showactive&&o.select("rect."+Dr.itemRectClassName).call(P0.fill,Dr.activeColor)})}function dR(e){e.select("rect."+Dr.itemRectClassName).call(P0.fill,Dr.hoverColor)}function pR(e,r){e.select("rect."+Dr.itemRectClassName).call(P0.fill,r.bgcolor)}function ine(e,r){var t=r._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},n=qu.tester.selectAll("g."+Dr.dropdownButtonClassName).data(xa.filterVisible(r.buttons));n.enter().append("g").classed(Dr.dropdownButtonClassName,!0);var a=["up","down"].indexOf(r.direction)!==-1;n.each(function(f,h){var p=zu.select(this);p.call(Qm,r,f,e);var _=p.select("."+Dr.itemTextClassName),m=_.node()&&qu.bBox(_.node()).width,w=Math.max(m+Dr.textPadX,Dr.minWidth),T=r.font.size*cR,y=U1.lineCount(_),k=Math.max(T*y,Dr.minHeight)+Dr.textOffsetY;k=Math.ceil(k),w=Math.ceil(w),t.widths[h]=w,t.heights[h]=k,t.height1=Math.max(t.height1,k),t.width1=Math.max(t.width1,w),a?(t.totalWidth=Math.max(t.totalWidth,w),t.openWidth=t.totalWidth,t.totalHeight+=k+Dr.gapButton,t.openHeight+=k+Dr.gapButton):(t.totalWidth+=w+Dr.gapButton,t.openWidth+=w+Dr.gapButton,t.totalHeight=Math.max(t.totalHeight,k),t.openHeight=t.totalHeight)}),a?t.totalHeight-=Dr.gapButton:t.totalWidth-=Dr.gapButton,t.headerWidth=t.width1+Dr.arrowPadX,t.headerHeight=t.height1,r.type==="dropdown"&&(a?(t.width1+=Dr.arrowPadX,t.totalHeight=t.height1):t.totalWidth=t.width1,t.totalWidth+=Dr.arrowPadX),n.remove();var o=t.totalWidth+r.pad.l+r.pad.r,i=t.totalHeight+r.pad.t+r.pad.b,l=e._fullLayout._size;t.lx=l.l+l.w*r.x,t.ly=l.t+l.h*(1-r.y);var u="left";xa.isRightAnchor(r)&&(t.lx-=o,u="right"),xa.isCenterAnchor(r)&&(t.lx-=o/2,u="center");var s="top";xa.isBottomAnchor(r)&&(t.ly-=i,s="bottom"),xa.isMiddleAnchor(r)&&(t.ly-=i/2,s="middle"),t.totalWidth=Math.ceil(t.totalWidth),t.totalHeight=Math.ceil(t.totalHeight),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),R0.autoMargin(e,gR(r),{x:r.x,y:r.y,l:o*({right:1,center:.5}[u]||0),r:o*({left:1,center:.5}[u]||0),b:i*({top:1,middle:.5}[s]||0),t:i*({bottom:1,middle:.5}[s]||0)})}function gR(e){return Dr.autoMarginIdRoot+e._index}function yR(e,r,t,n){n=n||{};var a=e.select("."+Dr.itemRectClassName),o=e.select("."+Dr.itemTextClassName),i=r.borderwidth,l=t.index,u=r._dims;qu.setTranslate(e,i+t.x,i+t.y);var s=["up","down"].indexOf(r.direction)!==-1,f=n.height||(s?u.heights[l]:u.height1);a.attr({x:0,y:0,width:n.width||(s?u.width1:u.widths[l]),height:f});var h=r.font.size*cR,p=U1.lineCount(o),_=(p-1)*h/2;U1.positionText(o,Dr.textOffsetX,f/2-_+Dr.textOffsetY),s?t.y+=u.heights[l]+t.yPad:t.x+=u.widths[l]+t.xPad,t.index++}function Km(e,r){e.attr(Dr.menuIndexAttrName,r||"-1").selectAll("g."+Dr.dropdownButtonClassName).remove()}});var _R=de((W1e,xR)=>{"use strict";var one=q1();xR.exports={moduleType:"component",name:one.name,layoutAttributes:Zm(),supplyLayoutDefaults:oR(),draw:bR()}});var F0=de((X1e,wR)=>{"use strict";wR.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}});var $m=de((Z1e,AR)=>{"use strict";var MR=kn(),lne=Vc(),sne=Tt().extendDeepAll,une=zn().overrideAll,fne=gf(),TR=yt().templatedArray,us=F0(),cne=TR("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});AR.exports=une(TR("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:cne,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:sne(lne({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:fne.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:MR({})},font:MR({}),activebgcolor:{valType:"color",dflt:us.gripBgActiveColor},bgcolor:{valType:"color",dflt:us.railBgColor},bordercolor:{valType:"color",dflt:us.railBorderColor},borderwidth:{valType:"number",min:0,dflt:us.railBorderWidth},ticklen:{valType:"number",min:0,dflt:us.tickLength},tickcolor:{valType:"color",dflt:us.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:us.minorTickLength}}),"arraydraw","from-root")});var ER=de((J1e,CR)=>{"use strict";var Ou=ir(),kR=ri(),SR=$m(),hne=F0(),vne=hne.name,dne=SR.steps;CR.exports=function(r,t){kR(r,t,{name:vne,handleItemDefaults:pne})};function pne(e,r,t){function n(h,p){return Ou.coerce(e,r,SR,h,p)}for(var a=kR(e,r,{name:"steps",handleItemDefaults:gne}),o=0,i=0;i<a.length;i++)a[i].visible&&o++;var l;if(o<2?l=r.visible=!1:l=n("visible"),!!l){r._stepCount=o;var u=r._visibleSteps=Ou.filterVisible(a),s=n("active");(a[s]||{}).visible||(r.active=u[0]._index),n("x"),n("y"),Ou.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),Ou.coerceFont(n,"font",t.font);var f=n("currentvalue.visible");f&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),Ou.coerceFont(n,"currentvalue.font",r.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function gne(e,r){function t(o,i){return Ou.coerce(e,r,dne,o,i)}var n;if(e.method!=="skip"&&!Array.isArray(e.args)?n=r.visible=!1:n=t("visible"),n){t("method"),t("args");var a=t("label","step-"+r._index);t("value",a),t("execute")}}});var OR=de((K1e,qR)=>{"use strict";var hi=it(),H1=on(),el=Xr(),vi=mt(),_a=ir(),yne=_a.strTranslate,N0=Wn(),mne=yt().arrayEditor,Vr=F0(),r3=qn(),RR=r3.LINE_SPACING,jm=r3.FROM_TL,e3=r3.FROM_BR;qR.exports=function(r){var t=r._context.staticPlot,n=r._fullLayout,a=bne(n,r),o=n._infolayer.selectAll("g."+Vr.containerClassName).data(a.length>0?[0]:[]);o.enter().append("g").classed(Vr.containerClassName,!0).style("cursor",t?null:"ew-resize");function i(f){f._commandObserver&&(f._commandObserver.remove(),delete f._commandObserver),H1.autoMargin(r,PR(f))}if(o.exit().each(function(){hi.select(this).selectAll("g."+Vr.groupClassName).each(i)}).remove(),a.length!==0){var l=o.selectAll("g."+Vr.groupClassName).data(a,xne);l.enter().append("g").classed(Vr.groupClassName,!0),l.exit().each(i).remove();for(var u=0;u<a.length;u++){var s=a[u];_ne(r,s)}l.each(function(f){var h=hi.select(this);kne(f),H1.manageCommandObserver(r,f,f._visibleSteps,function(p){var _=h.data()[0];_.active!==p.index&&(_._dragging||FR(r,h,_,p.index,!1,!0))}),wne(r,hi.select(this),f)})}};function PR(e){return Vr.autoMarginIdRoot+e._index}function bne(e,r){for(var t=e[Vr.name],n=[],a=0;a<t.length;a++){var o=t[a];o.visible&&(o._gd=r,n.push(o))}return n}function xne(e){return e._index}function _ne(e,r){var t=vi.tester.selectAll("g."+Vr.labelGroupClass).data(r._visibleSteps);t.enter().append("g").classed(Vr.labelGroupClass,!0);var n=0,a=0;t.each(function(m){var w=hi.select(this),T=IR(w,{step:m},r),y=T.node();if(y){var k=vi.bBox(y);a=Math.max(a,k.height),n=Math.max(n,k.width)}}),t.remove();var o=r._dims={};o.inputAreaWidth=Math.max(Vr.railWidth,Vr.gripHeight);var i=e._fullLayout._size;o.lx=i.l+i.w*r.x,o.ly=i.t+i.h*(1-r.y),r.lenmode==="fraction"?o.outerLength=Math.round(i.w*r.len):o.outerLength=r.len,o.inputAreaStart=0,o.inputAreaLength=Math.round(o.outerLength-r.pad.l-r.pad.r);var l=o.inputAreaLength-2*Vr.stepInset,u=l/(r._stepCount-1),s=n+Vr.labelPadding;if(o.labelStride=Math.max(1,Math.ceil(s/u)),o.labelHeight=a,o.currentValueMaxWidth=0,o.currentValueHeight=0,o.currentValueTotalHeight=0,o.currentValueMaxLines=1,r.currentvalue.visible){var f=vi.tester.append("g");t.each(function(m){var w=V1(f,r,m.label),T=w.node()&&vi.bBox(w.node())||{width:0,height:0},y=N0.lineCount(w);o.currentValueMaxWidth=Math.max(o.currentValueMaxWidth,Math.ceil(T.width)),o.currentValueHeight=Math.max(o.currentValueHeight,Math.ceil(T.height)),o.currentValueMaxLines=Math.max(o.currentValueMaxLines,y)}),o.currentValueTotalHeight=o.currentValueHeight+r.currentvalue.offset,f.remove()}o.height=o.currentValueTotalHeight+Vr.tickOffset+r.ticklen+Vr.labelOffset+o.labelHeight+r.pad.t+r.pad.b;var h="left";_a.isRightAnchor(r)&&(o.lx-=o.outerLength,h="right"),_a.isCenterAnchor(r)&&(o.lx-=o.outerLength/2,h="center");var p="top";_a.isBottomAnchor(r)&&(o.ly-=o.height,p="bottom"),_a.isMiddleAnchor(r)&&(o.ly-=o.height/2,p="middle"),o.outerLength=Math.ceil(o.outerLength),o.height=Math.ceil(o.height),o.lx=Math.round(o.lx),o.ly=Math.round(o.ly);var _={y:r.y,b:o.height*e3[p],t:o.height*jm[p]};r.lenmode==="fraction"?(_.l=0,_.xl=r.x-r.len*jm[h],_.r=0,_.xr=r.x+r.len*e3[h]):(_.x=r.x,_.l=o.outerLength*jm[h],_.r=o.outerLength*e3[h]),H1.autoMargin(e,PR(r),_)}function wne(e,r,t){(t.steps[t.active]||{}).visible||(t.active=t._visibleSteps[0]._index),r.call(V1,t).call(Cne,t).call(Tne,t).call(Ane,t).call(Sne,e,t).call(Mne,e,t);var n=t._dims;vi.setTranslate(r,n.lx+t.pad.l,n.ly+t.pad.t),r.call(zR,t,!1),r.call(V1,t)}function V1(e,r,t){if(r.currentvalue.visible){var n=r._dims,a,o;switch(r.currentvalue.xanchor){case"right":a=n.inputAreaLength-Vr.currentValueInset-n.currentValueMaxWidth,o="left";break;case"center":a=n.inputAreaLength*.5,o="middle";break;default:a=Vr.currentValueInset,o="left"}var i=_a.ensureSingle(e,"text",Vr.labelClass,function(p){p.attr({"text-anchor":o,"data-notex":1})}),l=r.currentvalue.prefix?r.currentvalue.prefix:"";if(typeof t=="string")l+=t;else{var u=r.steps[r.active].label,s=r._gd._fullLayout._meta;s&&(u=_a.templateString(u,s)),l+=u}r.currentvalue.suffix&&(l+=r.currentvalue.suffix),i.call(vi.font,r.currentvalue.font).text(l).call(N0.convertToTspans,r._gd);var f=N0.lineCount(i),h=(n.currentValueMaxLines+1-f)*r.currentvalue.font.size*RR;return N0.positionText(i,a,h),i}}function Mne(e,r,t){var n=_a.ensureSingle(e,"rect",Vr.gripRectClass,function(a){a.call(NR,r,e,t).style("pointer-events","all")});n.attr({width:Vr.gripWidth,height:Vr.gripHeight,rx:Vr.gripRadius,ry:Vr.gripRadius}).call(el.stroke,t.bordercolor).call(el.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function IR(e,r,t){var n=_a.ensureSingle(e,"text",Vr.labelClass,function(i){i.attr({"text-anchor":"middle","data-notex":1})}),a=r.step.label,o=t._gd._fullLayout._meta;return o&&(a=_a.templateString(a,o)),n.call(vi.font,t.font).text(a).call(N0.convertToTspans,t._gd),n}function Tne(e,r){var t=_a.ensureSingle(e,"g",Vr.labelsClass),n=r._dims,a=t.selectAll("g."+Vr.labelGroupClass).data(n.labelSteps);a.enter().append("g").classed(Vr.labelGroupClass,!0),a.exit().remove(),a.each(function(o){var i=hi.select(this);i.call(IR,o,r),vi.setTranslate(i,t3(r,o.fraction),Vr.tickOffset+r.ticklen+r.font.size*RR+Vr.labelOffset+n.currentValueTotalHeight)})}function LR(e,r,t,n,a){var o=Math.round(n*(t._stepCount-1)),i=t._visibleSteps[o]._index;i!==t.active&&FR(e,r,t,i,!0,a)}function FR(e,r,t,n,a,o){var i=t.active;t.active=n,mne(e.layout,Vr.name,t).applyUpdate("active",n);var l=t.steps[t.active];r.call(zR,t,o),r.call(V1,t),e.emit("plotly_sliderchange",{slider:t,step:t.steps[t.active],interaction:a,previousActive:i}),l&&l.method&&a&&(r._nextMethod?(r._nextMethod.step=l,r._nextMethod.doCallback=a,r._nextMethod.doTransition=o):(r._nextMethod={step:l,doCallback:a,doTransition:o},r._nextMethodRaf=window.requestAnimationFrame(function(){var u=r._nextMethod.step;u.method&&(u.execute&&H1.executeAPICommand(e,u.method,u.args),r._nextMethod=null,r._nextMethodRaf=null)})))}function NR(e,r,t){if(r._context.staticPlot)return;var n=t.node(),a=hi.select(r);function o(){return t.data()[0]}function i(){var l=o();r.emit("plotly_sliderstart",{slider:l});var u=t.select("."+Vr.gripRectClass);hi.event.stopPropagation(),hi.event.preventDefault(),u.call(el.fill,l.activebgcolor);var s=DR(l,hi.mouse(n)[0]);LR(r,t,l,s,!0),l._dragging=!0;function f(){var p=o(),_=DR(p,hi.mouse(n)[0]);LR(r,t,p,_,!1)}a.on("mousemove",f),a.on("touchmove",f);function h(){var p=o();p._dragging=!1,u.call(el.fill,p.bgcolor),a.on("mouseup",null),a.on("mousemove",null),a.on("touchend",null),a.on("touchmove",null),r.emit("plotly_sliderend",{slider:p,step:p.steps[p.active]})}a.on("mouseup",h),a.on("touchend",h)}e.on("mousedown",i),e.on("touchstart",i)}function Ane(e,r){var t=e.selectAll("rect."+Vr.tickRectClass).data(r._visibleSteps),n=r._dims;t.enter().append("rect").classed(Vr.tickRectClass,!0),t.exit().remove(),t.attr({width:r.tickwidth+"px","shape-rendering":"crispEdges"}),t.each(function(a,o){var i=o%n.labelStride===0,l=hi.select(this);l.attr({height:i?r.ticklen:r.minorticklen}).call(el.fill,r.tickcolor),vi.setTranslate(l,t3(r,o/(r._stepCount-1))-.5*r.tickwidth,(i?Vr.tickOffset:Vr.minorTickOffset)+n.currentValueTotalHeight)})}function kne(e){var r=e._dims;r.labelSteps=[];for(var t=e._stepCount,n=0;n<t;n+=r.labelStride)r.labelSteps.push({fraction:n/(t-1),step:e._visibleSteps[n]})}function zR(e,r,t){for(var n=e.select("rect."+Vr.gripRectClass),a=0,o=0;o<r._stepCount;o++)if(r._visibleSteps[o]._index===r.active){a=o;break}var i=t3(r,a/(r._stepCount-1));if(!r._invokingCommand){var l=n;t&&r.transition.duration>0&&(l=l.transition().duration(r.transition.duration).ease(r.transition.easing)),l.attr("transform",yne(i-Vr.gripWidth*.5,r._dims.currentValueTotalHeight))}}function t3(e,r){var t=e._dims;return t.inputAreaStart+Vr.stepInset+(t.inputAreaLength-2*Vr.stepInset)*Math.min(1,Math.max(0,r))}function DR(e,r){var t=e._dims;return Math.min(1,Math.max(0,(r-Vr.stepInset-t.inputAreaStart)/(t.inputAreaLength-2*Vr.stepInset-2*t.inputAreaStart)))}function Sne(e,r,t){var n=t._dims,a=_a.ensureSingle(e,"rect",Vr.railTouchRectClass,function(o){o.call(NR,r,e,t).style("pointer-events","all")});a.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,Vr.tickOffset+t.ticklen+n.labelHeight)}).call(el.fill,t.bgcolor).attr("opacity",0),vi.setTranslate(a,0,n.currentValueTotalHeight)}function Cne(e,r){var t=r._dims,n=t.inputAreaLength-Vr.railInset*2,a=_a.ensureSingle(e,"rect",Vr.railRectClass);a.attr({width:n,height:Vr.railWidth,rx:Vr.railRadius,ry:Vr.railRadius,"shape-rendering":"crispEdges"}).call(el.stroke,r.bordercolor).call(el.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px"),vi.setTranslate(a,Vr.railInset,(t.inputAreaWidth-Vr.railWidth)*.5+t.currentValueTotalHeight)}});var UR=de((Q1e,BR)=>{"use strict";var Ene=F0();BR.exports={moduleType:"component",name:Ene.name,layoutAttributes:$m(),supplyLayoutDefaults:ER(),draw:OR()}});var G1=de(($1e,VR)=>{"use strict";var HR=Ti();VR.exports={bgcolor:{valType:"color",dflt:HR.background,editType:"plot"},bordercolor:{valType:"color",dflt:HR.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}});var n3=de((j1e,GR)=>{"use strict";GR.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}});var Y1=de((ede,YR)=>{"use strict";YR.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}});var ZR=de(X1=>{"use strict";var Lne=jt(),Dne=Wn(),WR=Y1(),Rne=qn().LINE_SPACING,W1=WR.name;function XR(e){var r=e&&e[W1];return r&&r.visible}X1.isVisible=XR;X1.makeData=function(e){for(var r=Lne.list({_fullLayout:e},"x",!0),t=e.margin,n=[],a=0;a<r.length;a++){var o=r[a];if(XR(o)){n.push(o);var i=o[W1];i._id=W1+o._id,i._height=(e.height-t.b-t.t)*i.thickness,i._offsetShift=Math.floor(i.borderwidth/2)}}e._rangeSliderData=n};X1.autoMarginOpts=function(e,r){var t=e._fullLayout,n=r[W1],a=r._id.charAt(0),o=0,i=0;if(r.side==="bottom"&&(o=r._depth,r.title.text!==t._dfltTitle[a])){i=1.5*r.title.font.size+10+n._offsetShift;var l=(r.title.text.match(Dne.BR_TAG_ALL)||[]).length;i+=l*r.title.font.size*Rne}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:n._height+o+Math.max(t.margin.b,i),pad:WR.extraPad+n._offsetShift*2}}});var $R=de((tde,QR)=>{"use strict";var Z1=ir(),JR=yt(),KR=jt(),Pne=G1(),Ine=n3();QR.exports=function(r,t,n){var a=r[n],o=t[n];if(!(a.rangeslider||t._requestRangeslider[o._id]))return;Z1.isPlainObject(a.rangeslider)||(a.rangeslider={});var i=a.rangeslider,l=JR.newContainer(o,"rangeslider");function u(M,d){return Z1.coerce(i,l,Pne,M,d)}var s,f;function h(M,d){return Z1.coerce(s,f,Ine,M,d)}var p=u("visible");if(p){u("bgcolor",t.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!o.isValidRange(i.range)),u("range");var _=t._subplots;if(_)for(var m=_.cartesian.filter(function(M){return M.substr(0,M.indexOf("y"))===KR.name2id(n)}).map(function(M){return M.substr(M.indexOf("y"),M.length)}),w=Z1.simpleMap(m,KR.id2name),T=0;T<w.length;T++){var y=w[T];s=i[y]||{},f=JR.newContainer(l,y,"yaxis");var k=t[y],S;s.range&&k.isValidRange(s.range)&&(S="fixed");var b=h("rangemode",S);b!=="match"&&h("range",k.range.slice())}l._input=i}}});var eP=de((nde,jR)=>{"use strict";var Fne=jt().list,Nne=eu().getAutoRange,zne=Y1();jR.exports=function(r){for(var t=Fne(r,"x",!0),n=0;n<t.length;n++){var a=t[n],o=a[zne.name];o&&o.visible&&o.autorange&&(o._input.autorange=!0,o._input.range=o.range=Nne(r,a))}}});var aP=de((ade,nP)=>{"use strict";var J1=it(),qne=Cr(),One=on(),qt=ir(),K1=qt.strTranslate,tP=mt(),rl=Xr(),Bne=Rf(),Une=Lm(),a3=jt(),Hne=ni(),Vne=Vo(),Kr=Y1();nP.exports=function(e){for(var r=e._fullLayout,t=r._rangeSliderData,n=0;n<t.length;n++){var a=t[n][Kr.name];a._clipId=a._id+"-"+r._uid}function o(l){return l._name}var i=r._infolayer.selectAll("g."+Kr.containerClassName).data(t,o);i.exit().each(function(l){var u=l[Kr.name];r._topdefs.select("#"+u._clipId).remove()}).remove(),t.length!==0&&(i.enter().append("g").classed(Kr.containerClassName,!0).attr("pointer-events","all"),i.each(function(l){var u=J1.select(this),s=l[Kr.name],f=r[a3.id2name(l.anchor)],h=s[a3.id2name(l.anchor)];if(s.range){var p=qt.simpleMap(s.range,l.r2l),_=qt.simpleMap(l.range,l.r2l),m;_[0]<_[1]?m=[Math.min(p[0],_[0]),Math.max(p[1],_[1])]:m=[Math.max(p[0],_[0]),Math.min(p[1],_[1])],s.range=s._input.range=qt.simpleMap(m,l.l2r)}l.cleanRange("rangeslider.range");var w=r._size,T=l.domain;s._width=w.w*(T[1]-T[0]);var y=Math.round(w.l+w.w*T[0]),k=Math.round(w.t+w.h*(1-l._counterDomainMin)+(l.side==="bottom"?l._depth:0)+s._offsetShift+Kr.extraPad);u.attr("transform",K1(y,k)),s._rl=qt.simpleMap(s.range,l.r2l);var S=s._rl[0],b=s._rl[1],M=b-S;if(s.p2d=function(N){return N/s._width*M+S},s.d2p=function(N){return(N-S)/M*s._width},l.rangebreaks){var d=l.locateBreaks(S,b);if(d.length){var x,g,c=0;for(x=0;x<d.length;x++)g=d[x],c+=g.max-g.min;var A=s._width/(b-S-c),v=[-A*S];for(x=0;x<d.length;x++)g=d[x],v.push(v[v.length-1]-A*(g.max-g.min));for(s.d2p=function(N){for(var F=v[0],I=0;I<d.length;I++){var L=d[I];if(N>=L.max)F=v[I+1];else if(N<L.min)break}return F+A*N},x=0;x<d.length;x++)g=d[x],g.pmin=s.d2p(g.min),g.pmax=s.d2p(g.max);s.p2d=function(N){for(var F=v[0],I=0;I<d.length;I++){var L=d[I];if(N>=L.pmax)F=v[I+1];else if(N<L.pmin)break}return(N-F)/A}}}if(h.rangemode!=="match"){var D=f.r2l(h.range[0]),E=f.r2l(h.range[1]),R=E-D;s.d2pOppAxis=function(N){return(N-D)/R*s._height}}u.call(Xne,e,l,s).call(Zne,e,l,s).call(Jne,e,l,s).call(Qne,e,l,s,h).call($ne,e,l,s).call(jne,e,l,s),Gne(u,e,l,s),Wne(u,e,l,s,f,h),l.side==="bottom"&&Bne.draw(e,l._id+"title",{propContainer:l,propName:l._name+".title.text",placeholder:r._dfltTitle.x,attributes:{x:l._offset+l._length/2,y:k+s._height+s._offsetShift+10+1.5*l.title.font.size,"text-anchor":"middle"}})}))};function rP(e){return typeof e.clientX=="number"?e.clientX:e.touches&&e.touches.length>0?e.touches[0].clientX:0}function Gne(e,r,t,n){if(r._context.staticPlot)return;var a=e.select("rect."+Kr.slideBoxClassName).node(),o=e.select("rect."+Kr.grabAreaMinClassName).node(),i=e.select("rect."+Kr.grabAreaMaxClassName).node();function l(){var u=J1.event,s=u.target,f=rP(u),h=f-e.node().getBoundingClientRect().left,p=n.d2p(t._rl[0]),_=n.d2p(t._rl[1]),m=Hne.coverSlip();this.addEventListener("touchmove",w),this.addEventListener("touchend",T),m.addEventListener("mousemove",w),m.addEventListener("mouseup",T);function w(y){var k=rP(y),S=+k-f,b,M,d;switch(s){case a:if(d="ew-resize",p+S>t._length||_+S<0)return;b=p+S,M=_+S;break;case o:if(d="col-resize",p+S>t._length)return;b=p+S,M=_;break;case i:if(d="col-resize",_+S<0)return;b=p,M=_+S;break;default:d="ew-resize",b=h,M=h+S;break}if(M<b){var x=M;M=b,b=x}n._pixelMin=b,n._pixelMax=M,Vne(J1.select(m),d),Yne(e,r,t,n)}function T(){m.removeEventListener("mousemove",w),m.removeEventListener("mouseup",T),this.removeEventListener("touchmove",w),this.removeEventListener("touchend",T),qt.removeElement(m)}}e.on("mousedown",l),e.on("touchstart",l)}function Yne(e,r,t,n){function a(l){return t.l2r(qt.constrain(l,n._rl[0],n._rl[1]))}var o=a(n.p2d(n._pixelMin)),i=a(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){qne.call("_guiRelayout",r,t._name+".range",[o,i])})}function Wne(e,r,t,n,a,o){var i=Kr.handleWidth/2;function l(y){return qt.constrain(y,0,n._width)}function u(y){return qt.constrain(y,0,n._height)}function s(y){return qt.constrain(y,-i,n._width+i)}var f=l(n.d2p(t._rl[0])),h=l(n.d2p(t._rl[1]));if(e.select("rect."+Kr.slideBoxClassName).attr("x",f).attr("width",h-f),e.select("rect."+Kr.maskMinClassName).attr("width",f),e.select("rect."+Kr.maskMaxClassName).attr("x",h).attr("width",n._width-h),o.rangemode!=="match"){var p=n._height-u(n.d2pOppAxis(a._rl[1])),_=n._height-u(n.d2pOppAxis(a._rl[0]));e.select("rect."+Kr.maskMinOppAxisClassName).attr("x",f).attr("height",p).attr("width",h-f),e.select("rect."+Kr.maskMaxOppAxisClassName).attr("x",f).attr("y",_).attr("height",n._height-_).attr("width",h-f),e.select("rect."+Kr.slideBoxClassName).attr("y",p).attr("height",_-p)}var m=.5,w=Math.round(s(f-i))-m,T=Math.round(s(h-i))+m;e.select("g."+Kr.grabberMinClassName).attr("transform",K1(w,m)),e.select("g."+Kr.grabberMaxClassName).attr("transform",K1(T,m))}function Xne(e,r,t,n){var a=qt.ensureSingle(e,"rect",Kr.bgClassName,function(u){u.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),o=n.borderwidth%2===0?n.borderwidth:n.borderwidth-1,i=-n._offsetShift,l=tP.crispRound(r,n.borderwidth);a.attr({width:n._width+o,height:n._height+o,transform:K1(i,i),"stroke-width":l}).call(rl.stroke,n.bordercolor).call(rl.fill,n.bgcolor)}function Zne(e,r,t,n){var a=r._fullLayout,o=qt.ensureSingleById(a._topdefs,"clipPath",n._clipId,function(i){i.append("rect").attr({x:0,y:0})});o.select("rect").attr({width:n._width,height:n._height})}function Jne(e,r,t,n){var a=r.calcdata,o=e.selectAll("g."+Kr.rangePlotClassName).data(t._subplotsWith,qt.identity);o.enter().append("g").attr("class",function(l){return Kr.rangePlotClassName+" "+l}).call(tP.setClipUrl,n._clipId,r),o.order(),o.exit().remove();var i;o.each(function(l,u){var s=J1.select(this),f=u===0,h=a3.getFromId(r,l,"y"),p=h._name,_=n[p],m={data:[],layout:{xaxis:{type:t.type,domain:[0,1],range:n.range.slice(),calendar:t.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:r._context};t.rangebreaks&&(m.layout.xaxis.rangebreaks=t.rangebreaks),m.layout[p]={type:h.type,domain:[0,1],range:_.rangemode!=="match"?_.range.slice():h.range.slice(),calendar:h.calendar},h.rangebreaks&&(m.layout[p].rangebreaks=h.rangebreaks),One.supplyDefaults(m);var w=m._fullLayout.xaxis,T=m._fullLayout[p];w.clearCalc(),w.setScale(),T.clearCalc(),T.setScale();var y={id:l,plotgroup:s,xaxis:w,yaxis:T,isRangePlot:!0};f?i=y:(y.mainplot="xy",y.mainplotinfo=i),Une.rangePlot(r,y,Kne(a,l))})}function Kne(e,r){for(var t=[],n=0;n<e.length;n++){var a=e[n],o=a[0].trace;o.xaxis+o.yaxis===r&&t.push(a)}return t}function Qne(e,r,t,n,a){var o=qt.ensureSingle(e,"rect",Kr.maskMinClassName,function(s){s.attr({x:0,y:0,"shape-rendering":"crispEdges"})});o.attr("height",n._height).call(rl.fill,Kr.maskColor);var i=qt.ensureSingle(e,"rect",Kr.maskMaxClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});if(i.attr("height",n._height).call(rl.fill,Kr.maskColor),a.rangemode!=="match"){var l=qt.ensureSingle(e,"rect",Kr.maskMinOppAxisClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});l.attr("width",n._width).call(rl.fill,Kr.maskOppAxisColor);var u=qt.ensureSingle(e,"rect",Kr.maskMaxOppAxisClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});u.attr("width",n._width).style("border-top",Kr.maskOppBorder).call(rl.fill,Kr.maskOppAxisColor)}}function $ne(e,r,t,n){if(!r._context.staticPlot){var a=qt.ensureSingle(e,"rect",Kr.slideBoxClassName,function(o){o.attr({y:0,cursor:Kr.slideBoxCursor,"shape-rendering":"crispEdges"})});a.attr({height:n._height,fill:Kr.slideBoxFill})}}function jne(e,r,t,n){var a=qt.ensureSingle(e,"g",Kr.grabberMinClassName),o=qt.ensureSingle(e,"g",Kr.grabberMaxClassName),i={x:0,width:Kr.handleWidth,rx:Kr.handleRadius,fill:rl.background,stroke:rl.defaultLine,"stroke-width":Kr.handleStrokeWidth,"shape-rendering":"crispEdges"},l={y:Math.round(n._height/4),height:Math.round(n._height/2)},u=qt.ensureSingle(a,"rect",Kr.handleMinClassName,function(_){_.attr(i)});u.attr(l);var s=qt.ensureSingle(o,"rect",Kr.handleMaxClassName,function(_){_.attr(i)});s.attr(l);var f={width:Kr.grabAreaWidth,x:0,y:0,fill:Kr.grabAreaFill,cursor:r._context.staticPlot?void 0:Kr.grabAreaCursor},h=qt.ensureSingle(a,"rect",Kr.grabAreaMinClassName,function(_){_.attr(f)});h.attr("height",n._height);var p=qt.ensureSingle(o,"rect",Kr.grabAreaMaxClassName,function(_){_.attr(f)});p.attr("height",n._height)}});var oP=de((ide,iP)=>{"use strict";var eae=ir(),rae=G1(),tae=n3(),i3=ZR();iP.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:eae.extendFlat({},rae,{yaxis:tae})}}},layoutAttributes:G1(),handleDefaults:$R(),calcAutorange:eP(),draw:aP(),isVisible:i3.isVisible,makeData:i3.makeData,autoMarginOpts:i3.autoMarginOpts}});var Q1=de((ode,sP)=>{"use strict";var nae=kn(),lP=Ti(),aae=yt().templatedArray,iae=aae("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});sP.exports={visible:{valType:"boolean",editType:"plot"},buttons:iae,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:nae({editType:"plot"}),bgcolor:{valType:"color",dflt:lP.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:lP.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}});var o3=de((lde,uP)=>{"use strict";uP.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}});var hP=de((sde,cP)=>{"use strict";var $1=ir(),oae=Xr(),lae=yt(),sae=ri(),fP=Q1(),l3=o3();cP.exports=function(r,t,n,a,o){var i=r.rangeselector||{},l=lae.newContainer(t,"rangeselector");function u(_,m){return $1.coerce(i,l,fP,_,m)}var s=sae(i,l,{name:"buttons",handleItemDefaults:uae,calendar:o}),f=u("visible",s.length>0);if(f){var h=fae(t,n,a);u("x",h[0]),u("y",h[1]),$1.noneOrAll(r,t,["x","y"]),u("xanchor"),u("yanchor"),$1.coerceFont(u,"font",n.font);var p=u("bgcolor");u("activecolor",oae.contrast(p,l3.lightAmount,l3.darkAmount)),u("bordercolor"),u("borderwidth")}};function uae(e,r,t,n){var a=n.calendar;function o(u,s){return $1.coerce(e,r,fP.buttons,u,s)}var i=o("visible");if(i){var l=o("step");l!=="all"&&(a&&a!=="gregorian"&&(l==="month"||l==="year")?r.stepmode="backward":o("stepmode"),o("count")),o("label")}}function fae(e,r,t){for(var n=t.filter(function(l){return r[l].anchor===e._id}),a=0,o=0;o<n.length;o++){var i=r[n[o]].domain;i&&(a=Math.max(i[1],a))}return[e.domain[0],a+l3.yPad]}});var dP=de((ude,vP)=>{"use strict";var cae=sp(),hae=ir().titleCase;vP.exports=function(r,t){var n=r._name,a={};if(t.step==="all")a[n+".autorange"]=!0;else{var o=vae(r,t);a[n+".range[0]"]=o[0],a[n+".range[1]"]=o[1]}return a};function vae(e,r){var t=e.range,n=new Date(e.r2l(t[1])),a=r.step,o=cae["utc"+hae(a)],i=r.count,l;switch(r.stepmode){case"backward":l=e.l2r(+o.offset(n,-i));break;case"todate":var u=o.offset(n,-i);l=e.l2r(+o.ceil(u));break}var s=t[1];return[l,s]}});var wP=de((fde,_P)=>{"use strict";var ed=it(),dae=Cr(),pae=on(),pP=Xr(),xP=mt(),co=ir(),gP=co.strTranslate,j1=Wn(),gae=jt(),f3=qn(),yP=f3.LINE_SPACING,mP=f3.FROM_TL,bP=f3.FROM_BR,u3=o3(),yae=dP();_P.exports=function(r){var t=r._fullLayout,n=t._infolayer.selectAll(".rangeselector").data(mae(r),bae);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(a){var o=ed.select(this),i=a,l=i.rangeselector,u=o.selectAll("g.button").data(co.filterVisible(l.buttons));u.enter().append("g").classed("button",!0),u.exit().remove(),u.each(function(s){var f=ed.select(this),h=yae(i,s);s._isActive=xae(i,s,h),f.call(s3,l,s),f.call(wae,l,s,r),f.on("click",function(){r._dragged||dae.call("_guiRelayout",r,h)}),f.on("mouseover",function(){s._isHovered=!0,f.call(s3,l,s)}),f.on("mouseout",function(){s._isHovered=!1,f.call(s3,l,s)})}),Tae(r,u,l,i._name,o)})};function mae(e){for(var r=gae.list(e,"x",!0),t=[],n=0;n<r.length;n++){var a=r[n];a.rangeselector&&a.rangeselector.visible&&t.push(a)}return t}function bae(e){return e._id}function xae(e,r,t){if(r.step==="all")return e.autorange===!0;var n=Object.keys(t);return e.range[0]===t[n[0]]&&e.range[1]===t[n[1]]}function s3(e,r,t){var n=co.ensureSingle(e,"rect","selector-rect",function(a){a.attr("shape-rendering","crispEdges")});n.attr({rx:u3.rx,ry:u3.ry}),n.call(pP.stroke,r.bordercolor).call(pP.fill,_ae(r,t)).style("stroke-width",r.borderwidth+"px")}function _ae(e,r){return r._isActive||r._isHovered?e.activecolor:e.bgcolor}function wae(e,r,t,n){function a(i){j1.convertToTspans(i,n)}var o=co.ensureSingle(e,"text","selector-text",function(i){i.attr("text-anchor","middle")});o.call(xP.font,r.font).text(Mae(t,n._fullLayout._meta)).call(a)}function Mae(e,r){return e.label?r?co.templateString(e.label,r):e.label:e.step==="all"?"all":e.count+e.step.charAt(0)}function Tae(e,r,t,n,a){var o=0,i=0,l=t.borderwidth;r.each(function(){var _=ed.select(this),m=_.select(".selector-text"),w=t.font.size*yP,T=Math.max(w*j1.lineCount(m),16)+3;i=Math.max(i,T)}),r.each(function(){var _=ed.select(this),m=_.select(".selector-rect"),w=_.select(".selector-text"),T=w.node()&&xP.bBox(w.node()).width,y=t.font.size*yP,k=j1.lineCount(w),S=Math.max(T+10,u3.minButtonWidth);_.attr("transform",gP(l+o,l)),m.attr({x:0,y:0,width:S,height:i}),j1.positionText(w,S/2,i/2-(k-1)*y/2+3),o+=S+5});var u=e._fullLayout._size,s=u.l+u.w*t.x,f=u.t+u.h*(1-t.y),h="left";co.isRightAnchor(t)&&(s-=o,h="right"),co.isCenterAnchor(t)&&(s-=o/2,h="center");var p="top";co.isBottomAnchor(t)&&(f-=i,p="bottom"),co.isMiddleAnchor(t)&&(f-=i/2,p="middle"),o=Math.ceil(o),i=Math.ceil(i),s=Math.round(s),f=Math.round(f),pae.autoMargin(e,n+"-range-selector",{x:t.x,y:t.y,l:o*mP[h],r:o*bP[h],b:i*bP[p],t:i*mP[p]}),a.attr("transform",gP(s,f))}});var TP=de((cde,MP)=>{"use strict";MP.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:Q1()}}},layoutAttributes:Q1(),handleDefaults:hP(),draw:wP()}});var rd=de(c3=>{"use strict";var AP=Tt().extendFlat;c3.attributes=function(e,r){e=e||{},r=r||{};var t={valType:"info_array",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=e.name?e.name+" ":"",a=e.trace?"trace ":"subplot ",o=r.description?" "+r.description:"",i={x:AP({},t,{}),y:AP({},t,{}),editType:e.editType};return e.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:e.editType},i.column={valType:"integer",min:0,dflt:0,editType:e.editType}),i};c3.defaults=function(e,r,t,n){var a=n&&n.x||[0,1],o=n&&n.y||[0,1],i=r.grid;if(i){var l=t("domain.column");l!==void 0&&(l<i.columns?a=i._domains.x[l]:delete e.domain.column);var u=t("domain.row");u!==void 0&&(u<i.rows?o=i._domains.y[u]:delete e.domain.row)}var s=t("domain.x",a),f=t("domain.y",o);s[0]<s[1]||(e.domain.x=a.slice()),f[0]<f[1]||(e.domain.y=o.slice())}});var LP=de((vde,EP)=>{"use strict";var Aae=ir(),kae=Ls().counter,Sae=rd().attributes,kP=_n().idRegex,Cae=yt(),h3={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[kae("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[kP.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[kP.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:Sae({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function td(e,r,t){var n=r[t+"axes"],a=Object.keys((e._splomAxes||{})[t]||{});if(Array.isArray(n))return n;if(a.length)return a}function Eae(e,r){var t=e.grid||{},n=td(r,t,"x"),a=td(r,t,"y");if(!e.grid&&!n&&!a)return;var o=Array.isArray(t.subplots)&&Array.isArray(t.subplots[0]),i=Array.isArray(n),l=Array.isArray(a),u=i&&n!==t.xaxes&&l&&a!==t.yaxes,s,f;o?(s=t.subplots.length,f=t.subplots[0].length):(l&&(s=a.length),i&&(f=n.length));var h=Cae.newContainer(r,"grid");function p(d,x){return Aae.coerce(t,h,h3,d,x)}var _=p("rows",s),m=p("columns",f);if(!(_*m>1)){delete r.grid;return}if(!o&&!i&&!l){var w=p("pattern")==="independent";w&&(o=!0)}h._hasSubplotGrid=o;var T=p("roworder"),y=T==="top to bottom",k=o?.2:.1,S=o?.3:.1,b,M;u&&r._splomGridDflt&&(b=r._splomGridDflt.xside,M=r._splomGridDflt.yside),h._domains={x:SP("x",p,k,b,m),y:SP("y",p,S,M,_,y)}}function SP(e,r,t,n,a,o){var i=r(e+"gap",t),l=r("domain."+e);r(e+"side",n);for(var u=new Array(a),s=l[0],f=(l[1]-s)/(a-i),h=f*(1-i),p=0;p<a;p++){var _=s+f*p;u[o?a-1-p:p]=[_,_+h]}return u}function Lae(e,r){var t=r.grid;if(!(!t||!t._domains)){var n=e.grid||{},a=r._subplots,o=t._hasSubplotGrid,i=t.rows,l=t.columns,u=t.pattern==="independent",s,f,h,p,_,m,w,T=t._axisMap={};if(o){var y=n.subplots||[];m=t.subplots=new Array(i);var k=1;for(s=0;s<i;s++){var S=m[s]=new Array(l),b=y[s]||[];for(f=0;f<l;f++)if(u?(_=k===1?"xy":"x"+k+"y"+k,k++):_=b[f],S[f]="",a.cartesian.indexOf(_)!==-1){if(w=_.indexOf("y"),h=_.slice(0,w),p=_.slice(w),T[h]!==void 0&&T[h]!==f||T[p]!==void 0&&T[p]!==s)continue;S[f]=_,T[h]=f,T[p]=s}}}else{var M=td(r,n,"x"),d=td(r,n,"y");t.xaxes=CP(M,a.xaxis,l,T,"x"),t.yaxes=CP(d,a.yaxis,i,T,"y")}var x=t._anchors={},g=t.roworder==="top to bottom";for(var c in T){var A=c.charAt(0),v=t[A+"side"],D,E,R;if(v.length<8)x[c]="free";else if(A==="x"){if(v.charAt(0)==="t"===g?(D=0,E=1,R=i):(D=i-1,E=-1,R=-1),o){var N=T[c];for(s=D;s!==R;s+=E)if(_=m[s][N],!!_&&(w=_.indexOf("y"),_.slice(0,w)===c)){x[c]=_.slice(w);break}}else for(s=D;s!==R;s+=E)if(p=t.yaxes[s],a.cartesian.indexOf(c+p)!==-1){x[c]=p;break}}else if(v.charAt(0)==="l"?(D=0,E=1,R=l):(D=l-1,E=-1,R=-1),o){var F=T[c];for(s=D;s!==R;s+=E)if(_=m[F][s],!!_&&(w=_.indexOf("y"),_.slice(w)===c)){x[c]=_.slice(0,w);break}}else for(s=D;s!==R;s+=E)if(h=t.xaxes[s],a.cartesian.indexOf(h+c)!==-1){x[c]=h;break}}}}function CP(e,r,t,n,a){var o=new Array(t),i;function l(u,s){r.indexOf(s)!==-1&&n[s]===void 0?(o[u]=s,n[s]=u):o[u]=""}if(Array.isArray(e))for(i=0;i<t;i++)l(i,e[i]);else for(l(0,a),i=1;i<t;i++)l(i,a+(i+1));return o}EP.exports={moduleType:"component",name:"grid",schema:{layout:{grid:h3}},layoutAttributes:h3,sizeDefaults:Eae,contentDefaults:Lae}});var v3=de((dde,DP)=>{"use strict";DP.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}});var IP=de((pde,PP)=>{"use strict";var RP=nt(),Dae=Cr(),Rae=ir(),Pae=yt(),Iae=v3();PP.exports=function(e,r,t,n){var a="error_"+n.axis,o=Pae.newContainer(r,a),i=e[a]||{};function l(m,w){return Rae.coerce(i,o,Iae,m,w)}var u=i.array!==void 0||i.value!==void 0||i.type==="sqrt",s=l("visible",u);if(s!==!1){var f=l("type","array"in i?"data":"percent"),h=!0;f!=="sqrt"&&(h=l("symmetric",!((f==="data"?"arrayminus":"valueminus")in i))),f==="data"?(l("array"),l("traceref"),h||(l("arrayminus"),l("tracerefminus"))):(f==="percent"||f==="constant")&&(l("value"),h||l("valueminus"));var p="copy_"+n.inherit+"style";if(n.inherit){var _=r["error_"+n.inherit];(_||{}).visible&&l(p,!(i.color||RP(i.thickness)||RP(i.width)))}(!n.inherit||!o[p])&&(l("color",t),l("thickness"),l("width",Dae.traceIs(r,"gl3d")?0:4))}}});var d3=de((gde,NP)=>{"use strict";NP.exports=function(r){var t=r.type,n=r.symmetric;if(t==="data"){var a=r.array||[];if(n)return function(s,f){var h=+a[f];return[h,h]};var o=r.arrayminus||[];return function(s,f){var h=+a[f],p=+o[f];return!isNaN(h)||!isNaN(p)?[p||0,h||0]:[NaN,NaN]}}else{var i=FP(t,r.value),l=FP(t,r.valueminus);return n||r.valueminus===void 0?function(s){var f=i(s);return[f,f]}:function(s){return[l(s),i(s)]}}};function FP(e,r){if(e==="percent")return function(t){return Math.abs(t*r/100)};if(e==="constant")return function(){return Math.abs(r)};if(e==="sqrt")return function(t){return Math.sqrt(Math.abs(t))}}});var OP=de((yde,qP)=>{"use strict";var p3=nt(),Fae=Cr(),g3=Lt(),Nae=ir(),zae=d3();qP.exports=function(r){for(var t=r.calcdata,n=0;n<t.length;n++){var a=t[n],o=a[0].trace;if(o.visible===!0&&Fae.traceIs(o,"errorBarsOK")){var i=g3.getFromId(r,o.xaxis),l=g3.getFromId(r,o.yaxis);zP(a,o,i,"x"),zP(a,o,l,"y")}}};function zP(e,r,t,n){var a=r["error_"+n]||{},o=a.visible&&["linear","log"].indexOf(t.type)!==-1,i=[];if(o){for(var l=zae(a),u=0;u<e.length;u++){var s=e[u],f=s.i;if(f===void 0)f=u;else if(f===null)continue;var h=s[n];if(p3(t.c2l(h))){var p=l(h,f);if(p3(p[0])&&p3(p[1])){var _=s[n+"s"]=h-p[0],m=s[n+"h"]=h+p[1];i.push(_,m)}}}var w=t._id,T=r._extremes[w],y=g3.findExtremes(t,i,Nae.extendFlat({tozero:T.opts.tozero},{padded:!0}));T.min=T.min.concat(y.min),T.max=T.max.concat(y.max)}}});var HP=de((mde,UP)=>{"use strict";var BP=it(),tl=nt(),qae=mt(),Oae=oa();UP.exports=function(r,t,n,a){var o,i=n.xaxis,l=n.yaxis,u=a&&a.duration>0,s=r._context.staticPlot;t.each(function(f){var h=f[0].trace,p=h.error_x||{},_=h.error_y||{},m;h.ids&&(m=function(k){return k.id});var w=Oae.hasMarkers(h)&&h.marker.maxdisplayed>0;!_.visible&&!p.visible&&(f=[]);var T=BP.select(this).selectAll("g.errorbar").data(f,m);if(T.exit().remove(),!!f.length){p.visible||T.selectAll("path.xerror").remove(),_.visible||T.selectAll("path.yerror").remove(),T.style("opacity",1);var y=T.enter().append("g").classed("errorbar",!0);u&&y.style("opacity",0).transition().duration(a.duration).style("opacity",1),qae.setClipUrl(T,n.layerClipId,r),T.each(function(k){var S=BP.select(this),b=Bae(k,i,l);if(!(w&&!k.vis)){var M,d=S.select("path.yerror");if(_.visible&&tl(b.x)&&tl(b.yh)&&tl(b.ys)){var x=_.width;M="M"+(b.x-x)+","+b.yh+"h"+2*x+"m-"+x+",0V"+b.ys,b.noYS||(M+="m-"+x+",0h"+2*x),o=!d.size(),o?d=S.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("yerror",!0):u&&(d=d.transition().duration(a.duration).ease(a.easing)),d.attr("d",M)}else d.remove();var g=S.select("path.xerror");if(p.visible&&tl(b.y)&&tl(b.xh)&&tl(b.xs)){var c=(p.copy_ystyle?_:p).width;M="M"+b.xh+","+(b.y-c)+"v"+2*c+"m0,-"+c+"H"+b.xs,b.noXS||(M+="m0,-"+c+"v"+2*c),o=!g.size(),o?g=S.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("xerror",!0):u&&(g=g.transition().duration(a.duration).ease(a.easing)),g.attr("d",M)}else g.remove()}})}})};function Bae(e,r,t){var n={x:r.c2p(e.x),y:t.c2p(e.y)};return e.yh!==void 0&&(n.yh=t.c2p(e.yh),n.ys=t.c2p(e.ys),tl(n.ys)||(n.noYS=!0,n.ys=t.c2p(e.ys,!0))),e.xh!==void 0&&(n.xh=r.c2p(e.xh),n.xs=r.c2p(e.xs),tl(n.xs)||(n.noXS=!0,n.xs=r.c2p(e.xs,!0))),n}});var YP=de((bde,GP)=>{"use strict";var Uae=it(),VP=Xr();GP.exports=function(r){r.each(function(t){var n=t[0].trace,a=n.error_y||{},o=n.error_x||{},i=Uae.select(this);i.selectAll("path.yerror").style("stroke-width",a.thickness+"px").call(VP.stroke,a.color),o.copy_ystyle&&(o=a),i.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(VP.stroke,o.color)})}});var ZP=de((xde,XP)=>{"use strict";var z0=ir(),WP=zn().overrideAll,q0=v3(),fs={error_x:z0.extendFlat({},q0),error_y:z0.extendFlat({},q0)};delete fs.error_x.copy_zstyle;delete fs.error_y.copy_zstyle;delete fs.error_y.copy_ystyle;var O0={error_x:z0.extendFlat({},q0),error_y:z0.extendFlat({},q0),error_z:z0.extendFlat({},q0)};delete O0.error_x.copy_ystyle;delete O0.error_y.copy_ystyle;delete O0.error_z.copy_ystyle;delete O0.error_z.copy_zstyle;XP.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:fs,bar:fs,histogram:fs,scatter3d:WP(O0,"calc","nested"),scattergl:WP(fs,"calc","nested")}},supplyDefaults:IP(),calc:OP(),makeComputeError:d3(),plot:HP(),style:YP(),hoverInfo:Hae};function Hae(e,r,t){(r.error_y||{}).visible&&(t.yerr=e.yh-e.y,r.error_y.symmetric||(t.yerrneg=e.y-e.ys)),(r.error_x||{}).visible&&(t.xerr=e.xh-e.x,r.error_x.symmetric||(t.xerrneg=e.x-e.xs))}});var KP=de((_de,JP)=>{"use strict";JP.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}});var nI=de((wde,tI)=>{"use strict";var nl=it(),y3=ka(),ad=on(),QP=Cr(),ho=Lt(),nd=ni(),Ga=ir(),pi=Ga.strTranslate,rI=Tt().extendFlat,m3=Vo(),di=mt(),b3=Xr(),Vae=Rf(),Gae=Wn(),Yae=Si().flipScale,Wae=S1(),Xae=Sm(),Zae=La(),x3=qn(),$P=x3.LINE_SPACING,jP=x3.FROM_TL,eI=x3.FROM_BR,Dt=KP().cn;function Jae(e){var r=e._fullLayout,t=r._infolayer.selectAll("g."+Dt.colorbar).data(Kae(e),function(n){return n._id});t.enter().append("g").attr("class",function(n){return n._id}).classed(Dt.colorbar,!0),t.each(function(n){var a=nl.select(this);Ga.ensureSingle(a,"rect",Dt.cbbg),Ga.ensureSingle(a,"g",Dt.cbfills),Ga.ensureSingle(a,"g",Dt.cblines),Ga.ensureSingle(a,"g",Dt.cbaxis,function(i){i.classed(Dt.crisp,!0)}),Ga.ensureSingle(a,"g",Dt.cbtitleunshift,function(i){i.append("g").classed(Dt.cbtitle,!0)}),Ga.ensureSingle(a,"rect",Dt.cboutline);var o=Qae(a,n,e);o&&o.then&&(e._promises||[]).push(o),e._context.edits.colorbarPosition&&$ae(a,n,e)}),t.exit().each(function(n){ad.autoMargin(e,n._id)}).remove(),t.order()}function Kae(e){var r=e._fullLayout,t=e.calcdata,n=[],a,o,i,l;function u(S){return rI(S,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function s(){typeof l.calc=="function"?l.calc(e,i,a):(a._fillgradient=o.reversescale?Yae(o.colorscale):o.colorscale,a._zrange=[o[l.min],o[l.max]])}for(var f=0;f<t.length;f++){var h=t[f];if(i=h[0].trace,!!i._module){var p=i._module.colorbar;if(i.visible===!0&&p)for(var _=Array.isArray(p),m=_?p:[p],w=0;w<m.length;w++){l=m[w];var T=l.container;o=T?i[T]:i,o&&o.showscale&&(a=u(o.colorbar),a._id="cb"+i.uid+(_&&T?"-"+T:""),a._traceIndex=i.index,a._propPrefix=(T?T+".":"")+"colorbar.",a._meta=i._meta,s(),n.push(a))}}}for(var y in r._colorAxes)if(o=r[y],o.showscale){var k=r._colorAxes[y];a=u(o.colorbar),a._id="cb"+y,a._propPrefix=y+".colorbar.",a._meta=r._meta,l={min:"cmin",max:"cmax"},k[0]!=="heatmap"&&(i=k[1],l.calc=i._module.colorbar.calc),s(),n.push(a)}return n}function Qae(e,r,t){var n=r.orientation==="v",a=r.len,o=r.lenmode,i=r.thickness,l=r.thicknessmode,u=r.outlinewidth,s=r.borderwidth,f=r.bgcolor,h=r.xanchor,p=r.yanchor,_=r.xpad,m=r.ypad,w=r.x,T=n?r.y:1-r.y,y=r.yref==="paper",k=r.xref==="paper",S=t._fullLayout,b=S._size,M=r._fillcolor,d=r._line,x=r.title,g=x.side,c=r._zrange||nl.extent((typeof M=="function"?M:d.color).domain()),A=typeof d.color=="function"?d.color:function(){return d.color},v=typeof M=="function"?M:function(){return M},D=r._levels,E=jae(t,r,c),R=E.fill,N=E.line,F=Math.round(i*(l==="fraction"?n?b.w:b.h:1)),I=F/(n?b.w:b.h),L=Math.round(a*(o==="fraction"?n?b.h:b.w:1)),P=L/(n?b.h:b.w),O=k?b.w:t._fullLayout.width,U=y?b.h:t._fullLayout.height,X=Math.round(n?w*O+_:T*U+m),$={center:.5,right:1}[h]||0,j={top:1,middle:.5}[p]||0,Y=n?w-$*I:T-j*I,q=n?T-j*P:w-$*P,K=Math.round(n?U*(1-q):O*q);r._lenFrac=P,r._thickFrac=I,r._uFrac=Y,r._vFrac=q;var ne=r._axis=eie(t,r,c);ne.position=I+(n?w+_/b.w:T+m/b.h);var Q=["top","bottom"].indexOf(g)!==-1;if(n&&Q&&(ne.title.side=g,ne.titlex=w+_/b.w,ne.titley=q+(x.side==="top"?P-m/b.h:m/b.h)),!n&&!Q&&(ne.title.side=g,ne.titley=T+m/b.h,ne.titlex=q+_/b.w),d.color&&r.tickmode==="auto"){ne.tickmode="linear",ne.tick0=D.start;var oe=D.size,re=Ga.constrain(L/50,4,15)+1,H=(c[1]-c[0])/((r.nticks||re)*oe);if(H>1){var ee=Math.pow(10,Math.floor(Math.log(H)/Math.LN10));oe*=ee*Ga.roundUp(H/ee,[2,5,10]),(Math.abs(D.start)/D.size+1e-6)%1<2e-6&&(ne.tick0=0)}ne.dtick=oe}ne.domain=n?[q+m/b.h,q+P-m/b.h]:[q+_/b.w,q+P-_/b.w],ne.setScale(),e.attr("transform",pi(Math.round(b.l),Math.round(b.t)));var V=e.select("."+Dt.cbtitleunshift).attr("transform",pi(-Math.round(b.l),-Math.round(b.t))),te=ne.ticklabelposition,ue=ne.title.font.size,ve=e.select("."+Dt.cbaxis),ke,Se=0,he=0;function Ae(Ue,ge){var we={propContainer:ne,propName:r._propPrefix+"title.text",traceIndex:r._traceIndex,_meta:r._meta,placeholder:S._dfltTitle.colorbar,containerGroup:e.select("."+Dt.cbtitle)},Te=Ue.charAt(0)==="h"?Ue.substr(1):"h"+Ue;e.selectAll("."+Te+",."+Te+"-math-group").remove(),Vae.draw(t,Ue,rI(we,ge||{}))}function Ce(){if(n&&Q||!n&&!Q){var Ue,ge;g==="top"&&(Ue=_+b.l+O*w,ge=m+b.t+U*(1-q-P)+3+ue*.75),g==="bottom"&&(Ue=_+b.l+O*w,ge=m+b.t+U*(1-q)-3-ue*.25),g==="right"&&(ge=m+b.t+U*T+3+ue*.75,Ue=_+b.l+O*q),Ae(ne._id+"title",{attributes:{x:Ue,y:ge,"text-anchor":n?"start":"middle"}})}}function Pe(){if(n&&!Q||!n&&Q){var Ue=ne.position||0,ge=ne._offset+ne._length/2,we,Te;if(g==="right")Te=ge,we=b.l+O*Ue+10+ue*(ne.showticklabels?1:.5);else if(we=ge,g==="bottom"&&(Te=b.t+U*Ue+10+(te.indexOf("inside")===-1?ne.tickfont.size:0)+(ne.ticks!=="inside"&&r.ticklen||0)),g==="top"){var me=x.text.split("<br>").length;Te=b.t+U*Ue+10-F-$P*ue*me}Ae((n?"h":"v")+ne._id+"title",{avoid:{selection:nl.select(t).selectAll("g."+ne._id+"tick"),side:g,offsetTop:n?0:b.t,offsetLeft:n?b.l:0,maxShift:n?S.width:S.height},attributes:{x:we,y:Te,"text-anchor":"middle"},transform:{rotate:n?-90:0,offset:0}})}}function Ee(){if(!n&&!Q||n&&Q){var Ue=e.select("."+Dt.cbtitle),ge=Ue.select("text"),we=[-u/2,u/2],Te=Ue.select(".h"+ne._id+"title-math-group").node(),me=15.6;ge.node()&&(me=parseInt(ge.node().style.fontSize,10)*$P);var ye;if(Te?(ye=di.bBox(Te),he=ye.width,Se=ye.height,Se>me&&(we[1]-=(Se-me)/2)):ge.node()&&!ge.classed(Dt.jsPlaceholder)&&(ye=di.bBox(ge.node()),he=ye.width,Se=ye.height),n){if(Se){if(Se+=5,g==="top")ne.domain[1]-=Se/b.h,we[1]*=-1;else{ne.domain[0]+=Se/b.h;var pe=Gae.lineCount(ge);we[1]+=(1-pe)*me}Ue.attr("transform",pi(we[0],we[1])),ne.setScale()}}else he&&(g==="right"&&(ne.domain[0]+=(he+ue/2)/b.w),Ue.attr("transform",pi(we[0],we[1])),ne.setScale())}e.selectAll("."+Dt.cbfills+",."+Dt.cblines).attr("transform",n?pi(0,Math.round(b.h*(1-ne.domain[1]))):pi(Math.round(b.w*ne.domain[0]),0)),ve.attr("transform",n?pi(0,Math.round(-b.t)):pi(Math.round(-b.l),0));var ce=e.select("."+Dt.cbfills).selectAll("rect."+Dt.cbfill).attr("style","").data(R);ce.enter().append("rect").classed(Dt.cbfill,!0).attr("style",""),ce.exit().remove();var be=c.map(ne.c2p).map(Math.round).sort(function(Ve,Be){return Ve-Be});ce.each(function(Ve,Be){var Ye=[Be===0?c[0]:(R[Be]+R[Be-1])/2,Be===R.length-1?c[1]:(R[Be]+R[Be+1])/2].map(ne.c2p).map(Math.round);n&&(Ye[1]=Ga.constrain(Ye[1]+(Ye[1]>Ye[0])?1:-1,be[0],be[1]));var Me=nl.select(this).attr(n?"x":"y",X).attr(n?"y":"x",nl.min(Ye)).attr(n?"width":"height",Math.max(F,2)).attr(n?"height":"width",Math.max(nl.max(Ye)-nl.min(Ye),2));if(r._fillgradient)di.gradient(Me,t,r._id,n?"vertical":"horizontalreversed",r._fillgradient,"fill");else{var Re=v(Ve).replace("e-","");Me.attr("fill",y3(Re).toHexString())}});var Le=e.select("."+Dt.cblines).selectAll("path."+Dt.cbline).data(d.color&&d.width?N:[]);Le.enter().append("path").classed(Dt.cbline,!0),Le.exit().remove(),Le.each(function(Ve){var Be=X,Ye=Math.round(ne.c2p(Ve))+d.width/2%1;nl.select(this).attr("d","M"+(n?Be+","+Ye:Ye+","+Be)+(n?"h":"v")+F).call(di.lineGroupStyle,d.width,A(Ve),d.dash)}),ve.selectAll("g."+ne._id+"tick,path").remove();var qe=X+F+(u||0)/2-(r.ticks==="outside"?1:0),ze=ho.calcTicks(ne),$e=ho.getTickSigns(ne)[2];return ho.drawTicks(t,ne,{vals:ne.ticks==="inside"?ho.clipEnds(ne,ze):ze,layer:ve,path:ho.makeTickPath(ne,qe,$e),transFn:ho.makeTransTickFn(ne)}),ho.drawLabels(t,ne,{vals:ze,layer:ve,transFn:ho.makeTransTickLabelFn(ne),labelFns:ho.makeLabelFns(ne,qe)})}function Ne(){var Ue,ge=F+u/2;te.indexOf("inside")===-1&&(Ue=di.bBox(ve.node()),ge+=n?Ue.width:Ue.height),ke=V.select("text");var we=0,Te=n&&g==="top",me=!n&&g==="right",ye=0;if(ke.node()&&!ke.classed(Dt.jsPlaceholder)){var pe,ce=V.select(".h"+ne._id+"title-math-group").node();ce&&(n&&Q||!n&&!Q)?(Ue=di.bBox(ce),we=Ue.width,pe=Ue.height):(Ue=di.bBox(V.node()),we=Ue.right-b.l-(n?X:K),pe=Ue.bottom-b.t-(n?K:X),!n&&g==="top"&&(ge+=Ue.height,ye=Ue.height)),me&&(ke.attr("transform",pi(we/2+ue/2,0)),we*=2),ge=Math.max(ge,n?we:pe)}var be=(n?_:m)*2+ge+s+u/2,Le=0;!n&&x.text&&p==="bottom"&&T<=0&&(Le=be/2,be+=Le,ye+=Le),S._hColorbarMoveTitle=Le,S._hColorbarMoveCBTitle=ye;var qe=s+u,ze=(n?X:K)-qe/2-(n?_:0),$e=(n?K:X)-(n?L:m+ye-Le);e.select("."+Dt.cbbg).attr("x",ze).attr("y",$e).attr(n?"width":"height",Math.max(be-Le,2)).attr(n?"height":"width",Math.max(L+qe,2)).call(b3.fill,f).call(b3.stroke,r.bordercolor).style("stroke-width",s);var Ve=me?Math.max(we-10,0):0;e.selectAll("."+Dt.cboutline).attr("x",(n?X:K+_)+Ve).attr("y",(n?K+m-L:X)+(Te?Se:0)).attr(n?"width":"height",Math.max(F,2)).attr(n?"height":"width",Math.max(L-(n?2*m+Se:2*_+Ve),2)).call(b3.stroke,r.outlinecolor).style({fill:"none","stroke-width":u});var Be=n?$*be:0,Ye=n?0:(1-j)*be-ye;if(Be=k?b.l-Be:-Be,Ye=y?b.t-Ye:-Ye,e.attr("transform",pi(Be,Ye)),!n&&(s||y3(f).getAlpha()&&!y3.equals(S.paper_bgcolor,f))){var Me=ve.selectAll("text"),Re=Me[0].length,Qe=e.select("."+Dt.cbbg).node(),Ke=di.bBox(Qe),ar=di.getTranslate(e),se=2;Me.each(function(Mr,Ar){var ft=0,sr=Re-1;if(Ar===ft||Ar===sr){var Pr=di.bBox(this),$r=di.getTranslate(this),Fr;if(Ar===sr){var Gr=Pr.right+$r.x,pt=Ke.right+ar.x+K-s-se+w;Fr=pt-Gr,Fr>0&&(Fr=0)}else if(Ar===ft){var Rr=Pr.left+$r.x,jr=Ke.left+ar.x+K+s+se;Fr=jr-Rr,Fr<0&&(Fr=0)}Fr&&(Re<3?this.setAttribute("transform","translate("+Fr+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var J={},ae=jP[h],De=eI[h],He=jP[p],er=eI[p],nr=be-F;n?(o==="pixels"?(J.y=T,J.t=L*He,J.b=L*er):(J.t=J.b=0,J.yt=T+a*He,J.yb=T-a*er),l==="pixels"?(J.x=w,J.l=be*ae,J.r=be*De):(J.l=nr*ae,J.r=nr*De,J.xl=w-i*ae,J.xr=w+i*De)):(o==="pixels"?(J.x=w,J.l=L*ae,J.r=L*De):(J.l=J.r=0,J.xl=w+a*ae,J.xr=w-a*De),l==="pixels"?(J.y=1-T,J.t=be*He,J.b=be*er):(J.t=nr*He,J.b=nr*er,J.yt=T-i*He,J.yb=T+i*er));var fr=r.y<.5?"b":"t",xr=r.x<.5?"l":"r";t._fullLayout._reservedMargin[r._id]={};var Sr={r:S.width-ze-Be,l:ze+J.r,b:S.height-$e-Ye,t:$e+J.b};k&&y?ad.autoMargin(t,r._id,J):k?t._fullLayout._reservedMargin[r._id][fr]=Sr[fr]:y||n?t._fullLayout._reservedMargin[r._id][xr]=Sr[xr]:t._fullLayout._reservedMargin[r._id][fr]=Sr[fr]}return Ga.syncOrAsync([ad.previousPromises,Ce,Ee,Pe,ad.previousPromises,Ne],t)}function $ae(e,r,t){var n=r.orientation==="v",a=t._fullLayout,o=a._size,i,l,u;nd.init({element:e.node(),gd:t,prepFn:function(){i=e.attr("transform"),m3(e)},moveFn:function(s,f){e.attr("transform",i+pi(s,f)),l=nd.align((n?r._uFrac:r._vFrac)+s/o.w,n?r._thickFrac:r._lenFrac,0,1,r.xanchor),u=nd.align((n?r._vFrac:1-r._uFrac)-f/o.h,n?r._lenFrac:r._thickFrac,0,1,r.yanchor);var h=nd.getCursor(l,u,r.xanchor,r.yanchor);m3(e,h)},doneFn:function(){if(m3(e),l!==void 0&&u!==void 0){var s={};s[r._propPrefix+"x"]=l,s[r._propPrefix+"y"]=u,r._traceIndex!==void 0?QP.call("_guiRestyle",t,s,r._traceIndex):QP.call("_guiRelayout",t,s)}}})}function jae(e,r,t){var n=r._levels,a=[],o=[],i,l,u=n.end+n.size/100,s=n.size,f=1.001*t[0]-.001*t[1],h=1.001*t[1]-.001*t[0];for(l=0;l<1e5&&(i=n.start+l*s,!(s>0?i>=u:i<=u));l++)i>f&&i<h&&a.push(i);if(r._fillgradient)o=[0];else if(typeof r._fillcolor=="function"){var p=r._filllevels;if(p)for(u=p.end+p.size/100,s=p.size,l=0;l<1e5&&(i=p.start+l*s,!(s>0?i>=u:i<=u));l++)i>t[0]&&i<t[1]&&o.push(i);else o=a.map(function(_){return _-n.size/2}),o.push(o[o.length-1]+n.size)}else r._fillcolor&&typeof r._fillcolor=="string"&&(o=[0]);return n.size<0&&(a.reverse(),o.reverse()),{line:a,fill:o}}function eie(e,r,t){var n=e._fullLayout,a=r.orientation==="v",o={type:"linear",range:t,tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,labelalias:r.labelalias,ticklabelposition:r.ticklabelposition,ticklabeloverflow:r.ticklabeloverflow,ticklabelstep:r.ticklabelstep,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,exponentformat:r.exponentformat,minexponent:r.minexponent,separatethousands:r.separatethousands,showexponent:r.showexponent,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,title:r.title,showline:!0,anchor:"free",side:a?"right":"bottom",position:1},i=a?"y":"x",l={type:"linear",_id:i+r._id},u={letter:i,font:n.font,noAutotickangles:i==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:n.calendar};function s(f,h){return Ga.coerce(o,l,Zae,f,h)}return Wae(o,l,s,u,n),Xae(o,l,s,u),l}tI.exports={draw:Jae}});var iI=de((Mde,aI)=>{"use strict";aI.exports={moduleType:"component",name:"colorbar",attributes:mh(),supplyDefaults:Mg(),draw:nI().draw,hasColorbar:hg()}});var lI=de((Tde,oI)=>{"use strict";oI.exports={moduleType:"component",name:"legend",layoutAttributes:b2(),supplyLayoutDefaults:w2(),draw:F2(),style:D2()}});var uI=de((Ade,sI)=>{"use strict";sI.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}});var cI=de((kde,fI)=>{"use strict";fI.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}});var w3=de((Sde,pI)=>{"use strict";var rie=Cr(),dI=ir(),_3=dI.extendFlat,hI=dI.extendDeep;function vI(e){var r;switch(e){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function tie(e){var r=["xaxis","yaxis","zaxis"];return r.indexOf(e.slice(0,5))>-1}pI.exports=function(r,t){var n,a=r.data,o=r.layout,i=hI([],a),l=hI({},o,vI(t.tileClass)),u=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var s=Object.keys(l);for(n=0;n<s.length;n++)tie(s[n])&&(l[s[n]].title={text:""});for(n=0;n<i.length;n++){var f=i[n];f.showscale=!1,f.marker&&(f.marker.showscale=!1),rie.traceIs(f,"pie-like")&&(f.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)l.annotations.push(t.annotations[n]);var h=Object.keys(l).filter(function(T){return T.match(/^scene\d*$/)});if(h.length){var p={};for(t.tileClass==="thumbnail"&&(p={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<h.length;n++){var _=l[h[n]];_.xaxis||(_.xaxis={}),_.yaxis||(_.yaxis={}),_.zaxis||(_.zaxis={}),_3(_.xaxis,p),_3(_.yaxis,p),_3(_.zaxis,p),_._scene=null}}var m=document.createElement("div");t.tileClass&&(m.className=t.tileClass);var w={gd:m,td:m,layout:l,data:i,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=vI(t.tileClass),w}});var mI=de((Cde,yI)=>{"use strict";var nie=ih().EventEmitter,aie=Cr(),iie=ir(),gI=es(),oie=w3(),lie=c1(),sie=h1();function uie(e,r){var t=new nie,n=oie(e,{format:"png"}),a=n.gd;a.style.position="absolute",a.style.left="-5000px",document.body.appendChild(a);function o(){var l=gI.getDelay(a._fullLayout);setTimeout(function(){var u=lie(a),s=document.createElement("canvas");s.id=iie.randstr(),t=sie({format:r.format,width:a._fullLayout.width,height:a._fullLayout.height,canvas:s,emitter:t,svg:u}),t.clean=function(){a&&document.body.removeChild(a)}},l)}var i=gI.getRedrawFunc(a);return aie.call("_doPlot",a,n.data,n.layout,n.config).then(i).then(o).catch(function(l){t.emit("error",l)}),t}yI.exports=uie});var _I=de((Ede,xI)=>{"use strict";var bI=es(),fie={getDelay:bI.getDelay,getRedrawFunc:bI.getRedrawFunc,clone:w3(),toSVG:c1(),svgToImg:h1(),toImage:mI(),downloadImage:jy()};xI.exports=fie});var MI=de(vo=>{"use strict";vo.version=_c().version;cx();ew();var cie=Cr(),B0=vo.register=cie.register,T3=AC(),wI=Object.keys(T3);for(id=0;id<wI.length;id++)Bu=wI[id],Bu.charAt(0)!=="_"&&(vo[Bu]=T3[Bu]),B0({moduleType:"apiMethod",name:Bu,fn:T3[Bu]});var Bu,id;B0(qL());B0([uD(),wD(),_u(),BD(),jD(),_R(),UR(),oP(),TP(),LP(),ZP(),Li(),iI(),lI(),io(),oy()]);B0([uI(),cI()]);window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(B0(window.PlotlyLocales),delete window.PlotlyLocales);vo.Icons=hv();var od=io(),M3=on();vo.Plots={resize:M3.resize,graphJson:M3.graphJson,sendDataToCloud:M3.sendDataToCloud};vo.Fx={hover:od.hover,unhover:od.unhover,loneHover:od.loneHover,loneUnhover:od.loneUnhover};vo.Snapshot=_I();vo.PlotSchema=Ys()});var AI=de((Dde,TI)=>{"use strict";TI.exports=MI()});var pn=de((Rde,kI)=>{(function(){var e={24:function(a){var o={left:0,top:0};a.exports=i;function i(u,s,f){s=s||u.currentTarget||u.srcElement,Array.isArray(f)||(f=[0,0]);var h=u.clientX||0,p=u.clientY||0,_=l(s);return f[0]=h-_.left,f[1]=p-_.top,f}function l(u){return u===window||u===document||u===document.body?o:u.getBoundingClientRect()}},109:function(a){a.exports=o;function o(i,l,u,s){var f=u[0],h=u[2],p=l[0]-f,_=l[2]-h,m=Math.sin(s),w=Math.cos(s);return i[0]=f+_*m+p*w,i[1]=l[1],i[2]=h+_*w-p*m,i}},160:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.max(l[0],u[0]),i[1]=Math.max(l[1],u[1]),i[2]=Math.max(l[2],u[2]),i[3]=Math.max(l[3],u[3]),i}},216:function(a){"use strict";a.exports=o;function o(i,l){for(var u={},s=0;s<i.length;++s)for(var f=i[s].name,h=f.split("."),p=u,_=0;_<h.length;++_){var m=h[_].split("[");if(m.length>1){m[0]in p||(p[m[0]]=[]),p=p[m[0]];for(var w=1;w<m.length;++w){var T=parseInt(m[w]);w<m.length-1||_<h.length-1?(T in p||(w<m.length-1?p[T]=[]:p[T]={}),p=p[T]):l?p[T]=s:p[T]=i[s].type}}else _<h.length-1?(m[0]in p||(p[m[0]]={}),p=p[m[0]]):l?p[m[0]]=s:p[m[0]]=i[s].type}return u}},236:function(a,o,i){var l=i(8284);a.exports=u;function u(){var s={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var h=f.valueOf(s);return h&&h.identity===s?h:l(f,s)}}},244:function(a){a.exports=o;function o(i,l){return i[0]*l[0]+i[1]*l[1]+i[2]*l[2]}},264:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=u[0],_=u[1],m=u[2],w=u[3],T=w*s+_*h-m*f,y=w*f+m*s-p*h,k=w*h+p*f-_*s,S=-p*s-_*f-m*h;return i[0]=T*w+S*-p+y*-m-k*-_,i[1]=y*w+S*-_+k*-p-T*-m,i[2]=k*w+S*-m+T*-_-y*-p,i}},332:function(a,o,i){"use strict";a.exports=D;var l=i(1755),u=i(6867),s=i(1125),f=i(7842),h=i(1318),p=i(946),_=i(5838),m=i(1278),w=i(3637);function T(E){var R=p(E);return[m(R,-1/0),m(R,1/0)]}function y(E,R){for(var N=new Array(R.length),F=0;F<R.length;++F){var I=R[F],L=E[I[0]],P=E[I[1]];N[F]=[m(Math.min(L[0],P[0]),-1/0),m(Math.min(L[1],P[1]),-1/0),m(Math.max(L[0],P[0]),1/0),m(Math.max(L[1],P[1]),1/0)]}return N}function k(E){for(var R=new Array(E.length),N=0;N<E.length;++N){var F=E[N];R[N]=[m(F[0],-1/0),m(F[1],-1/0),m(F[0],1/0),m(F[1],1/0)]}return R}function S(E,R,N){var F=[];return u(N,function(I,L){var P=R[I],O=R[L];if(!(P[0]===O[0]||P[0]===O[1]||P[1]===O[0]||P[1]===O[1])){var U=E[P[0]],X=E[P[1]],$=E[O[0]],j=E[O[1]];s(U,X,$,j)&&F.push([I,L])}}),F}function b(E,R,N,F){var I=[];return u(N,F,function(L,P){var O=R[L];if(!(O[0]===P||O[1]===P)){var U=E[P],X=E[O[0]],$=E[O[1]];s(X,$,U,U)&&I.push([L,P])}}),I}function M(E,R,N,F,I){var L,P,O=E.map(function(ve){return[f(ve[0]),f(ve[1])]});for(L=0;L<N.length;++L){var U=N[L];P=U[0];var X=U[1],$=R[P],j=R[X],Y=w(_(E[$[0]]),_(E[$[1]]),_(E[j[0]]),_(E[j[1]]));if(Y){var q=E.length;E.push([p(Y[0]),p(Y[1])]),O.push(Y),F.push([P,q],[X,q])}}for(F.sort(function(ve,ke){if(ve[0]!==ke[0])return ve[0]-ke[0];var Se=O[ve[1]],he=O[ke[1]];return h(Se[0],he[0])||h(Se[1],he[1])}),L=F.length-1;L>=0;--L){var K=F[L];P=K[0];var ne=R[P],Q=ne[0],oe=ne[1],re=E[Q],H=E[oe];if((re[0]-H[0]||re[1]-H[1])<0){var ee=Q;Q=oe,oe=ee}ne[0]=Q;var V=ne[1]=K[1],te;for(I&&(te=ne[2]);L>0&&F[L-1][0]===P;){var K=F[--L],ue=K[1];I?R.push([V,ue,te]):R.push([V,ue]),V=ue}I?R.push([V,oe,te]):R.push([V,oe])}return O}function d(E,R,N){for(var F=R.length,I=new l(F),L=[],P=0;P<R.length;++P){var O=R[P],U=T(O[0]),X=T(O[1]);L.push([m(U[0],-1/0),m(X[0],-1/0),m(U[1],1/0),m(X[1],1/0)])}u(L,function(K,ne){I.link(K,ne)});for(var $=!0,j=new Array(F),P=0;P<F;++P){var Y=I.find(P);Y!==P&&($=!1,E[Y]=[Math.min(E[P][0],E[Y][0]),Math.min(E[P][1],E[Y][1])])}if($)return null;for(var q=0,P=0;P<F;++P){var Y=I.find(P);Y===P?(j[P]=q,E[q++]=E[P]):j[P]=-1}E.length=q;for(var P=0;P<F;++P)j[P]<0&&(j[P]=j[I.find(P)]);return j}function x(E,R){return E[0]-R[0]||E[1]-R[1]}function g(E,R){var N=E[0]-R[0]||E[1]-R[1];return N||(E[2]<R[2]?-1:E[2]>R[2]?1:0)}function c(E,R,N){if(E.length!==0){if(R)for(var F=0;F<E.length;++F){var I=E[F],L=R[I[0]],P=R[I[1]];I[0]=Math.min(L,P),I[1]=Math.max(L,P)}else for(var F=0;F<E.length;++F){var I=E[F],L=I[0],P=I[1];I[0]=Math.min(L,P),I[1]=Math.max(L,P)}N?E.sort(g):E.sort(x);for(var O=1,F=1;F<E.length;++F){var U=E[F-1],X=E[F];X[0]===U[0]&&X[1]===U[1]&&(!N||X[2]===U[2])||(E[O++]=X)}E.length=O}}function A(E,R,N){var F=d(E,[],k(E));return c(R,F,N),!!F}function v(E,R,N){var F=y(E,R),I=S(E,R,F),L=k(E),P=b(E,R,F,L),O=M(E,R,I,P,N),U=d(E,O,L);return c(R,U,N),U?!0:I.length>0||P.length>0}function D(E,R,N){var F;if(N){F=R;for(var I=new Array(R.length),L=0;L<R.length;++L){var P=R[L];I[L]=[P[0],P[1],N[L]]}R=I}for(var O=A(E,R,!!N);v(E,R,!!N);)O=!0;if(N&&O){F.length=0,N.length=0;for(var L=0;L<R.length;++L){var P=R[L];F.push([P[0],P[1]]),N.push(P[2])}}return O}},351:function(a,o,i){"use strict";a.exports=u;var l=i(4687);function u(s,f){f||(f=s,s=window);var h=0,p=0,_=0,m={shift:!1,alt:!1,control:!1,meta:!1},w=!1;function T(v){var D=!1;return"altKey"in v&&(D=D||v.altKey!==m.alt,m.alt=!!v.altKey),"shiftKey"in v&&(D=D||v.shiftKey!==m.shift,m.shift=!!v.shiftKey),"ctrlKey"in v&&(D=D||v.ctrlKey!==m.control,m.control=!!v.ctrlKey),"metaKey"in v&&(D=D||v.metaKey!==m.meta,m.meta=!!v.metaKey),D}function y(v,D){var E=l.x(D),R=l.y(D);"buttons"in D&&(v=D.buttons|0),(v!==h||E!==p||R!==_||T(D))&&(h=v|0,p=E||0,_=R||0,f&&f(h,p,_,m))}function k(v){y(0,v)}function S(){(h||p||_||m.shift||m.alt||m.meta||m.control)&&(p=_=0,h=0,m.shift=m.alt=m.control=m.meta=!1,f&&f(0,0,0,m))}function b(v){T(v)&&f&&f(h,p,_,m)}function M(v){l.buttons(v)===0?y(0,v):y(h,v)}function d(v){y(h|l.buttons(v),v)}function x(v){y(h&~l.buttons(v),v)}function g(){w||(w=!0,s.addEventListener("mousemove",M),s.addEventListener("mousedown",d),s.addEventListener("mouseup",x),s.addEventListener("mouseleave",k),s.addEventListener("mouseenter",k),s.addEventListener("mouseout",k),s.addEventListener("mouseover",k),s.addEventListener("blur",S),s.addEventListener("keyup",b),s.addEventListener("keydown",b),s.addEventListener("keypress",b),s!==window&&(window.addEventListener("blur",S),window.addEventListener("keyup",b),window.addEventListener("keydown",b),window.addEventListener("keypress",b)))}function c(){w&&(w=!1,s.removeEventListener("mousemove",M),s.removeEventListener("mousedown",d),s.removeEventListener("mouseup",x),s.removeEventListener("mouseleave",k),s.removeEventListener("mouseenter",k),s.removeEventListener("mouseout",k),s.removeEventListener("mouseover",k),s.removeEventListener("blur",S),s.removeEventListener("keyup",b),s.removeEventListener("keydown",b),s.removeEventListener("keypress",b),s!==window&&(window.removeEventListener("blur",S),window.removeEventListener("keyup",b),window.removeEventListener("keydown",b),window.removeEventListener("keypress",b)))}g();var A={element:s};return Object.defineProperties(A,{enabled:{get:function(){return w},set:function(v){v?g():c()},enumerable:!0},buttons:{get:function(){return h},enumerable:!0},x:{get:function(){return p},enumerable:!0},y:{get:function(){return _},enumerable:!0},mods:{get:function(){return m},enumerable:!0}}),A}},395:function(a){function o(i,l,u){return i*(1-u)+l*u}a.exports=o},446:function(a,o,i){"use strict";var l=i(7640),u={};function s(f){var h=f.order,p=f.dtype,_=[h,p],m=_.join(":"),w=u[m];return w||(u[m]=w=l(h,p)),w(f),f}a.exports=s},483:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3];return l*l+u*u+s*s+f*f}},492:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2];return i[0]=s*u[0]+f*u[3]+h*u[6],i[1]=s*u[1]+f*u[4]+h*u[7],i[2]=s*u[2]+f*u[5]+h*u[8],i}},501:function(a,o,i){"use strict";a.exports=S;var l=i(2762),u=i(8116),s=i(1879).n,f=[0,0,0],h=[0,0,0],p=[0,0,0],_=[0,0,0],m=[1,1];function w(b){return b[0]=b[1]=b[2]=0,b}function T(b,M){return b[0]=M[0],b[1]=M[1],b[2]=M[2],b}function y(b,M,d,x,g,c,A,v){this.gl=b,this.vertBuffer=M,this.vao=d,this.shader=x,this.tickCount=g,this.tickOffset=c,this.gridCount=A,this.gridOffset=v}var k=y.prototype;k.bind=function(b,M,d){this.shader.bind(),this.shader.uniforms.model=b,this.shader.uniforms.view=M,this.shader.uniforms.projection=d,m[0]=this.gl.drawingBufferWidth,m[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=m,this.vao.bind()},k.unbind=function(){this.vao.unbind()},k.drawAxisLine=function(b,M,d,x,g){var c=w(h);this.shader.uniforms.majorAxis=h,c[b]=M[1][b]-M[0][b],this.shader.uniforms.minorAxis=c;var A=T(_,d);A[b]+=M[0][b],this.shader.uniforms.offset=A,this.shader.uniforms.lineWidth=g,this.shader.uniforms.color=x;var v=w(p);v[(b+2)%3]=1,this.shader.uniforms.screenAxis=v,this.vao.draw(this.gl.TRIANGLES,6);var v=w(p);v[(b+1)%3]=1,this.shader.uniforms.screenAxis=v,this.vao.draw(this.gl.TRIANGLES,6)},k.drawAxisTicks=function(b,M,d,x,g){if(this.tickCount[b]){var c=w(f);c[b]=1,this.shader.uniforms.majorAxis=c,this.shader.uniforms.offset=M,this.shader.uniforms.minorAxis=d,this.shader.uniforms.color=x,this.shader.uniforms.lineWidth=g;var A=w(p);A[b]=1,this.shader.uniforms.screenAxis=A,this.vao.draw(this.gl.TRIANGLES,this.tickCount[b],this.tickOffset[b])}},k.drawGrid=function(b,M,d,x,g,c){if(this.gridCount[b]){var A=w(h);A[M]=d[1][M]-d[0][M],this.shader.uniforms.minorAxis=A;var v=T(_,x);v[M]+=d[0][M],this.shader.uniforms.offset=v;var D=w(f);D[b]=1,this.shader.uniforms.majorAxis=D;var E=w(p);E[b]=1,this.shader.uniforms.screenAxis=E,this.shader.uniforms.lineWidth=c,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,this.gridCount[b],this.gridOffset[b])}},k.drawZero=function(b,M,d,x,g,c){var A=w(h);this.shader.uniforms.majorAxis=A,A[b]=d[1][b]-d[0][b],this.shader.uniforms.minorAxis=A;var v=T(_,x);v[b]+=d[0][b],this.shader.uniforms.offset=v;var D=w(p);D[M]=1,this.shader.uniforms.screenAxis=D,this.shader.uniforms.lineWidth=c,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,6)},k.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function S(b,M,d){var x=[],g=[0,0,0],c=[0,0,0],A=[0,0,0],v=[0,0,0];x.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var D=0;D<3;++D){for(var N=x.length/3|0,E=0;E<d[D].length;++E){var R=+d[D][E].x;x.push(R,0,1,R,1,1,R,0,-1,R,0,-1,R,1,1,R,1,-1)}var I=x.length/3|0;g[D]=N,c[D]=I-N;for(var N=x.length/3|0,F=0;F<d[D].length;++F){var R=+d[D][F].x;x.push(R,0,1,R,1,1,R,0,-1,R,0,-1,R,1,1,R,1,-1)}var I=x.length/3|0;A[D]=N,v[D]=I-N}var L=l(b,new Float32Array(x)),P=u(b,[{buffer:L,type:b.FLOAT,size:3,stride:0,offset:0}]),O=s(b);return O.attributes.position.location=0,new y(b,L,P,O,c,g,v,A)}},544:function(a,o,i){"use strict";var l=i(5572);a.exports=u;function u(s,f){for(var h=s.length,p=new Array(h),_=0;_<h;++_)p[_]=l(s[_],f[_]);return p}},606:function(a,o,i){var l=i(236);a.exports=u;function u(){var s=l();return{get:function(f,h){var p=s(f);return p.hasOwnProperty("value")?p.value:h},set:function(f,h){return s(f).value=h,this},has:function(f){return"value"in s(f)},delete:function(f){return delete s(f).value}}}},614:function(a,o,i){var l=i(3236),u=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),h=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},o.pickShader={vertex:f,fragment:h,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},620:function(a){a.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},665:function(a,o,i){"use strict";var l=i(3202);a.exports=h;var u=96;function s(p,_){var m=l(getComputedStyle(p).getPropertyValue(_));return m[0]*h(m[1],p)}function f(p,_){var m=document.createElement("div");m.style["font-size"]="128"+p,_.appendChild(m);var w=s(m,"font-size")/128;return _.removeChild(m),w}function h(p,_){switch(_=_||document.body,p=(p||"px").trim().toLowerCase(),(_===window||_===document)&&(_=document.body),p){case"%":return _.clientHeight/100;case"ch":case"ex":return f(p,_);case"em":return s(_,"font-size");case"rem":return s(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return u;case"cm":return u/2.54;case"mm":return u/25.4;case"pt":return u/72;case"pc":return u/6}return 1}},727:function(a,o,i){"use strict";var l=i(2962),u=6;function s(b){var M=b===2?p:b===3?_:b===4?m:b===5?w:T;return b<6?M(l[b]):M(l)}function f(){return[[0]]}function h(b,M){return[[M[0]],[b[0][0]]]}function p(b){return function(d,x){return[b([[+x[0],+d[0][1]],[+x[1],+d[1][1]]]),b([[+d[0][0],+x[0]],[+d[1][0],+x[1]]]),b(d)]}}function _(b){return function(d,x){return[b([[+x[0],+d[0][1],+d[0][2]],[+x[1],+d[1][1],+d[1][2]],[+x[2],+d[2][1],+d[2][2]]]),b([[+d[0][0],+x[0],+d[0][2]],[+d[1][0],+x[1],+d[1][2]],[+d[2][0],+x[2],+d[2][2]]]),b([[+d[0][0],+d[0][1],+x[0]],[+d[1][0],+d[1][1],+x[1]],[+d[2][0],+d[2][1],+x[2]]]),b(d)]}}function m(b){return function(d,x){return[b([[+x[0],+d[0][1],+d[0][2],+d[0][3]],[+x[1],+d[1][1],+d[1][2],+d[1][3]],[+x[2],+d[2][1],+d[2][2],+d[2][3]],[+x[3],+d[3][1],+d[3][2],+d[3][3]]]),b([[+d[0][0],+x[0],+d[0][2],+d[0][3]],[+d[1][0],+x[1],+d[1][2],+d[1][3]],[+d[2][0],+x[2],+d[2][2],+d[2][3]],[+d[3][0],+x[3],+d[3][2],+d[3][3]]]),b([[+d[0][0],+d[0][1],+x[0],+d[0][3]],[+d[1][0],+d[1][1],+x[1],+d[1][3]],[+d[2][0],+d[2][1],+x[2],+d[2][3]],[+d[3][0],+d[3][1],+x[3],+d[3][3]]]),b([[+d[0][0],+d[0][1],+d[0][2],+x[0]],[+d[1][0],+d[1][1],+d[1][2],+x[1]],[+d[2][0],+d[2][1],+d[2][2],+x[2]],[+d[3][0],+d[3][1],+d[3][2],+x[3]]]),b(d)]}}function w(b){return function(d,x){return[b([[+x[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4]],[+x[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4]],[+x[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4]],[+x[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4]],[+x[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4]]]),b([[+d[0][0],+x[0],+d[0][2],+d[0][3],+d[0][4]],[+d[1][0],+x[1],+d[1][2],+d[1][3],+d[1][4]],[+d[2][0],+x[2],+d[2][2],+d[2][3],+d[2][4]],[+d[3][0],+x[3],+d[3][2],+d[3][3],+d[3][4]],[+d[4][0],+x[4],+d[4][2],+d[4][3],+d[4][4]]]),b([[+d[0][0],+d[0][1],+x[0],+d[0][3],+d[0][4]],[+d[1][0],+d[1][1],+x[1],+d[1][3],+d[1][4]],[+d[2][0],+d[2][1],+x[2],+d[2][3],+d[2][4]],[+d[3][0],+d[3][1],+x[3],+d[3][3],+d[3][4]],[+d[4][0],+d[4][1],+x[4],+d[4][3],+d[4][4]]]),b([[+d[0][0],+d[0][1],+d[0][2],+x[0],+d[0][4]],[+d[1][0],+d[1][1],+d[1][2],+x[1],+d[1][4]],[+d[2][0],+d[2][1],+d[2][2],+x[2],+d[2][4]],[+d[3][0],+d[3][1],+d[3][2],+x[3],+d[3][4]],[+d[4][0],+d[4][1],+d[4][2],+x[4],+d[4][4]]]),b([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+x[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+x[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+x[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+x[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+x[4]]]),b(d)]}}function T(b){return function(d,x){return[b([[+x[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+x[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+x[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+x[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+x[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+x[5],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),b([[+d[0][0],+x[0],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+x[1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+x[2],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+x[3],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+x[4],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+x[5],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),b([[+d[0][0],+d[0][1],+x[0],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+x[1],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+x[2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+x[3],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+x[4],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+x[5],+d[5][3],+d[5][4],+d[5][5]]]),b([[+d[0][0],+d[0][1],+d[0][2],+x[0],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+x[1],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+x[2],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+x[3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+x[4],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+x[5],+d[5][4],+d[5][5]]]),b([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+x[0],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+x[1],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+x[2],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+x[3],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+x[4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+x[5],+d[5][5]]]),b([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+x[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+x[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+x[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+x[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+x[4]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+x[5]]]),b(d)]}}var y=[f,h];function k(b,M,d,x,g,c,A,v){return function(E,R){switch(E.length){case 0:return b(E,R);case 1:return M(E,R);case 2:return d(E,R);case 3:return x(E,R);case 4:return g(E,R);case 5:return c(E,R)}var N=A[E.length];return N||(N=A[E.length]=v(E.length)),N(E,R)}}function S(){for(;y.length<u;)y.push(s(y.length));a.exports=k.apply(void 0,y.concat([y,s]));for(var b=0;b<u;++b)a.exports[b]=y[b]}S()},737:function(a){a.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},781:function(a,o,i){"use strict";a.exports=u;var l=i(3349);function u(s,f){var h=[];return f=+f||0,l(s.hi(s.shape[0]-1),h,f),h}},783:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],h=l[1],p=l[2],_=l[3],m=u[0],w=u[1],T=u[2],y=u[3],k,S,b,M,d;return S=f*m+h*w+p*T+_*y,S<0&&(S=-S,m=-m,w=-w,T=-T,y=-y),1-S>1e-6?(k=Math.acos(S),b=Math.sin(k),M=Math.sin((1-s)*k)/b,d=Math.sin(s*k)/b):(M=1-s,d=s),i[0]=M*f+d*m,i[1]=M*h+d*w,i[2]=M*p+d*T,i[3]=M*_+d*y,i}},799:function(a,o,i){var l=i(3236),u=i(9405),s=l([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=l([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);a.exports=function(h){return u(h,s,f,null,[{name:"position",type:"vec2"}])}},811:function(a){a.exports=o;function o(i,l){return i[0]=1/l[0],i[1]=1/l[1],i[2]=1/l[2],i}},840:function(a,o,i){var l=i(3236),u=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),h=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),p=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),_=l([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),m=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),w=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),T=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),y=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),k=l([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.wireShader={vertex:f,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.pointShader={vertex:p,fragment:_,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},o.pickShader={vertex:m,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},o.pointPickShader={vertex:T,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},o.contourShader={vertex:y,fragment:k,attributes:[{name:"position",type:"vec3"}]}},855:function(a,o,i){"use strict";a.exports={init:S,sweepBipartite:d,sweepComplete:x,scanBipartite:g,scanComplete:c};var l=i(1888),u=i(8828),s=i(4192),f=1<<28,h=1024,p=l.mallocInt32(h),_=l.mallocInt32(h),m=l.mallocInt32(h),w=l.mallocInt32(h),T=l.mallocInt32(h),y=l.mallocInt32(h),k=l.mallocDouble(h*8);function S(A){var v=u.nextPow2(A);p.length<v&&(l.free(p),p=l.mallocInt32(v)),_.length<v&&(l.free(_),_=l.mallocInt32(v)),m.length<v&&(l.free(m),m=l.mallocInt32(v)),w.length<v&&(l.free(w),w=l.mallocInt32(v)),T.length<v&&(l.free(T),T=l.mallocInt32(v)),y.length<v&&(l.free(y),y=l.mallocInt32(v));var D=8*v;k.length<D&&(l.free(k),k=l.mallocDouble(D))}function b(A,v,D,E){var R=v[E],N=A[D-1];A[R]=N,v[N]=R}function M(A,v,D,E){A[D]=E,v[E]=D}function d(A,v,D,E,R,N,F,I,L,P){for(var O=0,U=2*A,X=A-1,$=U-1,j=D;j<E;++j){var Y=N[j],q=U*j;k[O++]=R[q+X],k[O++]=-(Y+1),k[O++]=R[q+$],k[O++]=Y}for(var j=F;j<I;++j){var Y=P[j]+f,K=U*j;k[O++]=L[K+X],k[O++]=-Y,k[O++]=L[K+$],k[O++]=Y}var ne=O>>>1;s(k,ne);for(var Q=0,oe=0,j=0;j<ne;++j){var re=k[2*j+1]|0;if(re>=f)re=re-f|0,b(m,w,oe--,re);else if(re>=0)b(p,_,Q--,re);else if(re<=-f){re=-re-f|0;for(var H=0;H<Q;++H){var ee=v(p[H],re);if(ee!==void 0)return ee}M(m,w,oe++,re)}else{re=-re-1|0;for(var H=0;H<oe;++H){var ee=v(re,m[H]);if(ee!==void 0)return ee}M(p,_,Q++,re)}}}function x(A,v,D,E,R,N,F,I,L,P){for(var O=0,U=2*A,X=A-1,$=U-1,j=D;j<E;++j){var Y=N[j]+1<<1,q=U*j;k[O++]=R[q+X],k[O++]=-Y,k[O++]=R[q+$],k[O++]=Y}for(var j=F;j<I;++j){var Y=P[j]+1<<1,K=U*j;k[O++]=L[K+X],k[O++]=-Y|1,k[O++]=L[K+$],k[O++]=Y|1}var ne=O>>>1;s(k,ne);for(var Q=0,oe=0,re=0,j=0;j<ne;++j){var H=k[2*j+1]|0,ee=H&1;if(j<ne-1&&H>>1===k[2*j+3]>>1&&(ee=2,j+=1),H<0){for(var V=-(H>>1)-1,te=0;te<re;++te){var ue=v(T[te],V);if(ue!==void 0)return ue}if(ee!==0)for(var te=0;te<Q;++te){var ue=v(p[te],V);if(ue!==void 0)return ue}if(ee!==1)for(var te=0;te<oe;++te){var ue=v(m[te],V);if(ue!==void 0)return ue}ee===0?M(p,_,Q++,V):ee===1?M(m,w,oe++,V):ee===2&&M(T,y,re++,V)}else{var V=(H>>1)-1;ee===0?b(p,_,Q--,V):ee===1?b(m,w,oe--,V):ee===2&&b(T,y,re--,V)}}}function g(A,v,D,E,R,N,F,I,L,P,O,U){var X=0,$=2*A,j=v,Y=v+A,q=1,K=1;E?K=f:q=f;for(var ne=R;ne<N;++ne){var Q=ne+q,oe=$*ne;k[X++]=F[oe+j],k[X++]=-Q,k[X++]=F[oe+Y],k[X++]=Q}for(var ne=L;ne<P;++ne){var Q=ne+K,re=$*ne;k[X++]=O[re+j],k[X++]=-Q}var H=X>>>1;s(k,H);for(var ee=0,ne=0;ne<H;++ne){var V=k[2*ne+1]|0;if(V<0){var Q=-V,te=!1;if(Q>=f?(te=!E,Q-=f):(te=!!E,Q-=1),te)M(p,_,ee++,Q);else{var ue=U[Q],ve=$*Q,ke=O[ve+v+1],Se=O[ve+v+1+A];e:for(var he=0;he<ee;++he){var Ae=p[he],Ce=$*Ae;if(!(Se<F[Ce+v+1]||F[Ce+v+1+A]<ke)){for(var Pe=v+2;Pe<A;++Pe)if(O[ve+Pe+A]<F[Ce+Pe]||F[Ce+Pe+A]<O[ve+Pe])continue e;var Ee=I[Ae],Ne;if(E?Ne=D(ue,Ee):Ne=D(Ee,ue),Ne!==void 0)return Ne}}}}else b(p,_,ee--,V-q)}}function c(A,v,D,E,R,N,F,I,L,P,O){for(var U=0,X=2*A,$=v,j=v+A,Y=E;Y<R;++Y){var q=Y+f,K=X*Y;k[U++]=N[K+$],k[U++]=-q,k[U++]=N[K+j],k[U++]=q}for(var Y=I;Y<L;++Y){var q=Y+1,ne=X*Y;k[U++]=P[ne+$],k[U++]=-q}var Q=U>>>1;s(k,Q);for(var oe=0,Y=0;Y<Q;++Y){var re=k[2*Y+1]|0;if(re<0){var q=-re;if(q>=f)p[oe++]=q-f;else{q-=1;var H=O[q],ee=X*q,V=P[ee+v+1],te=P[ee+v+1+A];e:for(var ue=0;ue<oe;++ue){var ve=p[ue],ke=F[ve];if(ke===H)break;var Se=X*ve;if(!(te<N[Se+v+1]||N[Se+v+1+A]<V)){for(var he=v+2;he<A;++he)if(P[ee+he+A]<N[Se+he]||N[Se+he+A]<P[ee+he])continue e;var Ae=D(ke,H);if(Ae!==void 0)return Ae}}}}else{for(var q=re-f,ue=oe-1;ue>=0;--ue)if(p[ue]===q){for(var he=ue+1;he<oe;++he)p[he-1]=p[he];break}--oe}}}},868:function(a,o,i){a.exports=i(1387)},869:function(a,o,i){"use strict";var l=i(2651),u=i(5716);a.exports=s;function s(f,h){var p=u(f),_=u(h);if(p===0)return[l(0),l(1)];if(_===0)return[l(0),l(0)];_<0&&(f=f.neg(),h=h.neg());var m=f.gcd(h);return m.cmpn(1)?[f.div(m),h.div(m)]:[f,h]}},870:function(a,o,i){"use strict";var l=i(1433);function u(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}u.prototype.bind=function(){l(this.gl,this._elements,this._attributes)},u.prototype.update=function(f,h,p){this._elements=h,this._attributes=f,this._elementsType=p||this.gl.UNSIGNED_SHORT},u.prototype.dispose=function(){},u.prototype.unbind=function(){},u.prototype.draw=function(f,h,p){p=p||0;var _=this.gl;this._elements?_.drawElements(f,h,this._elementsType,p):_.drawArrays(f,p,h)};function s(f){return new u(f)}a.exports=s},946:function(a,o,i){"use strict";var l=i(1369),u=i(4025);a.exports=s;function s(f){var h=f[0],p=f[1];if(h.cmpn(0)===0)return 0;var _=h.abs().divmod(p.abs()),m=_.div,w=l(m),T=_.mod,y=h.negative!==p.negative?-1:1;if(T.cmpn(0)===0)return y*w;if(w){var k=u(w)+4,S=l(T.ushln(k).divRound(p));return y*(w+S*Math.pow(2,-k))}else{var b=p.bitLength()-T.bitLength()+53,S=l(T.ushln(b).divRound(p));return b<1023?y*S*Math.pow(2,-b):(S*=Math.pow(2,-1023),y*S*Math.pow(2,1023-b))}}},990:function(a,o,i){var l=i(9405),u=i(3236),s=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=u([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),h=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),p=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);o.createShader=function(_){var m=l(_,s,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return m.attributes.uv.location=0,m.attributes.f.location=1,m.attributes.normal.location=2,m},o.createPickShader=function(_){var m=l(_,s,p,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return m.attributes.uv.location=0,m.attributes.f.location=1,m.attributes.normal.location=2,m},o.createContourShader=function(_){var m=l(_,h,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return m.attributes.uv.location=0,m.attributes.f.location=1,m},o.createPickContourShader=function(_){var m=l(_,h,p,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return m.attributes.uv.location=0,m.attributes.f.location=1,m}},1085:function(a,o,i){var l=i(1371);a.exports=u;function u(s,f,h){f=typeof f=="number"?f:1,h=h||": ";var p=s.split(/\r?\n/),_=String(p.length+f-1).length;return p.map(function(m,w){var T=w+f,y=String(T).length,k=l(T,_-y);return k+h+m}).join(`
`)}},1091:function(a){a.exports=o;function o(){var i=new Float32Array(3);return i[0]=0,i[1]=0,i[2]=0,i}},1125:function(a,o,i){"use strict";a.exports=s;var l=i(3250)[3];function u(f,h,p,_){for(var m=0;m<2;++m){var w=f[m],T=h[m],y=Math.min(w,T),k=Math.max(w,T),S=p[m],b=_[m],M=Math.min(S,b),d=Math.max(S,b);if(d<y||k<M)return!1}return!0}function s(f,h,p,_){var m=l(f,p,_),w=l(h,p,_);if(m>0&&w>0||m<0&&w<0)return!1;var T=l(p,f,h),y=l(_,f,h);return T>0&&y>0||T<0&&y<0?!1:m===0&&w===0&&T===0&&y===0?u(f,h,p,_):!0}},1278:function(a,o,i){"use strict";var l=i(2361),u=Math.pow(2,-1074),s=-1>>>0;a.exports=f;function f(h,p){if(isNaN(h)||isNaN(p))return NaN;if(h===p)return h;if(h===0)return p<0?-u:u;var _=l.hi(h),m=l.lo(h);return p>h==h>0?m===s?(_+=1,m=0):m+=1:m===0?(m=s,_-=1):m-=1,l.pack(m,_)}},1283:function(a,o,i){var l=i(9405),u=i(3236),s=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),h=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),p=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),_=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),m=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:s,fragment:p,attributes:m},T={vertex:f,fragment:p,attributes:m},y={vertex:h,fragment:p,attributes:m},k={vertex:s,fragment:_,attributes:m},S={vertex:f,fragment:_,attributes:m},b={vertex:h,fragment:_,attributes:m};function M(d,x){var g=l(d,x),c=g.attributes;return c.position.location=0,c.color.location=1,c.glyph.location=2,c.id.location=3,g}o.createPerspective=function(d){return M(d,w)},o.createOrtho=function(d){return M(d,T)},o.createProject=function(d){return M(d,y)},o.createPickPerspective=function(d){return M(d,k)},o.createPickOrtho=function(d){return M(d,S)},o.createPickProject=function(d){return M(d,b)}},1303:function(a,o,i){"use strict";a.exports=s;var l=i(3250);function u(f,h){var p,_;if(h[0][0]<h[1][0])p=h[0],_=h[1];else if(h[0][0]>h[1][0])p=h[1],_=h[0];else{var m=Math.min(f[0][1],f[1][1]),w=Math.max(f[0][1],f[1][1]),T=Math.min(h[0][1],h[1][1]),y=Math.max(h[0][1],h[1][1]);return w<T?w-T:m>y?m-y:w-y}var k,S;f[0][1]<f[1][1]?(k=f[0],S=f[1]):(k=f[1],S=f[0]);var b=l(_,p,k);return b||(b=l(_,p,S),b)?b:S-_}function s(f,h){var p,_;if(h[0][0]<h[1][0])p=h[0],_=h[1];else if(h[0][0]>h[1][0])p=h[1],_=h[0];else return u(h,f);var m,w;if(f[0][0]<f[1][0])m=f[0],w=f[1];else if(f[0][0]>f[1][0])m=f[1],w=f[0];else return-u(f,h);var T=l(p,_,w),y=l(p,_,m);if(T<0){if(y<=0)return T}else if(T>0){if(y>=0)return T}else if(y)return y;if(T=l(w,m,_),y=l(w,m,p),T<0){if(y<=0)return T}else if(T>0){if(y>=0)return T}else if(y)return y;return _[0]-w[0]}},1318:function(a){"use strict";a.exports=o;function o(i,l){return i[0].mul(l[1]).cmp(l[0].mul(i[1]))}},1338:function(a){"use strict";function o(u,s,f){var h=u[f]|0;if(h<=0)return[];var p=new Array(h),_;if(f===u.length-1)for(_=0;_<h;++_)p[_]=s;else for(_=0;_<h;++_)p[_]=o(u,s,f+1);return p}function i(u,s){var f,h;for(f=new Array(u),h=0;h<u;++h)f[h]=s;return f}function l(u,s){switch(typeof s=="undefined"&&(s=0),typeof u){case"number":if(u>0)return i(u|0,s);break;case"object":if(typeof u.length=="number")return o(u,s,0);break}return[]}a.exports=l},1369:function(a,o,i){"use strict";var l=i(5716);a.exports=u;function u(s){var f=s.length,h=s.words,p=0;if(f===1)p=h[0];else if(f===2)p=h[0]+h[1]*67108864;else for(var _=0;_<f;_++){var m=h[_];p+=m*Math.pow(67108864,_)}return l(s)*p}},1371:function(a,o,i){"use strict";var l=i(3233);a.exports=function(s,f,h){return h=typeof h!="undefined"?h+"":" ",l(h,f)+s}},1373:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]/u[0],i[1]=l[1]/u[1],i[2]=l[2]/u[2],i[3]=l[3]/u[3],i}},1387:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2];return Math.sqrt(l*l+u*u+s*s)}},1433:function(a){"use strict";function o(i,l,u){l?l.bind():i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,null);var s=i.getParameter(i.MAX_VERTEX_ATTRIBS)|0;if(u){if(u.length>s)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<u.length;++f){var h=u[f];if(h.buffer){var p=h.buffer,_=h.size||4,m=h.type||i.FLOAT,w=!!h.normalized,T=h.stride||0,y=h.offset||0;p.bind(),i.enableVertexAttribArray(f),i.vertexAttribPointer(f,_,m,w,T,y)}else{if(typeof h=="number")i.vertexAttrib1f(f,h);else if(h.length===1)i.vertexAttrib1f(f,h[0]);else if(h.length===2)i.vertexAttrib2f(f,h[0],h[1]);else if(h.length===3)i.vertexAttrib3f(f,h[0],h[1],h[2]);else if(h.length===4)i.vertexAttrib4f(f,h[0],h[1],h[2],h[3]);else throw new Error("gl-vao: Invalid vertex attribute");i.disableVertexAttribArray(f)}}for(;f<s;++f)i.disableVertexAttribArray(f)}else{i.bindBuffer(i.ARRAY_BUFFER,null);for(var f=0;f<s;++f)i.disableVertexAttribArray(f)}}a.exports=o},1463:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l,i[1]=u,i[2]=s,i}},1493:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=l([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);a.exports=function(h){return u(h,s,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},1498:function(a){a.exports=o;function o(i,l){return i[0]=-l[0],i[1]=-l[1],i[2]=-l[2],i[3]=-l[3],i}},1533:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return s&&typeof s=="object"&&!!s.words}},1538:function(a){(function(){"use strict";if(typeof ses!="undefined"&&ses.ok&&!ses.ok())return;function i(v){v.permitHostObjects___&&v.permitHostObjects___(i)}typeof ses!="undefined"&&(ses.weakMapPermitHostObjects=i);var l=!1;if(typeof WeakMap=="function"){var u=WeakMap;if(!(typeof navigator!="undefined"&&/Firefox/.test(navigator.userAgent))){var s=new u,f=Object.freeze({});if(s.set(f,1),s.get(f)!==1)l=!0;else{a.exports=WeakMap;return}}}var h=Object.prototype.hasOwnProperty,p=Object.getOwnPropertyNames,_=Object.defineProperty,m=Object.isExtensible,w="weakmap:",T=w+"ident:"+Math.random()+"___";if(typeof crypto!="undefined"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var y=new ArrayBuffer(25),k=new Uint8Array(y);crypto.getRandomValues(k),T=w+"rand:"+Array.prototype.map.call(k,function(v){return(v%36).toString(36)}).join("")+"___"}function S(v){return!(v.substr(0,w.length)==w&&v.substr(v.length-3)==="___")}if(_(Object,"getOwnPropertyNames",{value:function(D){return p(D).filter(S)}}),"getPropertyNames"in Object){var b=Object.getPropertyNames;_(Object,"getPropertyNames",{value:function(D){return b(D).filter(S)}})}function M(v){if(v!==Object(v))throw new TypeError("Not an object: "+v);var D=v[T];if(D&&D.key===v)return D;if(m(v)){D={key:v};try{return _(v,T,{value:D,writable:!1,enumerable:!1,configurable:!1}),D}catch(E){return}}}(function(){var v=Object.freeze;_(Object,"freeze",{value:function(N){return M(N),v(N)}});var D=Object.seal;_(Object,"seal",{value:function(N){return M(N),D(N)}});var E=Object.preventExtensions;_(Object,"preventExtensions",{value:function(N){return M(N),E(N)}})})();function d(v){return v.prototype=null,Object.freeze(v)}var x=!1;function g(){!x&&typeof console!="undefined"&&(x=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var c=0,A=function(){this instanceof A||g();var v=[],D=[],E=c++;function R(L,P){var O,U=M(L);return U?E in U?U[E]:P:(O=v.indexOf(L),O>=0?D[O]:P)}function N(L){var P=M(L);return P?E in P:v.indexOf(L)>=0}function F(L,P){var O,U=M(L);return U?U[E]=P:(O=v.indexOf(L),O>=0?D[O]=P:(O=v.length,D[O]=P,v[O]=L)),this}function I(L){var P=M(L),O,U;return P?E in P&&delete P[E]:(O=v.indexOf(L),O<0?!1:(U=v.length-1,v[O]=void 0,D[O]=D[U],v[O]=v[U],v.length=U,D.length=U,!0))}return Object.create(A.prototype,{get___:{value:d(R)},has___:{value:d(N)},set___:{value:d(F)},delete___:{value:d(I)}})};A.prototype=Object.create(Object.prototype,{get:{value:function(D,E){return this.get___(D,E)},writable:!0,configurable:!0},has:{value:function(D){return this.has___(D)},writable:!0,configurable:!0},set:{value:function(D,E){return this.set___(D,E)},writable:!0,configurable:!0},delete:{value:function(D){return this.delete___(D)},writable:!0,configurable:!0}}),typeof u=="function"?function(){l&&typeof Proxy!="undefined"&&(Proxy=void 0);function v(){this instanceof A||g();var D=new u,E=void 0,R=!1;function N(P,O){return E?D.has(P)?D.get(P):E.get___(P,O):D.get(P,O)}function F(P){return D.has(P)||(E?E.has___(P):!1)}var I;l?I=function(P,O){return D.set(P,O),D.has(P)||(E||(E=new A),E.set(P,O)),this}:I=function(P,O){if(R)try{D.set(P,O)}catch(U){E||(E=new A),E.set___(P,O)}else D.set(P,O);return this};function L(P){var O=!!D.delete(P);return E&&E.delete___(P)||O}return Object.create(A.prototype,{get___:{value:d(N)},has___:{value:d(F)},set___:{value:d(I)},delete___:{value:d(L)},permitHostObjects___:{value:d(function(P){if(P===i)R=!0;else throw new Error("bogus call to permitHostObjects___")})}})}v.prototype=A.prototype,a.exports=v,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy!="undefined"&&(Proxy=void 0),a.exports=A)})()},1570:function(a){"use strict";a.exports=i;var o=[function(){function u(f,h,p,_){for(var m=Math.min(p,_)|0,w=Math.max(p,_)|0,T=f[2*m],y=f[2*m+1];T<y;){var k=T+y>>1,S=h[2*k+1];if(S===w)return k;w<S?y=k:T=k+1}return T}function s(f,h,p,_){for(var m=f.length,w=[],T=0;T<m;++T)var y=f[T],k=y.length;return w}return s},function(){function u(f,h,p,_){for(var m=Math.min(p,_)|0,w=Math.max(p,_)|0,T=f[2*m],y=f[2*m+1];T<y;){var k=T+y>>1,S=h[2*k+1];if(S===w)return k;w<S?y=k:T=k+1}return T}function s(f,h,p,_){for(var m=f.length,w=[],T=0;T<m;++T){var y=f[T],k=y.length;if(k===2){var S=(_[y[0]]<<0)+(_[y[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([u(p,h,y[0],y[1])]);break;case 2:w.push([u(p,h,y[1],y[0])]);break;case 3:break}}}return w}return s},function(){function u(f,h,p,_){for(var m=Math.min(p,_)|0,w=Math.max(p,_)|0,T=f[2*m],y=f[2*m+1];T<y;){var k=T+y>>1,S=h[2*k+1];if(S===w)return k;w<S?y=k:T=k+1}return T}function s(f,h,p,_){for(var m=f.length,w=[],T=0;T<m;++T){var y=f[T],k=y.length;if(k===3){var S=(_[y[0]]<<0)+(_[y[1]]<<1)+(_[y[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:w.push([u(p,h,y[0],y[2]),u(p,h,y[0],y[1])]);break;case 2:w.push([u(p,h,y[1],y[0]),u(p,h,y[1],y[2])]);break;case 3:w.push([u(p,h,y[0],y[2]),u(p,h,y[1],y[2])]);break;case 4:w.push([u(p,h,y[2],y[1]),u(p,h,y[2],y[0])]);break;case 5:w.push([u(p,h,y[2],y[1]),u(p,h,y[0],y[1])]);break;case 6:w.push([u(p,h,y[1],y[0]),u(p,h,y[2],y[0])]);break;case 7:break}}else if(k===2){var S=(_[y[0]]<<0)+(_[y[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([u(p,h,y[0],y[1])]);break;case 2:w.push([u(p,h,y[1],y[0])]);break;case 3:break}}}return w}return s},function(){function u(f,h,p,_){for(var m=Math.min(p,_)|0,w=Math.max(p,_)|0,T=f[2*m],y=f[2*m+1];T<y;){var k=T+y>>1,S=h[2*k+1];if(S===w)return k;w<S?y=k:T=k+1}return T}function s(f,h,p,_){for(var m=f.length,w=[],T=0;T<m;++T){var y=f[T],k=y.length;if(k===4){var S=(_[y[0]]<<0)+(_[y[1]]<<1)+(_[y[2]]<<2)+(_[y[3]]<<3);if(S===0||S===15)continue;switch(S){case 0:break;case 1:w.push([u(p,h,y[0],y[1]),u(p,h,y[0],y[2]),u(p,h,y[0],y[3])]);break;case 2:w.push([u(p,h,y[1],y[2]),u(p,h,y[1],y[0]),u(p,h,y[1],y[3])]);break;case 3:w.push([u(p,h,y[1],y[2]),u(p,h,y[0],y[2]),u(p,h,y[0],y[3])],[u(p,h,y[1],y[3]),u(p,h,y[1],y[2]),u(p,h,y[0],y[3])]);break;case 4:w.push([u(p,h,y[2],y[0]),u(p,h,y[2],y[1]),u(p,h,y[2],y[3])]);break;case 5:w.push([u(p,h,y[0],y[1]),u(p,h,y[2],y[1]),u(p,h,y[0],y[3])],[u(p,h,y[2],y[1]),u(p,h,y[2],y[3]),u(p,h,y[0],y[3])]);break;case 6:w.push([u(p,h,y[2],y[0]),u(p,h,y[1],y[0]),u(p,h,y[1],y[3])],[u(p,h,y[2],y[3]),u(p,h,y[2],y[0]),u(p,h,y[1],y[3])]);break;case 7:w.push([u(p,h,y[0],y[3]),u(p,h,y[1],y[3]),u(p,h,y[2],y[3])]);break;case 8:w.push([u(p,h,y[3],y[1]),u(p,h,y[3],y[0]),u(p,h,y[3],y[2])]);break;case 9:w.push([u(p,h,y[3],y[1]),u(p,h,y[0],y[1]),u(p,h,y[0],y[2])],[u(p,h,y[3],y[2]),u(p,h,y[3],y[1]),u(p,h,y[0],y[2])]);break;case 10:w.push([u(p,h,y[1],y[0]),u(p,h,y[3],y[0]),u(p,h,y[1],y[2])],[u(p,h,y[3],y[0]),u(p,h,y[3],y[2]),u(p,h,y[1],y[2])]);break;case 11:w.push([u(p,h,y[1],y[2]),u(p,h,y[0],y[2]),u(p,h,y[3],y[2])]);break;case 12:w.push([u(p,h,y[3],y[0]),u(p,h,y[2],y[0]),u(p,h,y[2],y[1])],[u(p,h,y[3],y[1]),u(p,h,y[3],y[0]),u(p,h,y[2],y[1])]);break;case 13:w.push([u(p,h,y[0],y[1]),u(p,h,y[2],y[1]),u(p,h,y[3],y[1])]);break;case 14:w.push([u(p,h,y[2],y[0]),u(p,h,y[1],y[0]),u(p,h,y[3],y[0])]);break;case 15:break}}else if(k===3){var S=(_[y[0]]<<0)+(_[y[1]]<<1)+(_[y[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:w.push([u(p,h,y[0],y[2]),u(p,h,y[0],y[1])]);break;case 2:w.push([u(p,h,y[1],y[0]),u(p,h,y[1],y[2])]);break;case 3:w.push([u(p,h,y[0],y[2]),u(p,h,y[1],y[2])]);break;case 4:w.push([u(p,h,y[2],y[1]),u(p,h,y[2],y[0])]);break;case 5:w.push([u(p,h,y[2],y[1]),u(p,h,y[0],y[1])]);break;case 6:w.push([u(p,h,y[1],y[0]),u(p,h,y[2],y[0])]);break;case 7:break}}else if(k===2){var S=(_[y[0]]<<0)+(_[y[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([u(p,h,y[0],y[1])]);break;case 2:w.push([u(p,h,y[1],y[0])]);break;case 3:break}}}return w}return s}];function i(l){return o[l]()}},1682:function(a){"use strict";function o(u,s){for(var f=1,h=u.length,p=u[0],_=u[0],m=1;m<h;++m)if(_=p,p=u[m],s(p,_)){if(m===f){f++;continue}u[f++]=p}return u.length=f,u}function i(u){for(var s=1,f=u.length,h=u[0],p=u[0],_=1;_<f;++_,p=h)if(p=h,h=u[_],h!==p){if(_===s){s++;continue}u[s++]=h}return u.length=s,u}function l(u,s,f){return u.length===0?u:s?(f||u.sort(s),o(u,s)):(f||u.sort(),i(u))}a.exports=l},1755:function(a){"use strict";"use restrict";a.exports=o;function o(l){this.roots=new Array(l),this.ranks=new Array(l);for(var u=0;u<l;++u)this.roots[u]=u,this.ranks[u]=0}var i=o.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var l=this.roots.length;return this.roots.push(l),this.ranks.push(0),l},i.find=function(l){for(var u=l,s=this.roots;s[l]!==l;)l=s[l];for(;s[u]!==l;){var f=s[u];s[u]=l,u=f}return l},i.link=function(l,u){var s=this.find(l),f=this.find(u);if(s!==f){var h=this.ranks,p=this.roots,_=h[s],m=h[f];_<m?p[s]=f:m<_?p[f]=s:(p[f]=s,++h[s])}}},1811:function(a,o,i){"use strict";var l=i(2478),u=i(7442),s=i(7608),f=i(5567),h=i(2408),p=i(7089),_=i(6582),m=i(7656),w=i(2504),T=i(3536),y=[0,0,0];a.exports=M;function k(d){this._components=d.slice(),this._time=[0],this.prevMatrix=d.slice(),this.nextMatrix=d.slice(),this.computedMatrix=d.slice(),this.computedInverse=d.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var S=k.prototype;S.recalcMatrix=function(d){var x=this._time,g=l.le(x,d),c=this.computedMatrix;if(!(g<0)){var A=this._components;if(g===x.length-1)for(var v=16*g,D=0;D<16;++D)c[D]=A[v++];else{for(var E=x[g+1]-x[g],v=16*g,R=this.prevMatrix,N=!0,D=0;D<16;++D)R[D]=A[v++];for(var F=this.nextMatrix,D=0;D<16;++D)F[D]=A[v++],N=N&&R[D]===F[D];if(E<1e-6||N)for(var D=0;D<16;++D)c[D]=R[D];else u(c,R,F,(d-x[g])/E)}var I=this.computedUp;I[0]=c[1],I[1]=c[5],I[2]=c[9],T(I,I);var L=this.computedInverse;s(L,c);var P=this.computedEye,O=L[15];P[0]=L[12]/O,P[1]=L[13]/O,P[2]=L[14]/O;for(var U=this.computedCenter,X=Math.exp(this.computedRadius[0]),D=0;D<3;++D)U[D]=P[D]-c[2+4*D]*X}},S.idle=function(d){if(!(d<this.lastT())){for(var x=this._components,g=x.length-16,c=0;c<16;++c)x.push(x[g++]);this._time.push(d)}},S.flush=function(d){var x=l.gt(this._time,d)-2;x<0||(this._time.splice(0,x),this._components.splice(0,16*x))},S.lastT=function(){return this._time[this._time.length-1]},S.lookAt=function(d,x,g,c){this.recalcMatrix(d),x=x||this.computedEye,g=g||y,c=c||this.computedUp,this.setMatrix(d,_(this.computedMatrix,x,g,c));for(var A=0,v=0;v<3;++v)A+=Math.pow(g[v]-x[v],2);A=Math.log(Math.sqrt(A)),this.computedRadius[0]=A},S.rotate=function(d,x,g,c){this.recalcMatrix(d);var A=this.computedInverse;x&&h(A,A,x),g&&f(A,A,g),c&&p(A,A,c),this.setMatrix(d,s(this.computedMatrix,A))};var b=[0,0,0];S.pan=function(d,x,g,c){b[0]=-(x||0),b[1]=-(g||0),b[2]=-(c||0),this.recalcMatrix(d);var A=this.computedInverse;m(A,A,b),this.setMatrix(d,s(A,A))},S.translate=function(d,x,g,c){b[0]=x||0,b[1]=g||0,b[2]=c||0,this.recalcMatrix(d);var A=this.computedMatrix;m(A,A,b),this.setMatrix(d,A)},S.setMatrix=function(d,x){if(!(d<this.lastT())){this._time.push(d);for(var g=0;g<16;++g)this._components.push(x[g])}},S.setDistance=function(d,x){this.computedRadius[0]=x},S.setDistanceLimits=function(d,x){var g=this._limits;g[0]=d,g[1]=x},S.getDistanceLimits=function(d){var x=this._limits;return d?(d[0]=x[0],d[1]=x[1],d):x};function M(d){d=d||{};var x=d.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new k(x)}},1848:function(a,o,i){var l=i(4905),u=i(6468);a.exports=s;function s(f){for(var h=Array.isArray(f)?f:l(f),p=0;p<h.length;p++){var _=h[p];if(_.type==="preprocessor"){var m=_.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(m&&m[2]){var w=m[1],T=m[2];return(w?u(T):T).trim()}}}}},1879:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.n=function(w){return u(w,s,f,null,[{name:"position",type:"vec3"}])};var h=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),p=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.Q=function(w){return u(w,h,p,null,[{name:"position",type:"vec3"}])};var _=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),m=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);o.bg=function(w){return u(w,_,m,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},1888:function(a,o,i){"use strict";var l=i(8828),u=i(1338),s=i(4793).hp;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:u([32,0]),UINT16:u([32,0]),UINT32:u([32,0]),BIGUINT64:u([32,0]),INT8:u([32,0]),INT16:u([32,0]),INT32:u([32,0]),BIGINT64:u([32,0]),FLOAT:u([32,0]),DOUBLE:u([32,0]),DATA:u([32,0]),UINT8C:u([32,0]),BUFFER:u([32,0])});var f=typeof Uint8ClampedArray!="undefined",h=typeof BigUint64Array!="undefined",p=typeof BigInt64Array!="undefined",_=i.g.__TYPEDARRAY_POOL;_.UINT8C||(_.UINT8C=u([32,0])),_.BIGUINT64||(_.BIGUINT64=u([32,0])),_.BIGINT64||(_.BIGINT64=u([32,0])),_.BUFFER||(_.BUFFER=u([32,0]));var m=_.DATA,w=_.BUFFER;o.free=function(I){if(s.isBuffer(I))w[l.log2(I.length)].push(I);else{if(Object.prototype.toString.call(I)!=="[object ArrayBuffer]"&&(I=I.buffer),!I)return;var L=I.length||I.byteLength,P=l.log2(L)|0;m[P].push(I)}};function T(F){if(F){var I=F.length||F.byteLength,L=l.log2(I);m[L].push(F)}}function y(F){T(F.buffer)}o.freeUint8=o.freeUint16=o.freeUint32=o.freeBigUint64=o.freeInt8=o.freeInt16=o.freeInt32=o.freeBigInt64=o.freeFloat32=o.freeFloat=o.freeFloat64=o.freeDouble=o.freeUint8Clamped=o.freeDataView=y,o.freeArrayBuffer=T,o.freeBuffer=function(I){w[l.log2(I.length)].push(I)},o.malloc=function(I,L){if(L===void 0||L==="arraybuffer")return k(I);switch(L){case"uint8":return S(I);case"uint16":return b(I);case"uint32":return M(I);case"int8":return d(I);case"int16":return x(I);case"int32":return g(I);case"float":case"float32":return c(I);case"double":case"float64":return A(I);case"uint8_clamped":return v(I);case"bigint64":return E(I);case"biguint64":return D(I);case"buffer":return N(I);case"data":case"dataview":return R(I);default:return null}return null};function k(I){var I=l.nextPow2(I),L=l.log2(I),P=m[L];return P.length>0?P.pop():new ArrayBuffer(I)}o.mallocArrayBuffer=k;function S(F){return new Uint8Array(k(F),0,F)}o.mallocUint8=S;function b(F){return new Uint16Array(k(2*F),0,F)}o.mallocUint16=b;function M(F){return new Uint32Array(k(4*F),0,F)}o.mallocUint32=M;function d(F){return new Int8Array(k(F),0,F)}o.mallocInt8=d;function x(F){return new Int16Array(k(2*F),0,F)}o.mallocInt16=x;function g(F){return new Int32Array(k(4*F),0,F)}o.mallocInt32=g;function c(F){return new Float32Array(k(4*F),0,F)}o.mallocFloat32=o.mallocFloat=c;function A(F){return new Float64Array(k(8*F),0,F)}o.mallocFloat64=o.mallocDouble=A;function v(F){return f?new Uint8ClampedArray(k(F),0,F):S(F)}o.mallocUint8Clamped=v;function D(F){return h?new BigUint64Array(k(8*F),0,F):null}o.mallocBigUint64=D;function E(F){return p?new BigInt64Array(k(8*F),0,F):null}o.mallocBigInt64=E;function R(F){return new DataView(k(F),0,F)}o.mallocDataView=R;function N(F){F=l.nextPow2(F);var I=l.log2(F),L=w[I];return L.length>0?L.pop():new s(F)}o.mallocBuffer=N,o.clearCache=function(){for(var I=0;I<32;++I)_.UINT8[I].length=0,_.UINT16[I].length=0,_.UINT32[I].length=0,_.INT8[I].length=0,_.INT16[I].length=0,_.INT32[I].length=0,_.FLOAT[I].length=0,_.DOUBLE[I].length=0,_.BIGUINT64[I].length=0,_.BIGINT64[I].length=0,_.UINT8C[I].length=0,m[I].length=0,w[I].length=0}},1903:function(a){a.exports=o;function o(i){var l=new Float32Array(16);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[4]=i[4],l[5]=i[5],l[6]=i[6],l[7]=i[7],l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l}},1944:function(a,o,i){"use strict";var l=i(5250),u=i(8210);a.exports=s;function s(f,h){for(var p=l(f[0],h[0]),_=1;_<f.length;++_)p=u(p,l(f[_],h[_]));return p}},1964:function(a,o,i){a.exports={alpha_shape:i(3502),convex_hull:i(7352),delaunay_triangulate:i(7642),gl_cone3d:i(6405),gl_error3d:i(9165),gl_line3d:i(5714),gl_mesh3d:i(7201),gl_plot3d:i(4100),gl_scatter3d:i(8418),gl_streamtube3d:i(7815),gl_surface3d:i(9499),ndarray:i(9618),ndarray_linear_interpolate:i(4317)}},2014:function(a,o,i){"use strict";"use restrict";var l=i(3105),u=i(4623);function s(c){for(var A=0,v=Math.max,D=0,E=c.length;D<E;++D)A=v(A,c[D].length);return A-1}o.dimension=s;function f(c){for(var A=-1,v=Math.max,D=0,E=c.length;D<E;++D)for(var R=c[D],N=0,F=R.length;N<F;++N)A=v(A,R[N]);return A+1}o.countVertices=f;function h(c){for(var A=new Array(c.length),v=0,D=c.length;v<D;++v)A[v]=c[v].slice(0);return A}o.cloneCells=h;function p(c,A){var v=c.length,D=c.length-A.length,E=Math.min;if(D)return D;switch(v){case 0:return 0;case 1:return c[0]-A[0];case 2:var L=c[0]+c[1]-A[0]-A[1];return L||E(c[0],c[1])-E(A[0],A[1]);case 3:var R=c[0]+c[1],N=A[0]+A[1];if(L=R+c[2]-(N+A[2]),L)return L;var F=E(c[0],c[1]),I=E(A[0],A[1]),L=E(F,c[2])-E(I,A[2]);return L||E(F+c[2],R)-E(I+A[2],N);default:var P=c.slice(0);P.sort();var O=A.slice(0);O.sort();for(var U=0;U<v;++U)if(D=P[U]-O[U],D)return D;return 0}}o.compareCells=p;function _(c,A){return p(c[0],A[0])}function m(c,A){if(A){for(var v=c.length,D=new Array(v),E=0;E<v;++E)D[E]=[c[E],A[E]];D.sort(_);for(var E=0;E<v;++E)c[E]=D[E][0],A[E]=D[E][1];return c}else return c.sort(p),c}o.normalize=m;function w(c){if(c.length===0)return[];for(var A=1,v=c.length,D=1;D<v;++D){var E=c[D];if(p(E,c[D-1])){if(D===A){A++;continue}c[A++]=E}}return c.length=A,c}o.unique=w;function T(c,A){for(var v=0,D=c.length-1,E=-1;v<=D;){var R=v+D>>1,N=p(c[R],A);N<=0?(N===0&&(E=R),v=R+1):N>0&&(D=R-1)}return E}o.findCell=T;function y(c,A){for(var v=new Array(c.length),D=0,E=v.length;D<E;++D)v[D]=[];for(var R=[],D=0,N=A.length;D<N;++D)for(var F=A[D],I=F.length,L=1,P=1<<I;L<P;++L){R.length=l.popCount(L);for(var O=0,U=0;U<I;++U)L&1<<U&&(R[O++]=F[U]);var X=T(c,R);if(!(X<0))for(;v[X++].push(D),!(X>=c.length||p(c[X],R)!==0););}return v}o.incidence=y;function k(c,A){if(!A)return y(w(b(c,0)),c,0);for(var v=new Array(A),D=0;D<A;++D)v[D]=[];for(var D=0,E=c.length;D<E;++D)for(var R=c[D],N=0,F=R.length;N<F;++N)v[R[N]].push(D);return v}o.dual=k;function S(c){for(var A=[],v=0,D=c.length;v<D;++v)for(var E=c[v],R=E.length|0,N=1,F=1<<R;N<F;++N){for(var I=[],L=0;L<R;++L)N>>>L&1&&I.push(E[L]);A.push(I)}return m(A)}o.explode=S;function b(c,A){if(A<0)return[];for(var v=[],D=(1<<A+1)-1,E=0;E<c.length;++E)for(var R=c[E],N=D;N<1<<R.length;N=l.nextCombination(N)){for(var F=new Array(A+1),I=0,L=0;L<R.length;++L)N&1<<L&&(F[I++]=R[L]);v.push(F)}return m(v)}o.skeleton=b;function M(c){for(var A=[],v=0,D=c.length;v<D;++v)for(var E=c[v],R=0,N=E.length;R<N;++R){for(var F=new Array(E.length-1),I=0,L=0;I<N;++I)I!==R&&(F[L++]=E[I]);A.push(F)}return m(A)}o.boundary=M;function d(c,A){for(var v=new u(A),D=0;D<c.length;++D)for(var E=c[D],R=0;R<E.length;++R)for(var N=R+1;N<E.length;++N)v.link(E[R],E[N]);for(var F=[],I=v.ranks,D=0;D<I.length;++D)I[D]=-1;for(var D=0;D<c.length;++D){var L=v.find(c[D][0]);I[L]<0?(I[L]=F.length,F.push([c[D].slice(0)])):F[I[L]].push(c[D].slice(0))}return F}function x(c){for(var A=w(m(b(c,0))),v=new u(A.length),D=0;D<c.length;++D)for(var E=c[D],R=0;R<E.length;++R)for(var N=T(A,[E[R]]),F=R+1;F<E.length;++F)v.link(N,T(A,[E[F]]));for(var I=[],L=v.ranks,D=0;D<L.length;++D)L[D]=-1;for(var D=0;D<c.length;++D){var P=v.find(T(A,[c[D][0]]));L[P]<0?(L[P]=I.length,I.push([c[D].slice(0)])):I[L[P]].push(c[D].slice(0))}return I}function g(c,A){return A?d(c,A):x(c)}o.connectedComponents=g},2095:function(a,o,i){"use strict";a.exports=T;var l=i(3134),u=i(3088),s=i(5085),f=i(5250),h=i(8210),p=i(1682),_=i(5609);function m(y,k){for(var S=new Array(y),b=0;b<y;++b)S[b]=k;return S}function w(y){for(var k=new Array(y),S=0;S<y;++S)k[S]=[];return k}function T(y,k){var ee=_(y,k);y=ee[0],k=ee[1];for(var S=k.length,b=y.length,M=l(y,k.length),d=0;d<S;++d)if(M[d].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var x=u(y,k);function g(he){for(var Ae=he.length,Ce=[0],Pe=0;Pe<Ae;++Pe){var Ee=k[he[Pe]],Ne=k[he[(Pe+1)%Ae]],Ue=f(-Ee[0],Ee[1]),ge=f(-Ee[0],Ne[1]),we=f(Ne[0],Ee[1]),Te=f(Ne[0],Ne[1]);Ce=h(Ce,h(h(Ue,ge),h(we,Te)))}return Ce[Ce.length-1]>0}x=x.filter(g);for(var c=x.length,A=new Array(c),v=new Array(c),d=0;d<c;++d){A[d]=d;var D=new Array(c),E=x[d].map(function(Ae){return k[Ae]}),R=s([E]),N=0;e:for(var F=0;F<c;++F)if(D[F]=0,d!==F){for(var I=x[F],L=I.length,P=0;P<L;++P){var O=R(k[I[P]]);if(O!==0){O<0&&(D[F]=1,N+=1);continue e}}D[F]=1,N+=1}v[d]=[N,d,D]}v.sort(function(he,Ae){return Ae[0]-he[0]});for(var d=0;d<c;++d)for(var D=v[d],U=D[1],X=D[2],F=0;F<c;++F)X[F]&&(A[F]=U);for(var $=w(c),d=0;d<c;++d)$[d].push(A[d]),$[A[d]].push(d);for(var j={},Y=m(S,!1),d=0;d<c;++d)for(var I=x[d],L=I.length,F=0;F<L;++F){var q=I[F],K=I[(F+1)%L],ne=Math.min(q,K)+":"+Math.max(q,K);if(ne in j){var Q=j[ne];$[Q].push(d),$[d].push(Q),Y[q]=Y[K]=!0}else j[ne]=d}function oe(he){for(var Ae=he.length,Ce=0;Ce<Ae;++Ce)if(!Y[he[Ce]])return!1;return!0}for(var re=[],H=m(c,-1),d=0;d<c;++d)A[d]===d&&!oe(x[d])?(re.push(d),H[d]=0):H[d]=-1;for(var ee=[];re.length>0;){var V=re.pop(),te=$[V];p(te,function(he,Ae){return he-Ae});var ue=te.length,ve=H[V],ke;if(ve===0){var I=x[V];ke=[I]}for(var d=0;d<ue;++d){var Se=te[d];if(!(H[Se]>=0)&&(H[Se]=ve^1,re.push(Se),ve===0)){var I=x[Se];oe(I)||(I.reverse(),ke.push(I))}}ve===0&&ee.push(ke)}return ee}},2145:function(a,o){"use strict";o.uniforms=s,o.attributes=f;var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},l=null;function u(h,p){if(!l){var _=Object.keys(i);l={};for(var m=0;m<_.length;++m){var w=_[m];l[h[w]]=i[w]}}return l[p]}function s(h,p){for(var _=h.getProgramParameter(p,h.ACTIVE_UNIFORMS),m=[],w=0;w<_;++w){var T=h.getActiveUniform(p,w);if(T){var y=u(h,T.type);if(T.size>1)for(var k=0;k<T.size;++k)m.push({name:T.name.replace("[0]","["+k+"]"),type:y});else m.push({name:T.name,type:y})}}return m}function f(h,p){for(var _=h.getProgramParameter(p,h.ACTIVE_ATTRIBUTES),m=[],w=0;w<_;++w){var T=h.getActiveAttrib(p,w);T&&m.push({name:T.name,type:u(h,T.type)})}return m}},2229:function(a,o,i){a.exports=i(6843)},2260:function(a,o,i){"use strict";var l=i(7766);a.exports=x;var u=null,s,f,h,p;function _(g){var c=g.getParameter(g.FRAMEBUFFER_BINDING),A=g.getParameter(g.RENDERBUFFER_BINDING),v=g.getParameter(g.TEXTURE_BINDING_2D);return[c,A,v]}function m(g,c){g.bindFramebuffer(g.FRAMEBUFFER,c[0]),g.bindRenderbuffer(g.RENDERBUFFER,c[1]),g.bindTexture(g.TEXTURE_2D,c[2])}function w(g,c){var A=g.getParameter(c.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(A+1);for(var v=0;v<=A;++v){for(var D=new Array(A),E=0;E<v;++E)D[E]=g.COLOR_ATTACHMENT0+E;for(var E=v;E<A;++E)D[E]=g.NONE;u[v]=D}}function T(g){switch(g){case s:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case h:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case p:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function y(g,c,A,v,D,E){if(!v)return null;var R=l(g,c,A,D,v);return R.magFilter=g.NEAREST,R.minFilter=g.NEAREST,R.mipSamples=1,R.bind(),g.framebufferTexture2D(g.FRAMEBUFFER,E,g.TEXTURE_2D,R.handle,0),R}function k(g,c,A,v,D){var E=g.createRenderbuffer();return g.bindRenderbuffer(g.RENDERBUFFER,E),g.renderbufferStorage(g.RENDERBUFFER,v,c,A),g.framebufferRenderbuffer(g.FRAMEBUFFER,D,g.RENDERBUFFER,E),E}function S(g){var c=_(g.gl),A=g.gl,v=g.handle=A.createFramebuffer(),D=g._shape[0],E=g._shape[1],R=g.color.length,N=g._ext,F=g._useStencil,I=g._useDepth,L=g._colorType;A.bindFramebuffer(A.FRAMEBUFFER,v);for(var P=0;P<R;++P)g.color[P]=y(A,D,E,L,A.RGBA,A.COLOR_ATTACHMENT0+P);R===0?(g._color_rb=k(A,D,E,A.RGBA4,A.COLOR_ATTACHMENT0),N&&N.drawBuffersWEBGL(u[0])):R>1&&N.drawBuffersWEBGL(u[R]);var O=A.getExtension("WEBGL_depth_texture");O?F?g.depth=y(A,D,E,O.UNSIGNED_INT_24_8_WEBGL,A.DEPTH_STENCIL,A.DEPTH_STENCIL_ATTACHMENT):I&&(g.depth=y(A,D,E,A.UNSIGNED_SHORT,A.DEPTH_COMPONENT,A.DEPTH_ATTACHMENT)):I&&F?g._depth_rb=k(A,D,E,A.DEPTH_STENCIL,A.DEPTH_STENCIL_ATTACHMENT):I?g._depth_rb=k(A,D,E,A.DEPTH_COMPONENT16,A.DEPTH_ATTACHMENT):F&&(g._depth_rb=k(A,D,E,A.STENCIL_INDEX,A.STENCIL_ATTACHMENT));var U=A.checkFramebufferStatus(A.FRAMEBUFFER);if(U!==A.FRAMEBUFFER_COMPLETE){g._destroyed=!0,A.bindFramebuffer(A.FRAMEBUFFER,null),A.deleteFramebuffer(g.handle),g.handle=null,g.depth&&(g.depth.dispose(),g.depth=null),g._depth_rb&&(A.deleteRenderbuffer(g._depth_rb),g._depth_rb=null);for(var P=0;P<g.color.length;++P)g.color[P].dispose(),g.color[P]=null;g._color_rb&&(A.deleteRenderbuffer(g._color_rb),g._color_rb=null),m(A,c),T(U)}m(A,c)}function b(g,c,A,v,D,E,R,N){this.gl=g,this._shape=[c|0,A|0],this._destroyed=!1,this._ext=N,this.color=new Array(D);for(var F=0;F<D;++F)this.color[F]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=v,this._useDepth=E,this._useStencil=R;var I=this,L=[c|0,A|0];Object.defineProperties(L,{0:{get:function(){return I._shape[0]},set:function(P){return I.width=P}},1:{get:function(){return I._shape[1]},set:function(P){return I.height=P}}}),this._shapeVector=L,S(this)}var M=b.prototype;function d(g,c,A){if(g._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(g._shape[0]===c&&g._shape[1]===A)){var v=g.gl,D=v.getParameter(v.MAX_RENDERBUFFER_SIZE);if(c<0||c>D||A<0||A>D)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");g._shape[0]=c,g._shape[1]=A;for(var E=_(v),R=0;R<g.color.length;++R)g.color[R].shape=g._shape;g._color_rb&&(v.bindRenderbuffer(v.RENDERBUFFER,g._color_rb),v.renderbufferStorage(v.RENDERBUFFER,v.RGBA4,g._shape[0],g._shape[1])),g.depth&&(g.depth.shape=g._shape),g._depth_rb&&(v.bindRenderbuffer(v.RENDERBUFFER,g._depth_rb),g._useDepth&&g._useStencil?v.renderbufferStorage(v.RENDERBUFFER,v.DEPTH_STENCIL,g._shape[0],g._shape[1]):g._useDepth?v.renderbufferStorage(v.RENDERBUFFER,v.DEPTH_COMPONENT16,g._shape[0],g._shape[1]):g._useStencil&&v.renderbufferStorage(v.RENDERBUFFER,v.STENCIL_INDEX,g._shape[0],g._shape[1])),v.bindFramebuffer(v.FRAMEBUFFER,g.handle);var N=v.checkFramebufferStatus(v.FRAMEBUFFER);N!==v.FRAMEBUFFER_COMPLETE&&(g.dispose(),m(v,E),T(N)),m(v,E)}}Object.defineProperties(M,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(g){if(Array.isArray(g)||(g=[g|0,g|0]),g.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var c=g[0]|0,A=g[1]|0;return d(this,c,A),[c,A]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(g){return g=g|0,d(this,g,this._shape[1]),g},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(g){return g=g|0,d(this,this._shape[0],g),g},enumerable:!1}}),M.bind=function(){if(!this._destroyed){var g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,this.handle),g.viewport(0,0,this._shape[0],this._shape[1])}},M.dispose=function(){if(!this._destroyed){this._destroyed=!0;var g=this.gl;g.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(g.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var c=0;c<this.color.length;++c)this.color[c].dispose(),this.color[c]=null;this._color_rb&&(g.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function x(g,c,A,v){s||(s=g.FRAMEBUFFER_UNSUPPORTED,f=g.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,h=g.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,p=g.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var D=g.getExtension("WEBGL_draw_buffers");if(!u&&D&&w(g,D),Array.isArray(c)&&(v=A,A=c[1]|0,c=c[0]|0),typeof c!="number")throw new Error("gl-fbo: Missing shape parameter");var E=g.getParameter(g.MAX_RENDERBUFFER_SIZE);if(c<0||c>E||A<0||A>E)throw new Error("gl-fbo: Parameters are too large for FBO");v=v||{};var R=1;if("color"in v){if(R=Math.max(v.color|0,0),R<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(R>1)if(D){if(R>g.getParameter(D.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+R+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var N=g.UNSIGNED_BYTE,F=g.getExtension("OES_texture_float");if(v.float&&R>0){if(!F)throw new Error("gl-fbo: Context does not support floating point textures");N=g.FLOAT}else v.preferFloat&&R>0&&F&&(N=g.FLOAT);var I=!0;"depth"in v&&(I=!!v.depth);var L=!1;return"stencil"in v&&(L=!!v.stencil),new b(g,c,A,N,R,I,L,D)}},2272:function(a,o,i){"use strict";var l=i(2646)[4],u=i(2478);a.exports=f;function s(h,p,_,m,w,T){var y=p.opposite(m,w);if(!(y<0)){if(w<m){var k=m;m=w,w=k,k=T,T=y,y=k}p.isConstraint(m,w)||l(h[m],h[w],h[T],h[y])<0&&_.push(m,w)}}function f(h,p){for(var _=[],m=h.length,w=p.stars,T=0;T<m;++T)for(var y=w[T],k=1;k<y.length;k+=2){var S=y[k];if(!(S<T)&&!p.isConstraint(T,S)){for(var b=y[k-1],M=-1,d=1;d<y.length;d+=2)if(y[d-1]===S){M=y[d];break}M<0||l(h[T],h[S],h[b],h[M])<0&&_.push(T,S)}}for(;_.length>0;){for(var S=_.pop(),T=_.pop(),b=-1,M=-1,y=w[T],x=1;x<y.length;x+=2){var g=y[x-1],c=y[x];g===S?M=c:c===S&&(b=g)}b<0||M<0||l(h[T],h[S],h[b],h[M])>=0||(p.flip(T,S),s(h,p,_,b,T,M),s(h,p,_,T,M,b),s(h,p,_,M,S,b),s(h,p,_,S,b,M))}}},2334:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.min(l[0],u[0]),i[1]=Math.min(l[1],u[1]),i[2]=Math.min(l[2],u[2]),i[3]=Math.min(l[3],u[3]),i}},2335:function(a){a.exports=o;function o(i){var l=new Float32Array(4);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l}},2361:function(a){var o=!1;if(typeof Float64Array!="undefined"){var i=new Float64Array(1),l=new Uint32Array(i.buffer);if(i[0]=1,o=!0,l[1]===1072693248){let k=function(M,d){return l[0]=M,l[1]=d,i[0]},S=function(M){return i[0]=M,l[0]},b=function(M){return i[0]=M,l[1]};var s=k,f=S,h=b;a.exports=function(d){return i[0]=d,[l[0],l[1]]},a.exports.pack=k,a.exports.lo=S,a.exports.hi=b}else if(l[0]===1072693248){let k=function(M,d){return l[1]=M,l[0]=d,i[0]},S=function(M){return i[0]=M,l[1]},b=function(M){return i[0]=M,l[0]};var p=k,_=S,m=b;a.exports=function(d){return i[0]=d,[l[1],l[0]]},a.exports.pack=k,a.exports.lo=S,a.exports.hi=b}else o=!1}if(!o){let k=function(M,d){return u.writeUInt32LE(M,0,!0),u.writeUInt32LE(d,4,!0),u.readDoubleLE(0,!0)},S=function(M){return u.writeDoubleLE(M,0,!0),u.readUInt32LE(0,!0)},b=function(M){return u.writeDoubleLE(M,0,!0),u.readUInt32LE(4,!0)};var w=k,T=S,y=b,u=new Buffer(8);a.exports=function(d){return u.writeDoubleLE(d,0,!0),[u.readUInt32LE(0,!0),u.readUInt32LE(4,!0)]},a.exports.pack=k,a.exports.lo=S,a.exports.hi=b}a.exports.sign=function(k){return a.exports.hi(k)>>>31},a.exports.exponent=function(k){var S=a.exports.hi(k);return(S<<1>>>21)-1023},a.exports.fraction=function(k){var S=a.exports.lo(k),b=a.exports.hi(k),M=b&(1<<20)-1;return b&2146435072&&(M+=1048576),[S,M]},a.exports.denormalized=function(k){var S=a.exports.hi(k);return!(S&2146435072)}},2408:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),h=l[0],p=l[1],_=l[2],m=l[3],w=l[8],T=l[9],y=l[10],k=l[11];return l!==i&&(i[4]=l[4],i[5]=l[5],i[6]=l[6],i[7]=l[7],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[0]=h*f-w*s,i[1]=p*f-T*s,i[2]=_*f-y*s,i[3]=m*f-k*s,i[8]=h*s+w*f,i[9]=p*s+T*f,i[10]=_*s+y*f,i[11]=m*s+k*f,i}},2419:function(a){"use strict";a.exports=o;function o(i){for(var l=1,u=1;u<i.length;++u)for(var s=0;s<u;++s)if(i[u]<i[s])l=-l;else if(i[s]===i[u])return 0;return l}},2447:function(a){a.exports=o;function o(i,l){return i[0]=Math.round(l[0]),i[1]=Math.round(l[1]),i[2]=Math.round(l[2]),i}},2455:function(a,o){"use strict";function i(){function s(p,_,m,w,T,y,k,S,b,M,d){for(var x=2*p,g=w,c=x*w;g<T;++g,c+=x){var A=y[_+c],v=y[_+c+p],D=k[g];e:for(var E=S,R=x*S;E<b;++E,R+=x){var N=M[_+R],F=M[_+R+p],I=d[E];if(!(F<A||v<N)){for(var L=_+1;L<p;++L){var P=y[L+c],O=y[L+p+c],U=M[L+R],X=M[L+p+R];if(O<U||X<P)continue e}var $=m(D,I);if($!==void 0)return $}}}}function f(p,_,m,w,T,y,k,S,b,M,d){for(var x=2*p,g=S,c=x*S;g<b;++g,c+=x){var A=M[_+c],v=M[_+c+p],D=d[g];e:for(var E=w,R=x*w;E<T;++E,R+=x){var N=y[_+R],F=y[_+R+p],I=k[E];if(!(v<N||F<A)){for(var L=_+1;L<p;++L){var P=y[L+R],O=y[L+p+R],U=M[L+c],X=M[L+p+c];if(O<U||X<P)continue e}var $=m(I,D);if($!==void 0)return $}}}}function h(p,_,m,w,T,y,k,S,b,M,d){return T-w>b-S?s(p,_,m,w,T,y,k,S,b,M,d):f(p,_,m,w,T,y,k,S,b,M,d)}return h}function l(){function s(m,w,T,y,k,S,b,M,d,x,g){for(var c=2*m,A=y,v=c*y;A<k;++A,v+=c){var D=S[w+v],E=S[w+v+m],R=b[A];e:for(var N=M,F=c*M;N<d;++N,F+=c){var I=x[w+F],L=g[N];if(!(I<=D||E<I)){for(var P=w+1;P<m;++P){var O=S[P+v],U=S[P+m+v],X=x[P+F],$=x[P+m+F];if(U<X||$<O)continue e}var j=T(L,R);if(j!==void 0)return j}}}}function f(m,w,T,y,k,S,b,M,d,x,g){for(var c=2*m,A=y,v=c*y;A<k;++A,v+=c){var D=S[w+v],E=S[w+v+m],R=b[A];e:for(var N=M,F=c*M;N<d;++N,F+=c){var I=x[w+F],L=g[N];if(!(I<D||E<I)){for(var P=w+1;P<m;++P){var O=S[P+v],U=S[P+m+v],X=x[P+F],$=x[P+m+F];if(U<X||$<O)continue e}var j=T(R,L);if(j!==void 0)return j}}}}function h(m,w,T,y,k,S,b,M,d,x,g){for(var c=2*m,A=M,v=c*M;A<d;++A,v+=c){var D=x[w+v],E=g[A];e:for(var R=y,N=c*y;R<k;++R,N+=c){var F=S[w+N],I=S[w+N+m],L=b[R];if(!(D<=F||I<D)){for(var P=w+1;P<m;++P){var O=S[P+N],U=S[P+m+N],X=x[P+v],$=x[P+m+v];if(U<X||$<O)continue e}var j=T(E,L);if(j!==void 0)return j}}}}function p(m,w,T,y,k,S,b,M,d,x,g){for(var c=2*m,A=M,v=c*M;A<d;++A,v+=c){var D=x[w+v],E=g[A];e:for(var R=y,N=c*y;R<k;++R,N+=c){var F=S[w+N],I=S[w+N+m],L=b[R];if(!(D<F||I<D)){for(var P=w+1;P<m;++P){var O=S[P+N],U=S[P+m+N],X=x[P+v],$=x[P+m+v];if(U<X||$<O)continue e}var j=T(L,E);if(j!==void 0)return j}}}}function _(m,w,T,y,k,S,b,M,d,x,g,c){return S-k>x-d?y?s(m,w,T,k,S,b,M,d,x,g,c):f(m,w,T,k,S,b,M,d,x,g,c):y?h(m,w,T,k,S,b,M,d,x,g,c):p(m,w,T,k,S,b,M,d,x,g,c)}return _}function u(s){return s?i():l()}o.partial=u(!1),o.full=u(!0)},2478:function(a){"use strict";function o(h,p,_,m,w){for(var T=w+1;m<=w;){var y=m+w>>>1,k=h[y],S=_!==void 0?_(k,p):k-p;S>=0?(T=y,w=y-1):m=y+1}return T}function i(h,p,_,m,w){for(var T=w+1;m<=w;){var y=m+w>>>1,k=h[y],S=_!==void 0?_(k,p):k-p;S>0?(T=y,w=y-1):m=y+1}return T}function l(h,p,_,m,w){for(var T=m-1;m<=w;){var y=m+w>>>1,k=h[y],S=_!==void 0?_(k,p):k-p;S<0?(T=y,m=y+1):w=y-1}return T}function u(h,p,_,m,w){for(var T=m-1;m<=w;){var y=m+w>>>1,k=h[y],S=_!==void 0?_(k,p):k-p;S<=0?(T=y,m=y+1):w=y-1}return T}function s(h,p,_,m,w){for(;m<=w;){var T=m+w>>>1,y=h[T],k=_!==void 0?_(y,p):y-p;if(k===0)return T;k<=0?m=T+1:w=T-1}return-1}function f(h,p,_,m,w,T){return typeof _=="function"?T(h,p,_,m===void 0?0:m|0,w===void 0?h.length-1:w|0):T(h,p,void 0,_===void 0?0:_|0,m===void 0?h.length-1:m|0)}a.exports={ge:function(h,p,_,m,w){return f(h,p,_,m,w,o)},gt:function(h,p,_,m,w){return f(h,p,_,m,w,i)},lt:function(h,p,_,m,w){return f(h,p,_,m,w,l)},le:function(h,p,_,m,w){return f(h,p,_,m,w,u)},eq:function(h,p,_,m,w){return f(h,p,_,m,w,s)}}},2504:function(a){a.exports=o;function o(i,l,u){var s=u[0],f=u[1],h=u[2];return i[0]=l[0]*s,i[1]=l[1]*s,i[2]=l[2]*s,i[3]=l[3]*s,i[4]=l[4]*f,i[5]=l[5]*f,i[6]=l[6]*f,i[7]=l[7]*f,i[8]=l[8]*h,i[9]=l[9]*h,i[10]=l[10]*h,i[11]=l[11]*h,i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15],i}},2538:function(a,o,i){"use strict";var l=i(8902),u=i(5542),s=i(2272),f=i(5023);a.exports=w;function h(T){return[Math.min(T[0],T[1]),Math.max(T[0],T[1])]}function p(T,y){return T[0]-y[0]||T[1]-y[1]}function _(T){return T.map(h).sort(p)}function m(T,y,k){return y in T?T[y]:k}function w(T,y,k){Array.isArray(y)?(k=k||{},y=y||[]):(k=y||{},y=[]);var S=!!m(k,"delaunay",!0),b=!!m(k,"interior",!0),M=!!m(k,"exterior",!0),d=!!m(k,"infinity",!1);if(!b&&!M||T.length===0)return[];var x=l(T,y);if(S||b!==M||d){for(var g=u(T.length,_(y)),c=0;c<x.length;++c){var A=x[c];g.addTriangle(A[0],A[1],A[2])}return S&&s(T,g),M?b?d?f(g,0,d):g.cells():f(g,1,d):f(g,-1)}else return x}},2573:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],h=l[1],p=l[2],_=l[3];return i[0]=f+s*(u[0]-f),i[1]=h+s*(u[1]-h),i[2]=p+s*(u[2]-p),i[3]=_+s*(u[3]-_),i}},2613:function(a){a.exports=1e-6},2640:function(a,o,i){"use strict";var l=i(1888);a.exports=f;var u={"false,0,1":function(p,_,m,w,T){return function(k,S,b,M){var d=k.shape[0]|0,x=k.shape[1]|0,g=k.data,c=k.offset|0,A=k.stride[0]|0,v=k.stride[1]|0,D=c,E,R=-A|0,N=0,F=-v|0,I=0,L=-A-v|0,P=0,O=A|0,U=v-A*d|0,X=0,$=0,j=0,Y=2*d|0,q=w(Y),K=w(Y),ne=0,Q=0,oe=-1,re=-1,H=0,ee=-d|0,V=d|0,te=0,ue=-d-1|0,ve=d-1|0,ke=0,Se=0,he=0;for(X=0;X<d;++X)q[ne++]=m(g[D],S,b,M),D+=O;if(D+=U,x>0){if($=1,q[ne++]=m(g[D],S,b,M),D+=O,d>0)for(X=1,E=g[D],Q=q[ne]=m(E,S,b,M),H=q[ne+oe],te=q[ne+ee],ke=q[ne+ue],(Q!==H||Q!==te||Q!==ke)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,Q,H,te,ke,S,b,M),Se=K[ne]=j++),ne+=1,D+=O,X=2;X<d;++X)E=g[D],Q=q[ne]=m(E,S,b,M),H=q[ne+oe],te=q[ne+ee],ke=q[ne+ue],(Q!==H||Q!==te||Q!==ke)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,Q,H,te,ke,S,b,M),Se=K[ne]=j++,ke!==H&&_(K[ne+oe],Se,P,N,ke,H,S,b,M)),ne+=1,D+=O;for(D+=U,ne=0,he=oe,oe=re,re=he,he=ee,ee=V,V=he,he=ue,ue=ve,ve=he,$=2;$<x;++$){if(q[ne++]=m(g[D],S,b,M),D+=O,d>0)for(X=1,E=g[D],Q=q[ne]=m(E,S,b,M),H=q[ne+oe],te=q[ne+ee],ke=q[ne+ue],(Q!==H||Q!==te||Q!==ke)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,Q,H,te,ke,S,b,M),Se=K[ne]=j++,ke!==te&&_(K[ne+ee],Se,I,P,te,ke,S,b,M)),ne+=1,D+=O,X=2;X<d;++X)E=g[D],Q=q[ne]=m(E,S,b,M),H=q[ne+oe],te=q[ne+ee],ke=q[ne+ue],(Q!==H||Q!==te||Q!==ke)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,Q,H,te,ke,S,b,M),Se=K[ne]=j++,ke!==te&&_(K[ne+ee],Se,I,P,te,ke,S,b,M),ke!==H&&_(K[ne+oe],Se,P,N,ke,H,S,b,M)),ne+=1,D+=O;$&1&&(ne=0),he=oe,oe=re,re=he,he=ee,ee=V,V=he,he=ue,ue=ve,ve=he,D+=U}}T(K),T(q)}},"false,1,0":function(p,_,m,w,T){return function(k,S,b,M){var d=k.shape[0]|0,x=k.shape[1]|0,g=k.data,c=k.offset|0,A=k.stride[0]|0,v=k.stride[1]|0,D=c,E,R=-A|0,N=0,F=-v|0,I=0,L=-A-v|0,P=0,O=v|0,U=A-v*x|0,X=0,$=0,j=0,Y=2*x|0,q=w(Y),K=w(Y),ne=0,Q=0,oe=-1,re=-1,H=0,ee=-x|0,V=x|0,te=0,ue=-x-1|0,ve=x-1|0,ke=0,Se=0,he=0;for($=0;$<x;++$)q[ne++]=m(g[D],S,b,M),D+=O;if(D+=U,d>0){if(X=1,q[ne++]=m(g[D],S,b,M),D+=O,x>0)for($=1,E=g[D],Q=q[ne]=m(E,S,b,M),te=q[ne+ee],H=q[ne+oe],ke=q[ne+ue],(Q!==te||Q!==H||Q!==ke)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,Q,te,H,ke,S,b,M),Se=K[ne]=j++),ne+=1,D+=O,$=2;$<x;++$)E=g[D],Q=q[ne]=m(E,S,b,M),te=q[ne+ee],H=q[ne+oe],ke=q[ne+ue],(Q!==te||Q!==H||Q!==ke)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,Q,te,H,ke,S,b,M),Se=K[ne]=j++,ke!==H&&_(K[ne+oe],Se,I,P,H,ke,S,b,M)),ne+=1,D+=O;for(D+=U,ne=0,he=ee,ee=V,V=he,he=oe,oe=re,re=he,he=ue,ue=ve,ve=he,X=2;X<d;++X){if(q[ne++]=m(g[D],S,b,M),D+=O,x>0)for($=1,E=g[D],Q=q[ne]=m(E,S,b,M),te=q[ne+ee],H=q[ne+oe],ke=q[ne+ue],(Q!==te||Q!==H||Q!==ke)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,Q,te,H,ke,S,b,M),Se=K[ne]=j++,ke!==te&&_(K[ne+ee],Se,P,N,ke,te,S,b,M)),ne+=1,D+=O,$=2;$<x;++$)E=g[D],Q=q[ne]=m(E,S,b,M),te=q[ne+ee],H=q[ne+oe],ke=q[ne+ue],(Q!==te||Q!==H||Q!==ke)&&(N=g[D+R],I=g[D+F],P=g[D+L],p(X,$,E,N,I,P,Q,te,H,ke,S,b,M),Se=K[ne]=j++,ke!==H&&_(K[ne+oe],Se,I,P,H,ke,S,b,M),ke!==te&&_(K[ne+ee],Se,P,N,ke,te,S,b,M)),ne+=1,D+=O;X&1&&(ne=0),he=ee,ee=V,V=he,he=oe,oe=re,re=he,he=ue,ue=ve,ve=he,D+=U}}T(K),T(q)}}};function s(h,p,_,m,w,T){var y=[T,w].join(","),k=u[y];return k(h,p,_,l.mallocUint32,l.freeUint32)}function f(h){function p(S){throw new Error("ndarray-extract-contour: "+S)}typeof h!="object"&&p("Must specify arguments");var _=h.order;Array.isArray(_)||p("Must specify order");var m=h.arrayArguments||1;m<1&&p("Must have at least one array argument");var w=h.scalarArguments||0;w<0&&p("Scalar arg count must be > 0"),typeof h.vertex!="function"&&p("Must specify vertex creation function"),typeof h.cell!="function"&&p("Must specify cell creation function"),typeof h.phase!="function"&&p("Must specify phase function");for(var T=h.getters||[],y=new Array(m),k=0;k<m;++k)T.indexOf(k)>=0?y[k]=!0:y[k]=!1;return s(h.vertex,h.cell,h.phase,w,_,y)}},2642:function(a,o,i){"use strict";a.exports=s;var l=i(727);function u(f){for(var h=0,p=0;p<f.length;++p)h+=f[p];return h}function s(f,h){for(var p=h.length,_=new Array(p+1),m=0;m<p;++m){for(var w=new Array(p+1),T=0;T<=p;++T)w[T]=f[T][m];_[m]=w}_[p]=new Array(p+1);for(var m=0;m<=p;++m)_[p][m]=1;for(var y=new Array(p+1),m=0;m<p;++m)y[m]=h[m];y[p]=1;var k=l(_,y),S=u(k[p+1]);S===0&&(S=1);for(var b=new Array(p+1),m=0;m<=p;++m)b[m]=u(k[m])/S;return b}},2646:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(8545),f=i(3012),h=6;function p(g){var c=g===3?T:g===4?y:g===5?k:S;return c(u,s,l,f)}function _(){return 0}function m(){return 0}function w(){return 0}function T(g,c,A,v){function D(E,R,N){var F=A(E[0],E[0]),I=v(F,R[0]),L=v(F,N[0]),P=A(R[0],R[0]),O=v(P,E[0]),U=v(P,N[0]),X=A(N[0],N[0]),$=v(X,E[0]),j=v(X,R[0]),Y=g(c(j,U),c(O,I)),q=c($,L),K=c(Y,q);return K[K.length-1]}return D}function y(g,c,A,v){function D(E,R,N,F){var I=g(A(E[0],E[0]),A(E[1],E[1])),L=v(I,R[0]),P=v(I,N[0]),O=v(I,F[0]),U=g(A(R[0],R[0]),A(R[1],R[1])),X=v(U,E[0]),$=v(U,N[0]),j=v(U,F[0]),Y=g(A(N[0],N[0]),A(N[1],N[1])),q=v(Y,E[0]),K=v(Y,R[0]),ne=v(Y,F[0]),Q=g(A(F[0],F[0]),A(F[1],F[1])),oe=v(Q,E[0]),re=v(Q,R[0]),H=v(Q,N[0]),ee=g(g(v(c(H,ne),R[1]),g(v(c(re,j),-N[1]),v(c(K,$),F[1]))),g(v(c(re,j),E[1]),g(v(c(oe,O),-R[1]),v(c(X,L),F[1])))),V=g(g(v(c(H,ne),E[1]),g(v(c(oe,O),-N[1]),v(c(q,P),F[1]))),g(v(c(K,$),E[1]),g(v(c(q,P),-R[1]),v(c(X,L),N[1])))),te=c(ee,V);return te[te.length-1]}return D}function k(g,c,A,v){function D(E,R,N,F,I){var L=g(A(E[0],E[0]),g(A(E[1],E[1]),A(E[2],E[2]))),P=v(L,R[0]),O=v(L,N[0]),U=v(L,F[0]),X=v(L,I[0]),$=g(A(R[0],R[0]),g(A(R[1],R[1]),A(R[2],R[2]))),j=v($,E[0]),Y=v($,N[0]),q=v($,F[0]),K=v($,I[0]),ne=g(A(N[0],N[0]),g(A(N[1],N[1]),A(N[2],N[2]))),Q=v(ne,E[0]),oe=v(ne,R[0]),re=v(ne,F[0]),H=v(ne,I[0]),ee=g(A(F[0],F[0]),g(A(F[1],F[1]),A(F[2],F[2]))),V=v(ee,E[0]),te=v(ee,R[0]),ue=v(ee,N[0]),ve=v(ee,I[0]),ke=g(A(I[0],I[0]),g(A(I[1],I[1]),A(I[2],I[2]))),Se=v(ke,E[0]),he=v(ke,R[0]),Ae=v(ke,N[0]),Ce=v(ke,F[0]),Pe=g(g(g(v(g(v(c(Ce,ve),N[1]),g(v(c(Ae,H),-F[1]),v(c(ue,re),I[1]))),R[2]),g(v(g(v(c(Ce,ve),R[1]),g(v(c(he,K),-F[1]),v(c(te,q),I[1]))),-N[2]),v(g(v(c(Ae,H),R[1]),g(v(c(he,K),-N[1]),v(c(oe,Y),I[1]))),F[2]))),g(v(g(v(c(ue,re),R[1]),g(v(c(te,q),-N[1]),v(c(oe,Y),F[1]))),-I[2]),g(v(g(v(c(Ce,ve),R[1]),g(v(c(he,K),-F[1]),v(c(te,q),I[1]))),E[2]),v(g(v(c(Ce,ve),E[1]),g(v(c(Se,X),-F[1]),v(c(V,U),I[1]))),-R[2])))),g(g(v(g(v(c(he,K),E[1]),g(v(c(Se,X),-R[1]),v(c(j,P),I[1]))),F[2]),g(v(g(v(c(te,q),E[1]),g(v(c(V,U),-R[1]),v(c(j,P),F[1]))),-I[2]),v(g(v(c(ue,re),R[1]),g(v(c(te,q),-N[1]),v(c(oe,Y),F[1]))),E[2]))),g(v(g(v(c(ue,re),E[1]),g(v(c(V,U),-N[1]),v(c(Q,O),F[1]))),-R[2]),g(v(g(v(c(te,q),E[1]),g(v(c(V,U),-R[1]),v(c(j,P),F[1]))),N[2]),v(g(v(c(oe,Y),E[1]),g(v(c(Q,O),-R[1]),v(c(j,P),N[1]))),-F[2]))))),Ee=g(g(g(v(g(v(c(Ce,ve),N[1]),g(v(c(Ae,H),-F[1]),v(c(ue,re),I[1]))),E[2]),v(g(v(c(Ce,ve),E[1]),g(v(c(Se,X),-F[1]),v(c(V,U),I[1]))),-N[2])),g(v(g(v(c(Ae,H),E[1]),g(v(c(Se,X),-N[1]),v(c(Q,O),I[1]))),F[2]),v(g(v(c(ue,re),E[1]),g(v(c(V,U),-N[1]),v(c(Q,O),F[1]))),-I[2]))),g(g(v(g(v(c(Ae,H),R[1]),g(v(c(he,K),-N[1]),v(c(oe,Y),I[1]))),E[2]),v(g(v(c(Ae,H),E[1]),g(v(c(Se,X),-N[1]),v(c(Q,O),I[1]))),-R[2])),g(v(g(v(c(he,K),E[1]),g(v(c(Se,X),-R[1]),v(c(j,P),I[1]))),N[2]),v(g(v(c(oe,Y),E[1]),g(v(c(Q,O),-R[1]),v(c(j,P),N[1]))),-I[2])))),Ne=c(Pe,Ee);return Ne[Ne.length-1]}return D}function S(g,c,A,v){function D(E,R,N,F,I,L){var P=g(g(A(E[0],E[0]),A(E[1],E[1])),g(A(E[2],E[2]),A(E[3],E[3]))),O=v(P,R[0]),U=v(P,N[0]),X=v(P,F[0]),$=v(P,I[0]),j=v(P,L[0]),Y=g(g(A(R[0],R[0]),A(R[1],R[1])),g(A(R[2],R[2]),A(R[3],R[3]))),q=v(Y,E[0]),K=v(Y,N[0]),ne=v(Y,F[0]),Q=v(Y,I[0]),oe=v(Y,L[0]),re=g(g(A(N[0],N[0]),A(N[1],N[1])),g(A(N[2],N[2]),A(N[3],N[3]))),H=v(re,E[0]),ee=v(re,R[0]),V=v(re,F[0]),te=v(re,I[0]),ue=v(re,L[0]),ve=g(g(A(F[0],F[0]),A(F[1],F[1])),g(A(F[2],F[2]),A(F[3],F[3]))),ke=v(ve,E[0]),Se=v(ve,R[0]),he=v(ve,N[0]),Ae=v(ve,I[0]),Ce=v(ve,L[0]),Pe=g(g(A(I[0],I[0]),A(I[1],I[1])),g(A(I[2],I[2]),A(I[3],I[3]))),Ee=v(Pe,E[0]),Ne=v(Pe,R[0]),Ue=v(Pe,N[0]),ge=v(Pe,F[0]),we=v(Pe,L[0]),Te=g(g(A(L[0],L[0]),A(L[1],L[1])),g(A(L[2],L[2]),A(L[3],L[3]))),me=v(Te,E[0]),ye=v(Te,R[0]),pe=v(Te,N[0]),ce=v(Te,F[0]),be=v(Te,I[0]),Le=g(g(g(v(g(g(v(g(v(c(be,we),F[1]),g(v(c(ce,Ce),-I[1]),v(c(ge,Ae),L[1]))),N[2]),v(g(v(c(be,we),N[1]),g(v(c(pe,ue),-I[1]),v(c(Ue,te),L[1]))),-F[2])),g(v(g(v(c(ce,Ce),N[1]),g(v(c(pe,ue),-F[1]),v(c(he,V),L[1]))),I[2]),v(g(v(c(ge,Ae),N[1]),g(v(c(Ue,te),-F[1]),v(c(he,V),I[1]))),-L[2]))),R[3]),g(v(g(g(v(g(v(c(be,we),F[1]),g(v(c(ce,Ce),-I[1]),v(c(ge,Ae),L[1]))),R[2]),v(g(v(c(be,we),R[1]),g(v(c(ye,oe),-I[1]),v(c(Ne,Q),L[1]))),-F[2])),g(v(g(v(c(ce,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(Se,ne),L[1]))),I[2]),v(g(v(c(ge,Ae),R[1]),g(v(c(Ne,Q),-F[1]),v(c(Se,ne),I[1]))),-L[2]))),-N[3]),v(g(g(v(g(v(c(be,we),N[1]),g(v(c(pe,ue),-I[1]),v(c(Ue,te),L[1]))),R[2]),v(g(v(c(be,we),R[1]),g(v(c(ye,oe),-I[1]),v(c(Ne,Q),L[1]))),-N[2])),g(v(g(v(c(pe,ue),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,K),L[1]))),I[2]),v(g(v(c(Ue,te),R[1]),g(v(c(Ne,Q),-N[1]),v(c(ee,K),I[1]))),-L[2]))),F[3]))),g(g(v(g(g(v(g(v(c(ce,Ce),N[1]),g(v(c(pe,ue),-F[1]),v(c(he,V),L[1]))),R[2]),v(g(v(c(ce,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(Se,ne),L[1]))),-N[2])),g(v(g(v(c(pe,ue),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,K),L[1]))),F[2]),v(g(v(c(he,V),R[1]),g(v(c(Se,ne),-N[1]),v(c(ee,K),F[1]))),-L[2]))),-I[3]),v(g(g(v(g(v(c(ge,Ae),N[1]),g(v(c(Ue,te),-F[1]),v(c(he,V),I[1]))),R[2]),v(g(v(c(ge,Ae),R[1]),g(v(c(Ne,Q),-F[1]),v(c(Se,ne),I[1]))),-N[2])),g(v(g(v(c(Ue,te),R[1]),g(v(c(Ne,Q),-N[1]),v(c(ee,K),I[1]))),F[2]),v(g(v(c(he,V),R[1]),g(v(c(Se,ne),-N[1]),v(c(ee,K),F[1]))),-I[2]))),L[3])),g(v(g(g(v(g(v(c(be,we),F[1]),g(v(c(ce,Ce),-I[1]),v(c(ge,Ae),L[1]))),R[2]),v(g(v(c(be,we),R[1]),g(v(c(ye,oe),-I[1]),v(c(Ne,Q),L[1]))),-F[2])),g(v(g(v(c(ce,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(Se,ne),L[1]))),I[2]),v(g(v(c(ge,Ae),R[1]),g(v(c(Ne,Q),-F[1]),v(c(Se,ne),I[1]))),-L[2]))),E[3]),v(g(g(v(g(v(c(be,we),F[1]),g(v(c(ce,Ce),-I[1]),v(c(ge,Ae),L[1]))),E[2]),v(g(v(c(be,we),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-F[2])),g(v(g(v(c(ce,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(ke,X),L[1]))),I[2]),v(g(v(c(ge,Ae),E[1]),g(v(c(Ee,$),-F[1]),v(c(ke,X),I[1]))),-L[2]))),-R[3])))),g(g(g(v(g(g(v(g(v(c(be,we),R[1]),g(v(c(ye,oe),-I[1]),v(c(Ne,Q),L[1]))),E[2]),v(g(v(c(be,we),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),I[2]),v(g(v(c(Ne,Q),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),-L[2]))),F[3]),v(g(g(v(g(v(c(ce,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(Se,ne),L[1]))),E[2]),v(g(v(c(ce,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(ke,X),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),F[2]),v(g(v(c(Se,ne),E[1]),g(v(c(ke,X),-R[1]),v(c(q,O),F[1]))),-L[2]))),-I[3])),g(v(g(g(v(g(v(c(ge,Ae),R[1]),g(v(c(Ne,Q),-F[1]),v(c(Se,ne),I[1]))),E[2]),v(g(v(c(ge,Ae),E[1]),g(v(c(Ee,$),-F[1]),v(c(ke,X),I[1]))),-R[2])),g(v(g(v(c(Ne,Q),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),F[2]),v(g(v(c(Se,ne),E[1]),g(v(c(ke,X),-R[1]),v(c(q,O),F[1]))),-I[2]))),L[3]),v(g(g(v(g(v(c(ce,Ce),N[1]),g(v(c(pe,ue),-F[1]),v(c(he,V),L[1]))),R[2]),v(g(v(c(ce,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(Se,ne),L[1]))),-N[2])),g(v(g(v(c(pe,ue),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,K),L[1]))),F[2]),v(g(v(c(he,V),R[1]),g(v(c(Se,ne),-N[1]),v(c(ee,K),F[1]))),-L[2]))),E[3]))),g(g(v(g(g(v(g(v(c(ce,Ce),N[1]),g(v(c(pe,ue),-F[1]),v(c(he,V),L[1]))),E[2]),v(g(v(c(ce,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(ke,X),L[1]))),-N[2])),g(v(g(v(c(pe,ue),E[1]),g(v(c(me,j),-N[1]),v(c(H,U),L[1]))),F[2]),v(g(v(c(he,V),E[1]),g(v(c(ke,X),-N[1]),v(c(H,U),F[1]))),-L[2]))),-R[3]),v(g(g(v(g(v(c(ce,Ce),R[1]),g(v(c(ye,oe),-F[1]),v(c(Se,ne),L[1]))),E[2]),v(g(v(c(ce,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(ke,X),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),F[2]),v(g(v(c(Se,ne),E[1]),g(v(c(ke,X),-R[1]),v(c(q,O),F[1]))),-L[2]))),N[3])),g(v(g(g(v(g(v(c(pe,ue),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,K),L[1]))),E[2]),v(g(v(c(pe,ue),E[1]),g(v(c(me,j),-N[1]),v(c(H,U),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),N[2]),v(g(v(c(ee,K),E[1]),g(v(c(H,U),-R[1]),v(c(q,O),N[1]))),-L[2]))),-F[3]),v(g(g(v(g(v(c(he,V),R[1]),g(v(c(Se,ne),-N[1]),v(c(ee,K),F[1]))),E[2]),v(g(v(c(he,V),E[1]),g(v(c(ke,X),-N[1]),v(c(H,U),F[1]))),-R[2])),g(v(g(v(c(Se,ne),E[1]),g(v(c(ke,X),-R[1]),v(c(q,O),F[1]))),N[2]),v(g(v(c(ee,K),E[1]),g(v(c(H,U),-R[1]),v(c(q,O),N[1]))),-F[2]))),L[3]))))),qe=g(g(g(v(g(g(v(g(v(c(be,we),F[1]),g(v(c(ce,Ce),-I[1]),v(c(ge,Ae),L[1]))),N[2]),v(g(v(c(be,we),N[1]),g(v(c(pe,ue),-I[1]),v(c(Ue,te),L[1]))),-F[2])),g(v(g(v(c(ce,Ce),N[1]),g(v(c(pe,ue),-F[1]),v(c(he,V),L[1]))),I[2]),v(g(v(c(ge,Ae),N[1]),g(v(c(Ue,te),-F[1]),v(c(he,V),I[1]))),-L[2]))),E[3]),g(v(g(g(v(g(v(c(be,we),F[1]),g(v(c(ce,Ce),-I[1]),v(c(ge,Ae),L[1]))),E[2]),v(g(v(c(be,we),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-F[2])),g(v(g(v(c(ce,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(ke,X),L[1]))),I[2]),v(g(v(c(ge,Ae),E[1]),g(v(c(Ee,$),-F[1]),v(c(ke,X),I[1]))),-L[2]))),-N[3]),v(g(g(v(g(v(c(be,we),N[1]),g(v(c(pe,ue),-I[1]),v(c(Ue,te),L[1]))),E[2]),v(g(v(c(be,we),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-N[2])),g(v(g(v(c(pe,ue),E[1]),g(v(c(me,j),-N[1]),v(c(H,U),L[1]))),I[2]),v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(H,U),I[1]))),-L[2]))),F[3]))),g(g(v(g(g(v(g(v(c(ce,Ce),N[1]),g(v(c(pe,ue),-F[1]),v(c(he,V),L[1]))),E[2]),v(g(v(c(ce,Ce),E[1]),g(v(c(me,j),-F[1]),v(c(ke,X),L[1]))),-N[2])),g(v(g(v(c(pe,ue),E[1]),g(v(c(me,j),-N[1]),v(c(H,U),L[1]))),F[2]),v(g(v(c(he,V),E[1]),g(v(c(ke,X),-N[1]),v(c(H,U),F[1]))),-L[2]))),-I[3]),v(g(g(v(g(v(c(ge,Ae),N[1]),g(v(c(Ue,te),-F[1]),v(c(he,V),I[1]))),E[2]),v(g(v(c(ge,Ae),E[1]),g(v(c(Ee,$),-F[1]),v(c(ke,X),I[1]))),-N[2])),g(v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(H,U),I[1]))),F[2]),v(g(v(c(he,V),E[1]),g(v(c(ke,X),-N[1]),v(c(H,U),F[1]))),-I[2]))),L[3])),g(v(g(g(v(g(v(c(be,we),N[1]),g(v(c(pe,ue),-I[1]),v(c(Ue,te),L[1]))),R[2]),v(g(v(c(be,we),R[1]),g(v(c(ye,oe),-I[1]),v(c(Ne,Q),L[1]))),-N[2])),g(v(g(v(c(pe,ue),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,K),L[1]))),I[2]),v(g(v(c(Ue,te),R[1]),g(v(c(Ne,Q),-N[1]),v(c(ee,K),I[1]))),-L[2]))),E[3]),v(g(g(v(g(v(c(be,we),N[1]),g(v(c(pe,ue),-I[1]),v(c(Ue,te),L[1]))),E[2]),v(g(v(c(be,we),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-N[2])),g(v(g(v(c(pe,ue),E[1]),g(v(c(me,j),-N[1]),v(c(H,U),L[1]))),I[2]),v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(H,U),I[1]))),-L[2]))),-R[3])))),g(g(g(v(g(g(v(g(v(c(be,we),R[1]),g(v(c(ye,oe),-I[1]),v(c(Ne,Q),L[1]))),E[2]),v(g(v(c(be,we),E[1]),g(v(c(me,j),-I[1]),v(c(Ee,$),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),I[2]),v(g(v(c(Ne,Q),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),-L[2]))),N[3]),v(g(g(v(g(v(c(pe,ue),R[1]),g(v(c(ye,oe),-N[1]),v(c(ee,K),L[1]))),E[2]),v(g(v(c(pe,ue),E[1]),g(v(c(me,j),-N[1]),v(c(H,U),L[1]))),-R[2])),g(v(g(v(c(ye,oe),E[1]),g(v(c(me,j),-R[1]),v(c(q,O),L[1]))),N[2]),v(g(v(c(ee,K),E[1]),g(v(c(H,U),-R[1]),v(c(q,O),N[1]))),-L[2]))),-I[3])),g(v(g(g(v(g(v(c(Ue,te),R[1]),g(v(c(Ne,Q),-N[1]),v(c(ee,K),I[1]))),E[2]),v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(H,U),I[1]))),-R[2])),g(v(g(v(c(Ne,Q),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),N[2]),v(g(v(c(ee,K),E[1]),g(v(c(H,U),-R[1]),v(c(q,O),N[1]))),-I[2]))),L[3]),v(g(g(v(g(v(c(ge,Ae),N[1]),g(v(c(Ue,te),-F[1]),v(c(he,V),I[1]))),R[2]),v(g(v(c(ge,Ae),R[1]),g(v(c(Ne,Q),-F[1]),v(c(Se,ne),I[1]))),-N[2])),g(v(g(v(c(Ue,te),R[1]),g(v(c(Ne,Q),-N[1]),v(c(ee,K),I[1]))),F[2]),v(g(v(c(he,V),R[1]),g(v(c(Se,ne),-N[1]),v(c(ee,K),F[1]))),-I[2]))),E[3]))),g(g(v(g(g(v(g(v(c(ge,Ae),N[1]),g(v(c(Ue,te),-F[1]),v(c(he,V),I[1]))),E[2]),v(g(v(c(ge,Ae),E[1]),g(v(c(Ee,$),-F[1]),v(c(ke,X),I[1]))),-N[2])),g(v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(H,U),I[1]))),F[2]),v(g(v(c(he,V),E[1]),g(v(c(ke,X),-N[1]),v(c(H,U),F[1]))),-I[2]))),-R[3]),v(g(g(v(g(v(c(ge,Ae),R[1]),g(v(c(Ne,Q),-F[1]),v(c(Se,ne),I[1]))),E[2]),v(g(v(c(ge,Ae),E[1]),g(v(c(Ee,$),-F[1]),v(c(ke,X),I[1]))),-R[2])),g(v(g(v(c(Ne,Q),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),F[2]),v(g(v(c(Se,ne),E[1]),g(v(c(ke,X),-R[1]),v(c(q,O),F[1]))),-I[2]))),N[3])),g(v(g(g(v(g(v(c(Ue,te),R[1]),g(v(c(Ne,Q),-N[1]),v(c(ee,K),I[1]))),E[2]),v(g(v(c(Ue,te),E[1]),g(v(c(Ee,$),-N[1]),v(c(H,U),I[1]))),-R[2])),g(v(g(v(c(Ne,Q),E[1]),g(v(c(Ee,$),-R[1]),v(c(q,O),I[1]))),N[2]),v(g(v(c(ee,K),E[1]),g(v(c(H,U),-R[1]),v(c(q,O),N[1]))),-I[2]))),-F[3]),v(g(g(v(g(v(c(he,V),R[1]),g(v(c(Se,ne),-N[1]),v(c(ee,K),F[1]))),E[2]),v(g(v(c(he,V),E[1]),g(v(c(ke,X),-N[1]),v(c(H,U),F[1]))),-R[2])),g(v(g(v(c(Se,ne),E[1]),g(v(c(ke,X),-R[1]),v(c(q,O),F[1]))),N[2]),v(g(v(c(ee,K),E[1]),g(v(c(H,U),-R[1]),v(c(q,O),N[1]))),-F[2]))),I[3]))))),ze=c(Le,qe);return ze[ze.length-1]}return D}var b=[_,m,w];function M(g){var c=b[g.length];return c||(c=b[g.length]=p(g.length)),c.apply(void 0,g)}function d(g,c,A,v,D,E,R,N){function F(I,L,P,O,U,X){switch(arguments.length){case 0:case 1:return 0;case 2:return v(I,L);case 3:return D(I,L,P);case 4:return E(I,L,P,O);case 5:return R(I,L,P,O,U);case 6:return N(I,L,P,O,U,X)}for(var $=new Array(arguments.length),j=0;j<arguments.length;++j)$[j]=arguments[j];return g($)}return F}function x(){for(;b.length<=h;)b.push(p(b.length));a.exports=d.apply(void 0,[M].concat(b));for(var g=0;g<=h;++g)a.exports[g]=b[g]}x()},2651:function(a,o,i){"use strict";var l=i(6859),u=i(2361);a.exports=s;function s(f){var h=u.exponent(f);return h<52?new l(f):new l(f*Math.pow(2,52-h)).ushln(h-52)}},2652:function(a,o,i){var l=i(4335),u=i(6864),s=i(1903),f=i(9921),h=i(7608),p=i(5665),_={length:i(1387),normalize:i(3536),dot:i(244),cross:i(5911)},m=u(),w=u(),T=[0,0,0,0],y=[[0,0,0],[0,0,0],[0,0,0]],k=[0,0,0];a.exports=function(x,g,c,A,v,D){if(g||(g=[0,0,0]),c||(c=[0,0,0]),A||(A=[0,0,0]),v||(v=[0,0,0,1]),D||(D=[0,0,0,1]),!l(m,x)||(s(w,m),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(f(w)<1e-8)))return!1;var E=m[3],R=m[7],N=m[11],F=m[12],I=m[13],L=m[14],P=m[15];if(E!==0||R!==0||N!==0){T[0]=E,T[1]=R,T[2]=N,T[3]=P;var O=h(w,w);if(!O)return!1;p(w,w),S(v,T,w)}else v[0]=v[1]=v[2]=0,v[3]=1;if(g[0]=F,g[1]=I,g[2]=L,b(y,m),c[0]=_.length(y[0]),_.normalize(y[0],y[0]),A[0]=_.dot(y[0],y[1]),M(y[1],y[1],y[0],1,-A[0]),c[1]=_.length(y[1]),_.normalize(y[1],y[1]),A[0]/=c[1],A[1]=_.dot(y[0],y[2]),M(y[2],y[2],y[0],1,-A[1]),A[2]=_.dot(y[1],y[2]),M(y[2],y[2],y[1],1,-A[2]),c[2]=_.length(y[2]),_.normalize(y[2],y[2]),A[1]/=c[2],A[2]/=c[2],_.cross(k,y[1],y[2]),_.dot(y[0],k)<0)for(var U=0;U<3;U++)c[U]*=-1,y[U][0]*=-1,y[U][1]*=-1,y[U][2]*=-1;return D[0]=.5*Math.sqrt(Math.max(1+y[0][0]-y[1][1]-y[2][2],0)),D[1]=.5*Math.sqrt(Math.max(1-y[0][0]+y[1][1]-y[2][2],0)),D[2]=.5*Math.sqrt(Math.max(1-y[0][0]-y[1][1]+y[2][2],0)),D[3]=.5*Math.sqrt(Math.max(1+y[0][0]+y[1][1]+y[2][2],0)),y[2][1]>y[1][2]&&(D[0]=-D[0]),y[0][2]>y[2][0]&&(D[1]=-D[1]),y[1][0]>y[0][1]&&(D[2]=-D[2]),!0};function S(d,x,g){var c=x[0],A=x[1],v=x[2],D=x[3];return d[0]=g[0]*c+g[4]*A+g[8]*v+g[12]*D,d[1]=g[1]*c+g[5]*A+g[9]*v+g[13]*D,d[2]=g[2]*c+g[6]*A+g[10]*v+g[14]*D,d[3]=g[3]*c+g[7]*A+g[11]*v+g[15]*D,d}function b(d,x){d[0][0]=x[0],d[0][1]=x[1],d[0][2]=x[2],d[1][0]=x[4],d[1][1]=x[5],d[1][2]=x[6],d[2][0]=x[8],d[2][1]=x[9],d[2][2]=x[10]}function M(d,x,g,c,A){d[0]=x[0]*c+g[0]*A,d[1]=x[1]*c+g[1]*A,d[2]=x[2]*c+g[2]*A}},2653:function(a,o,i){"use strict";var l=i(3865);a.exports=u;function u(s,f){for(var h=s.length,p=new Array(h),_=0;_<h;++_)p[_]=l(s[_],f[_]);return p}},2681:function(a){a.exports=o;function o(i,l){return i[0]=Math.floor(l[0]),i[1]=Math.floor(l[1]),i[2]=Math.floor(l[2]),i}},2690:function(a,o,i){"use strict";a.exports=h;var l=i(8954),u=i(3952);function s(p,_){for(var m=p.length,w=new Array(m),T=0;T<_.length;++T)w[T]=p[_[T]];for(var y=_.length,T=0;T<m;++T)_.indexOf(T)<0&&(w[y++]=p[T]);return w}function f(p,_){for(var m=p.length,w=_.length,T=0;T<m;++T)for(var y=p[T],k=0;k<y.length;++k){var S=y[k];if(S<w)y[k]=_[S];else{S=S-w;for(var b=0;b<w;++b)S>=_[b]&&(S+=1);y[k]=S}}return p}function h(p,_){try{return l(p,!0)}catch(y){var m=u(p);if(m.length<=_)return[];var w=s(p,m),T=l(w,!0);return f(T,m)}}},2762:function(a,o,i){"use strict";var l=i(1888),u=i(5298),s=i(9618),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function h(y,k,S,b,M){this.gl=y,this.type=k,this.handle=S,this.length=b,this.usage=M}var p=h.prototype;p.bind=function(){this.gl.bindBuffer(this.type,this.handle)},p.unbind=function(){this.gl.bindBuffer(this.type,null)},p.dispose=function(){this.gl.deleteBuffer(this.handle)};function _(y,k,S,b,M,d){var x=M.length*M.BYTES_PER_ELEMENT;if(d<0)return y.bufferData(k,M,b),x;if(x+d>S)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return y.bufferSubData(k,d,M),S}function m(y,k){for(var S=l.malloc(y.length,k),b=y.length,M=0;M<b;++M)S[M]=y[M];return S}function w(y,k){for(var S=1,b=k.length-1;b>=0;--b){if(k[b]!==S)return!1;S*=y[b]}return!0}p.update=function(y,k){if(typeof k!="number"&&(k=-1),this.bind(),typeof y=="object"&&typeof y.shape!="undefined"){var S=y.dtype;if(f.indexOf(S)<0&&(S="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var b=gl.getExtension("OES_element_index_uint");b&&S!=="uint16"?S="uint32":S="uint16"}if(S===y.dtype&&w(y.shape,y.stride))y.offset===0&&y.data.length===y.shape[0]?this.length=_(this.gl,this.type,this.length,this.usage,y.data,k):this.length=_(this.gl,this.type,this.length,this.usage,y.data.subarray(y.offset,y.shape[0]),k);else{var M=l.malloc(y.size,S),d=s(M,y.shape);u.assign(d,y),k<0?this.length=_(this.gl,this.type,this.length,this.usage,M,k):this.length=_(this.gl,this.type,this.length,this.usage,M.subarray(0,y.size),k),l.free(M)}}else if(Array.isArray(y)){var x;this.type===this.gl.ELEMENT_ARRAY_BUFFER?x=m(y,"uint16"):x=m(y,"float32"),k<0?this.length=_(this.gl,this.type,this.length,this.usage,x,k):this.length=_(this.gl,this.type,this.length,this.usage,x.subarray(0,y.length),k),l.free(x)}else if(typeof y=="object"&&typeof y.length=="number")this.length=_(this.gl,this.type,this.length,this.usage,y,k);else if(typeof y=="number"||y===void 0){if(k>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");y=y|0,y<=0&&(y=1),this.gl.bufferData(this.type,y|0,this.usage),this.length=y}else throw new Error("gl-buffer: Invalid data type")};function T(y,k,S,b){if(S=S||y.ARRAY_BUFFER,b=b||y.DYNAMIC_DRAW,S!==y.ARRAY_BUFFER&&S!==y.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(b!==y.DYNAMIC_DRAW&&b!==y.STATIC_DRAW&&b!==y.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var M=y.createBuffer(),d=new h(y,S,M,0,b);return d.update(k),d}a.exports=T},2825:function(a){a.exports=o;function o(i,l,u){var s=new Float32Array(3);return s[0]=i,s[1]=l,s[2]=u,s}},2931:function(a,o,i){a.exports={EPSILON:i(2613),create:i(1091),clone:i(3126),angle:i(8192),fromValues:i(2825),copy:i(3990),set:i(1463),equals:i(9922),exactEquals:i(9265),add:i(5632),subtract:i(6843),sub:i(2229),multiply:i(5847),mul:i(4505),divide:i(6690),div:i(4008),min:i(8107),max:i(7417),floor:i(2681),ceil:i(9226),round:i(2447),scale:i(6621),scaleAndAdd:i(8489),distance:i(7056),dist:i(5455),squaredDistance:i(2953),sqrDist:i(6141),length:i(1387),len:i(868),squaredLength:i(3066),sqrLen:i(5486),negate:i(5093),inverse:i(811),normalize:i(3536),dot:i(244),cross:i(5911),lerp:i(6658),random:i(7636),transformMat4:i(5673),transformMat3:i(492),transformQuat:i(264),rotateX:i(6894),rotateY:i(109),rotateZ:i(8692),forEach:i(5137)}},2933:function(a){a.exports=o;function o(i,l){return i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i}},2953:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2];return u*u+s*s+f*f}},2962:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(3012),f=i(7004),h=6;function p(b,M,d,x){return function(c){return x(b(d(c[0][0],c[1][1]),d(-c[0][1],c[1][0])))}}function _(b,M,d,x){return function(c){return x(b(M(b(d(c[1][1],c[2][2]),d(-c[1][2],c[2][1])),c[0][0]),b(M(b(d(c[1][0],c[2][2]),d(-c[1][2],c[2][0])),-c[0][1]),M(b(d(c[1][0],c[2][1]),d(-c[1][1],c[2][0])),c[0][2]))))}}function m(b,M,d,x){return function(c){return x(b(b(M(b(M(b(d(c[2][2],c[3][3]),d(-c[2][3],c[3][2])),c[1][1]),b(M(b(d(c[2][1],c[3][3]),d(-c[2][3],c[3][1])),-c[1][2]),M(b(d(c[2][1],c[3][2]),d(-c[2][2],c[3][1])),c[1][3]))),c[0][0]),M(b(M(b(d(c[2][2],c[3][3]),d(-c[2][3],c[3][2])),c[1][0]),b(M(b(d(c[2][0],c[3][3]),d(-c[2][3],c[3][0])),-c[1][2]),M(b(d(c[2][0],c[3][2]),d(-c[2][2],c[3][0])),c[1][3]))),-c[0][1])),b(M(b(M(b(d(c[2][1],c[3][3]),d(-c[2][3],c[3][1])),c[1][0]),b(M(b(d(c[2][0],c[3][3]),d(-c[2][3],c[3][0])),-c[1][1]),M(b(d(c[2][0],c[3][1]),d(-c[2][1],c[3][0])),c[1][3]))),c[0][2]),M(b(M(b(d(c[2][1],c[3][2]),d(-c[2][2],c[3][1])),c[1][0]),b(M(b(d(c[2][0],c[3][2]),d(-c[2][2],c[3][0])),-c[1][1]),M(b(d(c[2][0],c[3][1]),d(-c[2][1],c[3][0])),c[1][2]))),-c[0][3]))))}}function w(b,M,d,x){return function(c){return x(b(b(M(b(b(M(b(M(b(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][2]),b(M(b(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),-c[2][3]),M(b(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][4]))),c[1][1]),M(b(M(b(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][1]),b(M(b(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][3]),M(b(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][4]))),-c[1][2])),b(M(b(M(b(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][1]),b(M(b(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][2]),M(b(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][4]))),c[1][3]),M(b(M(b(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][1]),b(M(b(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),-c[2][2]),M(b(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][3]))),-c[1][4]))),c[0][0]),M(b(b(M(b(M(b(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][2]),b(M(b(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),-c[2][3]),M(b(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][4]))),c[1][0]),M(b(M(b(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][0]),b(M(b(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][3]),M(b(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),c[2][4]))),-c[1][2])),b(M(b(M(b(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][0]),b(M(b(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][2]),M(b(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][4]))),c[1][3]),M(b(M(b(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][0]),b(M(b(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][2]),M(b(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][3]))),-c[1][4]))),-c[0][1])),b(M(b(b(M(b(M(b(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][1]),b(M(b(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][3]),M(b(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][4]))),c[1][0]),M(b(M(b(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][0]),b(M(b(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][3]),M(b(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),c[2][4]))),-c[1][1])),b(M(b(M(b(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),c[2][0]),b(M(b(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][1]),M(b(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][4]))),c[1][3]),M(b(M(b(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][0]),b(M(b(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][1]),M(b(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][3]))),-c[1][4]))),c[0][2]),b(M(b(b(M(b(M(b(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][1]),b(M(b(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][2]),M(b(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][4]))),c[1][0]),M(b(M(b(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][0]),b(M(b(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][2]),M(b(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][4]))),-c[1][1])),b(M(b(M(b(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),c[2][0]),b(M(b(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][1]),M(b(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][4]))),c[1][2]),M(b(M(b(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][0]),b(M(b(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),-c[2][1]),M(b(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][2]))),-c[1][4]))),-c[0][3]),M(b(b(M(b(M(b(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][1]),b(M(b(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),-c[2][2]),M(b(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][3]))),c[1][0]),M(b(M(b(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][0]),b(M(b(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][2]),M(b(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][3]))),-c[1][1])),b(M(b(M(b(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][0]),b(M(b(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][1]),M(b(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][3]))),c[1][2]),M(b(M(b(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][0]),b(M(b(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),-c[2][1]),M(b(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][2]))),-c[1][3]))),c[0][4])))))}}function T(b){var M=b===2?p:b===3?_:b===4?m:b===5?w:void 0;return M(u,s,l,f)}var y=[function(){return[0]},function(M){return[M[0][0]]}];function k(b,M,d,x,g,c,A,v){return function(E){switch(E.length){case 0:return b(E);case 1:return M(E);case 2:return d(E);case 3:return x(E);case 4:return g(E);case 5:return c(E)}var R=A[E.length];return R||(R=A[E.length]=v(E.length)),R(E)}}function S(){for(;y.length<h;)y.push(T(y.length));a.exports=k.apply(void 0,y.concat([y,T]));for(var b=0;b<y.length;++b)a.exports[b]=y[b]}S()},2992:function(a,o,i){var l=i(3387).sprintf,u=i(5171),s=i(1848),f=i(1085);a.exports=h;function h(p,_,m){"use strict";var w=s(_)||"of unknown name (see npm glsl-shader-name)",T="unknown type";m!==void 0&&(T=m===u.FRAGMENT_SHADER?"fragment":"vertex");for(var y=l(`Error compiling %s shader %s:
`,T,w),k=l("%s%s",y,p),S=p.split(`
`),b={},M=0;M<S.length;M++){var d=S[M];if(!(d===""||d==="\0")){var x=parseInt(d.split(":")[2]);if(isNaN(x))throw new Error(l("Could not parse error: %s",d));b[x]=d}}for(var g=f(_).split(`
`),M=0;M<g.length;M++)if(!(!b[M+3]&&!b[M+2]&&!b[M+1])){var c=g[M];if(y+=c+`
`,b[M+1]){var A=b[M+1];A=A.substr(A.split(":",3).join(":").length+1).trim(),y+=l(`^^^ %s

`,A)}}return{long:y.trim(),short:k.trim()}}},3012:function(a,o,i){"use strict";var l=i(5250),u=i(9362);a.exports=s;function s(f,h){var p=f.length;if(p===1){var _=l(f[0],h);return _[0]?_:[_[1]]}var m=new Array(2*p),w=[.1,.1],T=[.1,.1],y=0;l(f[0],h,w),w[0]&&(m[y++]=w[0]);for(var k=1;k<p;++k){l(f[k],h,T);var S=w[1];u(S,T[0],w),w[0]&&(m[y++]=w[0]);var b=T[1],M=w[1],d=b+M,x=d-b,g=M-x;w[1]=d,g&&(m[y++]=g)}return w[1]&&(m[y++]=w[1]),y===0&&(m[y++]=0),m.length=y,m}},3025:function(a,o,i){a.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},3066:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2];return l*l+u*u+s*s}},3088:function(a,o,i){"use strict";a.exports=u;var l=i(3140);function u(s,f){for(var h=f.length|0,p=s.length,_=[new Array(h),new Array(h)],m=0;m<h;++m)_[0][m]=[],_[1][m]=[];for(var m=0;m<p;++m){var w=s[m];_[0][w[0]].push(w),_[1][w[1]].push(w)}for(var T=[],m=0;m<h;++m)_[0][m].length+_[1][m].length===0&&T.push([m]);function y(c,A){var v=_[A][c[A]];v.splice(v.indexOf(c),1)}function k(c,A,v){for(var D,E,R,N=0;N<2;++N)if(_[N][A].length>0){D=_[N][A][0],R=N;break}E=D[R^1];for(var F=0;F<2;++F)for(var I=_[F][A],L=0;L<I.length;++L){var P=I[L],O=P[F^1],U=l(f[c],f[A],f[E],f[O]);U>0&&(D=P,E=O,R=F)}return v||D&&y(D,R),E}function S(c,A){var v=_[A][c][0],D=[c];y(v,A);for(var E=v[A^1],R=A;;){for(;E!==c;)D.push(E),E=k(D[D.length-2],E,!1);if(_[0][c].length+_[1][c].length===0)break;var N=D[D.length-1],F=c,I=D[1],L=k(N,F,!0);if(l(f[N],f[F],f[I],f[L])<0)break;D.push(c),E=k(N,F)}return D}function b(c,A){return A[1]===A[A.length-1]}for(var m=0;m<h;++m)for(var M=0;M<2;++M){for(var d=[];_[M][m].length>0;){var x=_[0][m].length,g=S(m,M);b(d,g)?d.push.apply(d,g):(d.length>0&&T.push(d),d=g)}d.length>0&&T.push(d)}return T}},3090:function(a,o,i){"use strict";a.exports=u;var l=i(3250)[3];function u(s){var f=s.length;if(f<3){for(var k=new Array(f),h=0;h<f;++h)k[h]=h;return f===2&&s[0][0]===s[1][0]&&s[0][1]===s[1][1]?[0]:k}for(var p=new Array(f),h=0;h<f;++h)p[h]=h;p.sort(function(d,x){var g=s[d][0]-s[x][0];return g||s[d][1]-s[x][1]});for(var _=[p[0],p[1]],m=[p[0],p[1]],h=2;h<f;++h){for(var w=p[h],T=s[w],y=_.length;y>1&&l(s[_[y-2]],s[_[y-1]],T)<=0;)y-=1,_.pop();for(_.push(w),y=m.length;y>1&&l(s[m[y-2]],s[m[y-1]],T)>=0;)y-=1,m.pop();m.push(w)}for(var k=new Array(m.length+_.length-2),S=0,h=0,b=_.length;h<b;++h)k[S++]=_[h];for(var M=m.length-2;M>0;--M)k[S++]=m[M];return k}},3105:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(s){return(s>0)-(s<0)},o.abs=function(s){var f=s>>i-1;return(s^f)-f},o.min=function(s,f){return f^(s^f)&-(s<f)},o.max=function(s,f){return s^(s^f)&-(s<f)},o.isPow2=function(s){return!(s&s-1)&&!!s},o.log2=function(s){var f,h;return f=(s>65535)<<4,s>>>=f,h=(s>255)<<3,s>>>=h,f|=h,h=(s>15)<<2,s>>>=h,f|=h,h=(s>3)<<1,s>>>=h,f|=h,f|s>>1},o.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},o.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function l(s){var f=32;return s&=-s,s&&f--,s&65535&&(f-=16),s&16711935&&(f-=8),s&252645135&&(f-=4),s&858993459&&(f-=2),s&1431655765&&(f-=1),f}o.countTrailingZeros=l,o.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},o.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},o.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var u=new Array(256);(function(s){for(var f=0;f<256;++f){var h=f,p=f,_=7;for(h>>>=1;h;h>>>=1)p<<=1,p|=h&1,--_;s[f]=p<<_&255}})(u),o.reverse=function(s){return u[s&255]<<24|u[s>>>8&255]<<16|u[s>>>16&255]<<8|u[s>>>24&255]},o.interleave2=function(s,f){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,s|f<<1},o.deinterleave2=function(s,f){return s=s>>>f&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},o.interleave3=function(s,f,h){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,s|=f<<1,h&=1023,h=(h|h<<16)&4278190335,h=(h|h<<8)&251719695,h=(h|h<<4)&3272356035,h=(h|h<<2)&1227133513,s|h<<2},o.deinterleave3=function(s,f){return s=s>>>f&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},o.nextCombination=function(s){var f=s|s-1;return f+1|(~f&-~f)-1>>>l(s)+1}},3126:function(a){a.exports=o;function o(i){var l=new Float32Array(3);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l}},3134:function(a,o,i){"use strict";a.exports=u;var l=i(1682);function u(s,f){var h=s.length;if(typeof f!="number"){f=0;for(var p=0;p<h;++p){var _=s[p];f=Math.max(f,_[0],_[1])}f=(f|0)+1}f=f|0;for(var m=new Array(f),p=0;p<f;++p)m[p]=[];for(var p=0;p<h;++p){var _=s[p];m[_[0]].push(_[1]),m[_[1]].push(_[0])}for(var w=0;w<f;++w)l(m[w],function(T,y){return T-y});return m}},3140:function(a,o,i){"use strict";a.exports=_;var l=i(3250),u=i(8572),s=i(9362),f=i(5382),h=i(8210);function p(m,w,T){var y=s(m[0],-w[0]),k=s(m[1],-w[1]),S=s(T[0],-w[0]),b=s(T[1],-w[1]),M=h(f(y,S),f(k,b));return M[M.length-1]>=0}function _(m,w,T,y){var k=l(w,T,y);if(k===0){var S=u(l(m,w,T)),b=u(l(m,w,y));if(S===b){if(S===0){var M=p(m,w,T),d=p(m,w,y);return M===d?0:M?1:-1}return 0}else{if(b===0)return S>0||p(m,w,y)?-1:1;if(S===0)return b>0||p(m,w,T)?1:-1}return u(b-S)}var x=l(m,w,T);if(x>0)return k>0&&l(m,w,y)>0?1:-1;if(x<0)return k>0||l(m,w,y)>0?1:-1;var g=l(m,w,y);return g>0||p(m,w,T)?1:-1}},3202:function(a){a.exports=function(i,l){l||(l=[0,""]),i=String(i);var u=parseFloat(i,10);return l[0]=u,l[1]=i.match(/[\d.\-\+]*\s*(.*)/)[1]||"",l}},3233:function(a){"use strict";var o="",i;a.exports=l;function l(u,s){if(typeof u!="string")throw new TypeError("expected a string");if(s===1)return u;if(s===2)return u+u;var f=u.length*s;if(i!==u||typeof i=="undefined")i=u,o="";else if(o.length>=f)return o.substr(0,f);for(;f>o.length&&s>1;)s&1&&(o+=u),s>>=1,u+=u;return o+=u,o=o.substr(0,f),o}},3236:function(a){a.exports=function(o){typeof o=="string"&&(o=[o]);for(var i=[].slice.call(arguments,1),l=[],u=0;u<o.length-1;u++)l.push(o[u],i[u]||"");return l.push(o[u]),l.join("")}},3250:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(3012),f=i(8545),h=5,p=11102230246251565e-32,_=(3+16*p)*p,m=(7+56*p)*p;function w(c,A,v,D){return function(R,N,F){var I=c(c(A(N[1],F[0]),A(-F[1],N[0])),c(A(R[1],N[0]),A(-N[1],R[0]))),L=c(A(R[1],F[0]),A(-F[1],R[0])),P=D(I,L);return P[P.length-1]}}function T(c,A,v,D){return function(R,N,F,I){var L=c(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),N[2]),c(v(c(A(N[1],I[0]),A(-I[1],N[0])),-F[2]),v(c(A(N[1],F[0]),A(-F[1],N[0])),I[2]))),c(v(c(A(N[1],I[0]),A(-I[1],N[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),I[2])))),P=c(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-F[2]),v(c(A(R[1],F[0]),A(-F[1],R[0])),I[2]))),c(v(c(A(N[1],F[0]),A(-F[1],N[0])),R[2]),c(v(c(A(R[1],F[0]),A(-F[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),F[2])))),O=D(L,P);return O[O.length-1]}}function y(c,A,v,D){return function(R,N,F,I,L){var P=c(c(c(v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),F[2]),c(v(c(A(F[1],L[0]),A(-L[1],F[0])),-I[2]),v(c(A(F[1],I[0]),A(-I[1],F[0])),L[2]))),N[3]),c(v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),N[2]),c(v(c(A(N[1],L[0]),A(-L[1],N[0])),-I[2]),v(c(A(N[1],I[0]),A(-I[1],N[0])),L[2]))),-F[3]),v(c(v(c(A(F[1],L[0]),A(-L[1],F[0])),N[2]),c(v(c(A(N[1],L[0]),A(-L[1],N[0])),-F[2]),v(c(A(N[1],F[0]),A(-F[1],N[0])),L[2]))),I[3]))),c(v(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),N[2]),c(v(c(A(N[1],I[0]),A(-I[1],N[0])),-F[2]),v(c(A(N[1],F[0]),A(-F[1],N[0])),I[2]))),-L[3]),c(v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),N[2]),c(v(c(A(N[1],L[0]),A(-L[1],N[0])),-I[2]),v(c(A(N[1],I[0]),A(-I[1],N[0])),L[2]))),R[3]),v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-I[2]),v(c(A(R[1],I[0]),A(-I[1],R[0])),L[2]))),-N[3])))),c(c(v(c(v(c(A(N[1],L[0]),A(-L[1],N[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),L[2]))),I[3]),c(v(c(v(c(A(N[1],I[0]),A(-I[1],N[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),I[2]))),-L[3]),v(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),N[2]),c(v(c(A(N[1],I[0]),A(-I[1],N[0])),-F[2]),v(c(A(N[1],F[0]),A(-F[1],N[0])),I[2]))),R[3]))),c(v(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-F[2]),v(c(A(R[1],F[0]),A(-F[1],R[0])),I[2]))),-N[3]),c(v(c(v(c(A(N[1],I[0]),A(-I[1],N[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),I[2]))),F[3]),v(c(v(c(A(N[1],F[0]),A(-F[1],N[0])),R[2]),c(v(c(A(R[1],F[0]),A(-F[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),F[2]))),-I[3]))))),O=c(c(c(v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),F[2]),c(v(c(A(F[1],L[0]),A(-L[1],F[0])),-I[2]),v(c(A(F[1],I[0]),A(-I[1],F[0])),L[2]))),R[3]),v(c(v(c(A(I[1],L[0]),A(-L[1],I[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-I[2]),v(c(A(R[1],I[0]),A(-I[1],R[0])),L[2]))),-F[3])),c(v(c(v(c(A(F[1],L[0]),A(-L[1],F[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-F[2]),v(c(A(R[1],F[0]),A(-F[1],R[0])),L[2]))),I[3]),v(c(v(c(A(F[1],I[0]),A(-I[1],F[0])),R[2]),c(v(c(A(R[1],I[0]),A(-I[1],R[0])),-F[2]),v(c(A(R[1],F[0]),A(-F[1],R[0])),I[2]))),-L[3]))),c(c(v(c(v(c(A(F[1],L[0]),A(-L[1],F[0])),N[2]),c(v(c(A(N[1],L[0]),A(-L[1],N[0])),-F[2]),v(c(A(N[1],F[0]),A(-F[1],N[0])),L[2]))),R[3]),v(c(v(c(A(F[1],L[0]),A(-L[1],F[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-F[2]),v(c(A(R[1],F[0]),A(-F[1],R[0])),L[2]))),-N[3])),c(v(c(v(c(A(N[1],L[0]),A(-L[1],N[0])),R[2]),c(v(c(A(R[1],L[0]),A(-L[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),L[2]))),F[3]),v(c(v(c(A(N[1],F[0]),A(-F[1],N[0])),R[2]),c(v(c(A(R[1],F[0]),A(-F[1],R[0])),-N[2]),v(c(A(R[1],N[0]),A(-N[1],R[0])),F[2]))),-L[3])))),U=D(P,O);return U[U.length-1]}}function k(c){var A=c===3?w:c===4?T:y;return A(u,l,s,f)}var S=k(3),b=k(4),M=[function(){return 0},function(){return 0},function(A,v){return v[0]-A[0]},function(A,v,D){var E=(A[1]-D[1])*(v[0]-D[0]),R=(A[0]-D[0])*(v[1]-D[1]),N=E-R,F;if(E>0){if(R<=0)return N;F=E+R}else if(E<0){if(R>=0)return N;F=-(E+R)}else return N;var I=_*F;return N>=I||N<=-I?N:S(A,v,D)},function(A,v,D,E){var R=A[0]-E[0],N=v[0]-E[0],F=D[0]-E[0],I=A[1]-E[1],L=v[1]-E[1],P=D[1]-E[1],O=A[2]-E[2],U=v[2]-E[2],X=D[2]-E[2],$=N*P,j=F*L,Y=F*I,q=R*P,K=R*L,ne=N*I,Q=O*($-j)+U*(Y-q)+X*(K-ne),oe=(Math.abs($)+Math.abs(j))*Math.abs(O)+(Math.abs(Y)+Math.abs(q))*Math.abs(U)+(Math.abs(K)+Math.abs(ne))*Math.abs(X),re=m*oe;return Q>re||-Q>re?Q:b(A,v,D,E)}];function d(c){var A=M[c.length];return A||(A=M[c.length]=k(c.length)),A.apply(void 0,c)}function x(c,A,v,D,E,R,N){return function(I,L,P,O,U){switch(arguments.length){case 0:case 1:return 0;case 2:return D(I,L);case 3:return E(I,L,P);case 4:return R(I,L,P,O);case 5:return N(I,L,P,O,U)}for(var X=new Array(arguments.length),$=0;$<arguments.length;++$)X[$]=arguments[$];return c(X)}}function g(){for(;M.length<=h;)M.push(k(M.length));a.exports=x.apply(void 0,[d].concat(M));for(var c=0;c<=h;++c)a.exports[c]=M[c]}g()},3327:function(a,o,i){"use strict";var l=i(216),u=i(8866);a.exports=h;function s(p){return function(){return p}}function f(p,_){for(var m=new Array(p),w=0;w<p;++w)m[w]=_;return m}function h(p,_,m,w){function T(x){return function(g,c,A){return g.getUniform(c.program,A[x])}}function y(x){return function(c){for(var A=k("",x),v=0;v<A.length;++v){var D=A[v],E=D[0],R=D[1];if(w[R]){var N=c;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var F=E;if(E.indexOf(".")===0&&(F=E.slice(1)),F.indexOf("]")===F.length-1){var I=F.indexOf("["),L=F.slice(0,I),P=F.slice(I+1,F.length-1);N=L?c[L][P]:c[P]}else N=c[F]}var O=m[R].type,U;switch(O){case"bool":case"int":case"sampler2D":case"samplerCube":p.uniform1i(w[R],N);break;case"float":p.uniform1f(w[R],N);break;default:var X=O.indexOf("vec");if(0<=X&&X<=1&&O.length===4+X){if(U=O.charCodeAt(O.length-1)-48,U<2||U>4)throw new u("","Invalid data type");switch(O.charAt(0)){case"b":case"i":p["uniform"+U+"iv"](w[R],N);break;case"v":p["uniform"+U+"fv"](w[R],N);break;default:throw new u("","Unrecognized data type for vector "+name+": "+O)}}else if(O.indexOf("mat")===0&&O.length===4){if(U=O.charCodeAt(O.length-1)-48,U<2||U>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+O);p["uniformMatrix"+U+"fv"](w[R],!1,N);break}else throw new u("","Unknown uniform data type for "+name+": "+O)}}}}}function k(x,g){if(typeof g!="object")return[[x,g]];var c=[];for(var A in g){var v=g[A],D=x;parseInt(A)+""===A?D+="["+A+"]":D+="."+A,typeof v=="object"?c.push.apply(c,k(D,v)):c.push([D,v])}return c}function S(x){switch(x){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var g=x.indexOf("vec");if(0<=g&&g<=1&&x.length===4+g){var c=x.charCodeAt(x.length-1)-48;if(c<2||c>4)throw new u("","Invalid data type");return x.charAt(0)==="b"?f(c,!1):f(c,0)}else if(x.indexOf("mat")===0&&x.length===4){var c=x.charCodeAt(x.length-1)-48;if(c<2||c>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+x);return f(c*c,0)}else throw new u("","Unknown uniform data type for "+name+": "+x)}}function b(x,g,c){if(typeof c=="object"){var A=M(c);Object.defineProperty(x,g,{get:s(A),set:y(c),enumerable:!0,configurable:!1})}else w[c]?Object.defineProperty(x,g,{get:T(c),set:y(c),enumerable:!0,configurable:!1}):x[g]=S(m[c].type)}function M(x){var g;if(Array.isArray(x)){g=new Array(x.length);for(var c=0;c<x.length;++c)b(g,c,x[c])}else{g={};for(var A in x)b(g,A,x[A])}return g}var d=l(m,!0);return{get:s(M(d)),set:y(d),enumerable:!0,configurable:!0}}},3349:function(a){"use strict";function o(){return function(h,p,_,m,w,T){var y=h[0],k=_[0],S=[0],b=k;m|=0;var M=0,d=k;for(M=0;M<y;++M){{var x=p[m]-T,g=p[m+b]-T;x>=0!=g>=0&&w.push(S[0]+.5+.5*(x+g)/(x-g))}m+=d,++S[0]}}}function i(){return o()}var l=i;function u(h){var p={};return function(m,w,T){var y=m.dtype,k=m.order,S=[y,k.join()].join(),b=p[S];return b||(p[S]=b=h([y,k])),b(m.shape.slice(0),m.data,m.stride,m.offset|0,w,T)}}function s(h){return u(l.bind(void 0,h))}function f(h){return s({funcName:h.funcName})}a.exports=f({funcName:"zeroCrossings"})},3352:function(a,o,i){"use strict";var l=i(2478),u=0,s=1,f=2;a.exports=A;function h(v,D,E,R,N){this.mid=v,this.left=D,this.right=E,this.leftPoints=R,this.rightPoints=N,this.count=(D?D.count:0)+(E?E.count:0)+R.length}var p=h.prototype;function _(v,D){v.mid=D.mid,v.left=D.left,v.right=D.right,v.leftPoints=D.leftPoints,v.rightPoints=D.rightPoints,v.count=D.count}function m(v,D){var E=x(D);v.mid=E.mid,v.left=E.left,v.right=E.right,v.leftPoints=E.leftPoints,v.rightPoints=E.rightPoints,v.count=E.count}function w(v,D){var E=v.intervals([]);E.push(D),m(v,E)}function T(v,D){var E=v.intervals([]),R=E.indexOf(D);return R<0?u:(E.splice(R,1),m(v,E),s)}p.intervals=function(v){return v.push.apply(v,this.leftPoints),this.left&&this.left.intervals(v),this.right&&this.right.intervals(v),v},p.insert=function(v){var D=this.count-this.leftPoints.length;if(this.count+=1,v[1]<this.mid)this.left?4*(this.left.count+1)>3*(D+1)?w(this,v):this.left.insert(v):this.left=x([v]);else if(v[0]>this.mid)this.right?4*(this.right.count+1)>3*(D+1)?w(this,v):this.right.insert(v):this.right=x([v]);else{var E=l.ge(this.leftPoints,v,M),R=l.ge(this.rightPoints,v,d);this.leftPoints.splice(E,0,v),this.rightPoints.splice(R,0,v)}},p.remove=function(v){var D=this.count-this.leftPoints;if(v[1]<this.mid){if(!this.left)return u;var E=this.right?this.right.count:0;if(4*E>3*(D-1))return T(this,v);var R=this.left.remove(v);return R===f?(this.left=null,this.count-=1,s):(R===s&&(this.count-=1),R)}else if(v[0]>this.mid){if(!this.right)return u;var N=this.left?this.left.count:0;if(4*N>3*(D-1))return T(this,v);var R=this.right.remove(v);return R===f?(this.right=null,this.count-=1,s):(R===s&&(this.count-=1),R)}else{if(this.count===1)return this.leftPoints[0]===v?f:u;if(this.leftPoints.length===1&&this.leftPoints[0]===v){if(this.left&&this.right){for(var F=this,I=this.left;I.right;)F=I,I=I.right;if(F===this)I.right=this.right;else{var L=this.left,R=this.right;F.count-=I.count,F.right=I.left,I.left=L,I.right=R}_(this,I),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?_(this,this.left):_(this,this.right);return s}for(var L=l.ge(this.leftPoints,v,M);L<this.leftPoints.length&&this.leftPoints[L][0]===v[0];++L)if(this.leftPoints[L]===v){this.count-=1,this.leftPoints.splice(L,1);for(var R=l.ge(this.rightPoints,v,d);R<this.rightPoints.length&&this.rightPoints[R][1]===v[1];++R)if(this.rightPoints[R]===v)return this.rightPoints.splice(R,1),s}return u}};function y(v,D,E){for(var R=0;R<v.length&&v[R][0]<=D;++R){var N=E(v[R]);if(N)return N}}function k(v,D,E){for(var R=v.length-1;R>=0&&v[R][1]>=D;--R){var N=E(v[R]);if(N)return N}}function S(v,D){for(var E=0;E<v.length;++E){var R=D(v[E]);if(R)return R}}p.queryPoint=function(v,D){if(v<this.mid){if(this.left){var E=this.left.queryPoint(v,D);if(E)return E}return y(this.leftPoints,v,D)}else if(v>this.mid){if(this.right){var E=this.right.queryPoint(v,D);if(E)return E}return k(this.rightPoints,v,D)}else return S(this.leftPoints,D)},p.queryInterval=function(v,D,E){if(v<this.mid&&this.left){var R=this.left.queryInterval(v,D,E);if(R)return R}if(D>this.mid&&this.right){var R=this.right.queryInterval(v,D,E);if(R)return R}return D<this.mid?y(this.leftPoints,D,E):v>this.mid?k(this.rightPoints,v,E):S(this.leftPoints,E)};function b(v,D){return v-D}function M(v,D){var E=v[0]-D[0];return E||v[1]-D[1]}function d(v,D){var E=v[1]-D[1];return E||v[0]-D[0]}function x(v){if(v.length===0)return null;for(var D=[],E=0;E<v.length;++E)D.push(v[E][0],v[E][1]);D.sort(b);for(var R=D[D.length>>1],N=[],F=[],I=[],E=0;E<v.length;++E){var L=v[E];L[1]<R?N.push(L):R<L[0]?F.push(L):I.push(L)}var P=I,O=I.slice();return P.sort(M),O.sort(d),new h(R,x(N),x(F),P,O)}function g(v){this.root=v}var c=g.prototype;c.insert=function(v){this.root?this.root.insert(v):this.root=new h(v[0],null,null,[v],[v])},c.remove=function(v){if(this.root){var D=this.root.remove(v);return D===f&&(this.root=null),D!==u}return!1},c.queryPoint=function(v,D){if(this.root)return this.root.queryPoint(v,D)},c.queryInterval=function(v,D,E){if(v<=D&&this.root)return this.root.queryInterval(v,D,E)},Object.defineProperty(c,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(c,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function A(v){return!v||v.length===0?new g(null):new g(x(v))}},3387:function(a,o,i){var l;(function(){"use strict";var u={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function s(m){return h(_(m),arguments)}function f(m,w){return s.apply(null,[m].concat(w||[]))}function h(m,w){var T=1,y=m.length,k,S="",b,M,d,x,g,c,A,v;for(b=0;b<y;b++)if(typeof m[b]=="string")S+=m[b];else if(typeof m[b]=="object"){if(d=m[b],d.keys)for(k=w[T],M=0;M<d.keys.length;M++){if(k==null)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',d.keys[M],d.keys[M-1]));k=k[d.keys[M]]}else d.param_no?k=w[d.param_no]:k=w[T++];if(u.not_type.test(d.type)&&u.not_primitive.test(d.type)&&k instanceof Function&&(k=k()),u.numeric_arg.test(d.type)&&typeof k!="number"&&isNaN(k))throw new TypeError(s("[sprintf] expecting number but found %T",k));switch(u.number.test(d.type)&&(A=k>=0),d.type){case"b":k=parseInt(k,10).toString(2);break;case"c":k=String.fromCharCode(parseInt(k,10));break;case"d":case"i":k=parseInt(k,10);break;case"j":k=JSON.stringify(k,null,d.width?parseInt(d.width):0);break;case"e":k=d.precision?parseFloat(k).toExponential(d.precision):parseFloat(k).toExponential();break;case"f":k=d.precision?parseFloat(k).toFixed(d.precision):parseFloat(k);break;case"g":k=d.precision?String(Number(k.toPrecision(d.precision))):parseFloat(k);break;case"o":k=(parseInt(k,10)>>>0).toString(8);break;case"s":k=String(k),k=d.precision?k.substring(0,d.precision):k;break;case"t":k=String(!!k),k=d.precision?k.substring(0,d.precision):k;break;case"T":k=Object.prototype.toString.call(k).slice(8,-1).toLowerCase(),k=d.precision?k.substring(0,d.precision):k;break;case"u":k=parseInt(k,10)>>>0;break;case"v":k=k.valueOf(),k=d.precision?k.substring(0,d.precision):k;break;case"x":k=(parseInt(k,10)>>>0).toString(16);break;case"X":k=(parseInt(k,10)>>>0).toString(16).toUpperCase();break}u.json.test(d.type)?S+=k:(u.number.test(d.type)&&(!A||d.sign)?(v=A?"+":"-",k=k.toString().replace(u.sign,"")):v="",g=d.pad_char?d.pad_char==="0"?"0":d.pad_char.charAt(1):" ",c=d.width-(v+k).length,x=d.width&&c>0?g.repeat(c):"",S+=d.align?v+k+x:g==="0"?v+x+k:x+v+k)}return S}var p=Object.create(null);function _(m){if(p[m])return p[m];for(var w=m,T,y=[],k=0;w;){if((T=u.text.exec(w))!==null)y.push(T[0]);else if((T=u.modulo.exec(w))!==null)y.push("%");else if((T=u.placeholder.exec(w))!==null){if(T[2]){k|=1;var S=[],b=T[2],M=[];if((M=u.key.exec(b))!==null)for(S.push(M[1]);(b=b.substring(M[0].length))!=="";)if((M=u.key_access.exec(b))!==null)S.push(M[1]);else if((M=u.index_access.exec(b))!==null)S.push(M[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");T[2]=S}else k|=2;if(k===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");y.push({placeholder:T[0],param_no:T[1],keys:T[2],sign:T[3],pad_char:T[4],align:T[5],width:T[6],precision:T[7],type:T[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");w=w.substring(T[0].length)}return p[m]=y}o.sprintf=s,o.vsprintf=f,typeof window!="undefined"&&(window.sprintf=s,window.vsprintf=f,l=function(){return{sprintf:s,vsprintf:f}}.call(o,i,o,a),l!==void 0&&(a.exports=l))})()},3390:function(a){a.exports=o;function o(i,l,u,s){var f=new Float32Array(4);return f[0]=i,f[1]=l,f[2]=u,f[3]=s,f}},3436:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),f=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);a.exports=function(h){return u(h,s,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},3502:function(a,o,i){a.exports=s;var l=i(5995),u=i(9127);function s(f,h){return u(l(f,h))}},3508:function(a,o,i){var l=i(6852);l=l.slice().filter(function(u){return!/^(gl\_|texture)/.test(u)}),a.exports=l.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},3536:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],h=u*u+s*s+f*f;return h>0&&(h=1/Math.sqrt(h),i[0]=l[0]*h,i[1]=l[1]*h,i[2]=l[2]*h),i}},3545:function(a,o,i){"use strict";a.exports=h;var l=i(8105),u=l("lo<p0"),s=8;function f(p,_,m,w,T,y){for(var k=2*p,S=k*(m+1)+_,b=m+1;b<w;++b,S+=k)for(var M=T[S],d=b,x=k*(b-1);d>m&&T[x+_]>M;--d,x-=k){for(var g=x,c=x+k,A=0;A<k;++A,++g,++c){var v=T[g];T[g]=T[c],T[c]=v}var D=y[d];y[d]=y[d-1],y[d-1]=D}}function h(p,_,m,w,T,y){if(w<=m+1)return m;for(var k=m,S=w,b=w+m>>>1,M=2*p,d=b,x=T[M*b+_];k<S;){if(S-k<s){f(p,_,k,S,T,y),x=T[M*b+_];break}var g=S-k,c=Math.random()*g+k|0,A=T[M*c+_],v=Math.random()*g+k|0,D=T[M*v+_],E=Math.random()*g+k|0,R=T[M*E+_];A<=D?R>=D?(d=v,x=D):A>=R?(d=c,x=A):(d=E,x=R):D>=R?(d=v,x=D):R>=A?(d=c,x=A):(d=E,x=R);for(var I=M*(S-1),L=M*d,N=0;N<M;++N,++I,++L){var F=T[I];T[I]=T[L],T[L]=F}var P=y[S-1];y[S-1]=y[d],y[d]=P,d=u(p,_,k,S-1,T,y,x);for(var I=M*(S-1),L=M*d,N=0;N<M;++N,++I,++L){var F=T[I];T[I]=T[L],T[L]=F}var P=y[S-1];if(y[S-1]=y[d],y[d]=P,b<d){for(S=d-1;k<S&&T[M*(S-1)+_]===x;)S-=1;S+=1}else if(d<b)for(k=d+1;k<S&&T[M*k+_]===x;)k+=1;else break}return u(p,_,m,b,T,y,T[M*b+_])}},3576:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u[0],i[1]=l[1]*u[1],i[2]=l[2]*u[2],i[3]=l[3]*u[3],i}},3589:function(a,o,i){"use strict";a.exports=w;var l=i(2260),u=i(1888),s=i(9618),f=i(8828).nextPow2,h=function(T,y,k){for(var S=1e8,b=-1,M=-1,d=T.shape[0],x=T.shape[1],g=0;g<d;g++)for(var c=0;c<x;c++){var A=T.get(g,c,0),v=T.get(g,c,1),D=T.get(g,c,2),E=T.get(g,c,3);if(A<255||v<255||D<255||E<255){var R=y-g,N=k-c,F=R*R+N*N;F<S&&(S=F,b=g,M=c)}}return[b,M,S]};function p(T,y,k,S,b){this.coord=[T,y],this.id=k,this.value=S,this.distance=b}function _(T,y,k){this.gl=T,this.fbo=y,this.buffer=k,this._readTimeout=null;var S=this;this._readCallback=function(){S.gl&&(y.bind(),T.readPixels(0,0,y.shape[0],y.shape[1],T.RGBA,T.UNSIGNED_BYTE,S.buffer),S._readTimeout=null)}}var m=_.prototype;Object.defineProperty(m,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(T){if(this.gl){this.fbo.shape=T;var y=this.fbo.shape[0],k=this.fbo.shape[1];if(k*y*4>this.buffer.length){u.free(this.buffer);for(var S=this.buffer=u.mallocUint8(f(k*y*4)),b=0;b<k*y*4;++b)S[b]=255}return T}}}),m.begin=function(){var T=this.gl,y=this.shape;T&&(this.fbo.bind(),T.clearColor(1,1,1,1),T.clear(T.COLOR_BUFFER_BIT|T.DEPTH_BUFFER_BIT))},m.end=function(){var T=this.gl;T&&(T.bindFramebuffer(T.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},m.query=function(T,y,k){if(!this.gl)return null;var S=this.fbo.shape.slice();T=T|0,y=y|0,typeof k!="number"&&(k=1);var b=Math.min(Math.max(T-k,0),S[0])|0,M=Math.min(Math.max(T+k,0),S[0])|0,d=Math.min(Math.max(y-k,0),S[1])|0,x=Math.min(Math.max(y+k,0),S[1])|0;if(M<=b||x<=d)return null;var g=[M-b,x-d],c=s(this.buffer,[g[0],g[1],4],[4,S[0]*4,1],4*(b+S[0]*d)),A=h(c.hi(g[0],g[1],1),k,k),v=A[0],D=A[1];if(v<0||Math.pow(this.radius,2)<A[2])return null;var E=c.get(v,D,0),R=c.get(v,D,1),N=c.get(v,D,2),F=c.get(v,D,3);return new p(v+b|0,D+d|0,E,[R,N,F],Math.sqrt(A[2]))},m.dispose=function(){this.gl&&(this.fbo.dispose(),u.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function w(T,y){var k=y[0],S=y[1],b={},M=l(T,k,S,b),d=u.mallocUint8(k*S*4);return new _(T,M,d)}},3628:function(a,o,i){"use strict";var l=i(1338),u=i(727);function s(p,_){for(var m=0,w=p.length,T=0;T<w;++T)m+=p[T]*_[T];return m}function f(p){var _=p.length;if(_===0)return[];var m=p[0].length,w=l([p.length+1,p.length+1],1),T=l([p.length+1],1);w[_][_]=0;for(var y=0;y<_;++y){for(var k=0;k<=y;++k)w[k][y]=w[y][k]=2*s(p[y],p[k]);T[y]=s(p[y],p[y])}for(var S=u(w,T),b=0,M=S[_+1],y=0;y<M.length;++y)b+=M[y];for(var d=new Array(_),y=0;y<_;++y){for(var M=S[y],x=0,k=0;k<M.length;++k)x+=M[k];d[y]=x/b}return d}function h(p){if(p.length===0)return[];for(var _=p[0].length,m=l([_]),w=f(p),T=0;T<p.length;++T)for(var y=0;y<_;++y)m[y]+=p[T][y]*w[T];return m}h.barycenetric=f,a.exports=h},3637:function(a,o,i){"use strict";a.exports=w;var l=i(6504),u=i(8697),s=i(5572),f=i(7721),h=i(544),p=i(2653),_=i(8987);function m(T,y){return s(l(T[0],y[1]),l(T[1],y[0]))}function w(T,y,k,S){var b=h(y,T),M=h(S,k),d=m(b,M);if(f(d)===0)return null;var x=h(T,k),g=m(M,x),c=u(g,d),A=_(b,c),v=p(T,A);return v}},3642:function(a){a.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},3711:function(a,o,i){"use strict";a.exports=_;var l=i(2640),u=i(781),s={"2d":function(m,w,T){var y=m({order:w,scalarArguments:3,getters:T==="generic"?[0]:void 0,phase:function(S,b,M,d){return S>d|0},vertex:function(S,b,M,d,x,g,c,A,v,D,E,R,N){var F=(c<<0)+(A<<1)+(v<<2)+(D<<3)|0;if(!(F===0||F===15))switch(F){case 0:E.push([S-.5,b-.5]);break;case 1:E.push([S-.25-.25*(d+M-2*N)/(M-d),b-.25-.25*(x+M-2*N)/(M-x)]);break;case 2:E.push([S-.75-.25*(-d-M+2*N)/(d-M),b-.25-.25*(g+d-2*N)/(d-g)]);break;case 3:E.push([S-.5,b-.5-.5*(x+M+g+d-4*N)/(M-x+d-g)]);break;case 4:E.push([S-.25-.25*(g+x-2*N)/(x-g),b-.75-.25*(-x-M+2*N)/(x-M)]);break;case 5:E.push([S-.5-.5*(d+M+g+x-4*N)/(M-d+x-g),b-.5]);break;case 6:E.push([S-.5-.25*(-d-M+g+x)/(d-M+x-g),b-.5-.25*(-x-M+g+d)/(x-M+d-g)]);break;case 7:E.push([S-.75-.25*(g+x-2*N)/(x-g),b-.75-.25*(g+d-2*N)/(d-g)]);break;case 8:E.push([S-.75-.25*(-g-x+2*N)/(g-x),b-.75-.25*(-g-d+2*N)/(g-d)]);break;case 9:E.push([S-.5-.25*(d+M+-g-x)/(M-d+g-x),b-.5-.25*(x+M+-g-d)/(M-x+g-d)]);break;case 10:E.push([S-.5-.5*(-d-M+-g-x+4*N)/(d-M+g-x),b-.5]);break;case 11:E.push([S-.25-.25*(-g-x+2*N)/(g-x),b-.75-.25*(x+M-2*N)/(M-x)]);break;case 12:E.push([S-.5,b-.5-.5*(-x-M+-g-d+4*N)/(x-M+g-d)]);break;case 13:E.push([S-.75-.25*(d+M-2*N)/(M-d),b-.25-.25*(-g-d+2*N)/(g-d)]);break;case 14:E.push([S-.25-.25*(-d-M+2*N)/(d-M),b-.25-.25*(-x-M+2*N)/(x-M)]);break;case 15:E.push([S-.5,b-.5]);break}},cell:function(S,b,M,d,x,g,c,A,v){x?A.push([S,b]):A.push([b,S])}});return function(k,S){var b=[],M=[];return y(k,b,M,S),{positions:b,cells:M}}}};function f(m,w){var T=m.length+"d",y=s[T];if(y)return y(l,m,w)}function h(m,w){for(var T=u(m,w),y=T.length,k=new Array(y),S=new Array(y),b=0;b<y;++b)k[b]=[T[b]],S[b]=[b];return{positions:k,cells:S}}var p={};function _(m,k){if(m.dimension<=0)return{positions:[],cells:[]};if(m.dimension===1)return h(m,k);var T=m.order.join()+"-"+m.dtype,y=p[T],k=+k||0;return y||(y=p[T]=f(m.order,m.dtype)),y(m,k)}},3750:function(a){a.exports=o;function o(i,l){return i[0]*l[0]+i[1]*l[1]+i[2]*l[2]+i[3]*l[3]}},3778:function(a,o){o.read=function(i,l,u,s,f){var h,p,_=f*8-s-1,m=(1<<_)-1,w=m>>1,T=-7,y=u?f-1:0,k=u?-1:1,S=i[l+y];for(y+=k,h=S&(1<<-T)-1,S>>=-T,T+=_;T>0;h=h*256+i[l+y],y+=k,T-=8);for(p=h&(1<<-T)-1,h>>=-T,T+=s;T>0;p=p*256+i[l+y],y+=k,T-=8);if(h===0)h=1-w;else{if(h===m)return p?NaN:(S?-1:1)*(1/0);p=p+Math.pow(2,s),h=h-w}return(S?-1:1)*p*Math.pow(2,h-s)},o.write=function(i,l,u,s,f,h){var p,_,m,w=h*8-f-1,T=(1<<w)-1,y=T>>1,k=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=s?0:h-1,b=s?1:-1,M=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(_=isNaN(l)?1:0,p=T):(p=Math.floor(Math.log(l)/Math.LN2),l*(m=Math.pow(2,-p))<1&&(p--,m*=2),p+y>=1?l+=k/m:l+=k*Math.pow(2,1-y),l*m>=2&&(p++,m/=2),p+y>=T?(_=0,p=T):p+y>=1?(_=(l*m-1)*Math.pow(2,f),p=p+y):(_=l*Math.pow(2,y-1)*Math.pow(2,f),p=0));f>=8;i[u+S]=_&255,S+=b,_/=256,f-=8);for(p=p<<f|_,w+=f;w>0;i[u+S]=p&255,S+=b,p/=256,w-=8);i[u+S-b]|=M*128}},3788:function(a,o,i){"use strict";var l=i(8507),u=i(2419);a.exports=s;function s(f,h){return l(f,h)||u(f)-u(h)}},3837:function(a,o,i){"use strict";a.exports=E;var l=i(4935),u=i(501),s=i(5304),f=i(6429),h=i(6444),p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),_=ArrayBuffer,m=DataView;function w(R){return _.isView(R)&&!(R instanceof m)}function T(R){return Array.isArray(R)||w(R)}function y(R,N){return R[0]=N[0],R[1]=N[1],R[2]=N[2],R}function k(R){this.gl=R,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=s(R)}var S=k.prototype;S.update=function(R){R=R||{};function N(Q,oe,re){if(re in R){var H=R[re],ee=this[re],V;(Q?T(H)&&T(H[0]):T(H))?this[re]=V=[oe(H[0]),oe(H[1]),oe(H[2])]:this[re]=V=[oe(H),oe(H),oe(H)];for(var te=0;te<3;++te)if(V[te]!==ee[te])return!0}return!1}var F=N.bind(this,!1,Number),I=N.bind(this,!1,Boolean),L=N.bind(this,!1,String),P=N.bind(this,!0,function(Q){if(T(Q)){if(Q.length===3)return[+Q[0],+Q[1],+Q[2],1];if(Q.length===4)return[+Q[0],+Q[1],+Q[2],+Q[3]]}return[0,0,0,1]}),O,U=!1,X=!1;if("bounds"in R)for(var $=R.bounds,j=0;j<2;++j)for(var Y=0;Y<3;++Y)$[j][Y]!==this.bounds[j][Y]&&(X=!0),this.bounds[j][Y]=$[j][Y];if("ticks"in R){O=R.ticks,U=!0,this.autoTicks=!1;for(var j=0;j<3;++j)this.tickSpacing[j]=0}else F("tickSpacing")&&(this.autoTicks=!0,X=!0);if(this._firstInit&&("ticks"in R||"tickSpacing"in R||(this.autoTicks=!0),X=!0,U=!0,this._firstInit=!1),X&&this.autoTicks&&(O=h.create(this.bounds,this.tickSpacing),U=!0),U){for(var j=0;j<3;++j)O[j].sort(function(oe,re){return oe.x-re.x});h.equal(O,this.ticks)?U=!1:this.ticks=O}I("tickEnable"),L("tickFont")&&(U=!0),L("tickFontStyle")&&(U=!0),L("tickFontWeight")&&(U=!0),L("tickFontVariant")&&(U=!0),F("tickSize"),F("tickAngle"),F("tickPad"),P("tickColor");var q=L("labels");L("labelFont")&&(q=!0),L("labelFontStyle")&&(q=!0),L("labelFontWeight")&&(q=!0),L("labelFontVariant")&&(q=!0),I("labelEnable"),F("labelSize"),F("labelPad"),P("labelColor"),I("lineEnable"),I("lineMirror"),F("lineWidth"),P("lineColor"),I("lineTickEnable"),I("lineTickMirror"),F("lineTickLength"),F("lineTickWidth"),P("lineTickColor"),I("gridEnable"),F("gridWidth"),P("gridColor"),I("zeroEnable"),P("zeroLineColor"),F("zeroLineWidth"),I("backgroundEnable"),P("backgroundColor");var K=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],ne=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(q||U)&&this._text.update(this.bounds,this.labels,K,this.ticks,ne):this._text=l(this.gl,this.bounds,this.labels,K,this.ticks,ne),this._lines&&U&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=u(this.gl,this.bounds,this.ticks))};function b(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var M=[new b,new b,new b];function d(R,N,F,I,L){for(var P=R.primalOffset,O=R.primalMinor,U=R.mirrorOffset,X=R.mirrorMinor,$=I[N],j=0;j<3;++j)if(N!==j){var Y=P,q=U,K=O,ne=X;$&1<<j&&(Y=U,q=P,K=X,ne=O),Y[j]=F[0][j],q[j]=F[1][j],L[j]>0?(K[j]=-1,ne[j]=0):(K[j]=0,ne[j]=1)}}var x=[0,0,0],g={model:p,view:p,projection:p,_ortho:!1};S.isOpaque=function(){return!0},S.isTransparent=function(){return!1},S.drawTransparent=function(R){};var c=0,A=[0,0,0],v=[0,0,0],D=[0,0,0];S.draw=function(R){R=R||g;for(var re=this.gl,N=R.model||p,F=R.view||p,I=R.projection||p,L=this.bounds,P=R._ortho||!1,O=f(N,F,I,L,P),U=O.cubeEdges,X=O.axis,$=F[12],j=F[13],Y=F[14],q=F[15],K=P?2:1,ne=K*this.pixelRatio*(I[3]*$+I[7]*j+I[11]*Y+I[15]*q)/re.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=U[Q],this.lastCubeProps.axis[Q]=X[Q];for(var oe=M,Q=0;Q<3;++Q)d(M[Q],Q,this.bounds,U,X);for(var re=this.gl,H=x,Q=0;Q<3;++Q)this.backgroundEnable[Q]?H[Q]=X[Q]:H[Q]=0;this._background.draw(N,F,I,L,H,this.backgroundColor),this._lines.bind(N,F,I,this);for(var Q=0;Q<3;++Q){var ee=[0,0,0];X[Q]>0?ee[Q]=L[1][Q]:ee[Q]=L[0][Q];for(var V=0;V<2;++V){var te=(Q+1+V)%3,ue=(Q+1+(V^1))%3;this.gridEnable[te]&&this._lines.drawGrid(te,ue,this.bounds,ee,this.gridColor[te],this.gridWidth[te]*this.pixelRatio)}for(var V=0;V<2;++V){var te=(Q+1+V)%3,ue=(Q+1+(V^1))%3;this.zeroEnable[ue]&&Math.min(L[0][ue],L[1][ue])<=0&&Math.max(L[0][ue],L[1][ue])>=0&&this._lines.drawZero(te,ue,this.bounds,ee,this.zeroLineColor[ue],this.zeroLineWidth[ue]*this.pixelRatio)}}for(var Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,oe[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,oe[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);for(var ve=y(A,oe[Q].primalMinor),ke=y(v,oe[Q].mirrorMinor),Se=this.lineTickLength,V=0;V<3;++V){var he=ne/N[5*V];ve[V]*=Se[V]*he,ke[V]*=Se[V]*he}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,oe[Q].primalOffset,ve,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,oe[Q].mirrorOffset,ke,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(N,F,I,this.pixelRatio);var Ae,Ce=.5,Pe,Ee;function Ne(ye){Ee=[0,0,0],Ee[ye]=1}function Ue(ye,pe,ce){var be=(ye+1)%3,Le=(ye+2)%3,qe=pe[be],ze=pe[Le],$e=ce[be],Ve=ce[Le];if(qe>0&&Ve>0){Ne(be);return}else if(qe>0&&Ve<0){Ne(be);return}else if(qe<0&&Ve>0){Ne(be);return}else if(qe<0&&Ve<0){Ne(be);return}else if(ze>0&&$e>0){Ne(Le);return}else if(ze>0&&$e<0){Ne(Le);return}else if(ze<0&&$e>0){Ne(Le);return}else if(ze<0&&$e<0){Ne(Le);return}}for(var Q=0;Q<3;++Q){for(var ge=oe[Q].primalMinor,we=oe[Q].mirrorMinor,Te=y(D,oe[Q].primalOffset),V=0;V<3;++V)this.lineTickEnable[Q]&&(Te[V]+=ne*ge[V]*Math.max(this.lineTickLength[V],0)/N[5*V]);var me=[0,0,0];if(me[Q]=1,this.tickEnable[Q]){this.tickAngle[Q]===-3600?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,Pe=1,Ae=[this.tickAlign[Q],Ce,Pe],Ae[0]==="auto"?Ae[0]=c:Ae[0]=parseInt(""+Ae[0]),Ee=[0,0,0],Ue(Q,ge,we);for(var V=0;V<3;++V)Te[V]+=ne*ge[V]*this.tickPad[V]/N[5*V];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],Te,this.tickColor[Q],me,Ee,Ae)}if(this.labelEnable[Q]){Pe=0,Ee=[0,0,0],this.labels[Q].length>4&&(Ne(Q),Pe=1),Ae=[this.labelAlign[Q],Ce,Pe],Ae[0]==="auto"?Ae[0]=c:Ae[0]=parseInt(""+Ae[0]);for(var V=0;V<3;++V)Te[V]+=ne*ge[V]*this.labelPad[V]/N[5*V];Te[Q]+=.5*(L[0][Q]+L[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],Te,this.labelColor[Q],[0,0,0],Ee,Ae)}}this._text.unbind()},S.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function E(R,N){var F=new k(R);return F.update(N),F}},3840:function(a){"use strict";a.exports=M;var o=0,i=1;function l(d,x,g,c,A,v){this._color=d,this.key=x,this.value=g,this.left=c,this.right=A,this._count=v}function u(d){return new l(d._color,d.key,d.value,d.left,d.right,d._count)}function s(d,x){return new l(d,x.key,x.value,x.left,x.right,x._count)}function f(d){d._count=1+(d.left?d.left._count:0)+(d.right?d.right._count:0)}function h(d,x){this._compare=d,this.root=x}var p=h.prototype;Object.defineProperty(p,"keys",{get:function(){var d=[];return this.forEach(function(x,g){d.push(x)}),d}}),Object.defineProperty(p,"values",{get:function(){var d=[];return this.forEach(function(x,g){d.push(g)}),d}}),Object.defineProperty(p,"length",{get:function(){return this.root?this.root._count:0}}),p.insert=function(d,x){for(var g=this._compare,c=this.root,A=[],v=[];c;){var D=g(d,c.key);A.push(c),v.push(D),D<=0?c=c.left:c=c.right}A.push(new l(o,d,x,null,null,1));for(var E=A.length-2;E>=0;--E){var c=A[E];v[E]<=0?A[E]=new l(c._color,c.key,c.value,A[E+1],c.right,c._count+1):A[E]=new l(c._color,c.key,c.value,c.left,A[E+1],c._count+1)}for(var E=A.length-1;E>1;--E){var R=A[E-1],c=A[E];if(R._color===i||c._color===i)break;var N=A[E-2];if(N.left===R)if(R.left===c){var F=N.right;if(F&&F._color===o)R._color=i,N.right=s(i,F),N._color=o,E-=1;else{if(N._color=o,N.left=R.right,R._color=i,R.right=N,A[E-2]=R,A[E-1]=c,f(N),f(R),E>=3){var I=A[E-3];I.left===N?I.left=R:I.right=R}break}}else{var F=N.right;if(F&&F._color===o)R._color=i,N.right=s(i,F),N._color=o,E-=1;else{if(R.right=c.left,N._color=o,N.left=c.right,c._color=i,c.left=R,c.right=N,A[E-2]=c,A[E-1]=R,f(N),f(R),f(c),E>=3){var I=A[E-3];I.left===N?I.left=c:I.right=c}break}}else if(R.right===c){var F=N.left;if(F&&F._color===o)R._color=i,N.left=s(i,F),N._color=o,E-=1;else{if(N._color=o,N.right=R.left,R._color=i,R.left=N,A[E-2]=R,A[E-1]=c,f(N),f(R),E>=3){var I=A[E-3];I.right===N?I.right=R:I.left=R}break}}else{var F=N.left;if(F&&F._color===o)R._color=i,N.left=s(i,F),N._color=o,E-=1;else{if(R.left=c.right,N._color=o,N.right=c.left,c._color=i,c.right=R,c.left=N,A[E-2]=c,A[E-1]=R,f(N),f(R),f(c),E>=3){var I=A[E-3];I.right===N?I.right=c:I.left=c}break}}}return A[0]._color=i,new h(g,A[0])};function _(d,x){if(x.left){var g=_(d,x.left);if(g)return g}var g=d(x.key,x.value);if(g)return g;if(x.right)return _(d,x.right)}function m(d,x,g,c){var A=x(d,c.key);if(A<=0){if(c.left){var v=m(d,x,g,c.left);if(v)return v}var v=g(c.key,c.value);if(v)return v}if(c.right)return m(d,x,g,c.right)}function w(d,x,g,c,A){var v=g(d,A.key),D=g(x,A.key),E;if(v<=0&&(A.left&&(E=w(d,x,g,c,A.left),E)||D>0&&(E=c(A.key,A.value),E)))return E;if(D>0&&A.right)return w(d,x,g,c,A.right)}p.forEach=function(x,g,c){if(this.root)switch(arguments.length){case 1:return _(x,this.root);case 2:return m(g,this._compare,x,this.root);case 3:return this._compare(g,c)>=0?void 0:w(g,c,this._compare,x,this.root)}},Object.defineProperty(p,"begin",{get:function(){for(var d=[],x=this.root;x;)d.push(x),x=x.left;return new T(this,d)}}),Object.defineProperty(p,"end",{get:function(){for(var d=[],x=this.root;x;)d.push(x),x=x.right;return new T(this,d)}}),p.at=function(d){if(d<0)return new T(this,[]);for(var x=this.root,g=[];;){if(g.push(x),x.left){if(d<x.left._count){x=x.left;continue}d-=x.left._count}if(!d)return new T(this,g);if(d-=1,x.right){if(d>=x.right._count)break;x=x.right}else break}return new T(this,[])},p.ge=function(d){for(var x=this._compare,g=this.root,c=[],A=0;g;){var v=x(d,g.key);c.push(g),v<=0&&(A=c.length),v<=0?g=g.left:g=g.right}return c.length=A,new T(this,c)},p.gt=function(d){for(var x=this._compare,g=this.root,c=[],A=0;g;){var v=x(d,g.key);c.push(g),v<0&&(A=c.length),v<0?g=g.left:g=g.right}return c.length=A,new T(this,c)},p.lt=function(d){for(var x=this._compare,g=this.root,c=[],A=0;g;){var v=x(d,g.key);c.push(g),v>0&&(A=c.length),v<=0?g=g.left:g=g.right}return c.length=A,new T(this,c)},p.le=function(d){for(var x=this._compare,g=this.root,c=[],A=0;g;){var v=x(d,g.key);c.push(g),v>=0&&(A=c.length),v<0?g=g.left:g=g.right}return c.length=A,new T(this,c)},p.find=function(d){for(var x=this._compare,g=this.root,c=[];g;){var A=x(d,g.key);if(c.push(g),A===0)return new T(this,c);A<=0?g=g.left:g=g.right}return new T(this,[])},p.remove=function(d){var x=this.find(d);return x?x.remove():this},p.get=function(d){for(var x=this._compare,g=this.root;g;){var c=x(d,g.key);if(c===0)return g.value;c<=0?g=g.left:g=g.right}};function T(d,x){this.tree=d,this._stack=x}var y=T.prototype;Object.defineProperty(y,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(y,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),y.clone=function(){return new T(this.tree,this._stack.slice())};function k(d,x){d.key=x.key,d.value=x.value,d.left=x.left,d.right=x.right,d._color=x._color,d._count=x._count}function S(d){for(var x,g,c,A,v=d.length-1;v>=0;--v){if(x=d[v],v===0){x._color=i;return}if(g=d[v-1],g.left===x){if(c=g.right,c.right&&c.right._color===o){if(c=g.right=u(c),A=c.right=u(c.right),g.right=c.left,c.left=g,c.right=A,c._color=g._color,x._color=i,g._color=i,A._color=i,f(g),f(c),v>1){var D=d[v-2];D.left===g?D.left=c:D.right=c}d[v-1]=c;return}else if(c.left&&c.left._color===o){if(c=g.right=u(c),A=c.left=u(c.left),g.right=A.left,c.left=A.right,A.left=g,A.right=c,A._color=g._color,g._color=i,c._color=i,x._color=i,f(g),f(c),f(A),v>1){var D=d[v-2];D.left===g?D.left=A:D.right=A}d[v-1]=A;return}if(c._color===i)if(g._color===o){g._color=i,g.right=s(o,c);return}else{g.right=s(o,c);continue}else{if(c=u(c),g.right=c.left,c.left=g,c._color=g._color,g._color=o,f(g),f(c),v>1){var D=d[v-2];D.left===g?D.left=c:D.right=c}d[v-1]=c,d[v]=g,v+1<d.length?d[v+1]=x:d.push(x),v=v+2}}else{if(c=g.left,c.left&&c.left._color===o){if(c=g.left=u(c),A=c.left=u(c.left),g.left=c.right,c.right=g,c.left=A,c._color=g._color,x._color=i,g._color=i,A._color=i,f(g),f(c),v>1){var D=d[v-2];D.right===g?D.right=c:D.left=c}d[v-1]=c;return}else if(c.right&&c.right._color===o){if(c=g.left=u(c),A=c.right=u(c.right),g.left=A.right,c.right=A.left,A.right=g,A.left=c,A._color=g._color,g._color=i,c._color=i,x._color=i,f(g),f(c),f(A),v>1){var D=d[v-2];D.right===g?D.right=A:D.left=A}d[v-1]=A;return}if(c._color===i)if(g._color===o){g._color=i,g.left=s(o,c);return}else{g.left=s(o,c);continue}else{if(c=u(c),g.left=c.right,c.right=g,c._color=g._color,g._color=o,f(g),f(c),v>1){var D=d[v-2];D.right===g?D.right=c:D.left=c}d[v-1]=c,d[v]=g,v+1<d.length?d[v+1]=x:d.push(x),v=v+2}}}}y.remove=function(){var d=this._stack;if(d.length===0)return this.tree;var x=new Array(d.length),g=d[d.length-1];x[x.length-1]=new l(g._color,g.key,g.value,g.left,g.right,g._count);for(var c=d.length-2;c>=0;--c){var g=d[c];g.left===d[c+1]?x[c]=new l(g._color,g.key,g.value,x[c+1],g.right,g._count):x[c]=new l(g._color,g.key,g.value,g.left,x[c+1],g._count)}if(g=x[x.length-1],g.left&&g.right){var A=x.length;for(g=g.left;g.right;)x.push(g),g=g.right;var v=x[A-1];x.push(new l(g._color,v.key,v.value,g.left,g.right,g._count)),x[A-1].key=g.key,x[A-1].value=g.value;for(var c=x.length-2;c>=A;--c)g=x[c],x[c]=new l(g._color,g.key,g.value,g.left,x[c+1],g._count);x[A-1].left=x[A]}if(g=x[x.length-1],g._color===o){var D=x[x.length-2];D.left===g?D.left=null:D.right===g&&(D.right=null),x.pop();for(var c=0;c<x.length;++c)x[c]._count--;return new h(this.tree._compare,x[0])}else if(g.left||g.right){g.left?k(g,g.left):g.right&&k(g,g.right),g._color=i;for(var c=0;c<x.length-1;++c)x[c]._count--;return new h(this.tree._compare,x[0])}else{if(x.length===1)return new h(this.tree._compare,null);for(var c=0;c<x.length;++c)x[c]._count--;var E=x[x.length-2];S(x),E.left===g?E.left=null:E.right=null}return new h(this.tree._compare,x[0])},Object.defineProperty(y,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(y,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(y,"index",{get:function(){var d=0,x=this._stack;if(x.length===0){var g=this.tree.root;return g?g._count:0}else x[x.length-1].left&&(d=x[x.length-1].left._count);for(var c=x.length-2;c>=0;--c)x[c+1]===x[c].right&&(++d,x[c].left&&(d+=x[c].left._count));return d},enumerable:!0}),y.next=function(){var d=this._stack;if(d.length!==0){var x=d[d.length-1];if(x.right)for(x=x.right;x;)d.push(x),x=x.left;else for(d.pop();d.length>0&&d[d.length-1].right===x;)x=d[d.length-1],d.pop()}},Object.defineProperty(y,"hasNext",{get:function(){var d=this._stack;if(d.length===0)return!1;if(d[d.length-1].right)return!0;for(var x=d.length-1;x>0;--x)if(d[x-1].left===d[x])return!0;return!1}}),y.update=function(d){var x=this._stack;if(x.length===0)throw new Error("Can't update empty node!");var g=new Array(x.length),c=x[x.length-1];g[g.length-1]=new l(c._color,c.key,d,c.left,c.right,c._count);for(var A=x.length-2;A>=0;--A)c=x[A],c.left===x[A+1]?g[A]=new l(c._color,c.key,c.value,g[A+1],c.right,c._count):g[A]=new l(c._color,c.key,c.value,c.left,g[A+1],c._count);return new h(this.tree._compare,g[0])},y.prev=function(){var d=this._stack;if(d.length!==0){var x=d[d.length-1];if(x.left)for(x=x.left;x;)d.push(x),x=x.right;else for(d.pop();d.length>0&&d[d.length-1].left===x;)x=d[d.length-1],d.pop()}},Object.defineProperty(y,"hasPrev",{get:function(){var d=this._stack;if(d.length===0)return!1;if(d[d.length-1].left)return!0;for(var x=d.length-1;x>0;--x)if(d[x-1].right===d[x])return!0;return!1}});function b(d,x){return d<x?-1:d>x?1:0}function M(d){return new h(d||b,null)}},3865:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]).add(f[0].mul(s[1])),s[1].mul(f[1]))}},3952:function(a,o,i){"use strict";a.exports=s;var l=i(3250);function u(f,h){for(var p=new Array(h+1),_=0;_<f.length;++_)p[_]=f[_];for(var _=0;_<=f.length;++_){for(var m=f.length;m<=h;++m){for(var w=new Array(h),T=0;T<h;++T)w[T]=Math.pow(m+1-_,T);p[m]=w}var y=l.apply(void 0,p);if(y)return!0}return!1}function s(f){var h=f.length;if(h===0)return[];if(h===1)return[0];for(var p=f[0].length,_=[f[0]],m=[0],w=1;w<h;++w){if(_.push(f[w]),!u(_,p)){_.pop();continue}if(m.push(w),m.length===p+1)return m}return m}},3990:function(a){a.exports=o;function o(i,l){return i[0]=l[0],i[1]=l[1],i[2]=l[2],i}},4008:function(a,o,i){a.exports=i(6690)},4025:function(a,o,i){"use strict";var l=i(2361),u=i(8828).countTrailingZeros;a.exports=s;function s(f){var h=u(l.lo(f));if(h<32)return h;var p=u(l.hi(f));return p>20?52:p+32}},4040:function(a){a.exports=o;function o(i,l,u,s,f,h,p){var _=1/(l-u),m=1/(s-f),w=1/(h-p);return i[0]=-2*_,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*m,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*w,i[11]=0,i[12]=(l+u)*_,i[13]=(f+s)*m,i[14]=(p+h)*w,i[15]=1,i}},4041:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=u[0],_=u[1],m=u[2],w=u[3],T=w*s+_*h-m*f,y=w*f+m*s-p*h,k=w*h+p*f-_*s,S=-p*s-_*f-m*h;return i[0]=T*w+S*-p+y*-m-k*-_,i[1]=y*w+S*-_+k*-p-T*-m,i[2]=k*w+S*-m+T*-_-y*-p,i[3]=l[3],i}},4081:function(a){"use strict";a.exports=o;function o(i,l,u,s,f,h,p,_,m,w){var T=l+h+w;if(y>0){var y=Math.sqrt(T+1);i[0]=.5*(p-m)/y,i[1]=.5*(_-s)/y,i[2]=.5*(u-h)/y,i[3]=.5*y}else{var k=Math.max(l,h,w),y=Math.sqrt(2*k-T+1);l>=k?(i[0]=.5*y,i[1]=.5*(f+u)/y,i[2]=.5*(_+s)/y,i[3]=.5*(p-m)/y):h>=k?(i[0]=.5*(u+f)/y,i[1]=.5*y,i[2]=.5*(m+p)/y,i[3]=.5*(_-s)/y):(i[0]=.5*(s+_)/y,i[1]=.5*(p+m)/y,i[2]=.5*y,i[3]=.5*(u-f)/y)}return i}},4100:function(a,o,i){"use strict";var l=i(4437),u=i(3837),s=i(5445),f=i(4449),h=i(3589),p=i(2260),_=i(7169),m=i(351),w=i(4772),T=i(4040),y=i(799),k=i(9216)({tablet:!0,featureDetect:!0});a.exports={createScene:x,createCamera:l};function S(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function b(c,A){var v=null;try{v=c.getContext("webgl",A),v||(v=c.getContext("experimental-webgl",A))}catch(D){return null}return v}function M(c){var A=Math.round(Math.log(Math.abs(c))/Math.log(10));if(A<0){var v=Math.round(Math.pow(10,-A));return Math.ceil(c*v)/v}else if(A>0){var v=Math.round(Math.pow(10,A));return Math.ceil(c/v)*v}return Math.ceil(c)}function d(c){return typeof c=="boolean"?c:!0}function x(c){c=c||{},c.camera=c.camera||{};var A=c.canvas;if(!A)if(A=document.createElement("canvas"),c.container){var v=c.container;v.appendChild(A)}else document.body.appendChild(A);var D=c.gl;if(D||(c.glOptions&&(k=!!c.glOptions.preserveDrawingBuffer),D=b(A,c.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:k})),!D)throw new Error("webgl not supported");var E=c.bounds||[[-10,-10,-10],[10,10,10]],R=new S,N=p(D,D.drawingBufferWidth,D.drawingBufferHeight,{preferFloat:!k}),F=y(D),I=c.cameraObject&&c.cameraObject._ortho===!0||c.camera.projection&&c.camera.projection.type==="orthographic"||!1,L={eye:c.camera.eye||[2,0,0],center:c.camera.center||[0,0,0],up:c.camera.up||[0,1,0],zoomMin:c.camera.zoomMax||.1,zoomMax:c.camera.zoomMin||100,mode:c.camera.mode||"turntable",_ortho:I},P=c.axes||{},O=u(D,P);O.enable=!P.disable;var U=c.spikes||{},X=f(D,U),$=[],j=[],Y=[],q=[],K=!0,re=!0,ne=new Array(16),Q=new Array(16),oe={view:null,projection:ne,model:Q,_ortho:!1},re=!0,H=[D.drawingBufferWidth,D.drawingBufferHeight],ee=c.cameraObject||l(A,L),V={gl:D,contextLost:!1,pixelRatio:c.pixelRatio||1,canvas:A,selection:R,camera:ee,axes:O,axesPixels:null,spikes:X,bounds:E,objects:$,shape:H,aspect:c.aspectRatio||[1,1,1],pickRadius:c.pickRadius||10,zNear:c.zNear||.01,zFar:c.zFar||1e3,fovy:c.fovy||Math.PI/4,clearColor:c.clearColor||[0,0,0,0],autoResize:d(c.autoResize),autoBounds:d(c.autoBounds),autoScale:!!c.autoScale,autoCenter:d(c.autoCenter),clipToBounds:d(c.clipToBounds),snapToData:!!c.snapToData,onselect:c.onselect||null,onrender:c.onrender||null,onclick:c.onclick||null,cameraParams:oe,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ee){this.aspect[0]=Ee.x,this.aspect[1]=Ee.y,this.aspect[2]=Ee.z,re=!0},setBounds:function(Ee,Ne){this.bounds[0][Ee]=Ne.min,this.bounds[1][Ee]=Ne.max},setClearColor:function(Ee){this.clearColor=Ee},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},te=[D.drawingBufferWidth/V.pixelRatio|0,D.drawingBufferHeight/V.pixelRatio|0];function ue(){if(!V._stopped&&V.autoResize){var Ee=A.parentNode,Ne=1,Ue=1;Ee&&Ee!==document.body?(Ne=Ee.clientWidth,Ue=Ee.clientHeight):(Ne=window.innerWidth,Ue=window.innerHeight);var ge=Math.ceil(Ne*V.pixelRatio)|0,we=Math.ceil(Ue*V.pixelRatio)|0;if(ge!==A.width||we!==A.height){A.width=ge,A.height=we;var Te=A.style;Te.position=Te.position||"absolute",Te.left="0px",Te.top="0px",Te.width=Ne+"px",Te.height=Ue+"px",K=!0}}}V.autoResize&&ue(),window.addEventListener("resize",ue);function ve(){for(var Ee=$.length,Ne=q.length,Ue=0;Ue<Ne;++Ue)Y[Ue]=0;e:for(var Ue=0;Ue<Ee;++Ue){var ge=$[Ue],we=ge.pickSlots;if(!we){j[Ue]=-1;continue}for(var Te=0;Te<Ne;++Te)if(Y[Te]+we<255){j[Ue]=Te,ge.setPickBase(Y[Te]+1),Y[Te]+=we;continue e}var me=h(D,H);j[Ue]=Ne,q.push(me),Y.push(we),ge.setPickBase(1),Ne+=1}for(;Ne>0&&Y[Ne-1]===0;)Y.pop(),q.pop().dispose()}V.update=function(Ee){V._stopped||(Ee=Ee||{},K=!0,re=!0)},V.add=function(Ee){V._stopped||(Ee.axes=O,$.push(Ee),j.push(-1),K=!0,re=!0,ve())},V.remove=function(Ee){if(!V._stopped){var Ne=$.indexOf(Ee);Ne<0||($.splice(Ne,1),j.pop(),K=!0,re=!0,ve())}},V.dispose=function(){if(!V._stopped&&(V._stopped=!0,window.removeEventListener("resize",ue),A.removeEventListener("webglcontextlost",ke),V.mouseListener.enabled=!1,!V.contextLost)){O.dispose(),X.dispose();for(var Ee=0;Ee<$.length;++Ee)$[Ee].dispose();N.dispose();for(var Ee=0;Ee<q.length;++Ee)q[Ee].dispose();F.dispose(),D=null,O=null,X=null,$=[]}},V._mouseRotating=!1,V._prevButtons=0,V.enableMouseListeners=function(){V.mouseListener=m(A,function(Ee,Ne,Ue){if(!V._stopped){var ge=q.length,we=$.length,Te=R.object;R.distance=1/0,R.mouse[0]=Ne,R.mouse[1]=Ue,R.object=null,R.screen=null,R.dataCoordinate=R.dataPosition=null;var me=!1;if(Ee&&V._prevButtons)V._mouseRotating=!0;else{V._mouseRotating&&(re=!0),V._mouseRotating=!1;for(var ye=0;ye<ge;++ye){var pe=q[ye].query(Ne,te[1]-Ue-1,V.pickRadius);if(pe){if(pe.distance>R.distance)continue;for(var ce=0;ce<we;++ce){var be=$[ce];if(j[ce]===ye){var Le=be.pick(pe);Le&&(R.buttons=Ee,R.screen=pe.coord,R.distance=pe.distance,R.object=be,R.index=Le.distance,R.dataPosition=Le.position,R.dataCoordinate=Le.dataCoordinate,R.data=Le,me=!0)}}}}}Te&&Te!==R.object&&(Te.highlight&&Te.highlight(null),K=!0),R.object&&(R.object.highlight&&R.object.highlight(R.data),K=!0),me=me||R.object!==Te,me&&V.onselect&&V.onselect(R),Ee&1&&!(V._prevButtons&1)&&V.onclick&&V.onclick(R),V._prevButtons=Ee}})};function ke(){if(V.contextLost)return!0;D.isContextLost()&&(V.contextLost=!0,V.mouseListener.enabled=!1,V.selection.object=null,V.oncontextloss&&V.oncontextloss())}A.addEventListener("webglcontextlost",ke);function Se(){if(!ke()){D.colorMask(!0,!0,!0,!0),D.depthMask(!0),D.disable(D.BLEND),D.enable(D.DEPTH_TEST),D.depthFunc(D.LEQUAL);for(var Ee=$.length,Ne=q.length,Ue=0;Ue<Ne;++Ue){var ge=q[Ue];ge.shape=te,ge.begin();for(var we=0;we<Ee;++we)if(j[we]===Ue){var Te=$[we];Te.drawPick&&(Te.pixelRatio=1,Te.drawPick(oe))}ge.end()}}}var he=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ae=[he[0].slice(),he[1].slice()];function Ce(){if(!ke()){ue();var Ee=V.camera.tick();oe.view=V.camera.matrix,K=K||Ee,re=re||Ee,O.pixelRatio=V.pixelRatio,X.pixelRatio=V.pixelRatio;var Ne=$.length,Ue=he[0],ge=he[1];Ue[0]=Ue[1]=Ue[2]=1/0,ge[0]=ge[1]=ge[2]=-1/0;for(var we=0;we<Ne;++we){var Te=$[we];Te.pixelRatio=V.pixelRatio,Te.axes=V.axes,K=K||!!Te.dirty,re=re||!!Te.dirty;var me=Te.bounds;if(me)for(var ye=me[0],pe=me[1],ce=0;ce<3;++ce)Ue[ce]=Math.min(Ue[ce],ye[ce]),ge[ce]=Math.max(ge[ce],pe[ce])}var be=V.bounds;if(V.autoBounds)for(var ce=0;ce<3;++ce){if(ge[ce]<Ue[ce])Ue[ce]=-1,ge[ce]=1;else{Ue[ce]===ge[ce]&&(Ue[ce]-=1,ge[ce]+=1);var Le=.05*(ge[ce]-Ue[ce]);Ue[ce]=Ue[ce]-Le,ge[ce]=ge[ce]+Le}be[0][ce]=Ue[ce],be[1][ce]=ge[ce]}for(var qe=!1,ce=0;ce<3;++ce)qe=qe||Ae[0][ce]!==be[0][ce]||Ae[1][ce]!==be[1][ce],Ae[0][ce]=be[0][ce],Ae[1][ce]=be[1][ce];if(re=re||qe,K=K||qe,!!K){if(qe){for(var ze=[0,0,0],we=0;we<3;++we)ze[we]=M((be[1][we]-be[0][we])/10);O.autoTicks?O.update({bounds:be,tickSpacing:ze}):O.update({bounds:be})}var $e=D.drawingBufferWidth,Ve=D.drawingBufferHeight;H[0]=$e,H[1]=Ve,te[0]=Math.max($e/V.pixelRatio,1)|0,te[1]=Math.max(Ve/V.pixelRatio,1)|0,g(V,I);for(var we=0;we<Ne;++we){var Te=$[we];Te.axesBounds=be,V.clipToBounds&&(Te.clipBounds=be)}R.object&&(V.snapToData?X.position=R.dataCoordinate:X.position=R.dataPosition,X.bounds=be),re&&(re=!1,Se()),V.axesPixels=s(V.axes,oe,$e,Ve),V.onrender&&V.onrender(),D.bindFramebuffer(D.FRAMEBUFFER,null),D.viewport(0,0,$e,Ve),V.clearRGBA(),D.depthMask(!0),D.colorMask(!0,!0,!0,!0),D.enable(D.DEPTH_TEST),D.depthFunc(D.LEQUAL),D.disable(D.BLEND),D.disable(D.CULL_FACE);var Be=!1;O.enable&&(Be=Be||O.isTransparent(),O.draw(oe)),X.axes=O,R.object&&X.draw(oe),D.disable(D.CULL_FACE);for(var we=0;we<Ne;++we){var Te=$[we];Te.axes=O,Te.pixelRatio=V.pixelRatio,Te.isOpaque&&Te.isOpaque()&&Te.draw(oe),Te.isTransparent&&Te.isTransparent()&&(Be=!0)}if(Be){N.shape=H,N.bind(),D.clear(D.DEPTH_BUFFER_BIT),D.colorMask(!1,!1,!1,!1),D.depthMask(!0),D.depthFunc(D.LESS),O.enable&&O.isTransparent()&&O.drawTransparent(oe);for(var we=0;we<Ne;++we){var Te=$[we];Te.isOpaque&&Te.isOpaque()&&Te.draw(oe)}D.enable(D.BLEND),D.blendEquation(D.FUNC_ADD),D.blendFunc(D.ONE,D.ONE_MINUS_SRC_ALPHA),D.colorMask(!0,!0,!0,!0),D.depthMask(!1),D.clearColor(0,0,0,0),D.clear(D.COLOR_BUFFER_BIT),O.isTransparent()&&O.drawTransparent(oe);for(var we=0;we<Ne;++we){var Te=$[we];Te.isTransparent&&Te.isTransparent()&&Te.drawTransparent(oe)}D.bindFramebuffer(D.FRAMEBUFFER,null),D.blendFunc(D.ONE,D.ONE_MINUS_SRC_ALPHA),D.disable(D.DEPTH_TEST),F.bind(),N.color[0].bind(0),F.uniforms.accumBuffer=0,_(D),D.disable(D.BLEND)}K=!1;for(var we=0;we<Ne;++we)$[we].dirty=!1}}}function Pe(){V._stopped||V.contextLost||(Ce(),requestAnimationFrame(Pe))}return V.enableMouseListeners(),Pe(),V.redraw=function(){V._stopped||(K=!0,Ce())},V}function g(c,A){var v=c.bounds,D=c.cameraParams,E=D.projection,R=D.model,N=c.gl.drawingBufferWidth,F=c.gl.drawingBufferHeight,I=c.zNear,L=c.zFar,P=c.fovy,O=N/F;A?(T(E,-O,O,-1,1,I,L),D._ortho=!0):(w(E,P,O,I,L),D._ortho=!1);for(var U=0;U<16;++U)R[U]=0;R[15]=1;for(var X=0,U=0;U<3;++U)X=Math.max(X,v[1][U]-v[0][U]);for(var U=0;U<3;++U)c.autoScale?R[5*U]=c.aspect[U]/(v[1][U]-v[0][U]):R[5*U]=1/X,c.autoCenter&&(R[12+U]=-R[5*U]*.5*(v[0][U]+v[1][U]))}},4192:function(a){"use strict";a.exports=i;var o=32;function i(w,T){T<=4*o?l(0,T-1,w):m(0,T-1,w)}function l(w,T,y){for(var k=2*(w+1),S=w+1;S<=T;++S){for(var b=y[k++],M=y[k++],d=S,x=k-2;d-- >w;){var g=y[x-2],c=y[x-1];if(g<b)break;if(g===b&&c<M)break;y[x]=g,y[x+1]=c,x-=2}y[x]=b,y[x+1]=M}}function u(w,T,y){w*=2,T*=2;var k=y[w],S=y[w+1];y[w]=y[T],y[w+1]=y[T+1],y[T]=k,y[T+1]=S}function s(w,T,y){w*=2,T*=2,y[w]=y[T],y[w+1]=y[T+1]}function f(w,T,y,k){w*=2,T*=2,y*=2;var S=k[w],b=k[w+1];k[w]=k[T],k[w+1]=k[T+1],k[T]=k[y],k[T+1]=k[y+1],k[y]=S,k[y+1]=b}function h(w,T,y,k,S){w*=2,T*=2,S[w]=S[T],S[T]=y,S[w+1]=S[T+1],S[T+1]=k}function p(w,T,y){w*=2,T*=2;var k=y[w],S=y[T];return k<S?!1:k===S?y[w+1]>y[T+1]:!0}function _(w,T,y,k){w*=2;var S=k[w];return S<T?!0:S===T?k[w+1]<y:!1}function m(w,T,y){var k=(T-w+1)/6|0,S=w+k,b=T-k,M=w+T>>1,d=M-k,x=M+k,g=S,c=d,A=M,v=x,D=b,E=w+1,R=T-1,N=0;p(g,c,y)&&(N=g,g=c,c=N),p(v,D,y)&&(N=v,v=D,D=N),p(g,A,y)&&(N=g,g=A,A=N),p(c,A,y)&&(N=c,c=A,A=N),p(g,v,y)&&(N=g,g=v,v=N),p(A,v,y)&&(N=A,A=v,v=N),p(c,D,y)&&(N=c,c=D,D=N),p(c,A,y)&&(N=c,c=A,A=N),p(v,D,y)&&(N=v,v=D,D=N);for(var F=y[2*c],I=y[2*c+1],L=y[2*v],P=y[2*v+1],O=2*g,U=2*A,X=2*D,$=2*S,j=2*M,Y=2*b,q=0;q<2;++q){var K=y[O+q],ne=y[U+q],Q=y[X+q];y[$+q]=K,y[j+q]=ne,y[Y+q]=Q}s(d,w,y),s(x,T,y);for(var oe=E;oe<=R;++oe)if(_(oe,F,I,y))oe!==E&&u(oe,E,y),++E;else if(!_(oe,L,P,y))for(;;)if(_(R,L,P,y)){_(R,F,I,y)?(f(oe,E,R,y),++E,--R):(u(oe,R,y),--R);break}else{if(--R<oe)break;continue}h(w,E-1,F,I,y),h(T,R+1,L,P,y),E-2-w<=o?l(w,E-2,y):m(w,E-2,y),T-(R+2)<=o?l(R+2,T,y):m(R+2,T,y),R-E<=o?l(E,R,y):m(E,R,y)}},4209:function(a,o,i){"use strict";a.exports=y;var l=i(2478),u=i(3840),s=i(3250),f=i(1303);function h(k,S,b){this.slabs=k,this.coordinates=S,this.horizontal=b}var p=h.prototype;function _(k,S){return k.y-S}function m(k,S){for(var b=null;k;){var M=k.key,d,x;M[0][0]<M[1][0]?(d=M[0],x=M[1]):(d=M[1],x=M[0]);var g=s(d,x,S);if(g<0)k=k.left;else if(g>0)if(S[0]!==M[1][0])b=k,k=k.right;else{var c=m(k.right,S);if(c)return c;k=k.left}else{if(S[0]!==M[1][0])return k;var c=m(k.right,S);if(c)return c;k=k.left}}return b}p.castUp=function(k){var S=l.le(this.coordinates,k[0]);if(S<0)return-1;var b=this.slabs[S],M=m(this.slabs[S],k),d=-1;if(M&&(d=M.value),this.coordinates[S]===k[0]){var x=null;if(M&&(x=M.key),S>0){var g=m(this.slabs[S-1],k);g&&(x?f(g.key,x)>0&&(x=g.key,d=g.value):(d=g.value,x=g.key))}var c=this.horizontal[S];if(c.length>0){var A=l.ge(c,k[1],_);if(A<c.length){var v=c[A];if(k[1]===v.y){if(v.closed)return v.index;for(;A<c.length-1&&c[A+1].y===k[1];)if(A=A+1,v=c[A],v.closed)return v.index;if(v.y===k[1]&&!v.start){if(A=A+1,A>=c.length)return d;v=c[A]}}if(v.start)if(x){var D=s(x[0],x[1],[k[0],v.y]);x[0][0]>x[1][0]&&(D=-D),D>0&&(d=v.index)}else d=v.index;else v.y!==k[1]&&(d=v.index)}}}return d};function w(k,S,b,M){this.y=k,this.index=S,this.start=b,this.closed=M}function T(k,S,b,M){this.x=k,this.segment=S,this.create=b,this.index=M}function y(k){for(var S=k.length,b=2*S,M=new Array(b),d=0;d<S;++d){var x=k[d],g=x[0][0]<x[1][0];M[2*d]=new T(x[0][0],x,g,d),M[2*d+1]=new T(x[1][0],x,!g,d)}M.sort(function(I,L){var P=I.x-L.x;return P||(P=I.create-L.create,P)?P:Math.min(I.segment[0][1],I.segment[1][1])-Math.min(L.segment[0][1],L.segment[1][1])});for(var c=u(f),A=[],v=[],D=[],E=-1/0,d=0;d<b;){for(var R=M[d].x,N=[];d<b;){var F=M[d];if(F.x!==R)break;d+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(N.push(new w(F.segment[0][1],F.index,!0,!0)),N.push(new w(F.segment[1][1],F.index,!1,!1))):(N.push(new w(F.segment[1][1],F.index,!0,!1)),N.push(new w(F.segment[0][1],F.index,!1,!0)))):F.create?c=c.insert(F.segment,F.index):c=c.remove(F.segment)}A.push(c.root),v.push(R),D.push(N)}return new h(A,v,D)}},4317:function(a){"use strict";function o(f,h){var p=Math.floor(h),_=h-p,m=0<=p&&p<f.shape[0],w=0<=p+1&&p+1<f.shape[0],T=m?+f.get(p):0,y=w?+f.get(p+1):0;return(1-_)*T+_*y}function i(f,h,p){var _=Math.floor(h),m=h-_,w=0<=_&&_<f.shape[0],T=0<=_+1&&_+1<f.shape[0],y=Math.floor(p),k=p-y,S=0<=y&&y<f.shape[1],b=0<=y+1&&y+1<f.shape[1],M=w&&S?f.get(_,y):0,d=w&&b?f.get(_,y+1):0,x=T&&S?f.get(_+1,y):0,g=T&&b?f.get(_+1,y+1):0;return(1-k)*((1-m)*M+m*x)+k*((1-m)*d+m*g)}function l(f,h,p,_){var m=Math.floor(h),w=h-m,T=0<=m&&m<f.shape[0],y=0<=m+1&&m+1<f.shape[0],k=Math.floor(p),S=p-k,b=0<=k&&k<f.shape[1],M=0<=k+1&&k+1<f.shape[1],d=Math.floor(_),x=_-d,g=0<=d&&d<f.shape[2],c=0<=d+1&&d+1<f.shape[2],A=T&&b&&g?f.get(m,k,d):0,v=T&&M&&g?f.get(m,k+1,d):0,D=y&&b&&g?f.get(m+1,k,d):0,E=y&&M&&g?f.get(m+1,k+1,d):0,R=T&&b&&c?f.get(m,k,d+1):0,N=T&&M&&c?f.get(m,k+1,d+1):0,F=y&&b&&c?f.get(m+1,k,d+1):0,I=y&&M&&c?f.get(m+1,k+1,d+1):0;return(1-x)*((1-S)*((1-w)*A+w*D)+S*((1-w)*v+w*E))+x*((1-S)*((1-w)*R+w*F)+S*((1-w)*N+w*I))}function u(f){var h=f.shape.length|0,p=new Array(h),_=new Array(h),m=new Array(h),w=new Array(h),T,y;for(T=0;T<h;++T)y=+arguments[T+1],p[T]=Math.floor(y),_[T]=y-p[T],m[T]=0<=p[T]&&p[T]<f.shape[T],w[T]=0<=p[T]+1&&p[T]+1<f.shape[T];var k=0,S,b,M;e:for(T=0;T<1<<h;++T){for(b=1,M=f.offset,S=0;S<h;++S)if(T&1<<S){if(!w[S])continue e;b*=_[S],M+=f.stride[S]*(p[S]+1)}else{if(!m[S])continue e;b*=1-_[S],M+=f.stride[S]*p[S]}k+=b*f.data[M]}return k}function s(f,h,p,_){switch(f.shape.length){case 0:return 0;case 1:return o(f,h);case 2:return i(f,h,p);case 3:return l(f,h,p,_);default:return u.apply(void 0,arguments)}}a.exports=s,a.exports.d1=o,a.exports.d2=i,a.exports.d3=l},4335:function(a){a.exports=function(i,l){var u=l[15];if(u===0)return!1;for(var s=1/u,f=0;f<16;f++)i[f]=l[f]*s;return!0}},4359:function(a,o,i){"use strict";a.exports=f;var l=i(7718),u=null,s=null;typeof document!="undefined"&&(u=document.createElement("canvas"),u.width=8192,u.height=1024,s=u.getContext("2d"));function f(h,p){return(typeof p!="object"||p===null)&&(p={}),l(h,p.canvas||u,p.context||s,p)}},4361:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]+u[0],i[1]=l[1]+u[1],i[2]=l[2]+u[2],i[3]=l[3]+u[3],i}},4437:function(a,o,i){"use strict";a.exports=_;var l=i(3025),u=i(6296),s=i(351),f=i(8512),h=i(24),p=i(7520);function _(m,w){m=m||document.body,w=w||{};var T=[.01,1/0];"distanceLimits"in w&&(T[0]=w.distanceLimits[0],T[1]=w.distanceLimits[1]),"zoomMin"in w&&(T[0]=w.zoomMin),"zoomMax"in w&&(T[1]=w.zoomMax);var y=u({center:w.center||[0,0,0],up:w.up||[0,1,0],eye:w.eye||[0,0,10],mode:w.mode||"orbit",distanceLimits:T}),k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=0,b=m.clientWidth,M=m.clientHeight,d={keyBindingMode:"rotate",enableWheel:!0,view:y,element:m,delay:w.delay||16,rotateSpeed:w.rotateSpeed||1,zoomSpeed:w.zoomSpeed||1,translateSpeed:w.translateSpeed||1,flipX:!!w.flipX,flipY:!!w.flipY,modes:y.modes,_ortho:w._ortho||w.projection&&w.projection.type==="orthographic"||!1,tick:function(){var x=l(),g=this.delay,c=x-2*g;y.idle(x-g),y.recalcMatrix(c),y.flush(x-(100+g*2));for(var A=!0,v=y.computedMatrix,D=0;D<16;++D)A=A&&k[D]===v[D],k[D]=v[D];var E=m.clientWidth===b&&m.clientHeight===M;return b=m.clientWidth,M=m.clientHeight,A?!E:(S=Math.exp(y.computedRadius[0]),!0)},lookAt:function(x,g,c){y.lookAt(y.lastT(),x,g,c)},rotate:function(x,g,c){y.rotate(y.lastT(),x,g,c)},pan:function(x,g,c){y.pan(y.lastT(),x,g,c)},translate:function(x,g,c){y.translate(y.lastT(),x,g,c)}};return Object.defineProperties(d,{matrix:{get:function(){return y.computedMatrix},set:function(x){return y.setMatrix(y.lastT(),x),y.computedMatrix},enumerable:!0},mode:{get:function(){return y.getMode()},set:function(x){var g=y.computedUp.slice(),c=y.computedEye.slice(),A=y.computedCenter.slice();if(y.setMode(x),x==="turntable"){var v=l();y._active.lookAt(v,c,A,g),y._active.lookAt(v+500,c,A,[0,0,1]),y._active.flush(v)}return y.getMode()},enumerable:!0},center:{get:function(){return y.computedCenter},set:function(x){return y.lookAt(y.lastT(),null,x),y.computedCenter},enumerable:!0},eye:{get:function(){return y.computedEye},set:function(x){return y.lookAt(y.lastT(),x),y.computedEye},enumerable:!0},up:{get:function(){return y.computedUp},set:function(x){return y.lookAt(y.lastT(),null,null,x),y.computedUp},enumerable:!0},distance:{get:function(){return S},set:function(x){return y.setDistance(y.lastT(),x),x},enumerable:!0},distanceLimits:{get:function(){return y.getDistanceLimits(T)},set:function(x){return y.setDistanceLimits(x),x},enumerable:!0}}),m.addEventListener("contextmenu",function(x){return x.preventDefault(),!1}),d._lastX=-1,d._lastY=-1,d._lastMods={shift:!1,control:!1,alt:!1,meta:!1},d.enableMouseListeners=function(){d.mouseListener=s(m,x),m.addEventListener("touchstart",function(g){var c=h(g.changedTouches[0],m);x(0,c[0],c[1],d._lastMods),x(1,c[0],c[1],d._lastMods)},p?{passive:!0}:!1),m.addEventListener("touchmove",function(g){var c=h(g.changedTouches[0],m);x(1,c[0],c[1],d._lastMods),g.preventDefault()},p?{passive:!1}:!1),m.addEventListener("touchend",function(g){x(0,d._lastX,d._lastY,d._lastMods)},p?{passive:!0}:!1);function x(g,c,A,v){var D=d.keyBindingMode;if(D!==!1){var E=D==="rotate",R=D==="pan",N=D==="zoom",F=!!v.control,I=!!v.alt,L=!!v.shift,P=!!(g&1),O=!!(g&2),U=!!(g&4),X=1/m.clientHeight,$=X*(c-d._lastX),j=X*(A-d._lastY),Y=d.flipX?1:-1,q=d.flipY?1:-1,K=Math.PI*d.rotateSpeed,ne=l();if(d._lastX!==-1&&d._lastY!==-1&&((E&&P&&!F&&!I&&!L||P&&!F&&!I&&L)&&y.rotate(ne,Y*K*$,-q*K*j,0),(R&&P&&!F&&!I&&!L||O||P&&F&&!I&&!L)&&y.pan(ne,-d.translateSpeed*$*S,d.translateSpeed*j*S,0),N&&P&&!F&&!I&&!L||U||P&&!F&&I&&!L)){var Q=-d.zoomSpeed*j/window.innerHeight*(ne-y.lastT())*100;y.pan(ne,0,0,S*(Math.exp(Q)-1))}return d._lastX=c,d._lastY=A,d._lastMods=v,!0}}d.wheelListener=f(m,function(g,c){if(d.keyBindingMode!==!1&&d.enableWheel){var A=d.flipX?1:-1,v=d.flipY?1:-1,D=l();if(Math.abs(g)>Math.abs(c))y.rotate(D,0,0,-g*A*Math.PI*d.rotateSpeed/window.innerWidth);else if(!d._ortho){var E=-d.zoomSpeed*v*c/window.innerHeight*(D-y.lastT())/20;y.pan(D,0,0,S*(Math.exp(E)-1))}}},!0)},d.enableMouseListeners(),d}},4449:function(a,o,i){"use strict";var l=i(2762),u=i(8116),s=i(1493);a.exports=T;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(y,k,S,b){this.gl=y,this.buffer=k,this.vao=S,this.shader=b,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var p=h.prototype,_=[0,0,0],m=[0,0,0],w=[0,0];p.isTransparent=function(){return!1},p.drawTransparent=function(y){},p.draw=function(y){var k=this.gl,S=this.vao,b=this.shader;S.bind(),b.bind();var M=y.model||f,d=y.view||f,x=y.projection||f,g;this.axes&&(g=this.axes.lastCubeProps.axis);for(var c=_,A=m,v=0;v<3;++v)g&&g[v]<0?(c[v]=this.bounds[0][v],A[v]=this.bounds[1][v]):(c[v]=this.bounds[1][v],A[v]=this.bounds[0][v]);w[0]=k.drawingBufferWidth,w[1]=k.drawingBufferHeight,b.uniforms.model=M,b.uniforms.view=d,b.uniforms.projection=x,b.uniforms.coordinates=[this.position,c,A],b.uniforms.colors=this.colors,b.uniforms.screenShape=w;for(var v=0;v<3;++v)b.uniforms.lineWidth=this.lineWidth[v]*this.pixelRatio,this.enabled[v]&&(S.draw(k.TRIANGLES,6,6*v),this.drawSides[v]&&S.draw(k.TRIANGLES,12,18+12*v));S.unbind()},p.update=function(y){y&&("bounds"in y&&(this.bounds=y.bounds),"position"in y&&(this.position=y.position),"lineWidth"in y&&(this.lineWidth=y.lineWidth),"colors"in y&&(this.colors=y.colors),"enabled"in y&&(this.enabled=y.enabled),"drawSides"in y&&(this.drawSides=y.drawSides))},p.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function T(y,k){var S=[];function b(c,A,v,D,E,R){var N=[c,A,v,0,0,0,1];N[D+3]=1,N[D]=E,S.push.apply(S,N),N[6]=-1,S.push.apply(S,N),N[D]=R,S.push.apply(S,N),S.push.apply(S,N),N[6]=1,S.push.apply(S,N),N[D]=E,S.push.apply(S,N)}b(0,0,0,0,0,1),b(0,0,0,1,0,1),b(0,0,0,2,0,1),b(1,0,0,1,-1,1),b(1,0,0,2,-1,1),b(0,1,0,0,-1,1),b(0,1,0,2,-1,1),b(0,0,1,0,-1,1),b(0,0,1,1,-1,1);var M=l(y,S),d=u(y,[{type:y.FLOAT,buffer:M,size:3,offset:0,stride:28},{type:y.FLOAT,buffer:M,size:3,offset:12,stride:28},{type:y.FLOAT,buffer:M,size:1,offset:24,stride:28}]),x=s(y);x.attributes.position.location=0,x.attributes.color.location=1,x.attributes.weight.location=2;var g=new h(y,M,d,x);return g.update(k),g}},4494:function(a){a.exports=o;function o(i,l){return i[0]=1/l[0],i[1]=1/l[1],i[2]=1/l[2],i[3]=1/l[3],i}},4505:function(a,o,i){a.exports=i(5847)},4578:function(a){a.exports=o;function o(i,l,u,s,f){return i[0]=l,i[1]=u,i[2]=s,i[3]=f,i}},4623:function(a){"use strict";"use restrict";a.exports=o;function o(i){this.roots=new Array(i),this.ranks=new Array(i);for(var l=0;l<i;++l)this.roots[l]=l,this.ranks[l]=0}o.prototype.length=function(){return this.roots.length},o.prototype.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},o.prototype.find=function(i){for(var l=this.roots;l[i]!==i;){var u=l[i];l[i]=l[u],i=u}return i},o.prototype.link=function(i,l){var u=this.find(i),s=this.find(l);if(u!==s){var f=this.ranks,h=this.roots,p=f[u],_=f[s];p<_?h[u]=s:_<p?h[s]=u:(h[s]=u,++f[u])}}},4687:function(a,o){"use strict";function i(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var h=f.which;if(h===2)return 4;if(h===3)return 2;if(h>0)return 1<<h-1}else if("button"in f){var h=f.button;if(h===1)return 4;if(h===2)return 2;if(h>=0)return 1<<h}}return 0}o.buttons=i;function l(f){return f.target||f.srcElement||window}o.element=l;function u(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var h=l(f),p=h.getBoundingClientRect();return f.clientX-p.left}return 0}o.x=u;function s(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var h=l(f),p=h.getBoundingClientRect();return f.clientY-p.top}return 0}o.y=s},4691:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2],h=l[3]-i[3];return Math.sqrt(u*u+s*s+f*f+h*h)}},4750:function(a,o,i){"use strict";a.exports=u;var l=i(3090);function u(s){var f=l(s),h=f.length;if(h<=2)return[];for(var p=new Array(h),_=f[h-1],m=0;m<h;++m){var w=f[m];p[m]=[_,w],_=w}return p}},4769:function(a){"use strict";function o(l,u,s,f,h,p){var _=6*h*h-6*h,m=3*h*h-4*h+1,w=-6*h*h+6*h,T=3*h*h-2*h;if(l.length){p||(p=new Array(l.length));for(var y=l.length-1;y>=0;--y)p[y]=_*l[y]+m*u[y]+w*s[y]+T*f[y];return p}return _*l+m*u+w*s[y]+T*f}function i(l,u,s,f,h,p){var _=h-1,m=h*h,w=_*_,T=(1+2*h)*w,y=h*w,k=m*(3-2*h),S=m*_;if(l.length){p||(p=new Array(l.length));for(var b=l.length-1;b>=0;--b)p[b]=T*l[b]+y*u[b]+k*s[b]+S*f[b];return p}return T*l+y*u+k*s+S*f}a.exports=i,a.exports.derivative=o},4772:function(a){a.exports=o;function o(i,l,u,s,f){var h=1/Math.tan(l/2),p=1/(s-f);return i[0]=h/u,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=h,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(f+s)*p,i[11]=-1,i[12]=0,i[13]=0,i[14]=2*f*s*p,i[15]=0,i}},4793:function(a,o,i){"use strict";var l;function u(se,J){if(!(se instanceof J))throw new TypeError("Cannot call a class as a function")}function s(se,J){for(var ae=0;ae<J.length;ae++){var De=J[ae];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(se,h(De.key),De)}}function f(se,J,ae){return J&&s(se.prototype,J),ae&&s(se,ae),Object.defineProperty(se,"prototype",{writable:!1}),se}function h(se){var J=p(se,"string");return b(J)=="symbol"?J:J+""}function p(se,J){if(b(se)!="object"||!se)return se;var ae=se[Symbol.toPrimitive];if(ae!==void 0){var De=ae.call(se,J||"default");if(b(De)!="object")return De;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(se)}function _(se,J,ae){return J=y(J),m(se,T()?Reflect.construct(J,ae||[],y(se).constructor):J.apply(se,ae))}function m(se,J){if(J&&(b(J)=="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(se)}function w(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function T(){try{var se=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(J){}return(T=function(){return!!se})()}function y(se){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},y(se)}function k(se,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(J&&J.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),Object.defineProperty(se,"prototype",{writable:!1}),J&&S(se,J)}function S(se,J){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,De){return ae.__proto__=De,ae},S(se,J)}function b(se){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},b(se)}var M=i(7507),d=i(3778),x=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.hp=v,l=X,o.IS=50;var g=2147483647;l=g,v.TYPED_ARRAY_SUPPORT=c(),!v.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var se=new Uint8Array(1),J={foo:function(){return 42}};return Object.setPrototypeOf(J,Uint8Array.prototype),Object.setPrototypeOf(se,J),se.foo()===42}catch(ae){return!1}}Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.byteOffset}});function A(se){if(se>g)throw new RangeError('The value "'+se+'" is invalid for option "size"');var J=new Uint8Array(se);return Object.setPrototypeOf(J,v.prototype),J}function v(se,J,ae){if(typeof se=="number"){if(typeof J=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(se)}return D(se,J,ae)}v.poolSize=8192;function D(se,J,ae){if(typeof se=="string")return F(se,J);if(ArrayBuffer.isView(se))return L(se);if(se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(se));if(Me(se,ArrayBuffer)||se&&Me(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Me(se,SharedArrayBuffer)||se&&Me(se.buffer,SharedArrayBuffer)))return P(se,J,ae);if(typeof se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var De=se.valueOf&&se.valueOf();if(De!=null&&De!==se)return v.from(De,J,ae);var He=O(se);if(He)return He;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof se[Symbol.toPrimitive]=="function")return v.from(se[Symbol.toPrimitive]("string"),J,ae);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(se))}v.from=function(se,J,ae){return D(se,J,ae)},Object.setPrototypeOf(v.prototype,Uint8Array.prototype),Object.setPrototypeOf(v,Uint8Array);function E(se){if(typeof se!="number")throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function R(se,J,ae){return E(se),se<=0?A(se):J!==void 0?typeof ae=="string"?A(se).fill(J,ae):A(se).fill(J):A(se)}v.alloc=function(se,J,ae){return R(se,J,ae)};function N(se){return E(se),A(se<0?0:U(se)|0)}v.allocUnsafe=function(se){return N(se)},v.allocUnsafeSlow=function(se){return N(se)};function F(se,J){if((typeof J!="string"||J==="")&&(J="utf8"),!v.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var ae=$(se,J)|0,De=A(ae),He=De.write(se,J);return He!==ae&&(De=De.slice(0,He)),De}function I(se){for(var J=se.length<0?0:U(se.length)|0,ae=A(J),De=0;De<J;De+=1)ae[De]=se[De]&255;return ae}function L(se){if(Me(se,Uint8Array)){var J=new Uint8Array(se);return P(J.buffer,J.byteOffset,J.byteLength)}return I(se)}function P(se,J,ae){if(J<0||se.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<J+(ae||0))throw new RangeError('"length" is outside of buffer bounds');var De;return J===void 0&&ae===void 0?De=new Uint8Array(se):ae===void 0?De=new Uint8Array(se,J):De=new Uint8Array(se,J,ae),Object.setPrototypeOf(De,v.prototype),De}function O(se){if(v.isBuffer(se)){var J=U(se.length)|0,ae=A(J);return ae.length===0||se.copy(ae,0,0,J),ae}if(se.length!==void 0)return typeof se.length!="number"||Re(se.length)?A(0):I(se);if(se.type==="Buffer"&&Array.isArray(se.data))return I(se.data)}function U(se){if(se>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return se|0}function X(se){return+se!=se&&(se=0),v.alloc(+se)}v.isBuffer=function(J){return J!=null&&J._isBuffer===!0&&J!==v.prototype},v.compare=function(J,ae){if(Me(J,Uint8Array)&&(J=v.from(J,J.offset,J.byteLength)),Me(ae,Uint8Array)&&(ae=v.from(ae,ae.offset,ae.byteLength)),!v.isBuffer(J)||!v.isBuffer(ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===ae)return 0;for(var De=J.length,He=ae.length,er=0,nr=Math.min(De,He);er<nr;++er)if(J[er]!==ae[er]){De=J[er],He=ae[er];break}return De<He?-1:He<De?1:0},v.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(J,ae){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(J.length===0)return v.alloc(0);var De;if(ae===void 0)for(ae=0,De=0;De<J.length;++De)ae+=J[De].length;var He=v.allocUnsafe(ae),er=0;for(De=0;De<J.length;++De){var nr=J[De];if(Me(nr,Uint8Array))er+nr.length>He.length?(v.isBuffer(nr)||(nr=v.from(nr)),nr.copy(He,er)):Uint8Array.prototype.set.call(He,nr,er);else if(v.isBuffer(nr))nr.copy(He,er);else throw new TypeError('"list" argument must be an Array of Buffers');er+=nr.length}return He};function $(se,J){if(v.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||Me(se,ArrayBuffer))return se.byteLength;if(typeof se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(se));var ae=se.length,De=arguments.length>2&&arguments[2]===!0;if(!De&&ae===0)return 0;for(var He=!1;;)switch(J){case"ascii":case"latin1":case"binary":return ae;case"utf8":case"utf-8":return ze(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae*2;case"hex":return ae>>>1;case"base64":return Be(se).length;default:if(He)return De?-1:ze(se).length;J=(""+J).toLowerCase(),He=!0}}v.byteLength=$;function j(se,J,ae){var De=!1;if((J===void 0||J<0)&&(J=0),J>this.length||((ae===void 0||ae>this.length)&&(ae=this.length),ae<=0)||(ae>>>=0,J>>>=0,ae<=J))return"";for(se||(se="utf8");;)switch(se){case"hex":return Se(this,J,ae);case"utf8":case"utf-8":return V(this,J,ae);case"ascii":return ve(this,J,ae);case"latin1":case"binary":return ke(this,J,ae);case"base64":return ee(this,J,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,J,ae);default:if(De)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),De=!0}}v.prototype._isBuffer=!0;function Y(se,J,ae){var De=se[J];se[J]=se[ae],se[ae]=De}v.prototype.swap16=function(){var J=this.length;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ae=0;ae<J;ae+=2)Y(this,ae,ae+1);return this},v.prototype.swap32=function(){var J=this.length;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ae=0;ae<J;ae+=4)Y(this,ae,ae+3),Y(this,ae+1,ae+2);return this},v.prototype.swap64=function(){var J=this.length;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ae=0;ae<J;ae+=8)Y(this,ae,ae+7),Y(this,ae+1,ae+6),Y(this,ae+2,ae+5),Y(this,ae+3,ae+4);return this},v.prototype.toString=function(){var J=this.length;return J===0?"":arguments.length===0?V(this,0,J):j.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(J){if(!v.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J?!0:v.compare(this,J)===0},v.prototype.inspect=function(){var J="",ae=o.IS;return J=this.toString("hex",0,ae).replace(/(.{2})/g,"$1 ").trim(),this.length>ae&&(J+=" ... "),"<Buffer "+J+">"},x&&(v.prototype[x]=v.prototype.inspect),v.prototype.compare=function(J,ae,De,He,er){if(Me(J,Uint8Array)&&(J=v.from(J,J.offset,J.byteLength)),!v.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(J));if(ae===void 0&&(ae=0),De===void 0&&(De=J?J.length:0),He===void 0&&(He=0),er===void 0&&(er=this.length),ae<0||De>J.length||He<0||er>this.length)throw new RangeError("out of range index");if(He>=er&&ae>=De)return 0;if(He>=er)return-1;if(ae>=De)return 1;if(ae>>>=0,De>>>=0,He>>>=0,er>>>=0,this===J)return 0;for(var nr=er-He,fr=De-ae,xr=Math.min(nr,fr),Sr=this.slice(He,er),Mr=J.slice(ae,De),Ar=0;Ar<xr;++Ar)if(Sr[Ar]!==Mr[Ar]){nr=Sr[Ar],fr=Mr[Ar];break}return nr<fr?-1:fr<nr?1:0};function q(se,J,ae,De,He){if(se.length===0)return-1;if(typeof ae=="string"?(De=ae,ae=0):ae>2147483647?ae=2147483647:ae<-2147483648&&(ae=-2147483648),ae=+ae,Re(ae)&&(ae=He?0:se.length-1),ae<0&&(ae=se.length+ae),ae>=se.length){if(He)return-1;ae=se.length-1}else if(ae<0)if(He)ae=0;else return-1;if(typeof J=="string"&&(J=v.from(J,De)),v.isBuffer(J))return J.length===0?-1:K(se,J,ae,De,He);if(typeof J=="number")return J=J&255,typeof Uint8Array.prototype.indexOf=="function"?He?Uint8Array.prototype.indexOf.call(se,J,ae):Uint8Array.prototype.lastIndexOf.call(se,J,ae):K(se,[J],ae,De,He);throw new TypeError("val must be string, number or Buffer")}function K(se,J,ae,De,He){var er=1,nr=se.length,fr=J.length;if(De!==void 0&&(De=String(De).toLowerCase(),De==="ucs2"||De==="ucs-2"||De==="utf16le"||De==="utf-16le")){if(se.length<2||J.length<2)return-1;er=2,nr/=2,fr/=2,ae/=2}function xr(sr,Pr){return er===1?sr[Pr]:sr.readUInt16BE(Pr*er)}var Sr;if(He){var Mr=-1;for(Sr=ae;Sr<nr;Sr++)if(xr(se,Sr)===xr(J,Mr===-1?0:Sr-Mr)){if(Mr===-1&&(Mr=Sr),Sr-Mr+1===fr)return Mr*er}else Mr!==-1&&(Sr-=Sr-Mr),Mr=-1}else for(ae+fr>nr&&(ae=nr-fr),Sr=ae;Sr>=0;Sr--){for(var Ar=!0,ft=0;ft<fr;ft++)if(xr(se,Sr+ft)!==xr(J,ft)){Ar=!1;break}if(Ar)return Sr}return-1}v.prototype.includes=function(J,ae,De){return this.indexOf(J,ae,De)!==-1},v.prototype.indexOf=function(J,ae,De){return q(this,J,ae,De,!0)},v.prototype.lastIndexOf=function(J,ae,De){return q(this,J,ae,De,!1)};function ne(se,J,ae,De){ae=Number(ae)||0;var He=se.length-ae;De?(De=Number(De),De>He&&(De=He)):De=He;var er=J.length;De>er/2&&(De=er/2);var nr;for(nr=0;nr<De;++nr){var fr=parseInt(J.substr(nr*2,2),16);if(Re(fr))return nr;se[ae+nr]=fr}return nr}function Q(se,J,ae,De){return Ye(ze(J,se.length-ae),se,ae,De)}function oe(se,J,ae,De){return Ye($e(J),se,ae,De)}function re(se,J,ae,De){return Ye(Be(J),se,ae,De)}function H(se,J,ae,De){return Ye(Ve(J,se.length-ae),se,ae,De)}v.prototype.write=function(J,ae,De,He){if(ae===void 0)He="utf8",De=this.length,ae=0;else if(De===void 0&&typeof ae=="string")He=ae,De=this.length,ae=0;else if(isFinite(ae))ae=ae>>>0,isFinite(De)?(De=De>>>0,He===void 0&&(He="utf8")):(He=De,De=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var er=this.length-ae;if((De===void 0||De>er)&&(De=er),J.length>0&&(De<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");He||(He="utf8");for(var nr=!1;;)switch(He){case"hex":return ne(this,J,ae,De);case"utf8":case"utf-8":return Q(this,J,ae,De);case"ascii":case"latin1":case"binary":return oe(this,J,ae,De);case"base64":return re(this,J,ae,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,J,ae,De);default:if(nr)throw new TypeError("Unknown encoding: "+He);He=(""+He).toLowerCase(),nr=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(se,J,ae){return J===0&&ae===se.length?M.fromByteArray(se):M.fromByteArray(se.slice(J,ae))}function V(se,J,ae){ae=Math.min(se.length,ae);for(var De=[],He=J;He<ae;){var er=se[He],nr=null,fr=er>239?4:er>223?3:er>191?2:1;if(He+fr<=ae){var xr=void 0,Sr=void 0,Mr=void 0,Ar=void 0;switch(fr){case 1:er<128&&(nr=er);break;case 2:xr=se[He+1],(xr&192)===128&&(Ar=(er&31)<<6|xr&63,Ar>127&&(nr=Ar));break;case 3:xr=se[He+1],Sr=se[He+2],(xr&192)===128&&(Sr&192)===128&&(Ar=(er&15)<<12|(xr&63)<<6|Sr&63,Ar>2047&&(Ar<55296||Ar>57343)&&(nr=Ar));break;case 4:xr=se[He+1],Sr=se[He+2],Mr=se[He+3],(xr&192)===128&&(Sr&192)===128&&(Mr&192)===128&&(Ar=(er&15)<<18|(xr&63)<<12|(Sr&63)<<6|Mr&63,Ar>65535&&Ar<1114112&&(nr=Ar))}}nr===null?(nr=65533,fr=1):nr>65535&&(nr-=65536,De.push(nr>>>10&1023|55296),nr=56320|nr&1023),De.push(nr),He+=fr}return ue(De)}var te=4096;function ue(se){var J=se.length;if(J<=te)return String.fromCharCode.apply(String,se);for(var ae="",De=0;De<J;)ae+=String.fromCharCode.apply(String,se.slice(De,De+=te));return ae}function ve(se,J,ae){var De="";ae=Math.min(se.length,ae);for(var He=J;He<ae;++He)De+=String.fromCharCode(se[He]&127);return De}function ke(se,J,ae){var De="";ae=Math.min(se.length,ae);for(var He=J;He<ae;++He)De+=String.fromCharCode(se[He]);return De}function Se(se,J,ae){var De=se.length;(!J||J<0)&&(J=0),(!ae||ae<0||ae>De)&&(ae=De);for(var He="",er=J;er<ae;++er)He+=Qe[se[er]];return He}function he(se,J,ae){for(var De=se.slice(J,ae),He="",er=0;er<De.length-1;er+=2)He+=String.fromCharCode(De[er]+De[er+1]*256);return He}v.prototype.slice=function(J,ae){var De=this.length;J=~~J,ae=ae===void 0?De:~~ae,J<0?(J+=De,J<0&&(J=0)):J>De&&(J=De),ae<0?(ae+=De,ae<0&&(ae=0)):ae>De&&(ae=De),ae<J&&(ae=J);var He=this.subarray(J,ae);return Object.setPrototypeOf(He,v.prototype),He};function Ae(se,J,ae){if(se%1!==0||se<0)throw new RangeError("offset is not uint");if(se+J>ae)throw new RangeError("Trying to access beyond buffer length")}v.prototype.readUintLE=v.prototype.readUIntLE=function(J,ae,De){J=J>>>0,ae=ae>>>0,De||Ae(J,ae,this.length);for(var He=this[J],er=1,nr=0;++nr<ae&&(er*=256);)He+=this[J+nr]*er;return He},v.prototype.readUintBE=v.prototype.readUIntBE=function(J,ae,De){J=J>>>0,ae=ae>>>0,De||Ae(J,ae,this.length);for(var He=this[J+--ae],er=1;ae>0&&(er*=256);)He+=this[J+--ae]*er;return He},v.prototype.readUint8=v.prototype.readUInt8=function(J,ae){return J=J>>>0,ae||Ae(J,1,this.length),this[J]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(J,ae){return J=J>>>0,ae||Ae(J,2,this.length),this[J]|this[J+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(J,ae){return J=J>>>0,ae||Ae(J,2,this.length),this[J]<<8|this[J+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(J,ae){return J=J>>>0,ae||Ae(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+this[J+3]*16777216},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(J,ae){return J=J>>>0,ae||Ae(J,4,this.length),this[J]*16777216+(this[J+1]<<16|this[J+2]<<8|this[J+3])},v.prototype.readBigUInt64LE=Ke(function(J){J=J>>>0,ce(J,"offset");var ae=this[J],De=this[J+7];(ae===void 0||De===void 0)&&be(J,this.length-8);var He=ae+this[++J]*Math.pow(2,8)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,24),er=this[++J]+this[++J]*Math.pow(2,8)+this[++J]*Math.pow(2,16)+De*Math.pow(2,24);return BigInt(He)+(BigInt(er)<<BigInt(32))}),v.prototype.readBigUInt64BE=Ke(function(J){J=J>>>0,ce(J,"offset");var ae=this[J],De=this[J+7];(ae===void 0||De===void 0)&&be(J,this.length-8);var He=ae*Math.pow(2,24)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,8)+this[++J],er=this[++J]*Math.pow(2,24)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,8)+De;return(BigInt(He)<<BigInt(32))+BigInt(er)}),v.prototype.readIntLE=function(J,ae,De){J=J>>>0,ae=ae>>>0,De||Ae(J,ae,this.length);for(var He=this[J],er=1,nr=0;++nr<ae&&(er*=256);)He+=this[J+nr]*er;return er*=128,He>=er&&(He-=Math.pow(2,8*ae)),He},v.prototype.readIntBE=function(J,ae,De){J=J>>>0,ae=ae>>>0,De||Ae(J,ae,this.length);for(var He=ae,er=1,nr=this[J+--He];He>0&&(er*=256);)nr+=this[J+--He]*er;return er*=128,nr>=er&&(nr-=Math.pow(2,8*ae)),nr},v.prototype.readInt8=function(J,ae){return J=J>>>0,ae||Ae(J,1,this.length),this[J]&128?(255-this[J]+1)*-1:this[J]},v.prototype.readInt16LE=function(J,ae){J=J>>>0,ae||Ae(J,2,this.length);var De=this[J]|this[J+1]<<8;return De&32768?De|4294901760:De},v.prototype.readInt16BE=function(J,ae){J=J>>>0,ae||Ae(J,2,this.length);var De=this[J+1]|this[J]<<8;return De&32768?De|4294901760:De},v.prototype.readInt32LE=function(J,ae){return J=J>>>0,ae||Ae(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},v.prototype.readInt32BE=function(J,ae){return J=J>>>0,ae||Ae(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},v.prototype.readBigInt64LE=Ke(function(J){J=J>>>0,ce(J,"offset");var ae=this[J],De=this[J+7];(ae===void 0||De===void 0)&&be(J,this.length-8);var He=this[J+4]+this[J+5]*Math.pow(2,8)+this[J+6]*Math.pow(2,16)+(De<<24);return(BigInt(He)<<BigInt(32))+BigInt(ae+this[++J]*Math.pow(2,8)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,24))}),v.prototype.readBigInt64BE=Ke(function(J){J=J>>>0,ce(J,"offset");var ae=this[J],De=this[J+7];(ae===void 0||De===void 0)&&be(J,this.length-8);var He=(ae<<24)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,8)+this[++J];return(BigInt(He)<<BigInt(32))+BigInt(this[++J]*Math.pow(2,24)+this[++J]*Math.pow(2,16)+this[++J]*Math.pow(2,8)+De)}),v.prototype.readFloatLE=function(J,ae){return J=J>>>0,ae||Ae(J,4,this.length),d.read(this,J,!0,23,4)},v.prototype.readFloatBE=function(J,ae){return J=J>>>0,ae||Ae(J,4,this.length),d.read(this,J,!1,23,4)},v.prototype.readDoubleLE=function(J,ae){return J=J>>>0,ae||Ae(J,8,this.length),d.read(this,J,!0,52,8)},v.prototype.readDoubleBE=function(J,ae){return J=J>>>0,ae||Ae(J,8,this.length),d.read(this,J,!1,52,8)};function Ce(se,J,ae,De,He,er){if(!v.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>He||J<er)throw new RangeError('"value" argument is out of bounds');if(ae+De>se.length)throw new RangeError("Index out of range")}v.prototype.writeUintLE=v.prototype.writeUIntLE=function(J,ae,De,He){if(J=+J,ae=ae>>>0,De=De>>>0,!He){var er=Math.pow(2,8*De)-1;Ce(this,J,ae,De,er,0)}var nr=1,fr=0;for(this[ae]=J&255;++fr<De&&(nr*=256);)this[ae+fr]=J/nr&255;return ae+De},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(J,ae,De,He){if(J=+J,ae=ae>>>0,De=De>>>0,!He){var er=Math.pow(2,8*De)-1;Ce(this,J,ae,De,er,0)}var nr=De-1,fr=1;for(this[ae+nr]=J&255;--nr>=0&&(fr*=256);)this[ae+nr]=J/fr&255;return ae+De},v.prototype.writeUint8=v.prototype.writeUInt8=function(J,ae,De){return J=+J,ae=ae>>>0,De||Ce(this,J,ae,1,255,0),this[ae]=J&255,ae+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(J,ae,De){return J=+J,ae=ae>>>0,De||Ce(this,J,ae,2,65535,0),this[ae]=J&255,this[ae+1]=J>>>8,ae+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(J,ae,De){return J=+J,ae=ae>>>0,De||Ce(this,J,ae,2,65535,0),this[ae]=J>>>8,this[ae+1]=J&255,ae+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(J,ae,De){return J=+J,ae=ae>>>0,De||Ce(this,J,ae,4,4294967295,0),this[ae+3]=J>>>24,this[ae+2]=J>>>16,this[ae+1]=J>>>8,this[ae]=J&255,ae+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(J,ae,De){return J=+J,ae=ae>>>0,De||Ce(this,J,ae,4,4294967295,0),this[ae]=J>>>24,this[ae+1]=J>>>16,this[ae+2]=J>>>8,this[ae+3]=J&255,ae+4};function Pe(se,J,ae,De,He){pe(J,De,He,se,ae,7);var er=Number(J&BigInt(4294967295));se[ae++]=er,er=er>>8,se[ae++]=er,er=er>>8,se[ae++]=er,er=er>>8,se[ae++]=er;var nr=Number(J>>BigInt(32)&BigInt(4294967295));return se[ae++]=nr,nr=nr>>8,se[ae++]=nr,nr=nr>>8,se[ae++]=nr,nr=nr>>8,se[ae++]=nr,ae}function Ee(se,J,ae,De,He){pe(J,De,He,se,ae,7);var er=Number(J&BigInt(4294967295));se[ae+7]=er,er=er>>8,se[ae+6]=er,er=er>>8,se[ae+5]=er,er=er>>8,se[ae+4]=er;var nr=Number(J>>BigInt(32)&BigInt(4294967295));return se[ae+3]=nr,nr=nr>>8,se[ae+2]=nr,nr=nr>>8,se[ae+1]=nr,nr=nr>>8,se[ae]=nr,ae+8}v.prototype.writeBigUInt64LE=Ke(function(J){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Pe(this,J,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeBigUInt64BE=Ke(function(J){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ee(this,J,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeIntLE=function(J,ae,De,He){if(J=+J,ae=ae>>>0,!He){var er=Math.pow(2,8*De-1);Ce(this,J,ae,De,er-1,-er)}var nr=0,fr=1,xr=0;for(this[ae]=J&255;++nr<De&&(fr*=256);)J<0&&xr===0&&this[ae+nr-1]!==0&&(xr=1),this[ae+nr]=(J/fr>>0)-xr&255;return ae+De},v.prototype.writeIntBE=function(J,ae,De,He){if(J=+J,ae=ae>>>0,!He){var er=Math.pow(2,8*De-1);Ce(this,J,ae,De,er-1,-er)}var nr=De-1,fr=1,xr=0;for(this[ae+nr]=J&255;--nr>=0&&(fr*=256);)J<0&&xr===0&&this[ae+nr+1]!==0&&(xr=1),this[ae+nr]=(J/fr>>0)-xr&255;return ae+De},v.prototype.writeInt8=function(J,ae,De){return J=+J,ae=ae>>>0,De||Ce(this,J,ae,1,127,-128),J<0&&(J=255+J+1),this[ae]=J&255,ae+1},v.prototype.writeInt16LE=function(J,ae,De){return J=+J,ae=ae>>>0,De||Ce(this,J,ae,2,32767,-32768),this[ae]=J&255,this[ae+1]=J>>>8,ae+2},v.prototype.writeInt16BE=function(J,ae,De){return J=+J,ae=ae>>>0,De||Ce(this,J,ae,2,32767,-32768),this[ae]=J>>>8,this[ae+1]=J&255,ae+2},v.prototype.writeInt32LE=function(J,ae,De){return J=+J,ae=ae>>>0,De||Ce(this,J,ae,4,2147483647,-2147483648),this[ae]=J&255,this[ae+1]=J>>>8,this[ae+2]=J>>>16,this[ae+3]=J>>>24,ae+4},v.prototype.writeInt32BE=function(J,ae,De){return J=+J,ae=ae>>>0,De||Ce(this,J,ae,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),this[ae]=J>>>24,this[ae+1]=J>>>16,this[ae+2]=J>>>8,this[ae+3]=J&255,ae+4},v.prototype.writeBigInt64LE=Ke(function(J){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Pe(this,J,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeBigInt64BE=Ke(function(J){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ee(this,J,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ne(se,J,ae,De,He,er){if(ae+De>se.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("Index out of range")}function Ue(se,J,ae,De,He){return J=+J,ae=ae>>>0,He||Ne(se,J,ae,4,34028234663852886e22,-34028234663852886e22),d.write(se,J,ae,De,23,4),ae+4}v.prototype.writeFloatLE=function(J,ae,De){return Ue(this,J,ae,!0,De)},v.prototype.writeFloatBE=function(J,ae,De){return Ue(this,J,ae,!1,De)};function ge(se,J,ae,De,He){return J=+J,ae=ae>>>0,He||Ne(se,J,ae,8,17976931348623157e292,-17976931348623157e292),d.write(se,J,ae,De,52,8),ae+8}v.prototype.writeDoubleLE=function(J,ae,De){return ge(this,J,ae,!0,De)},v.prototype.writeDoubleBE=function(J,ae,De){return ge(this,J,ae,!1,De)},v.prototype.copy=function(J,ae,De,He){if(!v.isBuffer(J))throw new TypeError("argument should be a Buffer");if(De||(De=0),!He&&He!==0&&(He=this.length),ae>=J.length&&(ae=J.length),ae||(ae=0),He>0&&He<De&&(He=De),He===De||J.length===0||this.length===0)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(De<0||De>=this.length)throw new RangeError("Index out of range");if(He<0)throw new RangeError("sourceEnd out of bounds");He>this.length&&(He=this.length),J.length-ae<He-De&&(He=J.length-ae+De);var er=He-De;return this===J&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ae,De,He):Uint8Array.prototype.set.call(J,this.subarray(De,He),ae),er},v.prototype.fill=function(J,ae,De,He){if(typeof J=="string"){if(typeof ae=="string"?(He=ae,ae=0,De=this.length):typeof De=="string"&&(He=De,De=this.length),He!==void 0&&typeof He!="string")throw new TypeError("encoding must be a string");if(typeof He=="string"&&!v.isEncoding(He))throw new TypeError("Unknown encoding: "+He);if(J.length===1){var er=J.charCodeAt(0);(He==="utf8"&&er<128||He==="latin1")&&(J=er)}}else typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=Number(J));if(ae<0||this.length<ae||this.length<De)throw new RangeError("Out of range index");if(De<=ae)return this;ae=ae>>>0,De=De===void 0?this.length:De>>>0,J||(J=0);var nr;if(typeof J=="number")for(nr=ae;nr<De;++nr)this[nr]=J;else{var fr=v.isBuffer(J)?J:v.from(J,He),xr=fr.length;if(xr===0)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for(nr=0;nr<De-ae;++nr)this[nr+ae]=fr[nr%xr]}return this};var we={};function Te(se,J,ae){we[se]=function(De){function He(){var er;return u(this,He),er=_(this,He),Object.defineProperty(er,"message",{value:J.apply(er,arguments),writable:!0,configurable:!0}),er.name="".concat(er.name," [").concat(se,"]"),er.stack,delete er.name,er}return k(He,De),f(He,[{key:"code",get:function(){return se},set:function(nr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:nr,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(se,"]: ").concat(this.message)}}])}(ae)}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?"".concat(se," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(se,J){return'The "'.concat(se,'" argument must be of type number. Received type ').concat(b(J))},TypeError),Te("ERR_OUT_OF_RANGE",function(se,J,ae){var De='The value of "'.concat(se,'" is out of range.'),He=ae;return Number.isInteger(ae)&&Math.abs(ae)>Math.pow(2,32)?He=me(String(ae)):typeof ae=="bigint"&&(He=String(ae),(ae>Math.pow(BigInt(2),BigInt(32))||ae<-Math.pow(BigInt(2),BigInt(32)))&&(He=me(He)),He+="n"),De+=" It must be ".concat(J,". Received ").concat(He),De},RangeError);function me(se){for(var J="",ae=se.length,De=se[0]==="-"?1:0;ae>=De+4;ae-=3)J="_".concat(se.slice(ae-3,ae)).concat(J);return"".concat(se.slice(0,ae)).concat(J)}function ye(se,J,ae){ce(J,"offset"),(se[J]===void 0||se[J+ae]===void 0)&&be(J,se.length-(ae+1))}function pe(se,J,ae,De,He,er){if(se>ae||se<J){var nr=typeof J=="bigint"?"n":"",fr;throw er>3?J===0||J===BigInt(0)?fr=">= 0".concat(nr," and < 2").concat(nr," ** ").concat((er+1)*8).concat(nr):fr=">= -(2".concat(nr," ** ").concat((er+1)*8-1).concat(nr,") and < 2 ** ")+"".concat((er+1)*8-1).concat(nr):fr=">= ".concat(J).concat(nr," and <= ").concat(ae).concat(nr),new we.ERR_OUT_OF_RANGE("value",fr,se)}ye(De,He,er)}function ce(se,J){if(typeof se!="number")throw new we.ERR_INVALID_ARG_TYPE(J,"number",se)}function be(se,J,ae){throw Math.floor(se)!==se?(ce(se,ae),new we.ERR_OUT_OF_RANGE(ae||"offset","an integer",se)):J<0?new we.ERR_BUFFER_OUT_OF_BOUNDS:new we.ERR_OUT_OF_RANGE(ae||"offset",">= ".concat(ae?1:0," and <= ").concat(J),se)}var Le=/[^+/0-9A-Za-z-_]/g;function qe(se){if(se=se.split("=")[0],se=se.trim().replace(Le,""),se.length<2)return"";for(;se.length%4!==0;)se=se+"=";return se}function ze(se,J){J=J||1/0;for(var ae,De=se.length,He=null,er=[],nr=0;nr<De;++nr){if(ae=se.charCodeAt(nr),ae>55295&&ae<57344){if(!He){if(ae>56319){(J-=3)>-1&&er.push(239,191,189);continue}else if(nr+1===De){(J-=3)>-1&&er.push(239,191,189);continue}He=ae;continue}if(ae<56320){(J-=3)>-1&&er.push(239,191,189),He=ae;continue}ae=(He-55296<<10|ae-56320)+65536}else He&&(J-=3)>-1&&er.push(239,191,189);if(He=null,ae<128){if((J-=1)<0)break;er.push(ae)}else if(ae<2048){if((J-=2)<0)break;er.push(ae>>6|192,ae&63|128)}else if(ae<65536){if((J-=3)<0)break;er.push(ae>>12|224,ae>>6&63|128,ae&63|128)}else if(ae<1114112){if((J-=4)<0)break;er.push(ae>>18|240,ae>>12&63|128,ae>>6&63|128,ae&63|128)}else throw new Error("Invalid code point")}return er}function $e(se){for(var J=[],ae=0;ae<se.length;++ae)J.push(se.charCodeAt(ae)&255);return J}function Ve(se,J){for(var ae,De,He,er=[],nr=0;nr<se.length&&!((J-=2)<0);++nr)ae=se.charCodeAt(nr),De=ae>>8,He=ae%256,er.push(He),er.push(De);return er}function Be(se){return M.toByteArray(qe(se))}function Ye(se,J,ae,De){var He;for(He=0;He<De&&!(He+ae>=J.length||He>=se.length);++He)J[He+ae]=se[He];return He}function Me(se,J){return se instanceof J||se!=null&&se.constructor!=null&&se.constructor.name!=null&&se.constructor.name===J.name}function Re(se){return se!==se}var Qe=function(){for(var se="0123456789abcdef",J=new Array(256),ae=0;ae<16;++ae)for(var De=ae*16,He=0;He<16;++He)J[De+He]=se[ae]+se[He];return J}();function Ke(se){return typeof BigInt=="undefined"?ar:se}function ar(){throw new Error("BigInt not supported")}},4844:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l[0]+u[0]*s,i[1]=l[1]+u[1]*s,i[2]=l[2]+u[2]*s,i[3]=l[3]+u[3]*s,i}},4905:function(a,o,i){var l=i(5874);a.exports=u;function u(s,f){var h=l(f),p=[];return p=p.concat(h(s)),p=p.concat(h(null)),p}},4935:function(a,o,i){"use strict";a.exports=k;var l=i(2762),u=i(8116),s=i(4359),f=i(1879).Q,h=window||process.global||{},p=h.__TEXT_CACHE||{};h.__TEXT_CACHE={};var _=3;function m(S,b,M,d){this.gl=S,this.shader=b,this.buffer=M,this.vao=d,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var w=m.prototype,T=[0,0];w.bind=function(S,b,M,d){this.vao.bind(),this.shader.bind();var x=this.shader.uniforms;x.model=S,x.view=b,x.projection=M,x.pixelScale=d,T[0]=this.gl.drawingBufferWidth,T[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=T},w.unbind=function(){this.vao.unbind()},w.update=function(S,b,M,d,x){var g=[];function c(P,O,U,X,$,j){var Y=[U.style,U.weight,U.variant,U.family].join("_"),q=p[Y];q||(q=p[Y]={});var K=q[O];K||(K=q[O]=y(O,{triangles:!0,font:U.family,fontStyle:U.style,fontWeight:U.weight,fontVariant:U.variant,textAlign:"center",textBaseline:"middle",lineSpacing:$,styletags:j}));for(var ne=(X||12)/12,Q=K.positions,oe=K.cells,re=0,H=oe.length;re<H;++re)for(var ee=oe[re],V=2;V>=0;--V){var te=Q[ee[V]];g.push(ne*te[0],-ne*te[1],P)}}for(var A=[0,0,0],v=[0,0,0],D=[0,0,0],E=[0,0,0],R=1.25,N={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},F=0;F<3;++F){D[F]=g.length/_|0,c(.5*(S[0][F]+S[1][F]),b[F],M[F],12,R,N),E[F]=(g.length/_|0)-D[F],A[F]=g.length/_|0;for(var I=0;I<d[F].length;++I)if(d[F][I].text){var L={family:d[F][I].font||x[F].family,style:x[F].fontStyle||x[F].style,weight:x[F].fontWeight||x[F].weight,variant:x[F].fontVariant||x[F].variant};c(d[F][I].x,d[F][I].text,L,d[F][I].fontSize||12,R,N)}v[F]=(g.length/_|0)-A[F]}this.buffer.update(g),this.tickOffset=A,this.tickCount=v,this.labelOffset=D,this.labelCount=E},w.drawTicks=function(S,b,M,d,x,g,c,A){this.tickCount[S]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=x,this.shader.uniforms.angle=M,this.shader.uniforms.scale=b,this.shader.uniforms.offset=d,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=A,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S]))},w.drawLabel=function(S,b,M,d,x,g,c,A){this.labelCount[S]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=x,this.shader.uniforms.angle=M,this.shader.uniforms.scale=b,this.shader.uniforms.offset=d,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=A,this.vao.draw(this.gl.TRIANGLES,this.labelCount[S],this.labelOffset[S]))},w.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function y(S,b){try{return s(S,b)}catch(M){return console.warn('error vectorizing text:"'+S+'" error:',M),{cells:[],positions:[]}}}function k(S,b,M,d,x,g){var c=l(S),A=u(S,[{buffer:c,size:3}]),v=f(S);v.attributes.position.location=0;var D=new m(S,v,c,A);return D.update(b,M,d,x,g),D}},5023:function(a,o,i){"use strict";var l=i(2478);a.exports=_;function u(m,w,T,y,k,S,b){this.cells=m,this.neighbor=w,this.flags=y,this.constraint=T,this.active=k,this.next=S,this.boundary=b}var s=u.prototype;function f(m,w){return m[0]-w[0]||m[1]-w[1]||m[2]-w[2]}s.locate=function(){var m=[0,0,0];return function(w,T,y){var k=w,S=T,b=y;return T<y?T<w&&(k=T,S=y,b=w):y<w&&(k=y,S=w,b=T),k<0?-1:(m[0]=k,m[1]=S,m[2]=b,l.eq(this.cells,m,f))}}();function h(m,w){for(var T=m.cells(),y=T.length,k=0;k<y;++k){var S=T[k],b=S[0],M=S[1],d=S[2];M<d?M<b&&(S[0]=M,S[1]=d,S[2]=b):d<b&&(S[0]=d,S[1]=b,S[2]=M)}T.sort(f);for(var x=new Array(y),k=0;k<x.length;++k)x[k]=0;var g=[],c=[],A=new Array(3*y),v=new Array(3*y),D=null;w&&(D=[]);for(var E=new u(T,A,v,x,g,c,D),k=0;k<y;++k)for(var S=T[k],R=0;R<3;++R){var b=S[R],M=S[(R+1)%3],N=A[3*k+R]=E.locate(M,b,m.opposite(M,b)),F=v[3*k+R]=m.isConstraint(b,M);N<0&&(F?c.push(k):(g.push(k),x[k]=1),w&&D.push([M,b,-1]))}return E}function p(m,w,T){for(var y=0,k=0;k<m.length;++k)w[k]===T&&(m[y++]=m[k]);return m.length=y,m}function _(m,w,T){var y=h(m,T);if(w===0)return T?y.cells.concat(y.boundary):y.cells;for(var k=1,S=y.active,b=y.next,M=y.flags,d=y.cells,x=y.constraint,g=y.neighbor;S.length>0||b.length>0;){for(;S.length>0;){var c=S.pop();if(M[c]!==-k){M[c]=k;for(var A=d[c],v=0;v<3;++v){var D=g[3*c+v];D>=0&&M[D]===0&&(x[3*c+v]?b.push(D):(S.push(D),M[D]=k))}}}var E=b;b=S,S=E,b.length=0,k=-k}var R=p(d,M,w);return T?R.concat(y.boundary):R}},5033:function(a){"use strict";a.exports=o;function o(i,l,u){var s=l||0,f=u||1;return[[i[12]+i[0],i[13]+i[1],i[14]+i[2],i[15]+i[3]],[i[12]-i[0],i[13]-i[1],i[14]-i[2],i[15]-i[3]],[i[12]+i[4],i[13]+i[5],i[14]+i[6],i[15]+i[7]],[i[12]-i[4],i[13]-i[5],i[14]-i[6],i[15]-i[7]],[s*i[12]+i[8],s*i[13]+i[9],s*i[14]+i[10],s*i[15]+i[11]],[f*i[12]-i[8],f*i[13]-i[9],f*i[14]-i[10],f*i[15]-i[11]]]}},5085:function(a,o,i){a.exports=k;var l=i(3250)[3],u=i(4209),s=i(3352),f=i(2478);function h(){return!0}function p(S){return function(b,M){var d=S[b];return d?!!d.queryPoint(M,h):!1}}function _(S){for(var b={},M=0;M<S.length;++M){var d=S[M],x=d[0][0],g=d[0][1],c=d[1][1],A=[Math.min(g,c),Math.max(g,c)];x in b?b[x].push(A):b[x]=[A]}for(var v={},D=Object.keys(b),M=0;M<D.length;++M){var E=b[D[M]];v[D[M]]=s(E)}return p(v)}function m(S,b){return function(M){var d=f.le(b,M[0]);if(d<0)return 1;var x=S[d];if(!x)if(d>0&&b[d]===M[0])x=S[d-1];else return 1;for(var g=1;x;){var c=x.key,A=l(M,c[0],c[1]);if(c[0][0]<c[1][0])if(A<0)x=x.left;else if(A>0)g=-1,x=x.right;else return 0;else if(A>0)x=x.left;else if(A<0)g=1,x=x.right;else return 0}return g}}function w(S){return 1}function T(S){return function(M){return S(M[0],M[1])?0:1}}function y(S,b){return function(d){return S(d[0],d[1])?0:b(d)}}function k(S){for(var b=S.length,M=[],d=[],x=0,g=0;g<b;++g)for(var c=S[g],A=c.length,v=A-1,D=0;D<A;v=D++){var E=c[v],R=c[D];E[0]===R[0]?d.push([E,R]):M.push([E,R])}if(M.length===0)return d.length===0?w:T(_(d));var N=u(M),F=m(N.slabs,N.coordinates);return d.length===0?F:y(_(d),F)}},5091:function(a,o,i){"use strict";o.shader=k,o.program=S;var l=i(8866),u=i(2992),s=typeof WeakMap=="undefined"?i(606):WeakMap,f=new s,h=0;function p(b,M,d,x,g,c,A){this.id=b,this.src=M,this.type=d,this.shader=x,this.count=c,this.programs=[],this.cache=A}p.prototype.dispose=function(){if(--this.count===0){for(var b=this.cache,M=b.gl,d=this.programs,x=0,g=d.length;x<g;++x){var c=b.programs[d[x]];c&&(delete b.programs[x],M.deleteProgram(c))}M.deleteShader(this.shader),delete b.shaders[this.type===M.FRAGMENT_SHADER|0][this.src]}};function _(b){this.gl=b,this.shaders=[{},{}],this.programs={}}var m=_.prototype;function w(b,M,d){var x=b.createShader(M);if(b.shaderSource(x,d),b.compileShader(x),!b.getShaderParameter(x,b.COMPILE_STATUS)){var g=b.getShaderInfoLog(x);try{var c=u(g,d,M)}catch(A){throw console.warn("Failed to format compiler error: "+A),new l(g,`Error compiling shader:
`+g)}throw new l(g,c.short,c.long)}return x}m.getShaderReference=function(b,M){var d=this.gl,x=this.shaders[b===d.FRAGMENT_SHADER|0],g=x[M];if(!g||!d.isShader(g.shader)){var c=w(d,b,M);g=x[M]=new p(h++,M,b,c,[],1,this)}else g.count+=1;return g};function T(b,M,d,x,g){var c=b.createProgram();b.attachShader(c,M),b.attachShader(c,d);for(var A=0;A<x.length;++A)b.bindAttribLocation(c,g[A],x[A]);if(b.linkProgram(c),!b.getProgramParameter(c,b.LINK_STATUS)){var v=b.getProgramInfoLog(c);throw new l(v,"Error linking program: "+v)}return c}m.getProgram=function(b,M,d,x){var g=[b.id,M.id,d.join(":"),x.join(":")].join("@"),c=this.programs[g];return(!c||!this.gl.isProgram(c))&&(this.programs[g]=c=T(this.gl,b.shader,M.shader,d,x),b.programs.push(g),M.programs.push(g)),c};function y(b){var M=f.get(b);return M||(M=new _(b),f.set(b,M)),M}function k(b,M,d){return y(b).getShaderReference(M,d)}function S(b,M,d,x,g){return y(b).getProgram(M,d,x,g)}},5093:function(a){a.exports=o;function o(i,l){return i[0]=-l[0],i[1]=-l[1],i[2]=-l[2],i}},5137:function(a,o,i){a.exports=u;var l=i(1091)();function u(s,f,h,p,_,m){var w,T;for(f||(f=3),h||(h=0),p?T=Math.min(p*f+h,s.length):T=s.length,w=h;w<T;w+=f)l[0]=s[w],l[1]=s[w+1],l[2]=s[w+2],_(l,l,m),s[w]=l[0],s[w+1]=l[1],s[w+2]=l[2];return s}},5171:function(a,o,i){var l=i(737);a.exports=function(s){return l[s]}},5177:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],h=l[3],p=u*u+s*s+f*f+h*h;return p>0&&(p=1/Math.sqrt(p),i[0]=u*p,i[1]=s*p,i[2]=f*p,i[3]=h*p),i}},5202:function(a,o,i){"use strict";var l=i(1944),u=i(8210);a.exports=h,a.exports.positive=p,a.exports.negative=_;function s(m,w){var T=u(l(m,w),[w[w.length-1]]);return T[T.length-1]}function f(m,w,T,y){var k=y-w,S=-w/k;S<0?S=0:S>1&&(S=1);for(var b=1-S,M=m.length,d=new Array(M),x=0;x<M;++x)d[x]=S*m[x]+b*T[x];return d}function h(m,w){for(var T=[],y=[],k=s(m[m.length-1],w),S=m[m.length-1],b=m[0],M=0;M<m.length;++M,S=b){b=m[M];var d=s(b,w);if(k<0&&d>0||k>0&&d<0){var x=f(S,d,b,k);T.push(x),y.push(x.slice())}d<0?y.push(b.slice()):d>0?T.push(b.slice()):(T.push(b.slice()),y.push(b.slice())),k=d}return{positive:T,negative:y}}function p(m,w){for(var T=[],y=s(m[m.length-1],w),k=m[m.length-1],S=m[0],b=0;b<m.length;++b,k=S){S=m[b];var M=s(S,w);(y<0&&M>0||y>0&&M<0)&&T.push(f(k,M,S,y)),M>=0&&T.push(S.slice()),y=M}return T}function _(m,w){for(var T=[],y=s(m[m.length-1],w),k=m[m.length-1],S=m[0],b=0;b<m.length;++b,k=S){S=m[b];var M=s(S,w);(y<0&&M>0||y>0&&M<0)&&T.push(f(k,M,S,y)),M<=0&&T.push(S.slice()),y=M}return T}},5219:function(a){"use strict";a.exports=function(o){for(var i=o.length,l,u=0;u<i;u++)if(l=o.charCodeAt(u),(l<9||l>13)&&l!==32&&l!==133&&l!==160&&l!==5760&&l!==6158&&(l<8192||l>8205)&&l!==8232&&l!==8233&&l!==8239&&l!==8287&&l!==8288&&l!==12288&&l!==65279)return!1;return!0}},5250:function(a){"use strict";a.exports=i;var o=+(Math.pow(2,27)+1);function i(l,u,s){var f=l*u,h=o*l,p=h-l,_=h-p,m=l-_,w=o*u,T=w-u,y=w-T,k=u-y,S=f-_*y,b=S-m*y,M=b-_*k,d=m*k-M;return s?(s[0]=d,s[1]=f,s):[d,f]}},5298:function(a,o){"use strict";var i={"float64,2,1,0":function(){return function(m,w,T,y,k){var S=m[0],b=m[1],M=m[2],d=T[0],x=T[1],g=T[2];y|=0;var c=0,A=0,v=0,D=g,E=x-M*g,R=d-b*x;for(v=0;v<S;++v){for(A=0;A<b;++A){for(c=0;c<M;++c)w[y]/=k,y+=D;y+=E}y+=R}}},"uint8,2,0,1,float64,2,1,0":function(){return function(m,w,T,y,k,S,b,M){var d=m[0],x=m[1],g=m[2],c=T[0],A=T[1],v=T[2],D=S[0],E=S[1],R=S[2];y|=0,b|=0;for(var N=y,F=b,I=m[0]|0;I>0;){I<64?(d=I,I=0):(d=64,I-=64);for(var L=m[1]|0;L>0;){L<64?(x=L,L=0):(x=64,L-=64),y=N+I*c+L*A,b=F+I*D+L*E;var P=0,O=0,U=0,X=v,$=c-g*v,j=A-d*c,Y=R,q=D-g*R,K=E-d*D;for(U=0;U<x;++U){for(O=0;O<d;++O){for(P=0;P<g;++P)w[y]=k[b]*M,y+=X,b+=Y;y+=$,b+=q}y+=j,b+=K}}}}},"float32,1,0,float32,1,0":function(){return function(m,w,T,y,k,S,b){var M=m[0],d=m[1],x=T[0],g=T[1],c=S[0],A=S[1];y|=0,b|=0;var v=0,D=0,E=g,R=x-d*g,N=A,F=c-d*A;for(D=0;D<M;++D){for(v=0;v<d;++v)w[y]=k[b],y+=E,b+=N;y+=R,b+=F}}},"float32,1,0,float32,0,1":function(){return function(m,w,T,y,k,S,b){var M=m[0],d=m[1],x=T[0],g=T[1],c=S[0],A=S[1];y|=0,b|=0;for(var v=y,D=b,E=m[1]|0;E>0;){E<64?(d=E,E=0):(d=64,E-=64);for(var R=m[0]|0;R>0;){R<64?(M=R,R=0):(M=64,R-=64),y=v+E*g+R*x,b=D+E*A+R*c;var N=0,F=0,I=g,L=x-d*g,P=A,O=c-d*A;for(F=0;F<M;++F){for(N=0;N<d;++N)w[y]=k[b],y+=I,b+=P;y+=L,b+=O}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(m,w,T,y,k,S,b){var M=m[0],d=m[1],x=m[2],g=T[0],c=T[1],A=T[2],v=S[0],D=S[1],E=S[2];y|=0,b|=0;for(var R=y,N=b,F=m[2]|0;F>0;){F<64?(x=F,F=0):(x=64,F-=64);for(var I=m[0]|0;I>0;){I<64?(M=I,I=0):(M=64,I-=64);for(var L=m[1]|0;L>0;){L<64?(d=L,L=0):(d=64,L-=64),y=R+F*A+I*g+L*c,b=N+F*E+I*v+L*D;var P=0,O=0,U=0,X=A,$=g-x*A,j=c-M*g,Y=E,q=v-x*E,K=D-M*v;for(U=0;U<d;++U){for(O=0;O<M;++O){for(P=0;P<x;++P)w[y]=k[b],y+=X,b+=Y;y+=$,b+=q}y+=j,b+=K}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(m,w,T,y,k,S,b){var M=m[0],d=m[1],x=m[2],g=T[0],c=T[1],A=T[2],v=S[0],D=S[1],E=S[2];y|=0,b|=0;var R=0,N=0,F=0,I=A,L=g-x*A,P=c-M*g,O=E,U=v-x*E,X=D-M*v;for(F=0;F<d;++F){for(N=0;N<M;++N){for(R=0;R<x;++R)w[y]=k[b],y+=I,b+=O;y+=L,b+=U}y+=P,b+=X}}}};function l(_,m){var w=m.join(","),T=i[w];return T()}var u=l,s={mul:function(_){var m={};return function(T,y,k){var S=T.dtype,b=T.order,M=y.dtype,d=y.order,x=k.dtype,g=k.order,c=[S,b.join(),M,d.join(),x,g.join()].join(),A=m[c];return A||(m[c]=A=_([S,b,M,d,x,g])),A(T.shape.slice(0),T.data,T.stride,T.offset|0,y.data,y.stride,y.offset|0,k.data,k.stride,k.offset|0)}},muls:function(_){var m={};return function(T,y,k){var S=T.dtype,b=T.order,M=y.dtype,d=y.order,x=[S,b.join(),M,d.join()].join(),g=m[x];return g||(m[x]=g=_([S,b,M,d])),g(T.shape.slice(0),T.data,T.stride,T.offset|0,y.data,y.stride,y.offset|0,k)}},mulseq:function(_){var m={};return function(T,y){var k=T.dtype,S=T.order,b=[k,S.join()].join(),M=m[b];return M||(m[b]=M=_([k,S])),M(T.shape.slice(0),T.data,T.stride,T.offset|0,y)}},div:function(_){var m={};return function(T,y,k){var S=T.dtype,b=T.order,M=y.dtype,d=y.order,x=k.dtype,g=k.order,c=[S,b.join(),M,d.join(),x,g.join()].join(),A=m[c];return A||(m[c]=A=_([S,b,M,d,x,g])),A(T.shape.slice(0),T.data,T.stride,T.offset|0,y.data,y.stride,y.offset|0,k.data,k.stride,k.offset|0)}},divs:function(_){var m={};return function(T,y,k){var S=T.dtype,b=T.order,M=y.dtype,d=y.order,x=[S,b.join(),M,d.join()].join(),g=m[x];return g||(m[x]=g=_([S,b,M,d])),g(T.shape.slice(0),T.data,T.stride,T.offset|0,y.data,y.stride,y.offset|0,k)}},divseq:function(_){var m={};return function(T,y){var k=T.dtype,S=T.order,b=[k,S.join()].join(),M=m[b];return M||(m[b]=M=_([k,S])),M(T.shape.slice(0),T.data,T.stride,T.offset|0,y)}},assign:function(_){var m={};return function(T,y){var k=T.dtype,S=T.order,b=y.dtype,M=y.order,d=[k,S.join(),b,M.join()].join(),x=m[d];return x||(m[d]=x=_([k,S,b,M])),x(T.shape.slice(0),T.data,T.stride,T.offset|0,y.data,y.stride,y.offset|0)}}};function f(_){var m=s[_.funcName];return m(u.bind(void 0,_))}function h(_){return f({funcName:_.funcName})}var p={mul:"*",div:"/"};(function(){for(var _ in p)o[_]=h({funcName:_}),o[_+"s"]=h({funcName:_+"s"}),o[_+"seq"]=h({funcName:_+"seq"})})(),o.assign=h({funcName:"assign"})},5304:function(a,o,i){"use strict";a.exports=p;var l=i(2762),u=i(8116),s=i(1879).bg;function f(_,m,w,T){this.gl=_,this.buffer=m,this.vao=w,this.shader=T}var h=f.prototype;h.draw=function(_,m,w,T,y,k){for(var S=!1,b=0;b<3;++b)S=S||y[b];if(S){var M=this.gl;M.enable(M.POLYGON_OFFSET_FILL),M.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:_,view:m,projection:w,bounds:T,enable:y,colors:k},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),M.disable(M.POLYGON_OFFSET_FILL)}},h.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function p(_){for(var m=[],w=[],T=0,y=0;y<3;++y)for(var k=(y+1)%3,S=(y+2)%3,b=[0,0,0],M=[0,0,0],d=-1;d<=1;d+=2){w.push(T,T+2,T+1,T+1,T+2,T+3),b[y]=d,M[y]=d;for(var x=-1;x<=1;x+=2){b[k]=x;for(var g=-1;g<=1;g+=2)b[S]=g,m.push(b[0],b[1],b[2],M[0],M[1],M[2]),T+=1}var c=k;k=S,S=c}var A=l(_,new Float32Array(m)),v=l(_,new Uint16Array(w),_.ELEMENT_ARRAY_BUFFER),D=u(_,[{buffer:A,type:_.FLOAT,size:3,offset:0,stride:24},{buffer:A,type:_.FLOAT,size:3,offset:12,stride:24}],v),E=s(_);return E.attributes.position.location=0,E.attributes.normal.location=1,new f(_,A,D,E)}},5352:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=l[3];return i[0]=u[0]*s+u[4]*f+u[8]*h+u[12]*p,i[1]=u[1]*s+u[5]*f+u[9]*h+u[13]*p,i[2]=u[2]*s+u[6]*f+u[10]*h+u[14]*p,i[3]=u[3]*s+u[7]*f+u[11]*h+u[15]*p,i}},5382:function(a,o,i){"use strict";var l=i(8210),u=i(3012);a.exports=s;function s(f,h){if(f.length===1)return u(h,f[0]);if(h.length===1)return u(f,h[0]);if(f.length===0||h.length===0)return[0];var p=[0];if(f.length<h.length)for(var _=0;_<f.length;++_)p=l(p,u(h,f[_]));else for(var _=0;_<h.length;++_)p=l(p,u(f,h[_]));return p}},5445:function(a,o,i){"use strict";a.exports=M;var l=i(5033),u=i(5202),s=i(6429),f=i(6760),h=i(5665),p=i(5352),_=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m=new Float32Array(16);function w(d,x,g){this.lo=d,this.hi=x,this.pixelsPerDataUnit=g}var T=[0,0,0,1],y=[0,0,0,1];function k(d,x,g,c,A){for(var v=0;v<3;++v){for(var D=T,E=y,R=0;R<3;++R)E[R]=D[R]=g[R];E[3]=D[3]=1,E[v]+=1,p(E,E,x),E[3]<0&&(d[v]=1/0),D[v]-=1,p(D,D,x),D[3]<0&&(d[v]=1/0);var N=(D[0]/D[3]-E[0]/E[3])*c,F=(D[1]/D[3]-E[1]/E[3])*A;d[v]=.25*Math.sqrt(N*N+F*F)}return d}var S=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],b=[0,0,0];function M(d,x,g,c,F){var v=x.model||_,D=x.view||_,E=x.projection||_,R=x._ortho||!1,N=d.bounds,F=F||s(v,D,E,N,R),I=F.axis;f(m,D,v),f(m,E,m);for(var L=S,P=0;P<3;++P)L[P].lo=1/0,L[P].hi=-1/0,L[P].pixelsPerDataUnit=1/0;var O=l(h(m,m));h(m,m);for(var U=0;U<3;++U){var X=(U+1)%3,$=(U+2)%3,j=b;e:for(var P=0;P<2;++P){var Y=[];if(I[U]<0!=!!P){j[U]=N[P][U];for(var q=0;q<2;++q){j[X]=N[q^P][X];for(var K=0;K<2;++K)j[$]=N[K^q^P][$],Y.push(j.slice())}for(var ne=R?5:4,q=ne;q===ne;++q){if(Y.length===0)continue e;Y=u.positive(Y,O[q])}for(var q=0;q<Y.length;++q)for(var $=Y[q],Q=k(b,m,$,g,c),K=0;K<3;++K)L[K].lo=Math.min(L[K].lo,$[K]),L[K].hi=Math.max(L[K].hi,$[K]),K!==U&&(L[K].pixelsPerDataUnit=Math.min(L[K].pixelsPerDataUnit,Math.abs(Q[K])))}}}return L}},5455:function(a,o,i){a.exports=i(7056)},5486:function(a,o,i){a.exports=i(3066)},5542:function(a,o,i){"use strict";var l=i(2478);a.exports=h;function u(p,_){this.stars=p,this.edges=_}var s=u.prototype;function f(p,_,m){for(var w=1,T=p.length;w<T;w+=2)if(p[w-1]===_&&p[w]===m){p[w-1]=p[T-2],p[w]=p[T-1],p.length=T-2;return}}s.isConstraint=function(){var p=[0,0];function _(m,w){return m[0]-w[0]||m[1]-w[1]}return function(m,w){return p[0]=Math.min(m,w),p[1]=Math.max(m,w),l.eq(this.edges,p,_)>=0}}(),s.removeTriangle=function(p,_,m){var w=this.stars;f(w[p],_,m),f(w[_],m,p),f(w[m],p,_)},s.addTriangle=function(p,_,m){var w=this.stars;w[p].push(_,m),w[_].push(m,p),w[m].push(p,_)},s.opposite=function(p,_){for(var m=this.stars[_],w=1,T=m.length;w<T;w+=2)if(m[w]===p)return m[w-1];return-1},s.flip=function(p,_){var m=this.opposite(p,_),w=this.opposite(_,p);this.removeTriangle(p,_,m),this.removeTriangle(_,p,w),this.addTriangle(p,w,m),this.addTriangle(_,m,w)},s.edges=function(){for(var p=this.stars,_=[],m=0,w=p.length;m<w;++m)for(var T=p[m],y=0,k=T.length;y<k;y+=2)_.push([T[y],T[y+1]]);return _},s.cells=function(){for(var p=this.stars,_=[],m=0,w=p.length;m<w;++m)for(var T=p[m],y=0,k=T.length;y<k;y+=2){var S=T[y],b=T[y+1];m<Math.min(S,b)&&_.push([m,S,b])}return _};function h(p,_){for(var m=new Array(p),w=0;w<p;++w)m[w]=[];return new u(m,_)}},5567:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),h=l[4],p=l[5],_=l[6],m=l[7],w=l[8],T=l[9],y=l[10],k=l[11];return l!==i&&(i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[4]=h*f+w*s,i[5]=p*f+T*s,i[6]=_*f+y*s,i[7]=m*f+k*s,i[8]=w*f-h*s,i[9]=T*f-p*s,i[10]=y*f-_*s,i[11]=k*f-m*s,i}},5572:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]).sub(s[1].mul(f[0])),s[1].mul(f[1]))}},5609:function(a,o,i){"use strict";a.exports=u;var l=i(3134);function u(s,f){for(var h=l(s,f.length),p=new Array(f.length),_=new Array(f.length),m=[],w=0;w<f.length;++w){var T=h[w].length;_[w]=T,p[w]=!0,T<=1&&m.push(w)}for(;m.length>0;){var y=m.pop();p[y]=!1;for(var k=h[y],w=0;w<k.length;++w){var S=k[w];--_[S]===0&&m.push(S)}}for(var b=new Array(f.length),M=[],w=0;w<f.length;++w)if(p[w]){var y=M.length;b[w]=y,M.push(f[w])}else b[w]=-1;for(var d=[],w=0;w<s.length;++w){var x=s[w];p[x[0]]&&p[x[1]]&&d.push([b[x[0]],b[x[1]]])}return[d,M]}},5632:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]+u[0],i[1]=l[1]+u[1],i[2]=l[2]+u[2],i}},5665:function(a){a.exports=o;function o(i,l){if(i===l){var u=l[1],s=l[2],f=l[3],h=l[6],p=l[7],_=l[11];i[1]=l[4],i[2]=l[8],i[3]=l[12],i[4]=u,i[6]=l[9],i[7]=l[13],i[8]=s,i[9]=h,i[11]=l[14],i[12]=f,i[13]=p,i[14]=_}else i[0]=l[0],i[1]=l[4],i[2]=l[8],i[3]=l[12],i[4]=l[1],i[5]=l[5],i[6]=l[9],i[7]=l[13],i[8]=l[2],i[9]=l[6],i[10]=l[10],i[11]=l[14],i[12]=l[3],i[13]=l[7],i[14]=l[11],i[15]=l[15];return i}},5673:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=u[3]*s+u[7]*f+u[11]*h+u[15];return p=p||1,i[0]=(u[0]*s+u[4]*f+u[8]*h+u[12])/p,i[1]=(u[1]*s+u[5]*f+u[9]*h+u[13])/p,i[2]=(u[2]*s+u[6]*f+u[10]*h+u[14])/p,i}},5714:function(a,o,i){"use strict";a.exports=g;var l=i(2762),u=i(8116),s=i(7766),f=new Uint8Array(4),h=new Float32Array(f.buffer);function p(c,A,v,D){return f[0]=D,f[1]=v,f[2]=A,f[3]=c,h[0]}var _=i(2478),m=i(9618),w=i(7319),T=w.createShader,y=w.createPickShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function S(c,A){for(var v=0,D=0;D<3;++D){var E=c[D]-A[D];v+=E*E}return Math.sqrt(v)}function b(c){for(var A=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],v=0;v<3;++v)A[0][v]=Math.max(c[0][v],A[0][v]),A[1][v]=Math.min(c[1][v],A[1][v]);return A}function M(c,A,v,D){this.arcLength=c,this.position=A,this.index=v,this.dataCoordinate=D}function d(c,A,v,D,E,R){this.gl=c,this.shader=A,this.pickShader=v,this.buffer=D,this.vao=E,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=R,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var x=d.prototype;x.isTransparent=function(){return this.hasAlpha},x.isOpaque=function(){return!this.hasAlpha},x.pickSlots=1,x.setPickBase=function(c){this.pickId=c},x.drawTransparent=x.draw=function(c){if(this.vertexCount){var A=this.gl,v=this.shader,D=this.vao;v.bind(),v.uniforms={model:c.model||k,view:c.view||k,projection:c.projection||k,clipBounds:b(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},D.bind(),D.draw(A.TRIANGLE_STRIP,this.vertexCount),D.unbind()}},x.drawPick=function(c){if(this.vertexCount){var A=this.gl,v=this.pickShader,D=this.vao;v.bind(),v.uniforms={model:c.model||k,view:c.view||k,projection:c.projection||k,pickId:this.pickId,clipBounds:b(this.clipBounds),screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},D.bind(),D.draw(A.TRIANGLE_STRIP,this.vertexCount),D.unbind()}},x.update=function(c){var A,v;this.dirty=!0;var D=!!c.connectGaps;"dashScale"in c&&(this.dashScale=c.dashScale),this.hasAlpha=!1,"opacity"in c&&(this.opacity=+c.opacity,this.opacity<1&&(this.hasAlpha=!0));var E=[],R=[],N=[],F=0,I=0,L=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],P=c.position||c.positions;if(P){var O=c.color||c.colors||[0,0,0,1],U=c.lineWidth||1,X=!1;e:for(A=1;A<P.length;++A){var $=P[A-1],j=P[A];for(R.push(F),N.push($.slice()),v=0;v<3;++v){if(isNaN($[v])||isNaN(j[v])||!isFinite($[v])||!isFinite(j[v])){if(!D&&E.length>0){for(var Y=0;Y<24;++Y)E.push(E[E.length-12]);I+=2,X=!0}continue e}L[0][v]=Math.min(L[0][v],$[v],j[v]),L[1][v]=Math.max(L[1][v],$[v],j[v])}var q,K;Array.isArray(O[0])?(q=O.length>A-1?O[A-1]:O.length>0?O[O.length-1]:[0,0,0,1],K=O.length>A?O[A]:O.length>0?O[O.length-1]:[0,0,0,1]):q=K=O,q.length===3&&(q=[q[0],q[1],q[2],1]),K.length===3&&(K=[K[0],K[1],K[2],1]),!this.hasAlpha&&q[3]<1&&(this.hasAlpha=!0);var ne;Array.isArray(U)?ne=U.length>A-1?U[A-1]:U.length>0?U[U.length-1]:[0,0,0,1]:ne=U;var Q=F;if(F+=S($,j),X){for(v=0;v<2;++v)E.push($[0],$[1],$[2],j[0],j[1],j[2],Q,ne,q[0],q[1],q[2],q[3]);I+=2,X=!1}E.push($[0],$[1],$[2],j[0],j[1],j[2],Q,ne,q[0],q[1],q[2],q[3],$[0],$[1],$[2],j[0],j[1],j[2],Q,-ne,q[0],q[1],q[2],q[3],j[0],j[1],j[2],$[0],$[1],$[2],F,-ne,K[0],K[1],K[2],K[3],j[0],j[1],j[2],$[0],$[1],$[2],F,ne,K[0],K[1],K[2],K[3]),I+=4}}if(this.buffer.update(E),R.push(F),N.push(P[P.length-1].slice()),this.bounds=L,this.vertexCount=I,this.points=N,this.arcLength=R,"dashes"in c){var oe=c.dashes,re=oe.slice();for(re.unshift(0),A=1;A<re.length;++A)re[A]=re[A-1]+re[A];var H=m(new Array(256*4),[256,1,4]);for(A=0;A<256;++A){for(v=0;v<4;++v)H.set(A,0,v,0);_.le(re,re[re.length-1]*A/255)&1?H.set(A,0,0,0):H.set(A,0,0,255)}this.texture.setPixels(H)}},x.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},x.pick=function(c){if(!c||c.id!==this.pickId)return null;var A=p(c.value[0],c.value[1],c.value[2],0),v=_.le(this.arcLength,A);if(v<0)return null;if(v===this.arcLength.length-1)return new M(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),v);for(var D=this.points[v],E=this.points[Math.min(v+1,this.points.length-1)],R=(A-this.arcLength[v])/(this.arcLength[v+1]-this.arcLength[v]),N=1-R,F=[0,0,0],I=0;I<3;++I)F[I]=N*D[I]+R*E[I];var L=Math.min(R<.5?v:v+1,this.points.length-1);return new M(A,F,L,this.points[L])};function g(c){var A=c.gl||c.scene&&c.scene.gl,v=T(A);v.attributes.position.location=0,v.attributes.nextPosition.location=1,v.attributes.arcLength.location=2,v.attributes.lineWidth.location=3,v.attributes.color.location=4;var D=y(A);D.attributes.position.location=0,D.attributes.nextPosition.location=1,D.attributes.arcLength.location=2,D.attributes.lineWidth.location=3,D.attributes.color.location=4;for(var E=l(A),R=u(A,[{buffer:E,size:3,offset:0,stride:48},{buffer:E,size:3,offset:12,stride:48},{buffer:E,size:1,offset:24,stride:48},{buffer:E,size:1,offset:28,stride:48},{buffer:E,size:4,offset:32,stride:48}]),N=m(new Array(256*4),[256,1,4]),F=0;F<1024;++F)N.data[F]=255;var I=s(A,N);I.wrap=A.REPEAT;var L=new d(A,v,D,E,R,I);return L.update(c),L}},5716:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return s.cmp(new l(0))}},5721:function(a){"use strict";a.exports=o;function o(i){for(var l=0,u=0,s=1;s<i.length;++s)i[s][0]<i[l][0]&&(l=s),i[s][0]>i[u][0]&&(u=s);return l<u?[[l],[u]]:l>u?[[u],[l]]:[[l]]}},5771:function(a,o,i){"use strict";var l=i(8507),u=i(3788),s=i(2419);a.exports=f;function f(h){h.sort(u);for(var p=h.length,_=0,m=0;m<p;++m){var w=h[m],T=s(w);if(T!==0){if(_>0){var y=h[_-1];if(l(w,y)===0&&s(y)!==T){_-=1;continue}}h[_++]=w}}return h.length=_,h}},5838:function(a,o,i){"use strict";a.exports=u;var l=i(7842);function u(s){for(var f=new Array(s.length),h=0;h<s.length;++h)f[h]=l(s[h]);return f}},5847:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u[0],i[1]=l[1]*u[1],i[2]=l[2]*u[2],i}},5874:function(a,o,i){a.exports=v;var l=i(620),u=i(7827),s=i(6852),f=i(7932),h=i(3508),p=999,_=9999,m=0,w=1,T=2,y=3,k=4,S=5,b=6,M=7,d=8,x=9,g=10,c=11,A=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function v(D){var E=0,R=0,N=p,F,I,L=[],P=[],O=0,U=0,X=1,$=0,j=0,Y=!1,q=!1,K="",ne;D=D||{};var Q=s,oe=l;D.version==="300 es"&&(Q=h,oe=f);for(var re={},H={},E=0;E<Q.length;E++)re[Q[E]]=!0;for(var E=0;E<oe.length;E++)H[oe[E]]=!0;return function(ge){return P=[],ge!==null?V(ge):te()};function ee(ge){ge.length&&P.push({type:A[N],data:ge,position:j,line:X,column:$})}function V(ge){E=0,ge.toString&&(ge=ge.toString()),K+=ge.replace(/\r\n/g,`
`),ne=K.length;for(var we;F=K[E],E<ne;){switch(we=E,N){case m:E=he();break;case w:E=Se();break;case T:E=ke();break;case y:E=Ae();break;case k:E=Ee();break;case c:E=Pe();break;case S:E=Ne();break;case _:E=Ue();break;case x:E=ve();break;case p:E=ue();break}if(we!==E)switch(K[we]){case`
`:$=0,++X;break;default:++$;break}}return R+=E,K=K.slice(E),P}function te(ge){return L.length&&ee(L.join("")),N=g,ee("(eof)"),P}function ue(){return L=L.length?[]:L,I==="/"&&F==="*"?(j=R+E-1,N=m,I=F,E+1):I==="/"&&F==="/"?(j=R+E-1,N=w,I=F,E+1):F==="#"?(N=T,j=R+E,E):/\s/.test(F)?(N=x,j=R+E,E):(Y=/\d/.test(F),q=/[^\w_]/.test(F),j=R+E,N=Y?k:q?y:_,E)}function ve(){return/[^\s]/g.test(F)?(ee(L.join("")),N=p,E):(L.push(F),I=F,E+1)}function ke(){return(F==="\r"||F===`
`)&&I!=="\\"?(ee(L.join("")),N=p,E):(L.push(F),I=F,E+1)}function Se(){return ke()}function he(){return F==="/"&&I==="*"?(L.push(F),ee(L.join("")),N=p,E+1):(L.push(F),I=F,E+1)}function Ae(){if(I==="."&&/\d/.test(F))return N=S,E;if(I==="/"&&F==="*")return N=m,E;if(I==="/"&&F==="/")return N=w,E;if(F==="."&&L.length){for(;Ce(L););return N=S,E}if(F===";"||F===")"||F==="("){if(L.length)for(;Ce(L););return ee(F),N=p,E+1}var ge=L.length===2&&F!=="=";if(/[\w_\d\s]/.test(F)||ge){for(;Ce(L););return N=p,E}return L.push(F),I=F,E+1}function Ce(ge){var we=0,Te,me;do{if(Te=u.indexOf(ge.slice(0,ge.length+we).join("")),me=u[Te],Te===-1){if(we--+ge.length>0)continue;me=ge.slice(0,1).join("")}return ee(me),j+=me.length,L=L.slice(me.length),L.length}while(!0)}function Pe(){return/[^a-fA-F0-9]/.test(F)?(ee(L.join("")),N=p,E):(L.push(F),I=F,E+1)}function Ee(){return F==="."||/[eE]/.test(F)?(L.push(F),N=S,I=F,E+1):F==="x"&&L.length===1&&L[0]==="0"?(N=c,L.push(F),I=F,E+1):/[^\d]/.test(F)?(ee(L.join("")),N=p,E):(L.push(F),I=F,E+1)}function Ne(){return F==="f"&&(L.push(F),I=F,E+=1),/[eE]/.test(F)||(F==="-"||F==="+")&&/[eE]/.test(I)?(L.push(F),I=F,E+1):/[^\d]/.test(F)?(ee(L.join("")),N=p,E):(L.push(F),I=F,E+1)}function Ue(){if(/[^\d\w_]/.test(F)){var ge=L.join("");return H[ge]?N=d:re[ge]?N=M:N=b,ee(L.join("")),N=p,E}return L.push(F),I=F,E+1}}},5878:function(a,o,i){"use strict";a.exports=f;var l=i(3250),u=i(2014);function s(h,p,_){var m=Math.abs(l(h,p,_)),w=Math.sqrt(Math.pow(p[0]-_[0],2)+Math.pow(p[1]-_[1],2));return m/w}function f(h,p,_){for(var m=p.length,w=h.length,T=new Array(m),y=new Array(m),k=new Array(m),S=new Array(m),b=0;b<m;++b)T[b]=y[b]=-1,k[b]=1/0,S[b]=!1;for(var b=0;b<w;++b){var M=h[b];if(M.length!==2)throw new Error("Input must be a graph");var d=M[1],x=M[0];y[x]!==-1?y[x]=-2:y[x]=d,T[d]!==-1?T[d]=-2:T[d]=x}function g(q){if(S[q])return 1/0;var K=T[q],ne=y[q];return K<0||ne<0?1/0:s(p[q],p[K],p[ne])}function c(q,K){var ne=I[q],Q=I[K];I[q]=Q,I[K]=ne,L[ne]=K,L[Q]=q}function A(q){return k[I[q]]}function v(q){return q&1?q-1>>1:(q>>1)-1}function D(q){for(var K=A(q);;){var ne=K,Q=2*q+1,oe=2*(q+1),re=q;if(Q<O){var H=A(Q);H<ne&&(re=Q,ne=H)}if(oe<O){var ee=A(oe);ee<ne&&(re=oe)}if(re===q)return q;c(q,re),q=re}}function E(q){for(var K=A(q);q>0;){var ne=v(q);if(ne>=0){var Q=A(ne);if(K<Q){c(q,ne),q=ne;continue}}return q}}function R(){if(O>0){var q=I[0];return c(0,O-1),O-=1,D(0),q}return-1}function N(q,K){var ne=I[q];return k[ne]===K?q:(k[ne]=-1/0,E(q),R(),k[ne]=K,O+=1,E(O-1))}function F(q){if(!S[q]){S[q]=!0;var K=T[q],ne=y[q];T[ne]>=0&&(T[ne]=K),y[K]>=0&&(y[K]=ne),L[K]>=0&&N(L[K],g(K)),L[ne]>=0&&N(L[ne],g(ne))}}for(var I=[],L=new Array(m),b=0;b<m;++b){var P=k[b]=g(b);P<1/0?(L[b]=I.length,I.push(b)):L[b]=-1}for(var O=I.length,b=O>>1;b>=0;--b)D(b);for(;;){var U=R();if(U<0||k[U]>_)break;F(U)}for(var X=[],b=0;b<m;++b)S[b]||(L[b]=X.length,X.push(p[b].slice()));var $=X.length;function j(q,K){if(q[K]<0)return K;var ne=K,Q=K;do{var oe=q[Q];if(!S[Q]||oe<0||oe===Q||(Q=oe,oe=q[Q],!S[Q]||oe<0||oe===Q))break;Q=oe,ne=q[ne]}while(ne!==Q);for(var re=K;re!==Q;re=q[re])q[re]=Q;return Q}var Y=[];return h.forEach(function(q){var K=j(T,q[0]),ne=j(y,q[1]);if(K>=0&&ne>=0&&K!==ne){var Q=L[K],oe=L[ne];Q!==oe&&Y.push([Q,oe])}}),u.unique(u.normalize(Y)),{positions:X,edges:Y}}},5911:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=u[0],_=u[1],m=u[2];return i[0]=f*m-h*_,i[1]=h*p-s*m,i[2]=s*_-f*p,i}},5964:function(a){"use strict";a.exports=function(o){return!o&&o!==0?"":o.toString()}},5995:function(a,o,i){"use strict";a.exports=s;var l=i(7642),u=i(6037);function s(f,h){return l(h).filter(function(p){for(var _=new Array(p.length),m=0;m<p.length;++m)_[m]=h[p[m]];return u(_)*f<1})}},6037:function(a,o,i){a.exports=u;var l=i(3628);function u(s){for(var f=l(s),h=0,p=0;p<s.length;++p)for(var _=s[p],m=0;m<f.length;++m)h+=Math.pow(_[m]-f[m],2);return Math.sqrt(h/s.length)}},6079:function(a){a.exports=o;function o(i,l,u,s){var f=s[0],h=s[1],p=s[2],_=Math.sqrt(f*f+h*h+p*p),m,w,T,y,k,S,b,M,d,x,g,c,A,v,D,E,R,N,F,I,L,P,O,U;return Math.abs(_)<1e-6?null:(_=1/_,f*=_,h*=_,p*=_,m=Math.sin(u),w=Math.cos(u),T=1-w,y=l[0],k=l[1],S=l[2],b=l[3],M=l[4],d=l[5],x=l[6],g=l[7],c=l[8],A=l[9],v=l[10],D=l[11],E=f*f*T+w,R=h*f*T+p*m,N=p*f*T-h*m,F=f*h*T-p*m,I=h*h*T+w,L=p*h*T+f*m,P=f*p*T+h*m,O=h*p*T-f*m,U=p*p*T+w,i[0]=y*E+M*R+c*N,i[1]=k*E+d*R+A*N,i[2]=S*E+x*R+v*N,i[3]=b*E+g*R+D*N,i[4]=y*F+M*I+c*L,i[5]=k*F+d*I+A*L,i[6]=S*F+x*I+v*L,i[7]=b*F+g*I+D*L,i[8]=y*P+M*O+c*U,i[9]=k*P+d*O+A*U,i[10]=S*P+x*O+v*U,i[11]=b*P+g*O+D*U,l!==i&&(i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i)}},6141:function(a,o,i){a.exports=i(2953)},6199:function(a,o,i){"use strict";var l=i(1338),u={zero:function(M,d,x,g){var c=M[0],A=x[0];g|=0;var v=0,D=A;for(v=0;v<c;++v)d[g]=0,g+=D},fdTemplate1:function(M,d,x,g,c,A,v){var D=M[0],E=x[0],R=A[0],N=-1*E,F=E;g|=0,v|=0;var I=0,L=E,P=R;for(I=0;I<D;++I)c[v]=.5*(d[g+N]-d[g+F]),g+=L,v+=P},fdTemplate2:function(M,d,x,g,c,A,v,D,E,R){var N=M[0],F=M[1],I=x[0],L=x[1],P=A[0],O=A[1],U=E[0],X=E[1],$=-1*I,j=I,Y=-1*L,q=L;g|=0,v|=0,R|=0;var K=0,ne=0,Q=L,oe=I-F*L,re=O,H=P-F*O,ee=X,V=U-F*X;for(ne=0;ne<N;++ne){for(K=0;K<F;++K)c[v]=.5*(d[g+$]-d[g+j]),D[R]=.5*(d[g+Y]-d[g+q]),g+=Q,v+=re,R+=ee;g+=oe,v+=H,R+=V}}},s={cdiff:function(M){var d={};return function(g,c,A){var v=g.dtype,D=g.order,E=c.dtype,R=c.order,N=A.dtype,F=A.order,I=[v,D.join(),E,R.join(),N,F.join()].join(),L=d[I];return L||(d[I]=L=M([v,D,E,R,N,F])),L(g.shape.slice(0),g.data,g.stride,g.offset|0,c.data,c.stride,c.offset|0,A.data,A.stride,A.offset|0)}},zero:function(M){var d={};return function(g){var c=g.dtype,A=g.order,v=[c,A.join()].join(),D=d[v];return D||(d[v]=D=M([c,A])),D(g.shape.slice(0),g.data,g.stride,g.offset|0)}},fdTemplate1:function(M){var d={};return function(g,c){var A=g.dtype,v=g.order,D=c.dtype,E=c.order,R=[A,v.join(),D,E.join()].join(),N=d[R];return N||(d[R]=N=M([A,v,D,E])),N(g.shape.slice(0),g.data,g.stride,g.offset|0,c.data,c.stride,c.offset|0)}},fdTemplate2:function(M){var d={};return function(g,c,A){var v=g.dtype,D=g.order,E=c.dtype,R=c.order,N=A.dtype,F=A.order,I=[v,D.join(),E,R.join(),N,F.join()].join(),L=d[I];return L||(d[I]=L=M([v,D,E,R,N,F])),L(g.shape.slice(0),g.data,g.stride,g.offset|0,c.data,c.stride,c.offset|0,A.data,A.stride,A.offset|0)}}};function f(M){var d=s[M.funcName];return d(h.bind(void 0,M))}function h(M){return u[M.funcName]}function p(M){return f({funcName:M.funcName})}var _={},m={},w={body:"",args:[],thisVars:[],localVars:[]},T=p({funcName:"cdiff"}),y=p({funcName:"zero"});function k(M){return M in _?_[M]:_[M]=p({funcName:"fdTemplate"+M})}function S(M,d,x,g){return function(c,A){var v=A.shape.slice();return v[0]>2&&v[1]>2&&g(A.pick(-1,-1).lo(1,1).hi(v[0]-2,v[1]-2),c.pick(-1,-1,0).lo(1,1).hi(v[0]-2,v[1]-2),c.pick(-1,-1,1).lo(1,1).hi(v[0]-2,v[1]-2)),v[1]>2&&(x(A.pick(0,-1).lo(1).hi(v[1]-2),c.pick(0,-1,1).lo(1).hi(v[1]-2)),d(c.pick(0,-1,0).lo(1).hi(v[1]-2))),v[1]>2&&(x(A.pick(v[0]-1,-1).lo(1).hi(v[1]-2),c.pick(v[0]-1,-1,1).lo(1).hi(v[1]-2)),d(c.pick(v[0]-1,-1,0).lo(1).hi(v[1]-2))),v[0]>2&&(x(A.pick(-1,0).lo(1).hi(v[0]-2),c.pick(-1,0,0).lo(1).hi(v[0]-2)),d(c.pick(-1,0,1).lo(1).hi(v[0]-2))),v[0]>2&&(x(A.pick(-1,v[1]-1).lo(1).hi(v[0]-2),c.pick(-1,v[1]-1,0).lo(1).hi(v[0]-2)),d(c.pick(-1,v[1]-1,1).lo(1).hi(v[0]-2))),c.set(0,0,0,0),c.set(0,0,1,0),c.set(v[0]-1,0,0,0),c.set(v[0]-1,0,1,0),c.set(0,v[1]-1,0,0),c.set(0,v[1]-1,1,0),c.set(v[0]-1,v[1]-1,0,0),c.set(v[0]-1,v[1]-1,1,0),c}}function b(M){var d=M.join(),v=m[d];if(v)return v;for(var x=M.length,g=[T,y],c=1;c<=x;++c)g.push(k(c));var A=S,v=A.apply(void 0,g);return m[d]=v,v}a.exports=function(d,x,g){if(Array.isArray(g)||(typeof g=="string"?g=l(x.dimension,g):g=l(x.dimension,"clamp")),x.size===0)return d;if(x.dimension===0)return d.set(0),d;var c=b(g);return c(d,x)}},6204:function(a){"use strict";a.exports=o;function o(i){var l,u,s,f=i.length,h=0;for(l=0;l<f;++l)h+=i[l].length;var p=new Array(h),_=0;for(l=0;l<f;++l){var m=i[l],w=m.length;for(u=0;u<w;++u){var T=p[_++]=new Array(w-1),y=0;for(s=0;s<w;++s)s!==u&&(T[y++]=m[s]);if(u&1){var k=T[1];T[1]=T[0],T[0]=k}}}return p}},6296:function(a,o,i){"use strict";a.exports=p;var l=i(7261),u=i(9977),s=i(1811);function f(_,m){this._controllerNames=Object.keys(_),this._controllerList=this._controllerNames.map(function(w){return _[w]}),this._mode=m,this._active=_[m],this._active||(this._mode="turntable",this._active=_.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var h=f.prototype;h.flush=function(_){for(var m=this._controllerList,w=0;w<m.length;++w)m[w].flush(_)},h.idle=function(_){for(var m=this._controllerList,w=0;w<m.length;++w)m[w].idle(_)},h.lookAt=function(_,m,w,T){for(var y=this._controllerList,k=0;k<y.length;++k)y[k].lookAt(_,m,w,T)},h.rotate=function(_,m,w,T){for(var y=this._controllerList,k=0;k<y.length;++k)y[k].rotate(_,m,w,T)},h.pan=function(_,m,w,T){for(var y=this._controllerList,k=0;k<y.length;++k)y[k].pan(_,m,w,T)},h.translate=function(_,m,w,T){for(var y=this._controllerList,k=0;k<y.length;++k)y[k].translate(_,m,w,T)},h.setMatrix=function(_,m){for(var w=this._controllerList,T=0;T<w.length;++T)w[T].setMatrix(_,m)},h.setDistanceLimits=function(_,m){for(var w=this._controllerList,T=0;T<w.length;++T)w[T].setDistanceLimits(_,m)},h.setDistance=function(_,m){for(var w=this._controllerList,T=0;T<w.length;++T)w[T].setDistance(_,m)},h.recalcMatrix=function(_){this._active.recalcMatrix(_)},h.getDistance=function(_){return this._active.getDistance(_)},h.getDistanceLimits=function(_){return this._active.getDistanceLimits(_)},h.lastT=function(){return this._active.lastT()},h.setMode=function(_){if(_!==this._mode){var m=this._controllerNames.indexOf(_);if(!(m<0)){var w=this._active,T=this._controllerList[m],y=Math.max(w.lastT(),T.lastT());w.recalcMatrix(y),T.setMatrix(y,w.computedMatrix),this._active=T,this._mode=_,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},h.getMode=function(){return this._mode};function p(_){_=_||{};var m=_.eye||[0,0,1],w=_.center||[0,0,0],T=_.up||[0,1,0],y=_.distanceLimits||[0,1/0],k=_.mode||"turntable",S=l(),b=u(),M=s();return S.setDistanceLimits(y[0],y[1]),S.lookAt(0,m,w,T),b.setDistanceLimits(y[0],y[1]),b.lookAt(0,m,w,T),M.setDistanceLimits(y[0],y[1]),M.lookAt(0,m,w,T),new f({turntable:S,orbit:b,matrix:M},k)}},6330:function(a,o,i){"use strict";var l=i(1533);a.exports=u;function u(s){return Array.isArray(s)&&s.length===2&&l(s[0])&&l(s[1])}},6405:function(a,o,i){"use strict";var l=i(2931);a.exports=function(s,f){var h=s.positions,p=s.vectors,_={positions:[],vertexIntensity:[],vertexIntensityBounds:s.vertexIntensityBounds,vectors:[],cells:[],coneOffset:s.coneOffset,colormap:s.colormap};if(s.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),_;for(var m=0,w=1/0,T=-1/0,y=1/0,k=-1/0,S=1/0,b=-1/0,M=null,d=null,x=[],g=1/0,c=!1,A=s.coneSizemode==="raw",v=0;v<h.length;v++){var D=h[v];w=Math.min(D[0],w),T=Math.max(D[0],T),y=Math.min(D[1],y),k=Math.max(D[1],k),S=Math.min(D[2],S),b=Math.max(D[2],b);var E=p[v];if(l.length(E)>m&&(m=l.length(E)),v&&!A){var R=2*l.distance(M,D)/(l.length(d)+l.length(E));R?(g=Math.min(g,R),c=!1):c=!0}c||(M=D,d=E),x.push(E)}var N=[w,y,S],F=[T,k,b];f&&(f[0]=N,f[1]=F),m===0&&(m=1);var I=1/m;isFinite(g)||(g=1),_.vectorScale=g;var L=s.coneSize||(A?1:.5);s.absoluteConeSize&&(L=s.absoluteConeSize*I),_.coneScale=L;for(var v=0,P=0;v<h.length;v++)for(var D=h[v],O=D[0],U=D[1],X=D[2],$=x[v],j=l.length($)*I,Y=0,q=8;Y<q;Y++){_.positions.push([O,U,X,P++]),_.positions.push([O,U,X,P++]),_.positions.push([O,U,X,P++]),_.positions.push([O,U,X,P++]),_.positions.push([O,U,X,P++]),_.positions.push([O,U,X,P++]),_.vectors.push($),_.vectors.push($),_.vectors.push($),_.vectors.push($),_.vectors.push($),_.vectors.push($),_.vertexIntensity.push(j,j,j),_.vertexIntensity.push(j,j,j);var K=_.positions.length;_.cells.push([K-6,K-5,K-4],[K-3,K-2,K-1])}return _};var u=i(614);a.exports.createMesh=i(9060),a.exports.createConeMesh=function(s,f){return a.exports.createMesh(s,f,{shaders:u,traceType:"cone"})}},6429:function(a,o,i){"use strict";a.exports=d;var l=i(8828),u=i(6760),s=i(5202),f=i(3250),h=new Array(16),p=new Array(8),_=new Array(8),m=new Array(3),w=[0,0,0];(function(){for(var x=0;x<8;++x)p[x]=[1,1,1,1],_[x]=[1,1,1]})();function T(x,g,c){for(var A=0;A<4;++A){x[A]=c[12+A];for(var v=0;v<3;++v)x[A]+=g[v]*c[4*v+A]}}var y=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function k(x){for(var g=0;g<y.length;++g)if(x=s.positive(x,y[g]),x.length<3)return 0;for(var c=x[0],A=c[0]/c[3],v=c[1]/c[3],D=0,g=1;g+1<x.length;++g){var E=x[g],R=x[g+1],N=E[0]/E[3],F=E[1]/E[3],I=R[0]/R[3],L=R[1]/R[3],P=N-A,O=F-v,U=I-A,X=L-v;D+=Math.abs(P*X-O*U)}return D}var S=[1,1,1],b=[0,0,0],M={cubeEdges:S,axis:b};function d(x,g,c,A,v){u(h,g,x),u(h,c,h);for(var D=0,E=0;E<2;++E){m[2]=A[E][2];for(var R=0;R<2;++R){m[1]=A[R][1];for(var N=0;N<2;++N)m[0]=A[N][0],T(p[D],m,h),D+=1}}for(var F=-1,E=0;E<8;++E){for(var I=p[E][3],L=0;L<3;++L)_[E][L]=p[E][L]/I;v&&(_[E][2]*=-1),I<0&&(F<0||_[E][2]<_[F][2])&&(F=E)}if(F<0){F=0;for(var P=0;P<3;++P){for(var O=(P+2)%3,U=(P+1)%3,X=-1,$=-1,j=0;j<2;++j){var Y=j<<P,q=Y+(j<<O)+(1-j<<U),K=Y+(1-j<<O)+(j<<U);f(_[Y],_[q],_[K],w)<0||(j?X=1:$=1)}if(X<0||$<0){$>X&&(F|=1<<P);continue}for(var j=0;j<2;++j){var Y=j<<P,q=Y+(j<<O)+(1-j<<U),K=Y+(1-j<<O)+(j<<U),ne=k([p[Y],p[q],p[K],p[Y+(1<<O)+(1<<U)]]);j?X=ne:$=ne}if($>X){F|=1<<P;continue}}}for(var Q=7^F,oe=-1,E=0;E<8;++E)E===F||E===Q||(oe<0||_[oe][1]>_[E][1])&&(oe=E);for(var re=-1,E=0;E<3;++E){var H=oe^1<<E;if(!(H===F||H===Q)){re<0&&(re=H);var U=_[H];U[0]<_[re][0]&&(re=H)}}for(var ee=-1,E=0;E<3;++E){var H=oe^1<<E;if(!(H===F||H===Q||H===re)){ee<0&&(ee=H);var U=_[H];U[0]>_[ee][0]&&(ee=H)}}var V=S;V[0]=V[1]=V[2]=0,V[l.log2(re^oe)]=oe&re,V[l.log2(oe^ee)]=oe&ee;var te=ee^7;te===F||te===Q?(te=re^7,V[l.log2(ee^te)]=te&ee):V[l.log2(re^te)]=te&re;for(var ue=b,ve=F,P=0;P<3;++P)ve&1<<P?ue[P]=-1:ue[P]=1;return M}},6444:function(a,o){"use strict";o.create=l,o.equal=u;function i(s,f){var h=s+"",p=h.indexOf("."),_=0;p>=0&&(_=h.length-p-1);var m=Math.pow(10,_),w=Math.round(s*f*m),T=w+"";if(T.indexOf("e")>=0)return T;var y=w/m,k=w%m;w<0?(y=-Math.ceil(y)|0,k=-k|0):(y=Math.floor(y)|0,k=k|0);var S=""+y;if(w<0&&(S="-"+S),_){for(var b=""+k;b.length<_;)b="0"+b;return S+"."+b}else return S}function l(s,f){for(var h=[],p=0;p<3;++p){for(var _=[],m=.5*(s[0][p]+s[1][p]),w=0;w*f[p]<=s[1][p];++w)_.push({x:w*f[p],text:i(f[p],w)});for(var w=-1;w*f[p]>=s[0][p];--w)_.push({x:w*f[p],text:i(f[p],w)});h.push(_)}return h}function u(s,f){for(var h=0;h<3;++h){if(s[h].length!==f[h].length)return!1;for(var p=0;p<s[h].length;++p){var _=s[h][p],m=f[h][p];if(_.x!==m.x||_.text!==m.text||_.font!==m.font||_.fontColor!==m.fontColor||_.fontSize!==m.fontSize||_.dx!==m.dx||_.dy!==m.dy)return!1}}return!0}},6468:function(a){a.exports=function(i){return atob(i)}},6504:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[0]),s[1].mul(f[1]))}},6582:function(a,o,i){var l=i(7894);a.exports=u;function u(s,f,h,p){var _,m,w,T,y,k,S,b,M,d,x=f[0],g=f[1],c=f[2],A=p[0],v=p[1],D=p[2],E=h[0],R=h[1],N=h[2];return Math.abs(x-E)<1e-6&&Math.abs(g-R)<1e-6&&Math.abs(c-N)<1e-6?l(s):(S=x-E,b=g-R,M=c-N,d=1/Math.sqrt(S*S+b*b+M*M),S*=d,b*=d,M*=d,_=v*M-D*b,m=D*S-A*M,w=A*b-v*S,d=Math.sqrt(_*_+m*m+w*w),d?(d=1/d,_*=d,m*=d,w*=d):(_=0,m=0,w=0),T=b*w-M*m,y=M*_-S*w,k=S*m-b*_,d=Math.sqrt(T*T+y*y+k*k),d?(d=1/d,T*=d,y*=d,k*=d):(T=0,y=0,k=0),s[0]=_,s[1]=T,s[2]=S,s[3]=0,s[4]=m,s[5]=y,s[6]=b,s[7]=0,s[8]=w,s[9]=k,s[10]=M,s[11]=0,s[12]=-(_*x+m*g+w*c),s[13]=-(T*x+y*g+k*c),s[14]=-(S*x+b*g+M*c),s[15]=1,s)}},6621:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u,i[1]=l[1]*u,i[2]=l[2]*u,i}},6658:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],h=l[1],p=l[2];return i[0]=f+s*(u[0]-f),i[1]=h+s*(u[1]-h),i[2]=p+s*(u[2]-p),i}},6690:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]/u[0],i[1]=l[1]/u[1],i[2]=l[2]/u[2],i}},6729:function(a,o,i){"use strict";var l=i(3642),u=i(395);a.exports=s;function s(_){var m,w,T,y,k,S,b,M,c,d,x;if(_||(_={}),M=(_.nshades||72)-1,b=_.format||"hex",S=_.colormap,S||(S="jet"),typeof S=="string"){if(S=S.toLowerCase(),!l[S])throw Error(S+" not a supported colorscale");k=l[S]}else if(Array.isArray(S))k=S.slice();else throw Error("unsupported colormap option",S);if(k.length>M+1)throw new Error(S+" map requires nshades to be at least size "+k.length);Array.isArray(_.alpha)?_.alpha.length!==2?d=[1,1]:d=_.alpha.slice():typeof _.alpha=="number"?d=[_.alpha,_.alpha]:d=[1,1],m=k.map(function(D){return Math.round(D.index*M)}),d[0]=Math.min(Math.max(d[0],0),1),d[1]=Math.min(Math.max(d[1],0),1);var g=k.map(function(D,E){var R=k[E].index,N=k[E].rgb.slice();return N.length===4&&N[3]>=0&&N[3]<=1||(N[3]=d[0]+(d[1]-d[0])*R),N}),c=[];for(x=0;x<m.length-1;++x){y=m[x+1]-m[x],w=g[x],T=g[x+1];for(var A=0;A<y;A++){var v=A/y;c.push([Math.round(u(w[0],T[0],v)),Math.round(u(w[1],T[1],v)),Math.round(u(w[2],T[2],v)),u(w[3],T[3],v)])}}return c.push(k[k.length-1].rgb.concat(d[1])),b==="hex"?c=c.map(h):b==="rgbaString"?c=c.map(p):b==="float"&&(c=c.map(f)),c}function f(_){return[_[0]/255,_[1]/255,_[2]/255,_[3]]}function h(_){for(var m,w="#",T=0;T<3;++T)m=_[T],m=m.toString(16),w+=("00"+m).substr(m.length);return w}function p(_){return"rgba("+_.join(",")+")"}},6740:function(a,o,i){var l=i(3236),u=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),h=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},o.pickShader={vertex:f,fragment:h,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},6743:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=l[3],_=s+s,m=f+f,w=h+h,T=s*_,y=s*m,k=s*w,S=f*m,b=f*w,M=h*w,d=p*_,x=p*m,g=p*w;return i[0]=1-(S+M),i[1]=y+g,i[2]=k-x,i[3]=0,i[4]=y-g,i[5]=1-(T+M),i[6]=b+d,i[7]=0,i[8]=k+x,i[9]=b-d,i[10]=1-(T+S),i[11]=0,i[12]=u[0],i[13]=u[1],i[14]=u[2],i[15]=1,i}},6760:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],h=l[2],p=l[3],_=l[4],m=l[5],w=l[6],T=l[7],y=l[8],k=l[9],S=l[10],b=l[11],M=l[12],d=l[13],x=l[14],g=l[15],c=u[0],A=u[1],v=u[2],D=u[3];return i[0]=c*s+A*_+v*y+D*M,i[1]=c*f+A*m+v*k+D*d,i[2]=c*h+A*w+v*S+D*x,i[3]=c*p+A*T+v*b+D*g,c=u[4],A=u[5],v=u[6],D=u[7],i[4]=c*s+A*_+v*y+D*M,i[5]=c*f+A*m+v*k+D*d,i[6]=c*h+A*w+v*S+D*x,i[7]=c*p+A*T+v*b+D*g,c=u[8],A=u[9],v=u[10],D=u[11],i[8]=c*s+A*_+v*y+D*M,i[9]=c*f+A*m+v*k+D*d,i[10]=c*h+A*w+v*S+D*x,i[11]=c*p+A*T+v*b+D*g,c=u[12],A=u[13],v=u[14],D=u[15],i[12]=c*s+A*_+v*y+D*M,i[13]=c*f+A*m+v*k+D*d,i[14]=c*h+A*w+v*S+D*x,i[15]=c*p+A*T+v*b+D*g,i}},6768:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return new l(s)}},6803:function(a,o,i){"use strict";var l,u=i(8828),s=i(1755);function f(A){for(var v=0,D=Math.max,E=0,R=A.length;E<R;++E)v=D(v,A[E].length);return v-1}l=f;function h(A){for(var v=-1,D=Math.max,E=0,R=A.length;E<R;++E)for(var N=A[E],F=0,I=N.length;F<I;++F)v=D(v,N[F]);return v+1}l=h;function p(A){for(var v=new Array(A.length),D=0,E=A.length;D<E;++D)v[D]=A[D].slice(0);return v}l=p;function _(A,v){var D=A.length,E=A.length-v.length,R=Math.min;if(E)return E;switch(D){case 0:return 0;case 1:return A[0]-v[0];case 2:var P=A[0]+A[1]-v[0]-v[1];return P||R(A[0],A[1])-R(v[0],v[1]);case 3:var N=A[0]+A[1],F=v[0]+v[1];if(P=N+A[2]-(F+v[2]),P)return P;var I=R(A[0],A[1]),L=R(v[0],v[1]),P=R(I,A[2])-R(L,v[2]);return P||R(I+A[2],N)-R(L+v[2],F);default:var O=A.slice(0);O.sort();var U=v.slice(0);U.sort();for(var X=0;X<D;++X)if(E=O[X]-U[X],E)return E;return 0}}o.Fw=_;function m(A,v){return _(A[0],v[0])}function w(A,v){if(v){for(var D=A.length,E=new Array(D),R=0;R<D;++R)E[R]=[A[R],v[R]];E.sort(m);for(var R=0;R<D;++R)A[R]=E[R][0],v[R]=E[R][1];return A}else return A.sort(_),A}l=w;function T(A){if(A.length===0)return[];for(var v=1,D=A.length,E=1;E<D;++E){var R=A[E];if(_(R,A[E-1])){if(E===v){v++;continue}A[v++]=R}}return A.length=v,A}l=T;function y(A,v){for(var D=0,E=A.length-1,R=-1;D<=E;){var N=D+E>>1,F=_(A[N],v);F<=0?(F===0&&(R=N),D=N+1):F>0&&(E=N-1)}return R}l=y;function k(A,v){for(var D=new Array(A.length),E=0,R=D.length;E<R;++E)D[E]=[];for(var N=[],E=0,F=v.length;E<F;++E)for(var I=v[E],L=I.length,P=1,O=1<<L;P<O;++P){N.length=u.popCount(P);for(var U=0,X=0;X<L;++X)P&1<<X&&(N[U++]=I[X]);var $=y(A,N);if(!($<0))for(;D[$++].push(E),!($>=A.length||_(A[$],N)!==0););}return D}l=k;function S(A,v){if(!v)return k(T(M(A,0)),A,0);for(var D=new Array(v),E=0;E<v;++E)D[E]=[];for(var E=0,R=A.length;E<R;++E)for(var N=A[E],F=0,I=N.length;F<I;++F)D[N[F]].push(E);return D}l=S;function b(A){for(var v=[],D=0,E=A.length;D<E;++D)for(var R=A[D],N=R.length|0,F=1,I=1<<N;F<I;++F){for(var L=[],P=0;P<N;++P)F>>>P&1&&L.push(R[P]);v.push(L)}return w(v)}l=b;function M(A,v){if(v<0)return[];for(var D=[],E=(1<<v+1)-1,R=0;R<A.length;++R)for(var N=A[R],F=E;F<1<<N.length;F=u.nextCombination(F)){for(var I=new Array(v+1),L=0,P=0;P<N.length;++P)F&1<<P&&(I[L++]=N[P]);D.push(I)}return w(D)}l=M;function d(A){for(var v=[],D=0,E=A.length;D<E;++D)for(var R=A[D],N=0,F=R.length;N<F;++N){for(var I=new Array(R.length-1),L=0,P=0;L<F;++L)L!==N&&(I[P++]=R[L]);v.push(I)}return w(v)}l=d;function x(A,v){for(var D=new s(v),E=0;E<A.length;++E)for(var R=A[E],N=0;N<R.length;++N)for(var F=N+1;F<R.length;++F)D.link(R[N],R[F]);for(var I=[],L=D.ranks,E=0;E<L.length;++E)L[E]=-1;for(var E=0;E<A.length;++E){var P=D.find(A[E][0]);L[P]<0?(L[P]=I.length,I.push([A[E].slice(0)])):I[L[P]].push(A[E].slice(0))}return I}function g(A){for(var v=T(w(M(A,0))),D=new s(v.length),E=0;E<A.length;++E)for(var R=A[E],N=0;N<R.length;++N)for(var F=y(v,[R[N]]),I=N+1;I<R.length;++I)D.link(F,y(v,[R[I]]));for(var L=[],P=D.ranks,E=0;E<P.length;++E)P[E]=-1;for(var E=0;E<A.length;++E){var O=D.find(y(v,[A[E][0]]));P[O]<0?(P[O]=L.length,L.push([A[E].slice(0)])):L[P[O]].push(A[E].slice(0))}return L}function c(A,v){return v?x(A,v):g(A)}l=c},6808:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3];return Math.sqrt(l*l+u*u+s*s+f*f)}},6843:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]-u[0],i[1]=l[1]-u[1],i[2]=l[2]-u[2],i}},6852:function(a){a.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},6859:function(a,o,i){a=i.nmd(a),function(l,u){"use strict";function s(I,L){if(!I)throw new Error(L||"Assertion failed")}function f(I,L){I.super_=L;var P=function(){};P.prototype=L.prototype,I.prototype=new P,I.prototype.constructor=I}function h(I,L,P){if(h.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((L==="le"||L==="be")&&(P=L,L=10),this._init(I||0,L||10,P||"be"))}typeof l=="object"?l.exports=h:u.BN=h,h.BN=h,h.wordSize=26;var p;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?p=window.Buffer:p=i(7790).Buffer}catch(I){}h.isBN=function(L){return L instanceof h?!0:L!==null&&typeof L=="object"&&L.constructor.wordSize===h.wordSize&&Array.isArray(L.words)},h.max=function(L,P){return L.cmp(P)>0?L:P},h.min=function(L,P){return L.cmp(P)<0?L:P},h.prototype._init=function(L,P,O){if(typeof L=="number")return this._initNumber(L,P,O);if(typeof L=="object")return this._initArray(L,P,O);P==="hex"&&(P=16),s(P===(P|0)&&P>=2&&P<=36),L=L.toString().replace(/\s+/g,"");var U=0;L[0]==="-"&&(U++,this.negative=1),U<L.length&&(P===16?this._parseHex(L,U,O):(this._parseBase(L,P,U),O==="le"&&this._initArray(this.toArray(),P,O)))},h.prototype._initNumber=function(L,P,O){L<0&&(this.negative=1,L=-L),L<67108864?(this.words=[L&67108863],this.length=1):L<4503599627370496?(this.words=[L&67108863,L/67108864&67108863],this.length=2):(s(L<9007199254740992),this.words=[L&67108863,L/67108864&67108863,1],this.length=3),O==="le"&&this._initArray(this.toArray(),P,O)},h.prototype._initArray=function(L,P,O){if(s(typeof L.length=="number"),L.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(L.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var X,$,j=0;if(O==="be")for(U=L.length-1,X=0;U>=0;U-=3)$=L[U]|L[U-1]<<8|L[U-2]<<16,this.words[X]|=$<<j&67108863,this.words[X+1]=$>>>26-j&67108863,j+=24,j>=26&&(j-=26,X++);else if(O==="le")for(U=0,X=0;U<L.length;U+=3)$=L[U]|L[U+1]<<8|L[U+2]<<16,this.words[X]|=$<<j&67108863,this.words[X+1]=$>>>26-j&67108863,j+=24,j>=26&&(j-=26,X++);return this.strip()};function _(I,L){var P=I.charCodeAt(L);return P>=65&&P<=70?P-55:P>=97&&P<=102?P-87:P-48&15}function m(I,L,P){var O=_(I,P);return P-1>=L&&(O|=_(I,P-1)<<4),O}h.prototype._parseHex=function(L,P,O){this.length=Math.ceil((L.length-P)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var X=0,$=0,j;if(O==="be")for(U=L.length-1;U>=P;U-=2)j=m(L,P,U)<<X,this.words[$]|=j&67108863,X>=18?(X-=18,$+=1,this.words[$]|=j>>>26):X+=8;else{var Y=L.length-P;for(U=Y%2===0?P+1:P;U<L.length;U+=2)j=m(L,P,U)<<X,this.words[$]|=j&67108863,X>=18?(X-=18,$+=1,this.words[$]|=j>>>26):X+=8}this.strip()};function w(I,L,P,O){for(var U=0,X=Math.min(I.length,P),$=L;$<X;$++){var j=I.charCodeAt($)-48;U*=O,j>=49?U+=j-49+10:j>=17?U+=j-17+10:U+=j}return U}h.prototype._parseBase=function(L,P,O){this.words=[0],this.length=1;for(var U=0,X=1;X<=67108863;X*=P)U++;U--,X=X/P|0;for(var $=L.length-O,j=$%U,Y=Math.min($,$-j)+O,q=0,K=O;K<Y;K+=U)q=w(L,K,K+U,P),this.imuln(X),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(j!==0){var ne=1;for(q=w(L,K,L.length,P),K=0;K<j;K++)ne*=P;this.imuln(ne),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this.strip()},h.prototype.copy=function(L){L.words=new Array(this.length);for(var P=0;P<this.length;P++)L.words[P]=this.words[P];L.length=this.length,L.negative=this.negative,L.red=this.red},h.prototype.clone=function(){var L=new h(null);return this.copy(L),L},h.prototype._expand=function(L){for(;this.length<L;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(L,P){L=L||10,P=P|0||1;var O;if(L===16||L==="hex"){O="";for(var U=0,X=0,$=0;$<this.length;$++){var j=this.words[$],Y=((j<<U|X)&16777215).toString(16);X=j>>>24-U&16777215,X!==0||$!==this.length-1?O=T[6-Y.length]+Y+O:O=Y+O,U+=2,U>=26&&(U-=26,$--)}for(X!==0&&(O=X.toString(16)+O);O.length%P!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}if(L===(L|0)&&L>=2&&L<=36){var q=y[L],K=k[L];O="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var Q=ne.modn(K).toString(L);ne=ne.idivn(K),ne.isZero()?O=Q+O:O=T[q-Q.length]+Q+O}for(this.isZero()&&(O="0"+O);O.length%P!==0;)O="0"+O;return this.negative!==0&&(O="-"+O),O}s(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var L=this.words[0];return this.length===2?L+=this.words[1]*67108864:this.length===3&&this.words[2]===1?L+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-L:L},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(L,P){return s(typeof p!="undefined"),this.toArrayLike(p,L,P)},h.prototype.toArray=function(L,P){return this.toArrayLike(Array,L,P)},h.prototype.toArrayLike=function(L,P,O){var U=this.byteLength(),X=O||Math.max(1,U);s(U<=X,"byte array longer than desired length"),s(X>0,"Requested array length <= 0"),this.strip();var $=P==="le",j=new L(X),Y,q,K=this.clone();if($){for(q=0;!K.isZero();q++)Y=K.andln(255),K.iushrn(8),j[q]=Y;for(;q<X;q++)j[q]=0}else{for(q=0;q<X-U;q++)j[q]=0;for(q=0;!K.isZero();q++)Y=K.andln(255),K.iushrn(8),j[X-q-1]=Y}return j},Math.clz32?h.prototype._countBits=function(L){return 32-Math.clz32(L)}:h.prototype._countBits=function(L){var P=L,O=0;return P>=4096&&(O+=13,P>>>=13),P>=64&&(O+=7,P>>>=7),P>=8&&(O+=4,P>>>=4),P>=2&&(O+=2,P>>>=2),O+P},h.prototype._zeroBits=function(L){if(L===0)return 26;var P=L,O=0;return(P&8191)===0&&(O+=13,P>>>=13),(P&127)===0&&(O+=7,P>>>=7),(P&15)===0&&(O+=4,P>>>=4),(P&3)===0&&(O+=2,P>>>=2),(P&1)===0&&O++,O},h.prototype.bitLength=function(){var L=this.words[this.length-1],P=this._countBits(L);return(this.length-1)*26+P};function S(I){for(var L=new Array(I.bitLength()),P=0;P<L.length;P++){var O=P/26|0,U=P%26;L[P]=(I.words[O]&1<<U)>>>U}return L}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var L=0,P=0;P<this.length;P++){var O=this._zeroBits(this.words[P]);if(L+=O,O!==26)break}return L},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(L){return this.negative!==0?this.abs().inotn(L).iaddn(1):this.clone()},h.prototype.fromTwos=function(L){return this.testn(L-1)?this.notn(L).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(L){for(;this.length<L.length;)this.words[this.length++]=0;for(var P=0;P<L.length;P++)this.words[P]=this.words[P]|L.words[P];return this.strip()},h.prototype.ior=function(L){return s((this.negative|L.negative)===0),this.iuor(L)},h.prototype.or=function(L){return this.length>L.length?this.clone().ior(L):L.clone().ior(this)},h.prototype.uor=function(L){return this.length>L.length?this.clone().iuor(L):L.clone().iuor(this)},h.prototype.iuand=function(L){var P;this.length>L.length?P=L:P=this;for(var O=0;O<P.length;O++)this.words[O]=this.words[O]&L.words[O];return this.length=P.length,this.strip()},h.prototype.iand=function(L){return s((this.negative|L.negative)===0),this.iuand(L)},h.prototype.and=function(L){return this.length>L.length?this.clone().iand(L):L.clone().iand(this)},h.prototype.uand=function(L){return this.length>L.length?this.clone().iuand(L):L.clone().iuand(this)},h.prototype.iuxor=function(L){var P,O;this.length>L.length?(P=this,O=L):(P=L,O=this);for(var U=0;U<O.length;U++)this.words[U]=P.words[U]^O.words[U];if(this!==P)for(;U<P.length;U++)this.words[U]=P.words[U];return this.length=P.length,this.strip()},h.prototype.ixor=function(L){return s((this.negative|L.negative)===0),this.iuxor(L)},h.prototype.xor=function(L){return this.length>L.length?this.clone().ixor(L):L.clone().ixor(this)},h.prototype.uxor=function(L){return this.length>L.length?this.clone().iuxor(L):L.clone().iuxor(this)},h.prototype.inotn=function(L){s(typeof L=="number"&&L>=0);var P=Math.ceil(L/26)|0,O=L%26;this._expand(P),O>0&&P--;for(var U=0;U<P;U++)this.words[U]=~this.words[U]&67108863;return O>0&&(this.words[U]=~this.words[U]&67108863>>26-O),this.strip()},h.prototype.notn=function(L){return this.clone().inotn(L)},h.prototype.setn=function(L,P){s(typeof L=="number"&&L>=0);var O=L/26|0,U=L%26;return this._expand(O+1),P?this.words[O]=this.words[O]|1<<U:this.words[O]=this.words[O]&~(1<<U),this.strip()},h.prototype.iadd=function(L){var P;if(this.negative!==0&&L.negative===0)return this.negative=0,P=this.isub(L),this.negative^=1,this._normSign();if(this.negative===0&&L.negative!==0)return L.negative=0,P=this.isub(L),L.negative=1,P._normSign();var O,U;this.length>L.length?(O=this,U=L):(O=L,U=this);for(var X=0,$=0;$<U.length;$++)P=(O.words[$]|0)+(U.words[$]|0)+X,this.words[$]=P&67108863,X=P>>>26;for(;X!==0&&$<O.length;$++)P=(O.words[$]|0)+X,this.words[$]=P&67108863,X=P>>>26;if(this.length=O.length,X!==0)this.words[this.length]=X,this.length++;else if(O!==this)for(;$<O.length;$++)this.words[$]=O.words[$];return this},h.prototype.add=function(L){var P;return L.negative!==0&&this.negative===0?(L.negative=0,P=this.sub(L),L.negative^=1,P):L.negative===0&&this.negative!==0?(this.negative=0,P=L.sub(this),this.negative=1,P):this.length>L.length?this.clone().iadd(L):L.clone().iadd(this)},h.prototype.isub=function(L){if(L.negative!==0){L.negative=0;var P=this.iadd(L);return L.negative=1,P._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(L),this.negative=1,this._normSign();var O=this.cmp(L);if(O===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,X;O>0?(U=this,X=L):(U=L,X=this);for(var $=0,j=0;j<X.length;j++)P=(U.words[j]|0)-(X.words[j]|0)+$,$=P>>26,this.words[j]=P&67108863;for(;$!==0&&j<U.length;j++)P=(U.words[j]|0)+$,$=P>>26,this.words[j]=P&67108863;if($===0&&j<U.length&&U!==this)for(;j<U.length;j++)this.words[j]=U.words[j];return this.length=Math.max(this.length,j),U!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(L){return this.clone().isub(L)};function b(I,L,P){P.negative=L.negative^I.negative;var O=I.length+L.length|0;P.length=O,O=O-1|0;var U=I.words[0]|0,X=L.words[0]|0,$=U*X,j=$&67108863,Y=$/67108864|0;P.words[0]=j;for(var q=1;q<O;q++){for(var K=Y>>>26,ne=Y&67108863,Q=Math.min(q,L.length-1),oe=Math.max(0,q-I.length+1);oe<=Q;oe++){var re=q-oe|0;U=I.words[re]|0,X=L.words[oe]|0,$=U*X+ne,K+=$/67108864|0,ne=$&67108863}P.words[q]=ne|0,Y=K|0}return Y!==0?P.words[q]=Y|0:P.length--,P.strip()}var M=function(L,P,O){var U=L.words,X=P.words,$=O.words,j=0,Y,q,K,ne=U[0]|0,Q=ne&8191,oe=ne>>>13,re=U[1]|0,H=re&8191,ee=re>>>13,V=U[2]|0,te=V&8191,ue=V>>>13,ve=U[3]|0,ke=ve&8191,Se=ve>>>13,he=U[4]|0,Ae=he&8191,Ce=he>>>13,Pe=U[5]|0,Ee=Pe&8191,Ne=Pe>>>13,Ue=U[6]|0,ge=Ue&8191,we=Ue>>>13,Te=U[7]|0,me=Te&8191,ye=Te>>>13,pe=U[8]|0,ce=pe&8191,be=pe>>>13,Le=U[9]|0,qe=Le&8191,ze=Le>>>13,$e=X[0]|0,Ve=$e&8191,Be=$e>>>13,Ye=X[1]|0,Me=Ye&8191,Re=Ye>>>13,Qe=X[2]|0,Ke=Qe&8191,ar=Qe>>>13,se=X[3]|0,J=se&8191,ae=se>>>13,De=X[4]|0,He=De&8191,er=De>>>13,nr=X[5]|0,fr=nr&8191,xr=nr>>>13,Sr=X[6]|0,Mr=Sr&8191,Ar=Sr>>>13,ft=X[7]|0,sr=ft&8191,Pr=ft>>>13,$r=X[8]|0,Fr=$r&8191,Gr=$r>>>13,pt=X[9]|0,Rr=pt&8191,jr=pt>>>13;O.negative=L.negative^P.negative,O.length=19,Y=Math.imul(Q,Ve),q=Math.imul(Q,Be),q=q+Math.imul(oe,Ve)|0,K=Math.imul(oe,Be);var hn=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(hn>>>26)|0,hn&=67108863,Y=Math.imul(H,Ve),q=Math.imul(H,Be),q=q+Math.imul(ee,Ve)|0,K=Math.imul(ee,Be),Y=Y+Math.imul(Q,Me)|0,q=q+Math.imul(Q,Re)|0,q=q+Math.imul(oe,Me)|0,K=K+Math.imul(oe,Re)|0;var Et=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(Et>>>26)|0,Et&=67108863,Y=Math.imul(te,Ve),q=Math.imul(te,Be),q=q+Math.imul(ue,Ve)|0,K=Math.imul(ue,Be),Y=Y+Math.imul(H,Me)|0,q=q+Math.imul(H,Re)|0,q=q+Math.imul(ee,Me)|0,K=K+Math.imul(ee,Re)|0,Y=Y+Math.imul(Q,Ke)|0,q=q+Math.imul(Q,ar)|0,q=q+Math.imul(oe,Ke)|0,K=K+Math.imul(oe,ar)|0;var Tn=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,Y=Math.imul(ke,Ve),q=Math.imul(ke,Be),q=q+Math.imul(Se,Ve)|0,K=Math.imul(Se,Be),Y=Y+Math.imul(te,Me)|0,q=q+Math.imul(te,Re)|0,q=q+Math.imul(ue,Me)|0,K=K+Math.imul(ue,Re)|0,Y=Y+Math.imul(H,Ke)|0,q=q+Math.imul(H,ar)|0,q=q+Math.imul(ee,Ke)|0,K=K+Math.imul(ee,ar)|0,Y=Y+Math.imul(Q,J)|0,q=q+Math.imul(Q,ae)|0,q=q+Math.imul(oe,J)|0,K=K+Math.imul(oe,ae)|0;var Ot=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,Y=Math.imul(Ae,Ve),q=Math.imul(Ae,Be),q=q+Math.imul(Ce,Ve)|0,K=Math.imul(Ce,Be),Y=Y+Math.imul(ke,Me)|0,q=q+Math.imul(ke,Re)|0,q=q+Math.imul(Se,Me)|0,K=K+Math.imul(Se,Re)|0,Y=Y+Math.imul(te,Ke)|0,q=q+Math.imul(te,ar)|0,q=q+Math.imul(ue,Ke)|0,K=K+Math.imul(ue,ar)|0,Y=Y+Math.imul(H,J)|0,q=q+Math.imul(H,ae)|0,q=q+Math.imul(ee,J)|0,K=K+Math.imul(ee,ae)|0,Y=Y+Math.imul(Q,He)|0,q=q+Math.imul(Q,er)|0,q=q+Math.imul(oe,He)|0,K=K+Math.imul(oe,er)|0;var xt=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(xt>>>26)|0,xt&=67108863,Y=Math.imul(Ee,Ve),q=Math.imul(Ee,Be),q=q+Math.imul(Ne,Ve)|0,K=Math.imul(Ne,Be),Y=Y+Math.imul(Ae,Me)|0,q=q+Math.imul(Ae,Re)|0,q=q+Math.imul(Ce,Me)|0,K=K+Math.imul(Ce,Re)|0,Y=Y+Math.imul(ke,Ke)|0,q=q+Math.imul(ke,ar)|0,q=q+Math.imul(Se,Ke)|0,K=K+Math.imul(Se,ar)|0,Y=Y+Math.imul(te,J)|0,q=q+Math.imul(te,ae)|0,q=q+Math.imul(ue,J)|0,K=K+Math.imul(ue,ae)|0,Y=Y+Math.imul(H,He)|0,q=q+Math.imul(H,er)|0,q=q+Math.imul(ee,He)|0,K=K+Math.imul(ee,er)|0,Y=Y+Math.imul(Q,fr)|0,q=q+Math.imul(Q,xr)|0,q=q+Math.imul(oe,fr)|0,K=K+Math.imul(oe,xr)|0;var gt=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(gt>>>26)|0,gt&=67108863,Y=Math.imul(ge,Ve),q=Math.imul(ge,Be),q=q+Math.imul(we,Ve)|0,K=Math.imul(we,Be),Y=Y+Math.imul(Ee,Me)|0,q=q+Math.imul(Ee,Re)|0,q=q+Math.imul(Ne,Me)|0,K=K+Math.imul(Ne,Re)|0,Y=Y+Math.imul(Ae,Ke)|0,q=q+Math.imul(Ae,ar)|0,q=q+Math.imul(Ce,Ke)|0,K=K+Math.imul(Ce,ar)|0,Y=Y+Math.imul(ke,J)|0,q=q+Math.imul(ke,ae)|0,q=q+Math.imul(Se,J)|0,K=K+Math.imul(Se,ae)|0,Y=Y+Math.imul(te,He)|0,q=q+Math.imul(te,er)|0,q=q+Math.imul(ue,He)|0,K=K+Math.imul(ue,er)|0,Y=Y+Math.imul(H,fr)|0,q=q+Math.imul(H,xr)|0,q=q+Math.imul(ee,fr)|0,K=K+Math.imul(ee,xr)|0,Y=Y+Math.imul(Q,Mr)|0,q=q+Math.imul(Q,Ar)|0,q=q+Math.imul(oe,Mr)|0,K=K+Math.imul(oe,Ar)|0;var Ft=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,Y=Math.imul(me,Ve),q=Math.imul(me,Be),q=q+Math.imul(ye,Ve)|0,K=Math.imul(ye,Be),Y=Y+Math.imul(ge,Me)|0,q=q+Math.imul(ge,Re)|0,q=q+Math.imul(we,Me)|0,K=K+Math.imul(we,Re)|0,Y=Y+Math.imul(Ee,Ke)|0,q=q+Math.imul(Ee,ar)|0,q=q+Math.imul(Ne,Ke)|0,K=K+Math.imul(Ne,ar)|0,Y=Y+Math.imul(Ae,J)|0,q=q+Math.imul(Ae,ae)|0,q=q+Math.imul(Ce,J)|0,K=K+Math.imul(Ce,ae)|0,Y=Y+Math.imul(ke,He)|0,q=q+Math.imul(ke,er)|0,q=q+Math.imul(Se,He)|0,K=K+Math.imul(Se,er)|0,Y=Y+Math.imul(te,fr)|0,q=q+Math.imul(te,xr)|0,q=q+Math.imul(ue,fr)|0,K=K+Math.imul(ue,xr)|0,Y=Y+Math.imul(H,Mr)|0,q=q+Math.imul(H,Ar)|0,q=q+Math.imul(ee,Mr)|0,K=K+Math.imul(ee,Ar)|0,Y=Y+Math.imul(Q,sr)|0,q=q+Math.imul(Q,Pr)|0,q=q+Math.imul(oe,sr)|0,K=K+Math.imul(oe,Pr)|0;var ha=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(ha>>>26)|0,ha&=67108863,Y=Math.imul(ce,Ve),q=Math.imul(ce,Be),q=q+Math.imul(be,Ve)|0,K=Math.imul(be,Be),Y=Y+Math.imul(me,Me)|0,q=q+Math.imul(me,Re)|0,q=q+Math.imul(ye,Me)|0,K=K+Math.imul(ye,Re)|0,Y=Y+Math.imul(ge,Ke)|0,q=q+Math.imul(ge,ar)|0,q=q+Math.imul(we,Ke)|0,K=K+Math.imul(we,ar)|0,Y=Y+Math.imul(Ee,J)|0,q=q+Math.imul(Ee,ae)|0,q=q+Math.imul(Ne,J)|0,K=K+Math.imul(Ne,ae)|0,Y=Y+Math.imul(Ae,He)|0,q=q+Math.imul(Ae,er)|0,q=q+Math.imul(Ce,He)|0,K=K+Math.imul(Ce,er)|0,Y=Y+Math.imul(ke,fr)|0,q=q+Math.imul(ke,xr)|0,q=q+Math.imul(Se,fr)|0,K=K+Math.imul(Se,xr)|0,Y=Y+Math.imul(te,Mr)|0,q=q+Math.imul(te,Ar)|0,q=q+Math.imul(ue,Mr)|0,K=K+Math.imul(ue,Ar)|0,Y=Y+Math.imul(H,sr)|0,q=q+Math.imul(H,Pr)|0,q=q+Math.imul(ee,sr)|0,K=K+Math.imul(ee,Pr)|0,Y=Y+Math.imul(Q,Fr)|0,q=q+Math.imul(Q,Gr)|0,q=q+Math.imul(oe,Fr)|0,K=K+Math.imul(oe,Gr)|0;var Qn=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,Y=Math.imul(qe,Ve),q=Math.imul(qe,Be),q=q+Math.imul(ze,Ve)|0,K=Math.imul(ze,Be),Y=Y+Math.imul(ce,Me)|0,q=q+Math.imul(ce,Re)|0,q=q+Math.imul(be,Me)|0,K=K+Math.imul(be,Re)|0,Y=Y+Math.imul(me,Ke)|0,q=q+Math.imul(me,ar)|0,q=q+Math.imul(ye,Ke)|0,K=K+Math.imul(ye,ar)|0,Y=Y+Math.imul(ge,J)|0,q=q+Math.imul(ge,ae)|0,q=q+Math.imul(we,J)|0,K=K+Math.imul(we,ae)|0,Y=Y+Math.imul(Ee,He)|0,q=q+Math.imul(Ee,er)|0,q=q+Math.imul(Ne,He)|0,K=K+Math.imul(Ne,er)|0,Y=Y+Math.imul(Ae,fr)|0,q=q+Math.imul(Ae,xr)|0,q=q+Math.imul(Ce,fr)|0,K=K+Math.imul(Ce,xr)|0,Y=Y+Math.imul(ke,Mr)|0,q=q+Math.imul(ke,Ar)|0,q=q+Math.imul(Se,Mr)|0,K=K+Math.imul(Se,Ar)|0,Y=Y+Math.imul(te,sr)|0,q=q+Math.imul(te,Pr)|0,q=q+Math.imul(ue,sr)|0,K=K+Math.imul(ue,Pr)|0,Y=Y+Math.imul(H,Fr)|0,q=q+Math.imul(H,Gr)|0,q=q+Math.imul(ee,Fr)|0,K=K+Math.imul(ee,Gr)|0,Y=Y+Math.imul(Q,Rr)|0,q=q+Math.imul(Q,jr)|0,q=q+Math.imul(oe,Rr)|0,K=K+Math.imul(oe,jr)|0;var In=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(In>>>26)|0,In&=67108863,Y=Math.imul(qe,Me),q=Math.imul(qe,Re),q=q+Math.imul(ze,Me)|0,K=Math.imul(ze,Re),Y=Y+Math.imul(ce,Ke)|0,q=q+Math.imul(ce,ar)|0,q=q+Math.imul(be,Ke)|0,K=K+Math.imul(be,ar)|0,Y=Y+Math.imul(me,J)|0,q=q+Math.imul(me,ae)|0,q=q+Math.imul(ye,J)|0,K=K+Math.imul(ye,ae)|0,Y=Y+Math.imul(ge,He)|0,q=q+Math.imul(ge,er)|0,q=q+Math.imul(we,He)|0,K=K+Math.imul(we,er)|0,Y=Y+Math.imul(Ee,fr)|0,q=q+Math.imul(Ee,xr)|0,q=q+Math.imul(Ne,fr)|0,K=K+Math.imul(Ne,xr)|0,Y=Y+Math.imul(Ae,Mr)|0,q=q+Math.imul(Ae,Ar)|0,q=q+Math.imul(Ce,Mr)|0,K=K+Math.imul(Ce,Ar)|0,Y=Y+Math.imul(ke,sr)|0,q=q+Math.imul(ke,Pr)|0,q=q+Math.imul(Se,sr)|0,K=K+Math.imul(Se,Pr)|0,Y=Y+Math.imul(te,Fr)|0,q=q+Math.imul(te,Gr)|0,q=q+Math.imul(ue,Fr)|0,K=K+Math.imul(ue,Gr)|0,Y=Y+Math.imul(H,Rr)|0,q=q+Math.imul(H,jr)|0,q=q+Math.imul(ee,Rr)|0,K=K+Math.imul(ee,jr)|0;var wa=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(wa>>>26)|0,wa&=67108863,Y=Math.imul(qe,Ke),q=Math.imul(qe,ar),q=q+Math.imul(ze,Ke)|0,K=Math.imul(ze,ar),Y=Y+Math.imul(ce,J)|0,q=q+Math.imul(ce,ae)|0,q=q+Math.imul(be,J)|0,K=K+Math.imul(be,ae)|0,Y=Y+Math.imul(me,He)|0,q=q+Math.imul(me,er)|0,q=q+Math.imul(ye,He)|0,K=K+Math.imul(ye,er)|0,Y=Y+Math.imul(ge,fr)|0,q=q+Math.imul(ge,xr)|0,q=q+Math.imul(we,fr)|0,K=K+Math.imul(we,xr)|0,Y=Y+Math.imul(Ee,Mr)|0,q=q+Math.imul(Ee,Ar)|0,q=q+Math.imul(Ne,Mr)|0,K=K+Math.imul(Ne,Ar)|0,Y=Y+Math.imul(Ae,sr)|0,q=q+Math.imul(Ae,Pr)|0,q=q+Math.imul(Ce,sr)|0,K=K+Math.imul(Ce,Pr)|0,Y=Y+Math.imul(ke,Fr)|0,q=q+Math.imul(ke,Gr)|0,q=q+Math.imul(Se,Fr)|0,K=K+Math.imul(Se,Gr)|0,Y=Y+Math.imul(te,Rr)|0,q=q+Math.imul(te,jr)|0,q=q+Math.imul(ue,Rr)|0,K=K+Math.imul(ue,jr)|0;var bi=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(bi>>>26)|0,bi&=67108863,Y=Math.imul(qe,J),q=Math.imul(qe,ae),q=q+Math.imul(ze,J)|0,K=Math.imul(ze,ae),Y=Y+Math.imul(ce,He)|0,q=q+Math.imul(ce,er)|0,q=q+Math.imul(be,He)|0,K=K+Math.imul(be,er)|0,Y=Y+Math.imul(me,fr)|0,q=q+Math.imul(me,xr)|0,q=q+Math.imul(ye,fr)|0,K=K+Math.imul(ye,xr)|0,Y=Y+Math.imul(ge,Mr)|0,q=q+Math.imul(ge,Ar)|0,q=q+Math.imul(we,Mr)|0,K=K+Math.imul(we,Ar)|0,Y=Y+Math.imul(Ee,sr)|0,q=q+Math.imul(Ee,Pr)|0,q=q+Math.imul(Ne,sr)|0,K=K+Math.imul(Ne,Pr)|0,Y=Y+Math.imul(Ae,Fr)|0,q=q+Math.imul(Ae,Gr)|0,q=q+Math.imul(Ce,Fr)|0,K=K+Math.imul(Ce,Gr)|0,Y=Y+Math.imul(ke,Rr)|0,q=q+Math.imul(ke,jr)|0,q=q+Math.imul(Se,Rr)|0,K=K+Math.imul(Se,jr)|0;var Gi=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,Y=Math.imul(qe,He),q=Math.imul(qe,er),q=q+Math.imul(ze,He)|0,K=Math.imul(ze,er),Y=Y+Math.imul(ce,fr)|0,q=q+Math.imul(ce,xr)|0,q=q+Math.imul(be,fr)|0,K=K+Math.imul(be,xr)|0,Y=Y+Math.imul(me,Mr)|0,q=q+Math.imul(me,Ar)|0,q=q+Math.imul(ye,Mr)|0,K=K+Math.imul(ye,Ar)|0,Y=Y+Math.imul(ge,sr)|0,q=q+Math.imul(ge,Pr)|0,q=q+Math.imul(we,sr)|0,K=K+Math.imul(we,Pr)|0,Y=Y+Math.imul(Ee,Fr)|0,q=q+Math.imul(Ee,Gr)|0,q=q+Math.imul(Ne,Fr)|0,K=K+Math.imul(Ne,Gr)|0,Y=Y+Math.imul(Ae,Rr)|0,q=q+Math.imul(Ae,jr)|0,q=q+Math.imul(Ce,Rr)|0,K=K+Math.imul(Ce,jr)|0;var Yi=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,Y=Math.imul(qe,fr),q=Math.imul(qe,xr),q=q+Math.imul(ze,fr)|0,K=Math.imul(ze,xr),Y=Y+Math.imul(ce,Mr)|0,q=q+Math.imul(ce,Ar)|0,q=q+Math.imul(be,Mr)|0,K=K+Math.imul(be,Ar)|0,Y=Y+Math.imul(me,sr)|0,q=q+Math.imul(me,Pr)|0,q=q+Math.imul(ye,sr)|0,K=K+Math.imul(ye,Pr)|0,Y=Y+Math.imul(ge,Fr)|0,q=q+Math.imul(ge,Gr)|0,q=q+Math.imul(we,Fr)|0,K=K+Math.imul(we,Gr)|0,Y=Y+Math.imul(Ee,Rr)|0,q=q+Math.imul(Ee,jr)|0,q=q+Math.imul(Ne,Rr)|0,K=K+Math.imul(Ne,jr)|0;var Wi=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,Y=Math.imul(qe,Mr),q=Math.imul(qe,Ar),q=q+Math.imul(ze,Mr)|0,K=Math.imul(ze,Ar),Y=Y+Math.imul(ce,sr)|0,q=q+Math.imul(ce,Pr)|0,q=q+Math.imul(be,sr)|0,K=K+Math.imul(be,Pr)|0,Y=Y+Math.imul(me,Fr)|0,q=q+Math.imul(me,Gr)|0,q=q+Math.imul(ye,Fr)|0,K=K+Math.imul(ye,Gr)|0,Y=Y+Math.imul(ge,Rr)|0,q=q+Math.imul(ge,jr)|0,q=q+Math.imul(we,Rr)|0,K=K+Math.imul(we,jr)|0;var tn=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(tn>>>26)|0,tn&=67108863,Y=Math.imul(qe,sr),q=Math.imul(qe,Pr),q=q+Math.imul(ze,sr)|0,K=Math.imul(ze,Pr),Y=Y+Math.imul(ce,Fr)|0,q=q+Math.imul(ce,Gr)|0,q=q+Math.imul(be,Fr)|0,K=K+Math.imul(be,Gr)|0,Y=Y+Math.imul(me,Rr)|0,q=q+Math.imul(me,jr)|0,q=q+Math.imul(ye,Rr)|0,K=K+Math.imul(ye,jr)|0;var bo=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(bo>>>26)|0,bo&=67108863,Y=Math.imul(qe,Fr),q=Math.imul(qe,Gr),q=q+Math.imul(ze,Fr)|0,K=Math.imul(ze,Gr),Y=Y+Math.imul(ce,Rr)|0,q=q+Math.imul(ce,jr)|0,q=q+Math.imul(be,Rr)|0,K=K+Math.imul(be,jr)|0;var xi=(j+Y|0)+((q&8191)<<13)|0;j=(K+(q>>>13)|0)+(xi>>>26)|0,xi&=67108863,Y=Math.imul(qe,Rr),q=Math.imul(qe,jr),q=q+Math.imul(ze,Rr)|0,K=Math.imul(ze,jr);var _i=(j+Y|0)+((q&8191)<<13)|0;return j=(K+(q>>>13)|0)+(_i>>>26)|0,_i&=67108863,$[0]=hn,$[1]=Et,$[2]=Tn,$[3]=Ot,$[4]=xt,$[5]=gt,$[6]=Ft,$[7]=ha,$[8]=Qn,$[9]=In,$[10]=wa,$[11]=bi,$[12]=Gi,$[13]=Yi,$[14]=Wi,$[15]=tn,$[16]=bo,$[17]=xi,$[18]=_i,j!==0&&($[19]=j,O.length++),O};Math.imul||(M=b);function d(I,L,P){P.negative=L.negative^I.negative,P.length=I.length+L.length;for(var O=0,U=0,X=0;X<P.length-1;X++){var $=U;U=0;for(var j=O&67108863,Y=Math.min(X,L.length-1),q=Math.max(0,X-I.length+1);q<=Y;q++){var K=X-q,ne=I.words[K]|0,Q=L.words[q]|0,oe=ne*Q,re=oe&67108863;$=$+(oe/67108864|0)|0,re=re+j|0,j=re&67108863,$=$+(re>>>26)|0,U+=$>>>26,$&=67108863}P.words[X]=j,O=$,$=U}return O!==0?P.words[X]=O:P.length--,P.strip()}function x(I,L,P){var O=new g;return O.mulp(I,L,P)}h.prototype.mulTo=function(L,P){var O,U=this.length+L.length;return this.length===10&&L.length===10?O=M(this,L,P):U<63?O=b(this,L,P):U<1024?O=d(this,L,P):O=x(this,L,P),O};function g(I,L){this.x=I,this.y=L}g.prototype.makeRBT=function(L){for(var P=new Array(L),O=h.prototype._countBits(L)-1,U=0;U<L;U++)P[U]=this.revBin(U,O,L);return P},g.prototype.revBin=function(L,P,O){if(L===0||L===O-1)return L;for(var U=0,X=0;X<P;X++)U|=(L&1)<<P-X-1,L>>=1;return U},g.prototype.permute=function(L,P,O,U,X,$){for(var j=0;j<$;j++)U[j]=P[L[j]],X[j]=O[L[j]]},g.prototype.transform=function(L,P,O,U,X,$){this.permute($,L,P,O,U,X);for(var j=1;j<X;j<<=1)for(var Y=j<<1,q=Math.cos(2*Math.PI/Y),K=Math.sin(2*Math.PI/Y),ne=0;ne<X;ne+=Y)for(var Q=q,oe=K,re=0;re<j;re++){var H=O[ne+re],ee=U[ne+re],V=O[ne+re+j],te=U[ne+re+j],ue=Q*V-oe*te;te=Q*te+oe*V,V=ue,O[ne+re]=H+V,U[ne+re]=ee+te,O[ne+re+j]=H-V,U[ne+re+j]=ee-te,re!==Y&&(ue=q*Q-K*oe,oe=q*oe+K*Q,Q=ue)}},g.prototype.guessLen13b=function(L,P){var O=Math.max(P,L)|1,U=O&1,X=0;for(O=O/2|0;O;O=O>>>1)X++;return 1<<X+1+U},g.prototype.conjugate=function(L,P,O){if(!(O<=1))for(var U=0;U<O/2;U++){var X=L[U];L[U]=L[O-U-1],L[O-U-1]=X,X=P[U],P[U]=-P[O-U-1],P[O-U-1]=-X}},g.prototype.normalize13b=function(L,P){for(var O=0,U=0;U<P/2;U++){var X=Math.round(L[2*U+1]/P)*8192+Math.round(L[2*U]/P)+O;L[U]=X&67108863,X<67108864?O=0:O=X/67108864|0}return L},g.prototype.convert13b=function(L,P,O,U){for(var X=0,$=0;$<P;$++)X=X+(L[$]|0),O[2*$]=X&8191,X=X>>>13,O[2*$+1]=X&8191,X=X>>>13;for($=2*P;$<U;++$)O[$]=0;s(X===0),s((X&-8192)===0)},g.prototype.stub=function(L){for(var P=new Array(L),O=0;O<L;O++)P[O]=0;return P},g.prototype.mulp=function(L,P,O){var U=2*this.guessLen13b(L.length,P.length),X=this.makeRBT(U),$=this.stub(U),j=new Array(U),Y=new Array(U),q=new Array(U),K=new Array(U),ne=new Array(U),Q=new Array(U),oe=O.words;oe.length=U,this.convert13b(L.words,L.length,j,U),this.convert13b(P.words,P.length,K,U),this.transform(j,$,Y,q,U,X),this.transform(K,$,ne,Q,U,X);for(var re=0;re<U;re++){var H=Y[re]*ne[re]-q[re]*Q[re];q[re]=Y[re]*Q[re]+q[re]*ne[re],Y[re]=H}return this.conjugate(Y,q,U),this.transform(Y,q,oe,$,U,X),this.conjugate(oe,$,U),this.normalize13b(oe,U),O.negative=L.negative^P.negative,O.length=L.length+P.length,O.strip()},h.prototype.mul=function(L){var P=new h(null);return P.words=new Array(this.length+L.length),this.mulTo(L,P)},h.prototype.mulf=function(L){var P=new h(null);return P.words=new Array(this.length+L.length),x(this,L,P)},h.prototype.imul=function(L){return this.clone().mulTo(L,this)},h.prototype.imuln=function(L){s(typeof L=="number"),s(L<67108864);for(var P=0,O=0;O<this.length;O++){var U=(this.words[O]|0)*L,X=(U&67108863)+(P&67108863);P>>=26,P+=U/67108864|0,P+=X>>>26,this.words[O]=X&67108863}return P!==0&&(this.words[O]=P,this.length++),this},h.prototype.muln=function(L){return this.clone().imuln(L)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(L){var P=S(L);if(P.length===0)return new h(1);for(var O=this,U=0;U<P.length&&P[U]===0;U++,O=O.sqr());if(++U<P.length)for(var X=O.sqr();U<P.length;U++,X=X.sqr())P[U]!==0&&(O=O.mul(X));return O},h.prototype.iushln=function(L){s(typeof L=="number"&&L>=0);var P=L%26,O=(L-P)/26,U=67108863>>>26-P<<26-P,X;if(P!==0){var $=0;for(X=0;X<this.length;X++){var j=this.words[X]&U,Y=(this.words[X]|0)-j<<P;this.words[X]=Y|$,$=j>>>26-P}$&&(this.words[X]=$,this.length++)}if(O!==0){for(X=this.length-1;X>=0;X--)this.words[X+O]=this.words[X];for(X=0;X<O;X++)this.words[X]=0;this.length+=O}return this.strip()},h.prototype.ishln=function(L){return s(this.negative===0),this.iushln(L)},h.prototype.iushrn=function(L,P,O){s(typeof L=="number"&&L>=0);var U;P?U=(P-P%26)/26:U=0;var X=L%26,$=Math.min((L-X)/26,this.length),j=67108863^67108863>>>X<<X,Y=O;if(U-=$,U=Math.max(0,U),Y){for(var q=0;q<$;q++)Y.words[q]=this.words[q];Y.length=$}if($!==0)if(this.length>$)for(this.length-=$,q=0;q<this.length;q++)this.words[q]=this.words[q+$];else this.words[0]=0,this.length=1;var K=0;for(q=this.length-1;q>=0&&(K!==0||q>=U);q--){var ne=this.words[q]|0;this.words[q]=K<<26-X|ne>>>X,K=ne&j}return Y&&K!==0&&(Y.words[Y.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(L,P,O){return s(this.negative===0),this.iushrn(L,P,O)},h.prototype.shln=function(L){return this.clone().ishln(L)},h.prototype.ushln=function(L){return this.clone().iushln(L)},h.prototype.shrn=function(L){return this.clone().ishrn(L)},h.prototype.ushrn=function(L){return this.clone().iushrn(L)},h.prototype.testn=function(L){s(typeof L=="number"&&L>=0);var P=L%26,O=(L-P)/26,U=1<<P;if(this.length<=O)return!1;var X=this.words[O];return!!(X&U)},h.prototype.imaskn=function(L){s(typeof L=="number"&&L>=0);var P=L%26,O=(L-P)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=O)return this;if(P!==0&&O++,this.length=Math.min(O,this.length),P!==0){var U=67108863^67108863>>>P<<P;this.words[this.length-1]&=U}return this.strip()},h.prototype.maskn=function(L){return this.clone().imaskn(L)},h.prototype.iaddn=function(L){return s(typeof L=="number"),s(L<67108864),L<0?this.isubn(-L):this.negative!==0?this.length===1&&(this.words[0]|0)<L?(this.words[0]=L-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(L),this.negative=1,this):this._iaddn(L)},h.prototype._iaddn=function(L){this.words[0]+=L;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},h.prototype.isubn=function(L){if(s(typeof L=="number"),s(L<67108864),L<0)return this.iaddn(-L);if(this.negative!==0)return this.negative=0,this.iaddn(L),this.negative=1,this;if(this.words[0]-=L,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},h.prototype.addn=function(L){return this.clone().iaddn(L)},h.prototype.subn=function(L){return this.clone().isubn(L)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(L,P,O){var U=L.length+O,X;this._expand(U);var $,j=0;for(X=0;X<L.length;X++){$=(this.words[X+O]|0)+j;var Y=(L.words[X]|0)*P;$-=Y&67108863,j=($>>26)-(Y/67108864|0),this.words[X+O]=$&67108863}for(;X<this.length-O;X++)$=(this.words[X+O]|0)+j,j=$>>26,this.words[X+O]=$&67108863;if(j===0)return this.strip();for(s(j===-1),j=0,X=0;X<this.length;X++)$=-(this.words[X]|0)+j,j=$>>26,this.words[X]=$&67108863;return this.negative=1,this.strip()},h.prototype._wordDiv=function(L,P){var O=this.length-L.length,U=this.clone(),X=L,$=X.words[X.length-1]|0,j=this._countBits($);O=26-j,O!==0&&(X=X.ushln(O),U.iushln(O),$=X.words[X.length-1]|0);var Y=U.length-X.length,q;if(P!=="mod"){q=new h(null),q.length=Y+1,q.words=new Array(q.length);for(var K=0;K<q.length;K++)q.words[K]=0}var ne=U.clone()._ishlnsubmul(X,1,Y);ne.negative===0&&(U=ne,q&&(q.words[Y]=1));for(var Q=Y-1;Q>=0;Q--){var oe=(U.words[X.length+Q]|0)*67108864+(U.words[X.length+Q-1]|0);for(oe=Math.min(oe/$|0,67108863),U._ishlnsubmul(X,oe,Q);U.negative!==0;)oe--,U.negative=0,U._ishlnsubmul(X,1,Q),U.isZero()||(U.negative^=1);q&&(q.words[Q]=oe)}return q&&q.strip(),U.strip(),P!=="div"&&O!==0&&U.iushrn(O),{div:q||null,mod:U}},h.prototype.divmod=function(L,P,O){if(s(!L.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var U,X,$;return this.negative!==0&&L.negative===0?($=this.neg().divmod(L,P),P!=="mod"&&(U=$.div.neg()),P!=="div"&&(X=$.mod.neg(),O&&X.negative!==0&&X.iadd(L)),{div:U,mod:X}):this.negative===0&&L.negative!==0?($=this.divmod(L.neg(),P),P!=="mod"&&(U=$.div.neg()),{div:U,mod:$.mod}):(this.negative&L.negative)!==0?($=this.neg().divmod(L.neg(),P),P!=="div"&&(X=$.mod.neg(),O&&X.negative!==0&&X.isub(L)),{div:$.div,mod:X}):L.length>this.length||this.cmp(L)<0?{div:new h(0),mod:this}:L.length===1?P==="div"?{div:this.divn(L.words[0]),mod:null}:P==="mod"?{div:null,mod:new h(this.modn(L.words[0]))}:{div:this.divn(L.words[0]),mod:new h(this.modn(L.words[0]))}:this._wordDiv(L,P)},h.prototype.div=function(L){return this.divmod(L,"div",!1).div},h.prototype.mod=function(L){return this.divmod(L,"mod",!1).mod},h.prototype.umod=function(L){return this.divmod(L,"mod",!0).mod},h.prototype.divRound=function(L){var P=this.divmod(L);if(P.mod.isZero())return P.div;var O=P.div.negative!==0?P.mod.isub(L):P.mod,U=L.ushrn(1),X=L.andln(1),$=O.cmp(U);return $<0||X===1&&$===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},h.prototype.modn=function(L){s(L<=67108863);for(var P=(1<<26)%L,O=0,U=this.length-1;U>=0;U--)O=(P*O+(this.words[U]|0))%L;return O},h.prototype.idivn=function(L){s(L<=67108863);for(var P=0,O=this.length-1;O>=0;O--){var U=(this.words[O]|0)+P*67108864;this.words[O]=U/L|0,P=U%L}return this.strip()},h.prototype.divn=function(L){return this.clone().idivn(L)},h.prototype.egcd=function(L){s(L.negative===0),s(!L.isZero());var P=this,O=L.clone();P.negative!==0?P=P.umod(L):P=P.clone();for(var U=new h(1),X=new h(0),$=new h(0),j=new h(1),Y=0;P.isEven()&&O.isEven();)P.iushrn(1),O.iushrn(1),++Y;for(var q=O.clone(),K=P.clone();!P.isZero();){for(var ne=0,Q=1;(P.words[0]&Q)===0&&ne<26;++ne,Q<<=1);if(ne>0)for(P.iushrn(ne);ne-- >0;)(U.isOdd()||X.isOdd())&&(U.iadd(q),X.isub(K)),U.iushrn(1),X.iushrn(1);for(var oe=0,re=1;(O.words[0]&re)===0&&oe<26;++oe,re<<=1);if(oe>0)for(O.iushrn(oe);oe-- >0;)($.isOdd()||j.isOdd())&&($.iadd(q),j.isub(K)),$.iushrn(1),j.iushrn(1);P.cmp(O)>=0?(P.isub(O),U.isub($),X.isub(j)):(O.isub(P),$.isub(U),j.isub(X))}return{a:$,b:j,gcd:O.iushln(Y)}},h.prototype._invmp=function(L){s(L.negative===0),s(!L.isZero());var P=this,O=L.clone();P.negative!==0?P=P.umod(L):P=P.clone();for(var U=new h(1),X=new h(0),$=O.clone();P.cmpn(1)>0&&O.cmpn(1)>0;){for(var j=0,Y=1;(P.words[0]&Y)===0&&j<26;++j,Y<<=1);if(j>0)for(P.iushrn(j);j-- >0;)U.isOdd()&&U.iadd($),U.iushrn(1);for(var q=0,K=1;(O.words[0]&K)===0&&q<26;++q,K<<=1);if(q>0)for(O.iushrn(q);q-- >0;)X.isOdd()&&X.iadd($),X.iushrn(1);P.cmp(O)>=0?(P.isub(O),U.isub(X)):(O.isub(P),X.isub(U))}var ne;return P.cmpn(1)===0?ne=U:ne=X,ne.cmpn(0)<0&&ne.iadd(L),ne},h.prototype.gcd=function(L){if(this.isZero())return L.abs();if(L.isZero())return this.abs();var P=this.clone(),O=L.clone();P.negative=0,O.negative=0;for(var U=0;P.isEven()&&O.isEven();U++)P.iushrn(1),O.iushrn(1);do{for(;P.isEven();)P.iushrn(1);for(;O.isEven();)O.iushrn(1);var X=P.cmp(O);if(X<0){var $=P;P=O,O=$}else if(X===0||O.cmpn(1)===0)break;P.isub(O)}while(!0);return O.iushln(U)},h.prototype.invm=function(L){return this.egcd(L).a.umod(L)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(L){return this.words[0]&L},h.prototype.bincn=function(L){s(typeof L=="number");var P=L%26,O=(L-P)/26,U=1<<P;if(this.length<=O)return this._expand(O+1),this.words[O]|=U,this;for(var X=U,$=O;X!==0&&$<this.length;$++){var j=this.words[$]|0;j+=X,X=j>>>26,j&=67108863,this.words[$]=j}return X!==0&&(this.words[$]=X,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(L){var P=L<0;if(this.negative!==0&&!P)return-1;if(this.negative===0&&P)return 1;this.strip();var O;if(this.length>1)O=1;else{P&&(L=-L),s(L<=67108863,"Number is too big");var U=this.words[0]|0;O=U===L?0:U<L?-1:1}return this.negative!==0?-O|0:O},h.prototype.cmp=function(L){if(this.negative!==0&&L.negative===0)return-1;if(this.negative===0&&L.negative!==0)return 1;var P=this.ucmp(L);return this.negative!==0?-P|0:P},h.prototype.ucmp=function(L){if(this.length>L.length)return 1;if(this.length<L.length)return-1;for(var P=0,O=this.length-1;O>=0;O--){var U=this.words[O]|0,X=L.words[O]|0;if(U!==X){U<X?P=-1:U>X&&(P=1);break}}return P},h.prototype.gtn=function(L){return this.cmpn(L)===1},h.prototype.gt=function(L){return this.cmp(L)===1},h.prototype.gten=function(L){return this.cmpn(L)>=0},h.prototype.gte=function(L){return this.cmp(L)>=0},h.prototype.ltn=function(L){return this.cmpn(L)===-1},h.prototype.lt=function(L){return this.cmp(L)===-1},h.prototype.lten=function(L){return this.cmpn(L)<=0},h.prototype.lte=function(L){return this.cmp(L)<=0},h.prototype.eqn=function(L){return this.cmpn(L)===0},h.prototype.eq=function(L){return this.cmp(L)===0},h.red=function(L){return new N(L)},h.prototype.toRed=function(L){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),L.convertTo(this)._forceRed(L)},h.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(L){return this.red=L,this},h.prototype.forceRed=function(L){return s(!this.red,"Already a number in reduction context"),this._forceRed(L)},h.prototype.redAdd=function(L){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,L)},h.prototype.redIAdd=function(L){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,L)},h.prototype.redSub=function(L){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,L)},h.prototype.redISub=function(L){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,L)},h.prototype.redShl=function(L){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,L)},h.prototype.redMul=function(L){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.mul(this,L)},h.prototype.redIMul=function(L){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.imul(this,L)},h.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(L){return s(this.red&&!L.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,L)};var c={k256:null,p224:null,p192:null,p25519:null};function A(I,L){this.name=I,this.p=new h(L,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}A.prototype._tmp=function(){var L=new h(null);return L.words=new Array(Math.ceil(this.n/13)),L},A.prototype.ireduce=function(L){var P=L,O;do this.split(P,this.tmp),P=this.imulK(P),P=P.iadd(this.tmp),O=P.bitLength();while(O>this.n);var U=O<this.n?-1:P.ucmp(this.p);return U===0?(P.words[0]=0,P.length=1):U>0?P.isub(this.p):P.strip!==void 0?P.strip():P._strip(),P},A.prototype.split=function(L,P){L.iushrn(this.n,0,P)},A.prototype.imulK=function(L){return L.imul(this.k)};function v(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(v,A),v.prototype.split=function(L,P){for(var O=4194303,U=Math.min(L.length,9),X=0;X<U;X++)P.words[X]=L.words[X];if(P.length=U,L.length<=9){L.words[0]=0,L.length=1;return}var $=L.words[9];for(P.words[P.length++]=$&O,X=10;X<L.length;X++){var j=L.words[X]|0;L.words[X-10]=(j&O)<<4|$>>>22,$=j}$>>>=22,L.words[X-10]=$,$===0&&L.length>10?L.length-=10:L.length-=9},v.prototype.imulK=function(L){L.words[L.length]=0,L.words[L.length+1]=0,L.length+=2;for(var P=0,O=0;O<L.length;O++){var U=L.words[O]|0;P+=U*977,L.words[O]=P&67108863,P=U*64+(P/67108864|0)}return L.words[L.length-1]===0&&(L.length--,L.words[L.length-1]===0&&L.length--),L};function D(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(D,A);function E(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(E,A);function R(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(R,A),R.prototype.imulK=function(L){for(var P=0,O=0;O<L.length;O++){var U=(L.words[O]|0)*19+P,X=U&67108863;U>>>=26,L.words[O]=X,P=U}return P!==0&&(L.words[L.length++]=P),L},h._prime=function(L){if(c[L])return c[L];var P;if(L==="k256")P=new v;else if(L==="p224")P=new D;else if(L==="p192")P=new E;else if(L==="p25519")P=new R;else throw new Error("Unknown prime "+L);return c[L]=P,P};function N(I){if(typeof I=="string"){var L=h._prime(I);this.m=L.p,this.prime=L}else s(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}N.prototype._verify1=function(L){s(L.negative===0,"red works only with positives"),s(L.red,"red works only with red numbers")},N.prototype._verify2=function(L,P){s((L.negative|P.negative)===0,"red works only with positives"),s(L.red&&L.red===P.red,"red works only with red numbers")},N.prototype.imod=function(L){return this.prime?this.prime.ireduce(L)._forceRed(this):L.umod(this.m)._forceRed(this)},N.prototype.neg=function(L){return L.isZero()?L.clone():this.m.sub(L)._forceRed(this)},N.prototype.add=function(L,P){this._verify2(L,P);var O=L.add(P);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},N.prototype.iadd=function(L,P){this._verify2(L,P);var O=L.iadd(P);return O.cmp(this.m)>=0&&O.isub(this.m),O},N.prototype.sub=function(L,P){this._verify2(L,P);var O=L.sub(P);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},N.prototype.isub=function(L,P){this._verify2(L,P);var O=L.isub(P);return O.cmpn(0)<0&&O.iadd(this.m),O},N.prototype.shl=function(L,P){return this._verify1(L),this.imod(L.ushln(P))},N.prototype.imul=function(L,P){return this._verify2(L,P),this.imod(L.imul(P))},N.prototype.mul=function(L,P){return this._verify2(L,P),this.imod(L.mul(P))},N.prototype.isqr=function(L){return this.imul(L,L.clone())},N.prototype.sqr=function(L){return this.mul(L,L)},N.prototype.sqrt=function(L){if(L.isZero())return L.clone();var P=this.m.andln(3);if(s(P%2===1),P===3){var O=this.m.add(new h(1)).iushrn(2);return this.pow(L,O)}for(var U=this.m.subn(1),X=0;!U.isZero()&&U.andln(1)===0;)X++,U.iushrn(1);s(!U.isZero());var $=new h(1).toRed(this),j=$.redNeg(),Y=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new h(2*q*q).toRed(this);this.pow(q,Y).cmp(j)!==0;)q.redIAdd(j);for(var K=this.pow(q,U),ne=this.pow(L,U.addn(1).iushrn(1)),Q=this.pow(L,U),oe=X;Q.cmp($)!==0;){for(var re=Q,H=0;re.cmp($)!==0;H++)re=re.redSqr();s(H<oe);var ee=this.pow(K,new h(1).iushln(oe-H-1));ne=ne.redMul(ee),K=ee.redSqr(),Q=Q.redMul(K),oe=H}return ne},N.prototype.invm=function(L){var P=L._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},N.prototype.pow=function(L,P){if(P.isZero())return new h(1).toRed(this);if(P.cmpn(1)===0)return L.clone();var O=4,U=new Array(1<<O);U[0]=new h(1).toRed(this),U[1]=L;for(var X=2;X<U.length;X++)U[X]=this.mul(U[X-1],L);var $=U[0],j=0,Y=0,q=P.bitLength()%26;for(q===0&&(q=26),X=P.length-1;X>=0;X--){for(var K=P.words[X],ne=q-1;ne>=0;ne--){var Q=K>>ne&1;if($!==U[0]&&($=this.sqr($)),Q===0&&j===0){Y=0;continue}j<<=1,j|=Q,Y++,!(Y!==O&&(X!==0||ne!==0))&&($=this.mul($,U[j]),Y=0,j=0)}q=26}return $},N.prototype.convertTo=function(L){var P=L.umod(this.m);return P===L?P.clone():P},N.prototype.convertFrom=function(L){var P=L.clone();return P.red=null,P},h.mont=function(L){return new F(L)};function F(I){N.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(F,N),F.prototype.convertTo=function(L){return this.imod(L.ushln(this.shift))},F.prototype.convertFrom=function(L){var P=this.imod(L.mul(this.rinv));return P.red=null,P},F.prototype.imul=function(L,P){if(L.isZero()||P.isZero())return L.words[0]=0,L.length=1,L;var O=L.imul(P),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),X=O.isub(U).iushrn(this.shift),$=X;return X.cmp(this.m)>=0?$=X.isub(this.m):X.cmpn(0)<0&&($=X.iadd(this.m)),$._forceRed(this)},F.prototype.mul=function(L,P){if(L.isZero()||P.isZero())return new h(0)._forceRed(this);var O=L.mul(P),U=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),X=O.isub(U).iushrn(this.shift),$=X;return X.cmp(this.m)>=0?$=X.isub(this.m):X.cmpn(0)<0&&($=X.iadd(this.m)),$._forceRed(this)},F.prototype.invm=function(L){var P=this.imod(L._invmp(this.m).mul(this.r2));return P._forceRed(this)}}(a,this)},6860:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]-u[0],i[1]=l[1]-u[1],i[2]=l[2]-u[2],i[3]=l[3]-u[3],i}},6864:function(a){a.exports=o;function o(){var i=new Float32Array(16);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},6867:function(a,o,i){"use strict";a.exports=y;var l=i(1888),u=i(855),s=i(7150);function f(k,S){for(var b=0;b<k;++b)if(!(S[b]<=S[b+k]))return!0;return!1}function h(k,S,b,M){for(var d=0,x=0,g=0,c=k.length;g<c;++g){var A=k[g];if(!f(S,A)){for(var v=0;v<2*S;++v)b[d++]=A[v];M[x++]=g}}return x}function p(k,S,b,M){var d=k.length,x=S.length;if(!(d<=0||x<=0)){var g=k[0].length>>>1;if(!(g<=0)){var c,A=l.mallocDouble(2*g*d),v=l.mallocInt32(d);if(d=h(k,g,A,v),d>0){if(g===1&&M)u.init(d),c=u.sweepComplete(g,b,0,d,A,v,0,d,A,v);else{var D=l.mallocDouble(2*g*x),E=l.mallocInt32(x);x=h(S,g,D,E),x>0&&(u.init(d+x),g===1?c=u.sweepBipartite(g,b,0,d,A,v,0,x,D,E):c=s(g,b,M,d,A,v,x,D,E),l.free(D),l.free(E))}l.free(A),l.free(v)}return c}}}var _;function m(k,S){_.push([k,S])}function w(k){return _=[],p(k,k,m,!0),_}function T(k,S){return _=[],p(k,S,m,!1),_}function y(k,S,b){switch(arguments.length){case 1:return w(k);case 2:return typeof S=="function"?p(k,k,S,!0):T(k,S);case 3:return p(k,S,b,!1);default:throw new Error("box-intersect: Invalid arguments")}}},6894:function(a){a.exports=o;function o(i,l,u,s){var f=u[1],h=u[2],p=l[1]-f,_=l[2]-h,m=Math.sin(s),w=Math.cos(s);return i[0]=l[0],i[1]=f+p*w-_*m,i[2]=h+p*m+_*w,i}},7004:function(a){"use strict";a.exports=o;function o(i){for(var l=i.length,u=i[i.length-1],s=l,f=l-2;f>=0;--f){var h=u,p=i[f];u=h+p;var _=u-h,m=p-_;m&&(i[--s]=u,u=m)}for(var w=0,f=s;f<l;++f){var h=i[f],p=u;u=h+p;var _=u-h,m=p-_;m&&(i[w++]=m)}return i[w++]=u,i.length=w,i}},7056:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2];return Math.sqrt(u*u+s*s+f*f)}},7089:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),h=l[0],p=l[1],_=l[2],m=l[3],w=l[4],T=l[5],y=l[6],k=l[7];return l!==i&&(i[8]=l[8],i[9]=l[9],i[10]=l[10],i[11]=l[11],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[0]=h*f+w*s,i[1]=p*f+T*s,i[2]=_*f+y*s,i[3]=m*f+k*s,i[4]=w*f-h*s,i[5]=T*f-p*s,i[6]=y*f-_*s,i[7]=k*f-m*s,i}},7150:function(a,o,i){"use strict";a.exports=I;var l=i(1888),u=i(8828),s=i(2455),f=s.partial,h=s.full,p=i(855),_=i(3545),m=i(8105),w=128,T=1<<22,y=1<<22,k=m("!(lo>=p0)&&!(p1>=hi)"),S=m("lo===p0"),b=m("lo<p0"),M=m("hi<=p0"),d=m("lo<=p0&&p0<=hi"),x=m("lo<p0&&p0<=hi"),g=6,c=2,A=1024,v=l.mallocInt32(A),D=l.mallocDouble(A);function E(L,P){var O=8*u.log2(P+1)*(L+1)|0,U=u.nextPow2(g*O);v.length<U&&(l.free(v),v=l.mallocInt32(U));var X=u.nextPow2(c*O);D.length<X&&(l.free(D),D=l.mallocDouble(X))}function R(L,P,O,U,X,$,j,Y,q){var K=g*L;v[K]=P,v[K+1]=O,v[K+2]=U,v[K+3]=X,v[K+4]=$,v[K+5]=j;var ne=c*L;D[ne]=Y,D[ne+1]=q}function N(L,P,O,U,X,$,j,Y,q,K,ne){var Q=2*L,oe=q*Q,re=K[oe+P];e:for(var H=X,ee=X*Q;H<$;++H,ee+=Q){var V=j[ee+P],te=j[ee+P+L];if(!(re<V||te<re)&&!(U&&re===V)){for(var ue=Y[H],ve=P+1;ve<L;++ve){var V=j[ee+ve],te=j[ee+ve+L],ke=K[oe+ve],Se=K[oe+ve+L];if(te<ke||Se<V)continue e}var he;if(U?he=O(ne,ue):he=O(ue,ne),he!==void 0)return he}}}function F(L,P,O,U,X,$,j,Y,q,K){var ne=2*L,Q=Y*ne,oe=q[Q+P];e:for(var re=U,H=U*ne;re<X;++re,H+=ne){var ee=j[re];if(ee!==K){var V=$[H+P],te=$[H+P+L];if(!(oe<V||te<oe)){for(var ue=P+1;ue<L;++ue){var V=$[H+ue],te=$[H+ue+L],ve=q[Q+ue],ke=q[Q+ue+L];if(te<ve||ke<V)continue e}var Se=O(ee,K);if(Se!==void 0)return Se}}}}function I(L,P,O,U,X,$,j,Y,q){E(L,U+j);var K=0,ne=2*L,Q;for(R(K++,0,0,U,0,j,O?16:0,-1/0,1/0),O||R(K++,0,0,j,0,U,1,-1/0,1/0);K>0;){K-=1;var oe=K*g,re=v[oe],H=v[oe+1],ee=v[oe+2],V=v[oe+3],te=v[oe+4],ue=v[oe+5],ve=K*c,ke=D[ve],Se=D[ve+1],he=ue&1,Ae=!!(ue&16),Ce=X,Pe=$,Ee=Y,Ne=q;if(he&&(Ce=Y,Pe=q,Ee=X,Ne=$),!(ue&2&&(ee=b(L,re,H,ee,Ce,Pe,Se),H>=ee))&&!(ue&4&&(H=M(L,re,H,ee,Ce,Pe,ke),H>=ee))){var Ue=ee-H,ge=te-V;if(Ae){if(L*Ue*(Ue+ge)<y){if(Q=p.scanComplete(L,re,P,H,ee,Ce,Pe,V,te,Ee,Ne),Q!==void 0)return Q;continue}}else if(L*Math.min(Ue,ge)<w){if(Q=f(L,re,P,he,H,ee,Ce,Pe,V,te,Ee,Ne),Q!==void 0)return Q;continue}else if(L*Ue*ge<T){if(Q=p.scanBipartite(L,re,P,he,H,ee,Ce,Pe,V,te,Ee,Ne),Q!==void 0)return Q;continue}var we=k(L,re,H,ee,Ce,Pe,ke,Se);if(H<we)if(L*(we-H)<w){if(Q=h(L,re+1,P,H,we,Ce,Pe,V,te,Ee,Ne),Q!==void 0)return Q}else if(re===L-2){if(he?Q=p.sweepBipartite(L,P,V,te,Ee,Ne,H,we,Ce,Pe):Q=p.sweepBipartite(L,P,H,we,Ce,Pe,V,te,Ee,Ne),Q!==void 0)return Q}else R(K++,re+1,H,we,V,te,he,-1/0,1/0),R(K++,re+1,V,te,H,we,he^1,-1/0,1/0);if(we<ee){var Te=_(L,re,V,te,Ee,Ne),me=Ee[ne*Te+re],ye=S(L,re,Te,te,Ee,Ne,me);if(ye<te&&R(K++,re,we,ee,ye,te,(he|4)+(Ae?16:0),me,Se),V<Te&&R(K++,re,we,ee,V,Te,(he|2)+(Ae?16:0),ke,me),Te+1===ye){if(Ae?Q=F(L,re,P,we,ee,Ce,Pe,Te,Ee,Ne[Te]):Q=N(L,re,P,he,we,ee,Ce,Pe,Te,Ee,Ne[Te]),Q!==void 0)return Q}else if(Te<ye){var pe;if(Ae){if(pe=d(L,re,we,ee,Ce,Pe,me),we<pe){var ce=S(L,re,we,pe,Ce,Pe,me);if(re===L-2){if(we<ce&&(Q=p.sweepComplete(L,P,we,ce,Ce,Pe,Te,ye,Ee,Ne),Q!==void 0)||ce<pe&&(Q=p.sweepBipartite(L,P,ce,pe,Ce,Pe,Te,ye,Ee,Ne),Q!==void 0))return Q}else we<ce&&R(K++,re+1,we,ce,Te,ye,16,-1/0,1/0),ce<pe&&(R(K++,re+1,ce,pe,Te,ye,0,-1/0,1/0),R(K++,re+1,Te,ye,ce,pe,1,-1/0,1/0))}}else he?pe=x(L,re,we,ee,Ce,Pe,me):pe=d(L,re,we,ee,Ce,Pe,me),we<pe&&(re===L-2?he?Q=p.sweepBipartite(L,P,Te,ye,Ee,Ne,we,pe,Ce,Pe):Q=p.sweepBipartite(L,P,we,pe,Ce,Pe,Te,ye,Ee,Ne):(R(K++,re+1,we,pe,Te,ye,he,-1/0,1/0),R(K++,re+1,Te,ye,we,pe,he^1,-1/0,1/0)))}}}}}},7163:function(a){a.exports=function(l){return l!=null&&(o(l)||i(l)||!!l._isBuffer)};function o(l){return!!l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}function i(l){return typeof l.readFloatLE=="function"&&typeof l.slice=="function"&&o(l.slice(0,0))}},7169:function(a,o,i){"use strict";var l=typeof WeakMap=="undefined"?i(1538):WeakMap,u=i(2762),s=i(8116),f=new l;function h(p){var _=f.get(p),m=_&&(_._triangleBuffer.handle||_._triangleBuffer.buffer);if(!m||!p.isBuffer(m)){var w=u(p,new Float32Array([-1,-1,-1,4,4,-1]));_=s(p,[{buffer:w,type:p.FLOAT,size:2}]),_._triangleBuffer=w,f.set(p,_)}_.bind(),p.drawArrays(p.TRIANGLES,0,3),_.unbind()}a.exports=h},7182:function(a,o,i){var l={identity:i(7894),translate:i(7656),multiply:i(6760),create:i(6864),scale:i(2504),fromRotationTranslation:i(6743)},u=l.create(),s=l.create();a.exports=function(h,p,_,m,w,T){return l.identity(h),l.fromRotationTranslation(h,T,p),h[3]=w[0],h[7]=w[1],h[11]=w[2],h[15]=w[3],l.identity(s),m[2]!==0&&(s[9]=m[2],l.multiply(h,h,s)),m[1]!==0&&(s[9]=0,s[8]=m[1],l.multiply(h,h,s)),m[0]!==0&&(s[8]=0,s[4]=m[0],l.multiply(h,h,s)),l.scale(h,h,_),h}},7201:function(a,o,i){"use strict";var l=1e-6,u=1e-6,s=i(9405),f=i(2762),h=i(8116),p=i(7766),_=i(8406),m=i(6760),w=i(7608),T=i(9618),y=i(6729),k=i(7765),S=i(1888),b=i(840),M=i(7626),d=b.meshShader,x=b.wireShader,g=b.pointShader,c=b.pickShader,A=b.pointPickShader,v=b.contourShader,D=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function E(Y,q,K,ne,Q,oe,re,H,ee,V,te,ue,ve,ke,Se,he,Ae,Ce,Pe,Ee,Ne,Ue,ge,we,Te,me,ye){this.gl=Y,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=q,this.dirty=!0,this.triShader=K,this.lineShader=ne,this.pointShader=Q,this.pickShader=oe,this.pointPickShader=re,this.contourShader=H,this.trianglePositions=ee,this.triangleColors=te,this.triangleNormals=ve,this.triangleUVs=ue,this.triangleIds=V,this.triangleVAO=ke,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Se,this.edgeColors=Ae,this.edgeUVs=Ce,this.edgeIds=he,this.edgeVAO=Pe,this.edgeCount=0,this.pointPositions=Ee,this.pointColors=Ue,this.pointUVs=ge,this.pointSizes=we,this.pointIds=Ne,this.pointVAO=Te,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=me,this.contourVAO=ye,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=D,this._view=D,this._projection=D,this._resolution=[1,1]}var R=E.prototype;R.isOpaque=function(){return!this.hasAlpha},R.isTransparent=function(){return this.hasAlpha},R.pickSlots=1,R.setPickBase=function(Y){this.pickId=Y};function N(Y,q){if(!q||!q.length)return 1;for(var K=0;K<q.length;++K){if(q.length<2)return 1;if(q[K][0]===Y)return q[K][1];if(q[K][0]>Y&&K>0){var ne=(q[K][0]-Y)/(q[K][0]-q[K-1][0]);return q[K][1]*(1-ne)+ne*q[K-1][1]}}return 1}function F(Y,q){for(var K=y({colormap:Y,nshades:256,format:"rgba"}),ne=new Uint8Array(256*4),Q=0;Q<256;++Q){for(var oe=K[Q],re=0;re<3;++re)ne[4*Q+re]=oe[re];q?ne[4*Q+3]=255*N(Q/255,q):ne[4*Q+3]=255*oe[3]}return T(ne,[256,256,4],[4,0,1])}function I(Y){for(var q=Y.length,K=new Array(q),ne=0;ne<q;++ne)K[ne]=Y[ne][2];return K}R.highlight=function(Y){if(!Y||!this.contourEnable){this.contourCount=0;return}for(var q=k(this.cells,this.intensity,Y.intensity),K=q.cells,ne=q.vertexIds,Q=q.vertexWeights,oe=K.length,re=S.mallocFloat32(2*3*oe),H=0,ee=0;ee<oe;++ee)for(var V=K[ee],te=0;te<2;++te){var ue=V[0];V.length===2&&(ue=V[te]);for(var ve=ne[ue][0],ke=ne[ue][1],Se=Q[ue],he=1-Se,Ae=this.positions[ve],Ce=this.positions[ke],Pe=0;Pe<3;++Pe)re[H++]=Se*Ae[Pe]+he*Ce[Pe]}this.contourCount=H/3|0,this.contourPositions.update(re.subarray(0,H)),S.free(re)},R.update=function(Y){Y=Y||{};var q=this.gl;this.dirty=!0,"contourEnable"in Y&&(this.contourEnable=Y.contourEnable),"contourColor"in Y&&(this.contourColor=Y.contourColor),"lineWidth"in Y&&(this.lineWidth=Y.lineWidth),"lightPosition"in Y&&(this.lightPosition=Y.lightPosition),this.hasAlpha=!1,"opacity"in Y&&(this.opacity=Y.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Y&&(this.opacityscale=Y.opacityscale,this.hasAlpha=!0),"ambient"in Y&&(this.ambientLight=Y.ambient),"diffuse"in Y&&(this.diffuseLight=Y.diffuse),"specular"in Y&&(this.specularLight=Y.specular),"roughness"in Y&&(this.roughness=Y.roughness),"fresnel"in Y&&(this.fresnel=Y.fresnel),Y.texture?(this.texture.dispose(),this.texture=p(q,Y.texture)):Y.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=q.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=q.LINEAR,this.texture.setPixels(F(Y.colormap,this.opacityscale)),this.texture.generateMipmap());var K=Y.cells,ne=Y.positions;if(!(!ne||!K)){var Q=[],oe=[],re=[],H=[],ee=[],V=[],te=[],ue=[],ve=[],ke=[],Se=[],he=[],Ae=[],Ce=[];this.cells=K,this.positions=ne;var Pe=Y.vertexNormals,Ee=Y.cellNormals,Ne=Y.vertexNormalsEpsilon===void 0?l:Y.vertexNormalsEpsilon,Ue=Y.faceNormalsEpsilon===void 0?u:Y.faceNormalsEpsilon;Y.useFacetNormals&&!Ee&&(Ee=_.faceNormals(K,ne,Ue)),!Ee&&!Pe&&(Pe=_.vertexNormals(K,ne,Ne));var ge=Y.vertexColors,we=Y.cellColors,Te=Y.meshColor||[1,1,1,1],me=Y.vertexUVs,ye=Y.vertexIntensity,pe=Y.cellUVs,ce=Y.cellIntensity,be=1/0,Le=-1/0;if(!me&&!pe)if(ye)if(Y.vertexIntensityBounds)be=+Y.vertexIntensityBounds[0],Le=+Y.vertexIntensityBounds[1];else for(var qe=0;qe<ye.length;++qe){var ze=ye[qe];be=Math.min(be,ze),Le=Math.max(Le,ze)}else if(ce)if(Y.cellIntensityBounds)be=+Y.cellIntensityBounds[0],Le=+Y.cellIntensityBounds[1];else for(var qe=0;qe<ce.length;++qe){var ze=ce[qe];be=Math.min(be,ze),Le=Math.max(Le,ze)}else for(var qe=0;qe<ne.length;++qe){var ze=ne[qe][2];be=Math.min(be,ze),Le=Math.max(Le,ze)}ye?this.intensity=ye:ce?this.intensity=ce:this.intensity=I(ne),this.pickVertex=!(ce||we);var $e=Y.pointSizes,Ve=Y.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var qe=0;qe<ne.length;++qe)for(var Be=ne[qe],Ye=0;Ye<3;++Ye)isNaN(Be[Ye])||!isFinite(Be[Ye])||(this.bounds[0][Ye]=Math.min(this.bounds[0][Ye],Be[Ye]),this.bounds[1][Ye]=Math.max(this.bounds[1][Ye],Be[Ye]));var Me=0,Re=0,Qe=0;e:for(var qe=0;qe<K.length;++qe){var Ke=K[qe];switch(Ke.length){case 1:for(var ar=Ke[0],Be=ne[ar],Ye=0;Ye<3;++Ye)if(isNaN(Be[Ye])||!isFinite(Be[Ye]))continue e;ke.push(Be[0],Be[1],Be[2]);var se;ge?se=ge[ar]:we?se=we[qe]:se=Te,this.opacityscale&&ye?oe.push(se[0],se[1],se[2],this.opacity*N((ye[ar]-be)/(Le-be),this.opacityscale)):se.length===3?Se.push(se[0],se[1],se[2],this.opacity):(Se.push(se[0],se[1],se[2],se[3]*this.opacity),se[3]<1&&(this.hasAlpha=!0));var J;me?J=me[ar]:ye?J=[(ye[ar]-be)/(Le-be),0]:pe?J=pe[qe]:ce?J=[(ce[qe]-be)/(Le-be),0]:J=[(Be[2]-be)/(Le-be),0],he.push(J[0],J[1]),$e?Ae.push($e[ar]):Ae.push(Ve),Ce.push(qe),Qe+=1;break;case 2:for(var Ye=0;Ye<2;++Ye)for(var ar=Ke[Ye],Be=ne[ar],ae=0;ae<3;++ae)if(isNaN(Be[ae])||!isFinite(Be[ae]))continue e;for(var Ye=0;Ye<2;++Ye){var ar=Ke[Ye],Be=ne[ar];V.push(Be[0],Be[1],Be[2]);var se;ge?se=ge[ar]:we?se=we[qe]:se=Te,this.opacityscale&&ye?oe.push(se[0],se[1],se[2],this.opacity*N((ye[ar]-be)/(Le-be),this.opacityscale)):se.length===3?te.push(se[0],se[1],se[2],this.opacity):(te.push(se[0],se[1],se[2],se[3]*this.opacity),se[3]<1&&(this.hasAlpha=!0));var J;me?J=me[ar]:ye?J=[(ye[ar]-be)/(Le-be),0]:pe?J=pe[qe]:ce?J=[(ce[qe]-be)/(Le-be),0]:J=[(Be[2]-be)/(Le-be),0],ue.push(J[0],J[1]),ve.push(qe)}Re+=1;break;case 3:for(var Ye=0;Ye<3;++Ye)for(var ar=Ke[Ye],Be=ne[ar],ae=0;ae<3;++ae)if(isNaN(Be[ae])||!isFinite(Be[ae]))continue e;for(var Ye=0;Ye<3;++Ye){var ar=Ke[2-Ye],Be=ne[ar];Q.push(Be[0],Be[1],Be[2]);var se;ge?se=ge[ar]:we?se=we[qe]:se=Te,se?this.opacityscale&&ye?oe.push(se[0],se[1],se[2],this.opacity*N((ye[ar]-be)/(Le-be),this.opacityscale)):se.length===3?oe.push(se[0],se[1],se[2],this.opacity):(oe.push(se[0],se[1],se[2],se[3]*this.opacity),se[3]<1&&(this.hasAlpha=!0)):oe.push(.5,.5,.5,1);var J;me?J=me[ar]:ye?J=[(ye[ar]-be)/(Le-be),0]:pe?J=pe[qe]:ce?J=[(ce[qe]-be)/(Le-be),0]:J=[(Be[2]-be)/(Le-be),0],H.push(J[0],J[1]);var De;Pe?De=Pe[ar]:De=Ee[qe],re.push(De[0],De[1],De[2]),ee.push(qe)}Me+=1;break;default:break}}this.pointCount=Qe,this.edgeCount=Re,this.triangleCount=Me,this.pointPositions.update(ke),this.pointColors.update(Se),this.pointUVs.update(he),this.pointSizes.update(Ae),this.pointIds.update(new Uint32Array(Ce)),this.edgePositions.update(V),this.edgeColors.update(te),this.edgeUVs.update(ue),this.edgeIds.update(new Uint32Array(ve)),this.trianglePositions.update(Q),this.triangleColors.update(oe),this.triangleUVs.update(H),this.triangleNormals.update(re),this.triangleIds.update(new Uint32Array(ee))}},R.drawTransparent=R.draw=function(Y){Y=Y||{};for(var q=this.gl,K=Y.model||D,ne=Y.view||D,Q=Y.projection||D,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],re=0;re<3;++re)oe[0][re]=Math.max(oe[0][re],this.clipBounds[0][re]),oe[1][re]=Math.min(oe[1][re],this.clipBounds[1][re]);var H={model:K,view:ne,projection:Q,inverseModel:D.slice(),clipBounds:oe,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};H.inverseModel=w(H.inverseModel,H.model),q.disable(q.CULL_FACE),this.texture.bind(0);var ee=new Array(16);m(ee,H.view,H.model),m(ee,H.projection,ee),w(ee,ee);for(var re=0;re<3;++re)H.eyePosition[re]=ee[12+re]/ee[15];for(var V=ee[15],re=0;re<3;++re)V+=this.lightPosition[re]*ee[4*re+3];for(var re=0;re<3;++re){for(var te=ee[12+re],ue=0;ue<3;++ue)te+=ee[4*ue+re]*this.lightPosition[ue];H.lightPosition[re]=te/V}if(this.triangleCount>0){var ve=this.triShader;ve.bind(),ve.uniforms=H,this.triangleVAO.bind(),q.drawArrays(q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var ve=this.lineShader;ve.bind(),ve.uniforms=H,this.edgeVAO.bind(),q.lineWidth(this.lineWidth*this.pixelRatio),q.drawArrays(q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var ve=this.pointShader;ve.bind(),ve.uniforms=H,this.pointVAO.bind(),q.drawArrays(q.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var ve=this.contourShader;ve.bind(),ve.uniforms=H,this.contourVAO.bind(),q.drawArrays(q.LINES,0,this.contourCount),this.contourVAO.unbind()}},R.drawPick=function(Y){Y=Y||{};for(var q=this.gl,K=Y.model||D,ne=Y.view||D,Q=Y.projection||D,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],re=0;re<3;++re)oe[0][re]=Math.max(oe[0][re],this.clipBounds[0][re]),oe[1][re]=Math.min(oe[1][re],this.clipBounds[1][re]);this._model=[].slice.call(K),this._view=[].slice.call(ne),this._projection=[].slice.call(Q),this._resolution=[q.drawingBufferWidth,q.drawingBufferHeight];var H={model:K,view:ne,projection:Q,clipBounds:oe,pickId:this.pickId/255},ee=this.pickShader;if(ee.bind(),ee.uniforms=H,this.triangleCount>0&&(this.triangleVAO.bind(),q.drawArrays(q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),q.lineWidth(this.lineWidth*this.pixelRatio),q.drawArrays(q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var ee=this.pointPickShader;ee.bind(),ee.uniforms=H,this.pointVAO.bind(),q.drawArrays(q.POINTS,0,this.pointCount),this.pointVAO.unbind()}},R.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;for(var q=Y.value[0]+256*Y.value[1]+65536*Y.value[2],K=this.cells[q],ne=this.positions,Q=new Array(K.length),oe=0;oe<K.length;++oe)Q[oe]=ne[K[oe]];var re=Y.coord[0],H=Y.coord[1];if(!this.pickVertex){var ee=this.positions[K[0]],V=this.positions[K[1]],te=this.positions[K[2]],ue=[(ee[0]+V[0]+te[0])/3,(ee[1]+V[1]+te[1])/3,(ee[2]+V[2]+te[2])/3];return{_cellCenter:!0,position:[re,H],index:q,cell:K,cellId:q,intensity:this.intensity[q],dataCoordinate:ue}}var ve=M(Q,[re*this.pixelRatio,this._resolution[1]-H*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ve)return null;for(var ke=ve[2],Se=0,oe=0;oe<K.length;++oe)Se+=ke[oe]*this.intensity[K[oe]];return{position:ve[1],index:K[ve[0]],cell:K,cellId:q,intensity:Se,dataCoordinate:this.positions[K[ve[0]]]}},R.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function L(Y){var q=s(Y,d.vertex,d.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q.attributes.normal.location=4,q}function P(Y){var q=s(Y,x.vertex,x.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q}function O(Y){var q=s(Y,g.vertex,g.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q.attributes.pointSize.location=4,q}function U(Y){var q=s(Y,c.vertex,c.fragment);return q.attributes.position.location=0,q.attributes.id.location=1,q}function X(Y){var q=s(Y,A.vertex,A.fragment);return q.attributes.position.location=0,q.attributes.id.location=1,q.attributes.pointSize.location=4,q}function $(Y){var q=s(Y,v.vertex,v.fragment);return q.attributes.position.location=0,q}function j(Y,q){arguments.length===1&&(q=Y,Y=q.gl);var K=Y.getExtension("OES_standard_derivatives")||Y.getExtension("MOZ_OES_standard_derivatives")||Y.getExtension("WEBKIT_OES_standard_derivatives");if(!K)throw new Error("derivatives not supported");var ne=L(Y),Q=P(Y),oe=O(Y),re=U(Y),H=X(Y),ee=$(Y),V=p(Y,T(new Uint8Array([255,255,255,255]),[1,1,4]));V.generateMipmap(),V.minFilter=Y.LINEAR_MIPMAP_LINEAR,V.magFilter=Y.LINEAR;var te=f(Y),ue=f(Y),ve=f(Y),ke=f(Y),Se=f(Y),he=h(Y,[{buffer:te,type:Y.FLOAT,size:3},{buffer:Se,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ue,type:Y.FLOAT,size:4},{buffer:ve,type:Y.FLOAT,size:2},{buffer:ke,type:Y.FLOAT,size:3}]),Ae=f(Y),Ce=f(Y),Pe=f(Y),Ee=f(Y),Ne=h(Y,[{buffer:Ae,type:Y.FLOAT,size:3},{buffer:Ee,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ce,type:Y.FLOAT,size:4},{buffer:Pe,type:Y.FLOAT,size:2}]),Ue=f(Y),ge=f(Y),we=f(Y),Te=f(Y),me=f(Y),ye=h(Y,[{buffer:Ue,type:Y.FLOAT,size:3},{buffer:me,type:Y.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ge,type:Y.FLOAT,size:4},{buffer:we,type:Y.FLOAT,size:2},{buffer:Te,type:Y.FLOAT,size:1}]),pe=f(Y),ce=h(Y,[{buffer:pe,type:Y.FLOAT,size:3}]),be=new E(Y,V,ne,Q,oe,re,H,ee,te,Se,ue,ve,ke,he,Ae,Ee,Ce,Pe,Ne,Ue,me,ge,we,Te,ye,pe,ce);return be.update(q),be}a.exports=j},7261:function(a,o,i){"use strict";a.exports=S;var l=i(9215),u=i(7608),s=i(6079),f=i(5911),h=i(3536),p=i(244);function _(b,M,d){return Math.sqrt(Math.pow(b,2)+Math.pow(M,2)+Math.pow(d,2))}function m(b){return Math.min(1,Math.max(-1,b))}function w(b){var M=Math.abs(b[0]),d=Math.abs(b[1]),x=Math.abs(b[2]),g=[0,0,0];M>Math.max(d,x)?g[2]=1:d>Math.max(M,x)?g[0]=1:g[1]=1;for(var c=0,A=0,v=0;v<3;++v)c+=b[v]*b[v],A+=g[v]*b[v];for(var v=0;v<3;++v)g[v]-=A/c*b[v];return h(g,g),g}function T(b,M,d,x,g,c,A,v){this.center=l(d),this.up=l(x),this.right=l(g),this.radius=l([c]),this.angle=l([A,v]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(b,M),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var D=0;D<16;++D)this.computedMatrix[D]=.5;this.recalcMatrix(0)}var y=T.prototype;y.setDistanceLimits=function(b,M){b>0?b=Math.log(b):b=-1/0,M>0?M=Math.log(M):M=1/0,M=Math.max(M,b),this.radius.bounds[0][0]=b,this.radius.bounds[1][0]=M},y.getDistanceLimits=function(b){var M=this.radius.bounds[0];return b?(b[0]=Math.exp(M[0][0]),b[1]=Math.exp(M[1][0]),b):[Math.exp(M[0][0]),Math.exp(M[1][0])]},y.recalcMatrix=function(b){this.center.curve(b),this.up.curve(b),this.right.curve(b),this.radius.curve(b),this.angle.curve(b);for(var M=this.computedUp,d=this.computedRight,x=0,g=0,c=0;c<3;++c)g+=M[c]*d[c],x+=M[c]*M[c];for(var A=Math.sqrt(x),v=0,c=0;c<3;++c)d[c]-=M[c]*g/x,v+=d[c]*d[c],M[c]/=A;for(var D=Math.sqrt(v),c=0;c<3;++c)d[c]/=D;var E=this.computedToward;f(E,M,d),h(E,E);for(var R=Math.exp(this.computedRadius[0]),N=this.computedAngle[0],F=this.computedAngle[1],I=Math.cos(N),L=Math.sin(N),P=Math.cos(F),O=Math.sin(F),U=this.computedCenter,X=I*P,$=L*P,j=O,Y=-I*O,q=-L*O,K=P,ne=this.computedEye,Q=this.computedMatrix,c=0;c<3;++c){var oe=X*d[c]+$*E[c]+j*M[c];Q[4*c+1]=Y*d[c]+q*E[c]+K*M[c],Q[4*c+2]=oe,Q[4*c+3]=0}var re=Q[1],H=Q[5],ee=Q[9],V=Q[2],te=Q[6],ue=Q[10],ve=H*ue-ee*te,ke=ee*V-re*ue,Se=re*te-H*V,he=_(ve,ke,Se);ve/=he,ke/=he,Se/=he,Q[0]=ve,Q[4]=ke,Q[8]=Se;for(var c=0;c<3;++c)ne[c]=U[c]+Q[2+4*c]*R;for(var c=0;c<3;++c){for(var v=0,Ae=0;Ae<3;++Ae)v+=Q[c+4*Ae]*ne[Ae];Q[12+c]=-v}Q[15]=1},y.getMatrix=function(b,M){this.recalcMatrix(b);var d=this.computedMatrix;if(M){for(var x=0;x<16;++x)M[x]=d[x];return M}return d};var k=[0,0,0];y.rotate=function(b,M,d,x){if(this.angle.move(b,M,d),x){this.recalcMatrix(b);var g=this.computedMatrix;k[0]=g[2],k[1]=g[6],k[2]=g[10];for(var c=this.computedUp,A=this.computedRight,v=this.computedToward,D=0;D<3;++D)g[4*D]=c[D],g[4*D+1]=A[D],g[4*D+2]=v[D];s(g,g,x,k);for(var D=0;D<3;++D)c[D]=g[4*D],A[D]=g[4*D+1];this.up.set(b,c[0],c[1],c[2]),this.right.set(b,A[0],A[1],A[2])}},y.pan=function(b,M,d,x){M=M||0,d=d||0,x=x||0,this.recalcMatrix(b);var g=this.computedMatrix,c=Math.exp(this.computedRadius[0]),A=g[1],v=g[5],D=g[9],E=_(A,v,D);A/=E,v/=E,D/=E;var R=g[0],N=g[4],F=g[8],I=R*A+N*v+F*D;R-=A*I,N-=v*I,F-=D*I;var L=_(R,N,F);R/=L,N/=L,F/=L;var P=R*M+A*d,O=N*M+v*d,U=F*M+D*d;this.center.move(b,P,O,U);var X=Math.exp(this.computedRadius[0]);X=Math.max(1e-4,X+x),this.radius.set(b,Math.log(X))},y.translate=function(b,M,d,x){this.center.move(b,M||0,d||0,x||0)},y.setMatrix=function(b,M,d,x){var g=1;typeof d=="number"&&(g=d|0),(g<0||g>3)&&(g=1);var c=(g+2)%3,A=(g+1)%3;M||(this.recalcMatrix(b),M=this.computedMatrix);var v=M[g],D=M[g+4],E=M[g+8];if(x){var N=Math.abs(v),F=Math.abs(D),I=Math.abs(E),L=Math.max(N,F,I);N===L?(v=v<0?-1:1,D=E=0):I===L?(E=E<0?-1:1,v=D=0):(D=D<0?-1:1,v=E=0)}else{var R=_(v,D,E);v/=R,D/=R,E/=R}var P=M[c],O=M[c+4],U=M[c+8],X=P*v+O*D+U*E;P-=v*X,O-=D*X,U-=E*X;var $=_(P,O,U);P/=$,O/=$,U/=$;var j=D*U-E*O,Y=E*P-v*U,q=v*O-D*P,K=_(j,Y,q);j/=K,Y/=K,q/=K,this.center.jump(b,Ue,ge,we),this.radius.idle(b),this.up.jump(b,v,D,E),this.right.jump(b,P,O,U);var ne,Q;if(g===2){var oe=M[1],re=M[5],H=M[9],ee=oe*P+re*O+H*U,V=oe*j+re*Y+H*q;ke<0?ne=-Math.PI/2:ne=Math.PI/2,Q=Math.atan2(V,ee)}else{var te=M[2],ue=M[6],ve=M[10],ke=te*v+ue*D+ve*E,Se=te*P+ue*O+ve*U,he=te*j+ue*Y+ve*q;ne=Math.asin(m(ke)),Q=Math.atan2(he,Se)}this.angle.jump(b,Q,ne),this.recalcMatrix(b);var Ae=M[2],Ce=M[6],Pe=M[10],Ee=this.computedMatrix;u(Ee,M);var Ne=Ee[15],Ue=Ee[12]/Ne,ge=Ee[13]/Ne,we=Ee[14]/Ne,Te=Math.exp(this.computedRadius[0]);this.center.jump(b,Ue-Ae*Te,ge-Ce*Te,we-Pe*Te)},y.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},y.idle=function(b){this.center.idle(b),this.up.idle(b),this.right.idle(b),this.radius.idle(b),this.angle.idle(b)},y.flush=function(b){this.center.flush(b),this.up.flush(b),this.right.flush(b),this.radius.flush(b),this.angle.flush(b)},y.setDistance=function(b,M){M>0&&this.radius.set(b,Math.log(M))},y.lookAt=function(b,M,d,x){this.recalcMatrix(b),M=M||this.computedEye,d=d||this.computedCenter,x=x||this.computedUp;var g=x[0],c=x[1],A=x[2],v=_(g,c,A);if(!(v<1e-6)){g/=v,c/=v,A/=v;var D=M[0]-d[0],E=M[1]-d[1],R=M[2]-d[2],N=_(D,E,R);if(!(N<1e-6)){D/=N,E/=N,R/=N;var F=this.computedRight,I=F[0],L=F[1],P=F[2],O=g*I+c*L+A*P;I-=O*g,L-=O*c,P-=O*A;var U=_(I,L,P);if(!(U<.01&&(I=c*R-A*E,L=A*D-g*R,P=g*E-c*D,U=_(I,L,P),U<1e-6))){I/=U,L/=U,P/=U,this.up.set(b,g,c,A),this.right.set(b,I,L,P),this.center.set(b,d[0],d[1],d[2]),this.radius.set(b,Math.log(N));var X=c*P-A*L,$=A*I-g*P,j=g*L-c*I,Y=_(X,$,j);X/=Y,$/=Y,j/=Y;var q=g*D+c*E+A*R,K=I*D+L*E+P*R,ne=X*D+$*E+j*R,Q=Math.asin(m(q)),oe=Math.atan2(ne,K),re=this.angle._state,H=re[re.length-1],ee=re[re.length-2];H=H%(2*Math.PI);var V=Math.abs(H+2*Math.PI-oe),te=Math.abs(H-oe),ue=Math.abs(H-2*Math.PI-oe);V<te&&(H+=2*Math.PI),ue<te&&(H-=2*Math.PI),this.angle.jump(this.angle.lastT(),H,ee),this.angle.set(b,oe,Q)}}}};function S(b){b=b||{};var M=b.center||[0,0,0],d=b.up||[0,1,0],x=b.right||w(d),g=b.radius||1,c=b.theta||0,A=b.phi||0;if(M=[].slice.call(M,0,3),d=[].slice.call(d,0,3),h(d,d),x=[].slice.call(x,0,3),h(x,x),"eye"in b){var v=b.eye,D=[v[0]-M[0],v[1]-M[1],v[2]-M[2]];f(x,D,d),_(x[0],x[1],x[2])<1e-6?x=w(d):h(x,x),g=_(D[0],D[1],D[2]);var E=p(d,D)/g,R=p(x,D)/g;A=Math.acos(E),c=Math.acos(R)}return g=Math.log(g),new T(b.zoomMin,b.zoomMax,M,d,x,g,c,A)}},7319:function(a,o,i){var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),h=l([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),p=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];o.createShader=function(_){return u(_,s,f,null,p)},o.createPickShader=function(_){return u(_,s,h,null,p)}},7352:function(a,o,i){"use strict";var l=i(5721),u=i(4750),s=i(2690);a.exports=f;function f(h){var p=h.length;if(p===0)return[];if(p===1)return[[0]];var _=h[0].length;return _===0?[]:_===1?l(h):_===2?u(h):s(h,_)}},7399:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],h=l[3],p=u+u,_=s+s,m=f+f,w=u*p,T=s*p,y=s*_,k=f*p,S=f*_,b=f*m,M=h*p,d=h*_,x=h*m;return i[0]=1-y-b,i[1]=T+x,i[2]=k-d,i[3]=0,i[4]=T-x,i[5]=1-w-b,i[6]=S+M,i[7]=0,i[8]=k+d,i[9]=S-M,i[10]=1-w-y,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},7417:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.max(l[0],u[0]),i[1]=Math.max(l[1],u[1]),i[2]=Math.max(l[2],u[2]),i}},7442:function(a,o,i){var l=i(6658),u=i(7182),s=i(2652),f=i(9921),h=i(8648),p=T(),_=T(),m=T();a.exports=w;function w(S,b,M,d){if(f(b)===0||f(M)===0)return!1;var x=s(b,p.translate,p.scale,p.skew,p.perspective,p.quaternion),g=s(M,_.translate,_.scale,_.skew,_.perspective,_.quaternion);return!x||!g?!1:(l(m.translate,p.translate,_.translate,d),l(m.skew,p.skew,_.skew,d),l(m.scale,p.scale,_.scale,d),l(m.perspective,p.perspective,_.perspective,d),h(m.quaternion,p.quaternion,_.quaternion,d),u(S,m.translate,m.scale,m.skew,m.perspective,m.quaternion),!0)}function T(){return{translate:y(),scale:y(1),skew:y(),perspective:k(),quaternion:k()}}function y(S){return[S||0,S||0,S||0]}function k(){return[0,0,0,1]}},7507:function(a,o){"use strict";o.byteLength=_,o.toByteArray=w,o.fromByteArray=k;for(var i=[],l=[],u=typeof Uint8Array!="undefined"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,h=s.length;f<h;++f)i[f]=s[f],l[s.charCodeAt(f)]=f;l[45]=62,l[95]=63;function p(S){var b=S.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=S.indexOf("=");M===-1&&(M=b);var d=M===b?0:4-M%4;return[M,d]}function _(S){var b=p(S),M=b[0],d=b[1];return(M+d)*3/4-d}function m(S,b,M){return(b+M)*3/4-M}function w(S){var b,M=p(S),d=M[0],x=M[1],g=new u(m(S,d,x)),c=0,A=x>0?d-4:d,v;for(v=0;v<A;v+=4)b=l[S.charCodeAt(v)]<<18|l[S.charCodeAt(v+1)]<<12|l[S.charCodeAt(v+2)]<<6|l[S.charCodeAt(v+3)],g[c++]=b>>16&255,g[c++]=b>>8&255,g[c++]=b&255;return x===2&&(b=l[S.charCodeAt(v)]<<2|l[S.charCodeAt(v+1)]>>4,g[c++]=b&255),x===1&&(b=l[S.charCodeAt(v)]<<10|l[S.charCodeAt(v+1)]<<4|l[S.charCodeAt(v+2)]>>2,g[c++]=b>>8&255,g[c++]=b&255),g}function T(S){return i[S>>18&63]+i[S>>12&63]+i[S>>6&63]+i[S&63]}function y(S,b,M){for(var d,x=[],g=b;g<M;g+=3)d=(S[g]<<16&16711680)+(S[g+1]<<8&65280)+(S[g+2]&255),x.push(T(d));return x.join("")}function k(S){for(var b,M=S.length,d=M%3,x=[],g=16383,c=0,A=M-d;c<A;c+=g)x.push(y(S,c,c+g>A?A:c+g));return d===1?(b=S[M-1],x.push(i[b>>2]+i[b<<4&63]+"==")):d===2&&(b=(S[M-2]<<8)+S[M-1],x.push(i[b>>10]+i[b>>4&63]+i[b<<2&63]+"=")),x.join("")}},7518:function(a,o,i){"use strict";var l=i(1433);function u(h,p,_,m,w,T){this.location=h,this.dimension=p,this.a=_,this.b=m,this.c=w,this.d=T}u.prototype.bind=function(h){switch(this.dimension){case 1:h.vertexAttrib1f(this.location,this.a);break;case 2:h.vertexAttrib2f(this.location,this.a,this.b);break;case 3:h.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:h.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function s(h,p,_){this.gl=h,this._ext=p,this.handle=_,this._attribs=[],this._useElements=!1,this._elementsType=h.UNSIGNED_SHORT}s.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var h=0;h<this._attribs.length;++h)this._attribs[h].bind(this.gl)},s.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},s.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},s.prototype.update=function(h,p,_){if(this.bind(),l(this.gl,p,h),this.unbind(),this._attribs.length=0,h)for(var m=0;m<h.length;++m){var w=h[m];typeof w=="number"?this._attribs.push(new u(m,1,w)):Array.isArray(w)&&this._attribs.push(new u(m,w.length,w[0],w[1],w[2],w[3]))}this._useElements=!!p,this._elementsType=_||this.gl.UNSIGNED_SHORT},s.prototype.draw=function(h,p,_){_=_||0;var m=this.gl;this._useElements?m.drawElements(h,p,this._elementsType,_):m.drawArrays(h,_,p)};function f(h,p){return new s(h,p,p.createVertexArrayOES())}a.exports=f},7520:function(a,o,i){"use strict";var l=i(9507);function u(){var s=!1;try{var f=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch(h){s=!1}return s}a.exports=l&&u()},7536:function(a){a.exports=o;function o(){var i=new Float32Array(4);return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}},7608:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],h=l[3],p=l[4],_=l[5],m=l[6],w=l[7],T=l[8],y=l[9],k=l[10],S=l[11],b=l[12],M=l[13],d=l[14],x=l[15],g=u*_-s*p,c=u*m-f*p,A=u*w-h*p,v=s*m-f*_,D=s*w-h*_,E=f*w-h*m,R=T*M-y*b,N=T*d-k*b,F=T*x-S*b,I=y*d-k*M,L=y*x-S*M,P=k*x-S*d,O=g*P-c*L+A*I+v*F-D*N+E*R;return O?(O=1/O,i[0]=(_*P-m*L+w*I)*O,i[1]=(f*L-s*P-h*I)*O,i[2]=(M*E-d*D+x*v)*O,i[3]=(k*D-y*E-S*v)*O,i[4]=(m*F-p*P-w*N)*O,i[5]=(u*P-f*F+h*N)*O,i[6]=(d*A-b*E-x*c)*O,i[7]=(T*E-k*A+S*c)*O,i[8]=(p*L-_*F+w*R)*O,i[9]=(s*F-u*L-h*R)*O,i[10]=(b*D-M*A+x*g)*O,i[11]=(y*A-T*D-S*g)*O,i[12]=(_*N-p*I-m*R)*O,i[13]=(u*I-s*N+f*R)*O,i[14]=(M*c-b*v-d*g)*O,i[15]=(T*v-y*c+k*g)*O,i):null}},7626:function(a,o,i){"use strict";var l=i(2642),u=i(9346);a.exports=_;function s(m,w){for(var T=[0,0,0,0],y=0;y<4;++y)for(var k=0;k<4;++k)T[k]+=m[4*y+k]*w[y];return T}function f(m,w,T,y,k){for(var S=s(y,s(T,s(w,[m[0],m[1],m[2],1]))),b=0;b<3;++b)S[b]/=S[3];return[.5*k[0]*(1+S[0]),.5*k[1]*(1-S[1])]}function h(m,w){if(m.length===2){for(var T=0,y=0,k=0;k<2;++k)T+=Math.pow(w[k]-m[0][k],2),y+=Math.pow(w[k]-m[1][k],2);return T=Math.sqrt(T),y=Math.sqrt(y),T+y<1e-6?[1,0]:[y/(T+y),T/(y+T)]}else if(m.length===3){var S=[0,0];return u(m[0],m[1],m[2],w,S),l(m,S)}return[]}function p(m,w){for(var T=[0,0,0],y=0;y<m.length;++y)for(var k=m[y],S=w[y],b=0;b<3;++b)T[b]+=S*k[b];return T}function _(m,w,T,y,k,S){if(m.length===1)return[0,m[0].slice()];for(var b=new Array(m.length),M=0;M<m.length;++M)b[M]=f(m[M],T,y,k,S);for(var d=0,x=1/0,M=0;M<b.length;++M){for(var g=0,c=0;c<2;++c)g+=Math.pow(b[M][c]-w[c],2);g<x&&(x=g,d=M)}for(var A=h(b,w),v=0,M=0;M<3;++M){if(A[M]<-.001||A[M]>1.0001)return null;v+=A[M]}return Math.abs(v-1)>.001?null:[d,p(m,A),A]}},7636:function(a){a.exports=o;function o(i,l){l=l||1;var u=Math.random()*2*Math.PI,s=Math.random()*2-1,f=Math.sqrt(1-s*s)*l;return i[0]=Math.cos(u)*f,i[1]=Math.sin(u)*f,i[2]=s*l,i}},7640:function(a,o,i){"use strict";var l=i(1888);function u(w){switch(w){case"uint32":return[l.mallocUint32,l.freeUint32];default:return null}}var s={"uint32,1,0":function(w,T){return function(k,S,b,M,d,x,g,c,A,v,D){var E,R,N,F=k*d+M,I,L=w(c),P,O,U,X;for(E=k+1;E<=S;++E){for(R=E,F+=d,N=F,P=0,O=F,I=0;I<c;++I)L[P++]=b[O],O+=A;e:for(;R-- >k;){P=0,O=N-d;r:for(I=0;I<c;++I){if(U=b[O],X=L[P],U<X)break e;if(U>X)break r;O+=v,P+=D}for(P=N,O=N-d,I=0;I<c;++I)b[P]=b[O],P+=A,O+=A;N-=d}for(P=N,O=0,I=0;I<c;++I)b[P]=L[O++],P+=A}T(L)}}};function f(w,T){var y=u(T),k=[T,w].join(","),S=s[k];return y?S(y[0],y[1]):S()}var h={"uint32,1,0":function(w,T,y){return function k(S,b,M,d,x,g,c,A,v,D,E){var R=(b-S+1)/6|0,N=S+R,F=b-R,I=S+b>>1,L=I-R,P=I+R,O=N,U=L,X=I,$=P,j=F,Y=S+1,q=b-1,K=!0,ne,Q,oe,re,H,ee,V,te,ue,ve=0,ke=0,Se=0,he,Ae,Ce,Pe,Ee,Ne,Ue,ge,we,Te,me,ye,pe,ce,be,Le,qe=A,ze=T(qe),$e=T(qe);Ae=x*O,Ce=x*U,Le=d;e:for(he=0;he<A;++he){if(V=Ae+Le,te=Ce+Le,Se=M[V]-M[te],Se>0){Q=O,O=U,U=Q;break e}if(Se<0)break e;Le+=D}Ae=x*$,Ce=x*j,Le=d;e:for(he=0;he<A;++he){if(V=Ae+Le,te=Ce+Le,Se=M[V]-M[te],Se>0){Q=$,$=j,j=Q;break e}if(Se<0)break e;Le+=D}Ae=x*O,Ce=x*X,Le=d;e:for(he=0;he<A;++he){if(V=Ae+Le,te=Ce+Le,Se=M[V]-M[te],Se>0){Q=O,O=X,X=Q;break e}if(Se<0)break e;Le+=D}Ae=x*U,Ce=x*X,Le=d;e:for(he=0;he<A;++he){if(V=Ae+Le,te=Ce+Le,Se=M[V]-M[te],Se>0){Q=U,U=X,X=Q;break e}if(Se<0)break e;Le+=D}Ae=x*O,Ce=x*$,Le=d;e:for(he=0;he<A;++he){if(V=Ae+Le,te=Ce+Le,Se=M[V]-M[te],Se>0){Q=O,O=$,$=Q;break e}if(Se<0)break e;Le+=D}Ae=x*X,Ce=x*$,Le=d;e:for(he=0;he<A;++he){if(V=Ae+Le,te=Ce+Le,Se=M[V]-M[te],Se>0){Q=X,X=$,$=Q;break e}if(Se<0)break e;Le+=D}Ae=x*U,Ce=x*j,Le=d;e:for(he=0;he<A;++he){if(V=Ae+Le,te=Ce+Le,Se=M[V]-M[te],Se>0){Q=U,U=j,j=Q;break e}if(Se<0)break e;Le+=D}Ae=x*U,Ce=x*X,Le=d;e:for(he=0;he<A;++he){if(V=Ae+Le,te=Ce+Le,Se=M[V]-M[te],Se>0){Q=U,U=X,X=Q;break e}if(Se<0)break e;Le+=D}Ae=x*$,Ce=x*j,Le=d;e:for(he=0;he<A;++he){if(V=Ae+Le,te=Ce+Le,Se=M[V]-M[te],Se>0){Q=$,$=j,j=Q;break e}if(Se<0)break e;Le+=D}for(Ae=x*O,Ce=x*U,Pe=x*X,Ee=x*$,Ne=x*j,Ue=x*N,ge=x*I,we=x*F,be=0,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,ue=Pe+Le,Te=Ee+Le,me=Ne+Le,ye=Ue+Le,pe=ge+Le,ce=we+Le,ze[be]=M[te],$e[be]=M[Te],K=K&&ze[be]===$e[be],oe=M[V],re=M[ue],H=M[me],M[ye]=oe,M[pe]=re,M[ce]=H,++be,Le+=v;for(Ae=x*L,Ce=x*S,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,M[V]=M[te],Le+=v;for(Ae=x*P,Ce=x*b,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,M[V]=M[te],Le+=v;if(K)for(ee=Y;ee<=q;++ee){V=d+ee*x,be=0;e:for(he=0;he<A;++he){if(Se=M[V]-ze[be],Se!==0)break e;be+=E,V+=D}if(Se!==0)if(Se<0){if(ee!==Y)for(Ae=x*ee,Ce=x*Y,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,ne=M[V],M[V]=M[te],M[te]=ne,Le+=v;++Y}else for(;;){V=d+q*x,be=0;e:for(he=0;he<A;++he){if(Se=M[V]-ze[be],Se!==0)break e;be+=E,V+=D}if(Se>0)q--;else if(Se<0){for(Ae=x*ee,Ce=x*Y,Pe=x*q,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,ue=Pe+Le,ne=M[V],M[V]=M[te],M[te]=M[ue],M[ue]=ne,Le+=v;++Y,--q;break}else{for(Ae=x*ee,Ce=x*q,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,ne=M[V],M[V]=M[te],M[te]=ne,Le+=v;--q;break}}}else for(ee=Y;ee<=q;++ee){V=d+ee*x,be=0;e:for(he=0;he<A;++he){if(ve=M[V]-ze[be],ve!==0)break e;be+=E,V+=D}if(ve<0){if(ee!==Y)for(Ae=x*ee,Ce=x*Y,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,ne=M[V],M[V]=M[te],M[te]=ne,Le+=v;++Y}else{V=d+ee*x,be=0;e:for(he=0;he<A;++he){if(ke=M[V]-$e[be],ke!==0)break e;be+=E,V+=D}if(ke>0)for(;;){V=d+q*x,be=0;e:for(he=0;he<A;++he){if(Se=M[V]-$e[be],Se!==0)break e;be+=E,V+=D}if(Se>0){if(--q<ee)break;continue}else{V=d+q*x,be=0;e:for(he=0;he<A;++he){if(Se=M[V]-ze[be],Se!==0)break e;be+=E,V+=D}if(Se<0){for(Ae=x*ee,Ce=x*Y,Pe=x*q,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,ue=Pe+Le,ne=M[V],M[V]=M[te],M[te]=M[ue],M[ue]=ne,Le+=v;++Y,--q}else{for(Ae=x*ee,Ce=x*q,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,ne=M[V],M[V]=M[te],M[te]=ne,Le+=v;--q}break}}}}for(Ae=x*S,Ce=x*(Y-1),be=0,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,M[V]=M[te],M[te]=ze[be],++be,Le+=v;for(Ae=x*b,Ce=x*(q+1),be=0,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,M[V]=M[te],M[te]=$e[be],++be,Le+=v;if(Y-2-S<=32?w(S,Y-2,M,d,x,g,c,A,v,D,E):k(S,Y-2,M,d,x,g,c,A,v,D,E),b-(q+2)<=32?w(q+2,b,M,d,x,g,c,A,v,D,E):k(q+2,b,M,d,x,g,c,A,v,D,E),K){y(ze),y($e);return}if(Y<N&&q>F){e:for(;;){for(V=d+Y*x,be=0,Le=d,he=0;he<A;++he){if(M[V]!==ze[be])break e;++be,V+=v}++Y}e:for(;;){for(V=d+q*x,be=0,Le=d,he=0;he<A;++he){if(M[V]!==$e[be])break e;++be,V+=v}--q}for(ee=Y;ee<=q;++ee){V=d+ee*x,be=0;e:for(he=0;he<A;++he){if(ve=M[V]-ze[be],ve!==0)break e;be+=E,V+=D}if(ve===0){if(ee!==Y)for(Ae=x*ee,Ce=x*Y,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,ne=M[V],M[V]=M[te],M[te]=ne,Le+=v;++Y}else{V=d+ee*x,be=0;e:for(he=0;he<A;++he){if(ke=M[V]-$e[be],ke!==0)break e;be+=E,V+=D}if(ke===0)for(;;){V=d+q*x,be=0;e:for(he=0;he<A;++he){if(Se=M[V]-$e[be],Se!==0)break e;be+=E,V+=D}if(Se===0){if(--q<ee)break;continue}else{V=d+q*x,be=0;e:for(he=0;he<A;++he){if(Se=M[V]-ze[be],Se!==0)break e;be+=E,V+=D}if(Se<0){for(Ae=x*ee,Ce=x*Y,Pe=x*q,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,ue=Pe+Le,ne=M[V],M[V]=M[te],M[te]=M[ue],M[ue]=ne,Le+=v;++Y,--q}else{for(Ae=x*ee,Ce=x*q,Le=d,he=0;he<A;++he)V=Ae+Le,te=Ce+Le,ne=M[V],M[V]=M[te],M[te]=ne,Le+=v;--q}break}}}}}y(ze),y($e),q-Y<=32?w(Y,q,M,d,x,g,c,A,v,D,E):k(Y,q,M,d,x,g,c,A,v,D,E)}}};function p(w,T,y){var k=u(T),S=[T,w].join(","),b=h[S];return w.length>1&&k?b(y,k[0],k[1]):b(y)}var _={"uint32,1,0":function(w,T){return function(y){var k=y.data,S=y.offset|0,b=y.shape,M=y.stride,d=M[0]|0,x=b[0]|0,g=M[1]|0,c=b[1]|0,A=g,v=g,D=1;x<=32?w(0,x-1,k,S,d,g,x,c,A,v,D):T(0,x-1,k,S,d,g,x,c,A,v,D)}}};function m(w,T){var y=[T,w].join(","),k=_[y],S=f(w,T),b=p(w,T,S);return k(S,b)}a.exports=m},7642:function(a,o,i){"use strict";var l=i(8954),u=i(1682);a.exports=p;function s(_,m){this.point=_,this.index=m}function f(_,m){for(var w=_.point,T=m.point,y=w.length,k=0;k<y;++k){var S=T[k]-w[k];if(S)return S}return 0}function h(_,m,w){if(_===1)return w?[[-1,0]]:[];var T=m.map(function(M,d){return[M[0],d]});T.sort(function(M,d){return M[0]-d[0]});for(var y=new Array(_-1),k=1;k<_;++k){var S=T[k-1],b=T[k];y[k-1]=[S[1],b[1]]}return w&&y.push([-1,y[0][1]],[y[_-1][1],-1]),y}function p(_,m){var w=_.length;if(w===0)return[];var T=_[0].length;if(T<1)return[];if(T===1)return h(w,_,m);for(var y=new Array(w),k=1,S=0;S<w;++S){for(var b=_[S],M=new Array(T+1),d=0,x=0;x<T;++x){var g=b[x];M[x]=g,d+=g*g}M[T]=d,y[S]=new s(M,S),k=Math.max(d,k)}u(y,f),w=y.length;for(var c=new Array(w+T+1),A=new Array(w+T+1),v=(T+1)*(T+1)*k,D=new Array(T+1),S=0;S<=T;++S)D[S]=0;D[T]=v,c[0]=D.slice(),A[0]=-1;for(var S=0;S<=T;++S){var M=D.slice();M[S]=1,c[S+1]=M,A[S+1]=-1}for(var S=0;S<w;++S){var E=y[S];c[S+T+1]=E.point,A[S+T+1]=E.index}var R=l(c,!1);if(m?R=R.filter(function(N){for(var F=0,I=0;I<=T;++I){var L=A[N[I]];if(L<0&&++F>=2)return!1;N[I]=L}return!0}):R=R.filter(function(N){for(var F=0;F<=T;++F){var I=A[N[F]];if(I<0)return!1;N[F]=I}return!0}),T&1)for(var S=0;S<R.length;++S){var E=R[S],M=E[0];E[0]=E[1],E[1]=M}return R}},7656:function(a){a.exports=o;function o(i,l,u){var s=u[0],f=u[1],h=u[2],p,_,m,w,T,y,k,S,b,M,d,x;return l===i?(i[12]=l[0]*s+l[4]*f+l[8]*h+l[12],i[13]=l[1]*s+l[5]*f+l[9]*h+l[13],i[14]=l[2]*s+l[6]*f+l[10]*h+l[14],i[15]=l[3]*s+l[7]*f+l[11]*h+l[15]):(p=l[0],_=l[1],m=l[2],w=l[3],T=l[4],y=l[5],k=l[6],S=l[7],b=l[8],M=l[9],d=l[10],x=l[11],i[0]=p,i[1]=_,i[2]=m,i[3]=w,i[4]=T,i[5]=y,i[6]=k,i[7]=S,i[8]=b,i[9]=M,i[10]=d,i[11]=x,i[12]=p*s+T*f+b*h+l[12],i[13]=_*s+y*f+M*h+l[13],i[14]=m*s+k*f+d*h+l[14],i[15]=w*s+S*f+x*h+l[15]),i}},7718:function(a,o,i){a.exports=E,a.exports.processPixels=D;var l=i(3711),u=i(9618),s=i(5878),f=i(332),h=i(2538),p=i(2095),_="b",m="b|",w="i",T="i|",y="sup",k="+",S="+1",b="sub",M="-",d="-1";function x(R,N,F,I){for(var L="<"+R+">",P="</"+R+">",O=L.length,U=P.length,X=N[0]===k||N[0]===M,$=0,j=-U;$>-1&&($=F.indexOf(L,$),!($===-1||(j=F.indexOf(P,$+O),j===-1)||j<=$));){for(var Y=$;Y<j+U;++Y)if(Y<$+O||Y>=j)I[Y]=null,F=F.substr(0,Y)+" "+F.substr(Y+1);else if(I[Y]!==null){var q=I[Y].indexOf(N[0]);q===-1?I[Y]+=N:X&&(I[Y]=I[Y].substr(0,q+1)+(1+parseInt(I[Y][q+1]))+I[Y].substr(q+2))}var K=$+O,ne=F.substr(K,j-K),Q=ne.indexOf(L);Q!==-1?$=Q:$=j+U}return I}function g(R,N,F){for(var I=N.textAlign||"start",L=N.textBaseline||"alphabetic",P=[1<<30,1<<30],O=[0,0],U=R.length,X=0;X<U;++X)for(var $=R[X],j=0;j<2;++j)P[j]=Math.min(P[j],$[j])|0,O[j]=Math.max(O[j],$[j])|0;var Y=0;switch(I){case"center":Y=-.5*(P[0]+O[0]);break;case"right":case"end":Y=-O[0];break;case"left":case"start":Y=-P[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+I+"'")}var q=0;switch(L){case"hanging":case"top":q=-P[1];break;case"middle":q=-.5*(P[1]+O[1]);break;case"alphabetic":case"ideographic":q=-3*F;break;case"bottom":q=-O[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+L+"'")}var K=1/F;return"lineHeight"in N?K*=+N.lineHeight:"width"in N?K=N.width/(O[0]-P[0]):"height"in N&&(K=N.height/(O[1]-P[1])),R.map(function(ne){return[K*(ne[0]+Y),K*(ne[1]+q)]})}function c(R,N,F,I,L,P){F=F.replace(/\n/g,""),P.breaklines===!0?F=F.replace(/\<br\>/g,`
`):F=F.replace(/\<br\>/g," ");var O="",U=[];for(H=0;H<F.length;++H)U[H]=O;P.bolds===!0&&(U=x(_,m,F,U)),P.italics===!0&&(U=x(w,T,F,U)),P.superscripts===!0&&(U=x(y,S,F,U)),P.subscripts===!0&&(U=x(b,d,F,U));var X=[],$="";for(H=0;H<F.length;++H)U[H]!==null&&($+=F[H],X.push(U[H]));var j=$.split(`
`),Y=j.length,q=Math.round(L*I),K=I,ne=I*2,Q=0,oe=Y*q+ne;R.height<oe&&(R.height=oe),N.fillStyle="#000",N.fillRect(0,0,R.width,R.height),N.fillStyle="#fff";var re,H,ee,V,te,ue=0,ve="";function ke(){if(ve!==""){var ge=N.measureText(ve).width;N.fillText(ve,K+ee,ne+V),ee+=ge}}function Se(){return""+Math.round(te)+"px "}function he(ge,we){var Te=""+N.font;if(P.subscripts===!0){var me=ge.indexOf(M),ye=we.indexOf(M),pe=me>-1?parseInt(ge[1+me]):0,ce=ye>-1?parseInt(we[1+ye]):0;pe!==ce&&(Te=Te.replace(Se(),"?px "),te*=Math.pow(.75,ce-pe),Te=Te.replace("?px ",Se())),V+=.25*q*(ce-pe)}if(P.superscripts===!0){var be=ge.indexOf(k),Le=we.indexOf(k),qe=be>-1?parseInt(ge[1+be]):0,ze=Le>-1?parseInt(we[1+Le]):0;qe!==ze&&(Te=Te.replace(Se(),"?px "),te*=Math.pow(.75,ze-qe),Te=Te.replace("?px ",Se())),V-=.25*q*(ze-qe)}if(P.bolds===!0){var $e=ge.indexOf(m)>-1,Ve=we.indexOf(m)>-1;!$e&&Ve&&(Be?Te=Te.replace("italic ","italic bold "):Te="bold "+Te),$e&&!Ve&&(Te=Te.replace("bold ",""))}if(P.italics===!0){var Be=ge.indexOf(T)>-1,Ye=we.indexOf(T)>-1;!Be&&Ye&&(Te="italic "+Te),Be&&!Ye&&(Te=Te.replace("italic ",""))}N.font=Te}for(re=0;re<Y;++re){var Ae=j[re]+`
`;for(ee=0,V=re*q,te=I,ve="",H=0;H<Ae.length;++H){var Ce=H+ue<X.length?X[H+ue]:X[X.length-1];O===Ce?ve+=Ae[H]:(ke(),ve=Ae[H],Ce!==void 0&&(he(O,Ce),O=Ce))}ke(),ue+=Ae.length;var Pe=Math.round(ee+2*K)|0;Q<Pe&&(Q=Pe)}var Ee=Q,Ne=ne+q*Y,Ue=u(N.getImageData(0,0,Ee,Ne).data,[Ne,Ee,4]);return Ue.pick(-1,-1,0).transpose(1,0)}function A(R,N){var F=l(R,128);return N?s(F.cells,F.positions,.25):{edges:F.cells,positions:F.positions}}function v(R,N,F,I){var L=A(R,I),P=g(L.positions,N,F),O=L.edges,U=N.orientation==="ccw";if(f(P,O),N.polygons||N.polygon||N.polyline){for(var X=p(O,P),$=new Array(X.length),j=0;j<X.length;++j){for(var Y=X[j],q=new Array(Y.length),K=0;K<Y.length;++K){for(var ne=Y[K],Q=new Array(ne.length),oe=0;oe<ne.length;++oe)Q[oe]=P[ne[oe]].slice();U&&Q.reverse(),q[K]=Q}$[j]=q}return $}else return N.triangles||N.triangulate||N.triangle?{cells:h(P,O,{delaunay:!1,exterior:!1,interior:!0}),positions:P}:{edges:O,positions:P}}function D(R,N,F){try{return v(R,N,F,!0)}catch(I){}try{return v(R,N,F,!1)}catch(I){}return N.polygons||N.polyline||N.polygon?[]:N.triangles||N.triangulate||N.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function E(R,N,F,I){var L=64,P=1.25,O={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};I&&(I.size&&I.size>0&&(L=I.size),I.lineSpacing&&I.lineSpacing>0&&(P=I.lineSpacing),I.styletags&&I.styletags.breaklines&&(O.breaklines=!!I.styletags.breaklines),I.styletags&&I.styletags.bolds&&(O.bolds=!!I.styletags.bolds),I.styletags&&I.styletags.italics&&(O.italics=!!I.styletags.italics),I.styletags&&I.styletags.subscripts&&(O.subscripts=!!I.styletags.subscripts),I.styletags&&I.styletags.superscripts&&(O.superscripts=!!I.styletags.superscripts)),F.font=[I.fontStyle,I.fontVariant,I.fontWeight,L+"px",I.font].filter(function(X){return X}).join(" "),F.textAlign="start",F.textBaseline="alphabetic",F.direction="ltr";var U=c(N,F,R,L,P,O);return D(U,I,L)}},7721:function(a,o,i){"use strict";var l=i(5716);a.exports=u;function u(s){return l(s[0])*l(s[1])}},7765:function(a,o,i){"use strict";a.exports=y;var l=i(9618),u=i(1888),s=i(446),f=i(1570);function h(k){for(var S=k.length,b=0,M=0;M<S;++M)b=Math.max(b,k[M].length)|0;return b-1}function p(k,S){for(var b=k.length,M=u.mallocUint8(b),d=0;d<b;++d)M[d]=k[d]<S|0;return M}function _(k,S){for(var b=k.length,M=S*(S+1)/2*b|0,d=u.mallocUint32(M*2),x=0,g=0;g<b;++g)for(var c=k[g],S=c.length,A=0;A<S;++A)for(var v=0;v<A;++v){var D=c[v],E=c[A];d[x++]=Math.min(D,E)|0,d[x++]=Math.max(D,E)|0}var R=x/2|0;s(l(d,[R,2]));for(var N=2,g=2;g<x;g+=2)d[g-2]===d[g]&&d[g-1]===d[g+1]||(d[N++]=d[g],d[N++]=d[g+1]);return l(d,[N/2|0,2])}function m(k,S,b,M){for(var d=k.data,x=k.shape[0],g=u.mallocDouble(x),c=0,A=0;A<x;++A){var v=d[2*A],D=d[2*A+1];if(b[v]!==b[D]){var E=S[v],R=S[D];d[2*c]=v,d[2*c+1]=D,g[c++]=(R-M)/(R-E)}}return k.shape[0]=c,l(g,[c])}function w(k,S){var b=u.mallocInt32(S*2),M=k.shape[0],d=k.data;b[0]=0;for(var x=0,g=0;g<M;++g){var c=d[2*g];if(c!==x){for(b[2*x+1]=g;++x<c;)b[2*x]=g,b[2*x+1]=g;b[2*x]=g}}for(b[2*x+1]=M;++x<S;)b[2*x]=b[2*x+1]=M;return b}function T(k){for(var S=k.shape[0]|0,b=k.data,M=new Array(S),d=0;d<S;++d)M[d]=[b[2*d],b[2*d+1]];return M}function y(k,S,b,M){b=b||0,typeof M=="undefined"&&(M=h(k));var d=k.length;if(d===0||M<1)return{cells:[],vertexIds:[],vertexWeights:[]};var x=p(S,+b),g=_(k,M),c=m(g,S,x,+b),A=w(g,S.length|0),v=f(M)(k,g.data,A,x),D=T(g),E=[].slice.call(c.data,0,c.shape[0]);return u.free(x),u.free(g.data),u.free(c.data),u.free(A),{cells:v,vertexIds:D,vertexWeights:E}}},7766:function(a,o,i){"use strict";var l=i(9618),u=i(5298),s=i(1888);a.exports=c;var f=null,h=null,p=null;function _(A){f=[A.LINEAR,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_NEAREST],h=[A.NEAREST,A.LINEAR,A.NEAREST_MIPMAP_NEAREST,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_LINEAR],p=[A.REPEAT,A.CLAMP_TO_EDGE,A.MIRRORED_REPEAT]}function m(A){return typeof HTMLCanvasElement!="undefined"&&A instanceof HTMLCanvasElement||typeof HTMLImageElement!="undefined"&&A instanceof HTMLImageElement||typeof HTMLVideoElement!="undefined"&&A instanceof HTMLVideoElement||typeof ImageData!="undefined"&&A instanceof ImageData}var w=function(A,v){u.muls(A,v,255)};function T(A,v,D){var E=A.gl,R=E.getParameter(E.MAX_TEXTURE_SIZE);if(v<0||v>R||D<0||D>R)throw new Error("gl-texture2d: Invalid texture size");return A._shape=[v,D],A.bind(),E.texImage2D(E.TEXTURE_2D,0,A.format,v,D,0,A.format,A.type,null),A._mipLevels=[0],A}function y(A,v,D,E,R,N){this.gl=A,this.handle=v,this.format=R,this.type=N,this._shape=[D,E],this._mipLevels=[0],this._magFilter=A.NEAREST,this._minFilter=A.NEAREST,this._wrapS=A.CLAMP_TO_EDGE,this._wrapT=A.CLAMP_TO_EDGE,this._anisoSamples=1;var F=this,I=[this._wrapS,this._wrapT];Object.defineProperties(I,[{get:function(){return F._wrapS},set:function(P){return F.wrapS=P}},{get:function(){return F._wrapT},set:function(P){return F.wrapT=P}}]),this._wrapVector=I;var L=[this._shape[0],this._shape[1]];Object.defineProperties(L,[{get:function(){return F._shape[0]},set:function(P){return F.width=P}},{get:function(){return F._shape[1]},set:function(P){return F.height=P}}]),this._shapeVector=L}var k=y.prototype;Object.defineProperties(k,{minFilter:{get:function(){return this._minFilter},set:function(A){this.bind();var v=this.gl;if(this.type===v.FLOAT&&f.indexOf(A)>=0&&(v.getExtension("OES_texture_float_linear")||(A=v.NEAREST)),h.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,A),this._minFilter=A}},magFilter:{get:function(){return this._magFilter},set:function(A){this.bind();var v=this.gl;if(this.type===v.FLOAT&&f.indexOf(A)>=0&&(v.getExtension("OES_texture_float_linear")||(A=v.NEAREST)),h.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,A),this._magFilter=A}},mipSamples:{get:function(){return this._anisoSamples},set:function(A){var v=this._anisoSamples;if(this._anisoSamples=Math.max(A,1)|0,v!==this._anisoSamples){var D=this.gl.getExtension("EXT_texture_filter_anisotropic");D&&this.gl.texParameterf(this.gl.TEXTURE_2D,D.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(A){if(this.bind(),p.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,A),this._wrapS=A}},wrapT:{get:function(){return this._wrapT},set:function(A){if(this.bind(),p.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,A),this._wrapT=A}},wrap:{get:function(){return this._wrapVector},set:function(A){if(Array.isArray(A)||(A=[A,A]),A.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var v=0;v<2;++v)if(p.indexOf(A[v])<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);this._wrapS=A[0],this._wrapT=A[1];var D=this.gl;return this.bind(),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,this._wrapS),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,this._wrapT),A}},shape:{get:function(){return this._shapeVector},set:function(A){if(!Array.isArray(A))A=[A|0,A|0];else if(A.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return T(this,A[0]|0,A[1]|0),[A[0]|0,A[1]|0]}},width:{get:function(){return this._shape[0]},set:function(A){return A=A|0,T(this,A,this._shape[1]),A}},height:{get:function(){return this._shape[1]},set:function(A){return A=A|0,T(this,this._shape[0],A),A}}}),k.bind=function(A){var v=this.gl;return A!==void 0&&v.activeTexture(v.TEXTURE0+(A|0)),v.bindTexture(v.TEXTURE_2D,this.handle),A!==void 0?A|0:v.getParameter(v.ACTIVE_TEXTURE)-v.TEXTURE0},k.dispose=function(){this.gl.deleteTexture(this.handle)},k.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var A=Math.min(this._shape[0],this._shape[1]),v=0;A>0;++v,A>>>=1)this._mipLevels.indexOf(v)<0&&this._mipLevels.push(v)},k.setPixels=function(A,v,D,E){var R=this.gl;this.bind(),Array.isArray(v)?(E=D,D=v[1]|0,v=v[0]|0):(v=v||0,D=D||0),E=E||0;var N=m(A)?A:A.raw;if(N){var F=this._mipLevels.indexOf(E)<0;F?(R.texImage2D(R.TEXTURE_2D,0,this.format,this.format,this.type,N),this._mipLevels.push(E)):R.texSubImage2D(R.TEXTURE_2D,E,v,D,this.format,this.type,N)}else if(A.shape&&A.stride&&A.data){if(A.shape.length<2||v+A.shape[1]>this._shape[1]>>>E||D+A.shape[0]>this._shape[0]>>>E||v<0||D<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");b(R,v,D,E,this.format,this.type,this._mipLevels,A)}else throw new Error("gl-texture2d: Unsupported data type")};function S(A,v){return A.length===3?v[2]===1&&v[1]===A[0]*A[2]&&v[0]===A[2]:v[0]===1&&v[1]===A[0]}function b(A,v,D,E,R,N,F,I){var L=I.dtype,P=I.shape.slice();if(P.length<2||P.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var O=0,U=0,X=S(P,I.stride.slice());L==="float32"?O=A.FLOAT:L==="float64"?(O=A.FLOAT,X=!1,L="float32"):L==="uint8"?O=A.UNSIGNED_BYTE:(O=A.UNSIGNED_BYTE,X=!1,L="uint8");var $=1;if(P.length===2)U=A.LUMINANCE,P=[P[0],P[1],1],I=l(I.data,P,[I.stride[0],I.stride[1],1],I.offset);else if(P.length===3){if(P[2]===1)U=A.ALPHA;else if(P[2]===2)U=A.LUMINANCE_ALPHA;else if(P[2]===3)U=A.RGB;else if(P[2]===4)U=A.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");$=P[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((U===A.LUMINANCE||U===A.ALPHA)&&(R===A.LUMINANCE||R===A.ALPHA)&&(U=R),U!==R)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var j=I.size,Y=F.indexOf(E)<0;if(Y&&F.push(E),O===N&&X)I.offset===0&&I.data.length===j?Y?A.texImage2D(A.TEXTURE_2D,E,R,P[0],P[1],0,R,N,I.data):A.texSubImage2D(A.TEXTURE_2D,E,v,D,P[0],P[1],R,N,I.data):Y?A.texImage2D(A.TEXTURE_2D,E,R,P[0],P[1],0,R,N,I.data.subarray(I.offset,I.offset+j)):A.texSubImage2D(A.TEXTURE_2D,E,v,D,P[0],P[1],R,N,I.data.subarray(I.offset,I.offset+j));else{var q;N===A.FLOAT?q=s.mallocFloat32(j):q=s.mallocUint8(j);var K=l(q,P,[P[2],P[2]*P[0],1]);O===A.FLOAT&&N===A.UNSIGNED_BYTE?w(K,I):u.assign(K,I),Y?A.texImage2D(A.TEXTURE_2D,E,R,P[0],P[1],0,R,N,q.subarray(0,j)):A.texSubImage2D(A.TEXTURE_2D,E,v,D,P[0],P[1],R,N,q.subarray(0,j)),N===A.FLOAT?s.freeFloat32(q):s.freeUint8(q)}}function M(A){var v=A.createTexture();return A.bindTexture(A.TEXTURE_2D,v),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),v}function d(A,v,D,E,R){var N=A.getParameter(A.MAX_TEXTURE_SIZE);if(v<0||v>N||D<0||D>N)throw new Error("gl-texture2d: Invalid texture shape");if(R===A.FLOAT&&!A.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var F=M(A);return A.texImage2D(A.TEXTURE_2D,0,E,v,D,0,E,R,null),new y(A,F,v,D,E,R)}function x(A,v,D,E,R,N){var F=M(A);return A.texImage2D(A.TEXTURE_2D,0,R,R,N,v),new y(A,F,D,E,R,N)}function g(A,v){var D=v.dtype,E=v.shape.slice(),R=A.getParameter(A.MAX_TEXTURE_SIZE);if(E[0]<0||E[0]>R||E[1]<0||E[1]>R)throw new Error("gl-texture2d: Invalid texture size");var N=S(E,v.stride.slice()),F=0;D==="float32"?F=A.FLOAT:D==="float64"?(F=A.FLOAT,N=!1,D="float32"):D==="uint8"?F=A.UNSIGNED_BYTE:(F=A.UNSIGNED_BYTE,N=!1,D="uint8");var I=0;if(E.length===2)I=A.LUMINANCE,E=[E[0],E[1],1],v=l(v.data,E,[v.stride[0],v.stride[1],1],v.offset);else if(E.length===3)if(E[2]===1)I=A.ALPHA;else if(E[2]===2)I=A.LUMINANCE_ALPHA;else if(E[2]===3)I=A.RGB;else if(E[2]===4)I=A.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");F===A.FLOAT&&!A.getExtension("OES_texture_float")&&(F=A.UNSIGNED_BYTE,N=!1);var L,P,O=v.size;if(N)v.offset===0&&v.data.length===O?L=v.data:L=v.data.subarray(v.offset,v.offset+O);else{var U=[E[2],E[2]*E[0],1];P=s.malloc(O,D);var X=l(P,E,U,0);(D==="float32"||D==="float64")&&F===A.UNSIGNED_BYTE?w(X,v):u.assign(X,v),L=P.subarray(0,O)}var $=M(A);return A.texImage2D(A.TEXTURE_2D,0,I,E[0],E[1],0,I,F,L),N||s.free(P),new y(A,$,E[0],E[1],I,F)}function c(A){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||_(A),typeof arguments[1]=="number")return d(A,arguments[1],arguments[2],arguments[3]||A.RGBA,arguments[4]||A.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return d(A,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var v=arguments[1],D=m(v)?v:v.raw;if(D)return x(A,D,v.width|0,v.height|0,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(v.shape&&v.data&&v.stride)return g(A,v)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},7790:function(){},7815:function(a,o,i){"use strict";var l=i(2931),u=i(9970),s=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(b,M,d,x){for(var g=b.points,c=b.velocities,A=b.divergences,v=[],D=[],E=[],R=[],N=[],F=[],I=0,L=0,P=u.create(),O=u.create(),U=8,X=0;X<g.length;X++){var $=g[X],j=c[X],Y=A[X];M===0&&(Y=d*.05),L=l.length(j)/x,P=u.create(),l.copy(P,j),P[3]=Y;for(var q=0;q<U;q++)N[q]=[$[0],$[1],$[2],q];if(R.length>0)for(var q=0;q<U;q++){var K=(q+1)%U;v.push(R[q],N[q],N[K],N[K],R[K],R[q]),E.push(O,P,P,P,O,O),F.push(I,L,L,L,I,I);var ne=v.length;D.push([ne-6,ne-5,ne-4],[ne-3,ne-2,ne-1])}var Q=R;R=N,N=Q;var oe=O;O=P,P=oe;var re=I;I=L,L=re}return{positions:v,cells:D,vectors:E,vertexIntensity:F}},h=function(b,M,d,x){for(var g=0,c=0;c<b.length;c++)for(var A=b[c].velocities,v=0;v<A.length;v++)g=Math.max(g,l.length(A[v]));for(var D=b.map(function(X){return f(X,d,x,g)}),E=[],R=[],N=[],F=[],c=0;c<D.length;c++){var I=D[c],L=E.length;E=E.concat(I.positions),N=N.concat(I.vectors),F=F.concat(I.vertexIntensity);for(var v=0;v<I.cells.length;v++){var P=I.cells[v],O=[];R.push(O);for(var U=0;U<P.length;U++)O.push(P[U]+L)}}return{positions:E,cells:R,vectors:N,vertexIntensity:F,colormap:M}},p=function(b,M){var d=b.length,x;for(x=0;x<d;x++){var g=b[x];if(g===M)return x;if(g>M)return x-1}return x},_=function(b,M,d){return b<M?M:b>d?d:b},m=function(b,M,d){var x=M.vectors,g=M.meshgrid,c=b[0],A=b[1],v=b[2],D=g[0].length,E=g[1].length,R=g[2].length,N=p(g[0],c),F=p(g[1],A),I=p(g[2],v),L=N+1,P=F+1,O=I+1;if(N=_(N,0,D-1),L=_(L,0,D-1),F=_(F,0,E-1),P=_(P,0,E-1),I=_(I,0,R-1),O=_(O,0,R-1),N<0||F<0||I<0||L>D-1||P>E-1||O>R-1)return l.create();var U=g[0][N],X=g[0][L],$=g[1][F],j=g[1][P],Y=g[2][I],q=g[2][O],K=(c-U)/(X-U),ne=(A-$)/(j-$),Q=(v-Y)/(q-Y);isFinite(K)||(K=.5),isFinite(ne)||(ne=.5),isFinite(Q)||(Q=.5);var oe,re,H,ee,V,te;switch(d.reversedX&&(N=D-1-N,L=D-1-L),d.reversedY&&(F=E-1-F,P=E-1-P),d.reversedZ&&(I=R-1-I,O=R-1-O),d.filled){case 5:V=I,te=O,H=F*R,ee=P*R,oe=N*R*E,re=L*R*E;break;case 4:V=I,te=O,oe=N*R,re=L*R,H=F*R*D,ee=P*R*D;break;case 3:H=F,ee=P,V=I*E,te=O*E,oe=N*E*R,re=L*E*R;break;case 2:H=F,ee=P,oe=N*E,re=L*E,V=I*E*D,te=O*E*D;break;case 1:oe=N,re=L,V=I*D,te=O*D,H=F*D*R,ee=P*D*R;break;default:oe=N,re=L,H=F*D,ee=P*D,V=I*D*E,te=O*D*E;break}var ue=x[oe+H+V],ve=x[oe+H+te],ke=x[oe+ee+V],Se=x[oe+ee+te],he=x[re+H+V],Ae=x[re+H+te],Ce=x[re+ee+V],Pe=x[re+ee+te],Ee=l.create(),Ne=l.create(),Ue=l.create(),ge=l.create();l.lerp(Ee,ue,he,K),l.lerp(Ne,ve,Ae,K),l.lerp(Ue,ke,Ce,K),l.lerp(ge,Se,Pe,K);var we=l.create(),Te=l.create();l.lerp(we,Ee,Ue,ne),l.lerp(Te,Ne,ge,ne);var me=l.create();return l.lerp(me,we,Te,Q),me},w=function(b,M){var d=M[0],x=M[1],g=M[2];return b[0]=d<0?-d:d,b[1]=x<0?-x:x,b[2]=g<0?-g:g,b},T=function(b){var M=1/0;b.sort(function(c,A){return c-A});for(var d=b.length,x=1;x<d;x++){var g=Math.abs(b[x]-b[x-1]);g<M&&(M=g)}return M},y=function(b){for(var M=[],d=[],x=[],g={},c={},A={},v=b.length,D=0;D<v;D++){var E=b[D],R=E[0],N=E[1],F=E[2];g[R]||(M.push(R),g[R]=!0),c[N]||(d.push(N),c[N]=!0),A[F]||(x.push(F),A[F]=!0)}var I=T(M),L=T(d),P=T(x),O=Math.min(I,L,P);return isFinite(O)?O:1};a.exports=function(b,M){var d=b.startingPositions,x=b.maxLength||1e3,g=b.tubeSize||1,c=b.absoluteTubeSize,A=b.gridFill||"+x+y+z",v={};A.indexOf("-x")!==-1&&(v.reversedX=!0),A.indexOf("-y")!==-1&&(v.reversedY=!0),A.indexOf("-z")!==-1&&(v.reversedZ=!0),v.filled=s.indexOf(A.replace(/-/g,"").replace(/\+/g,""));var D=b.getVelocity||function(Ae){return m(Ae,b,v)},E=b.getDivergence||function(Ae,Ce){var Pe=l.create(),Ee=1e-4;l.add(Pe,Ae,[Ee,0,0]);var Ne=D(Pe);l.subtract(Ne,Ne,Ce),l.scale(Ne,Ne,1/Ee),l.add(Pe,Ae,[0,Ee,0]);var Ue=D(Pe);l.subtract(Ue,Ue,Ce),l.scale(Ue,Ue,1/Ee),l.add(Pe,Ae,[0,0,Ee]);var ge=D(Pe);return l.subtract(ge,ge,Ce),l.scale(ge,ge,1/Ee),l.add(Pe,Ne,Ue),l.add(Pe,Pe,ge),Pe},R=[],N=M[0][0],F=M[0][1],I=M[0][2],L=M[1][0],P=M[1][1],O=M[1][2],U=function(Ae){var Ce=Ae[0],Pe=Ae[1],Ee=Ae[2];return!(Ce<N||Ce>L||Pe<F||Pe>P||Ee<I||Ee>O)},X=l.distance(M[0],M[1]),$=10*X/x,j=$*$,Y=1,q=0,K=d.length;K>1&&(Y=y(d));for(var ne=0;ne<K;ne++){var Q=l.create();l.copy(Q,d[ne]);var oe=[Q],re=[],H=D(Q),ee=Q;re.push(H);var V=[],te=E(Q,H),ue=l.length(te);isFinite(ue)&&ue>q&&(q=ue),V.push(ue),R.push({points:oe,velocities:re,divergences:V});for(var ve=0;ve<x*100&&oe.length<x&&U(Q);){ve++;var ke=l.clone(H),Se=l.squaredLength(ke);if(Se===0)break;if(Se>j&&l.scale(ke,ke,$/Math.sqrt(Se)),l.add(ke,ke,Q),H=D(ke),l.squaredDistance(ee,ke)-j>-1e-4*j){oe.push(ke),ee=ke,re.push(H);var te=E(ke,H),ue=l.length(te);isFinite(ue)&&ue>q&&(q=ue),V.push(ue)}Q=ke}}var he=h(R,b.colormap,q,Y);return c?he.tubeScale=c:(q===0&&(q=1),he.tubeScale=g*.5*Y/q),he};var k=i(6740),S=i(6405).createMesh;a.exports.createTubeMesh=function(b,M){return S(b,M,{shaders:k,traceType:"streamtube"})}},7827:function(a){a.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},7842:function(a,o,i){"use strict";var l=i(6330),u=i(1533),s=i(2651),f=i(6768),h=i(869),p=i(8697);a.exports=_;function _(m,w){if(l(m))return w?p(m,_(w)):[m[0].clone(),m[1].clone()];var T=0,y,k;if(u(m))y=m.clone();else if(typeof m=="string")y=f(m);else{if(m===0)return[s(0),s(1)];if(m===Math.floor(m))y=s(m);else{for(;m!==Math.floor(m);)m=m*Math.pow(2,256),T-=256;y=s(m)}}if(l(w))y.mul(w[1]),k=w[0].clone();else if(u(w))k=w.clone();else if(typeof w=="string")k=f(w);else if(!w)k=s(1);else if(w===Math.floor(w))k=s(w);else{for(;w!==Math.floor(w);)w=w*Math.pow(2,256),T+=256;k=s(w)}return T>0?y=y.ushln(T):T<0&&(k=k.ushln(-T)),h(y,k)}},7894:function(a){a.exports=o;function o(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},7932:function(a,o,i){var l=i(620);a.exports=l.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},7960:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2],h=l[3]-i[3];return u*u+s*s+f*f+h*h}},8105:function(a){"use strict";a.exports=i;var o={"lo===p0":l,"lo<p0":u,"lo<=p0":s,"hi<=p0":f,"lo<p0&&p0<=hi":p,"lo<=p0&&p0<=hi":h,"!(lo>=p0)&&!(p1>=hi)":_};function i(m){return o[m]}function l(m,w,T,y,k,S,b){for(var M=2*m,d=M*T,x=d,g=T,c=w,A=m+w,v=T;y>v;++v,d+=M){var D=k[d+c];if(D===b)if(g===v)g+=1,x+=M;else{for(var E=0;M>E;++E){var R=k[d+E];k[d+E]=k[x],k[x++]=R}var N=S[v];S[v]=S[g],S[g++]=N}}return g}function u(m,w,T,y,k,S,b){for(var M=2*m,d=M*T,x=d,g=T,c=w,A=m+w,v=T;y>v;++v,d+=M){var D=k[d+c];if(D<b)if(g===v)g+=1,x+=M;else{for(var E=0;M>E;++E){var R=k[d+E];k[d+E]=k[x],k[x++]=R}var N=S[v];S[v]=S[g],S[g++]=N}}return g}function s(m,w,T,y,k,S,b){for(var M=2*m,d=M*T,x=d,g=T,c=w,A=m+w,v=T;y>v;++v,d+=M){var D=k[d+A];if(D<=b)if(g===v)g+=1,x+=M;else{for(var E=0;M>E;++E){var R=k[d+E];k[d+E]=k[x],k[x++]=R}var N=S[v];S[v]=S[g],S[g++]=N}}return g}function f(m,w,T,y,k,S,b){for(var M=2*m,d=M*T,x=d,g=T,c=w,A=m+w,v=T;y>v;++v,d+=M){var D=k[d+A];if(D<=b)if(g===v)g+=1,x+=M;else{for(var E=0;M>E;++E){var R=k[d+E];k[d+E]=k[x],k[x++]=R}var N=S[v];S[v]=S[g],S[g++]=N}}return g}function h(m,w,T,y,k,S,b){for(var M=2*m,d=M*T,x=d,g=T,c=w,A=m+w,v=T;y>v;++v,d+=M){var D=k[d+c],E=k[d+A];if(D<=b&&b<=E)if(g===v)g+=1,x+=M;else{for(var R=0;M>R;++R){var N=k[d+R];k[d+R]=k[x],k[x++]=N}var F=S[v];S[v]=S[g],S[g++]=F}}return g}function p(m,w,T,y,k,S,b){for(var M=2*m,d=M*T,x=d,g=T,c=w,A=m+w,v=T;y>v;++v,d+=M){var D=k[d+c],E=k[d+A];if(D<b&&b<=E)if(g===v)g+=1,x+=M;else{for(var R=0;M>R;++R){var N=k[d+R];k[d+R]=k[x],k[x++]=N}var F=S[v];S[v]=S[g],S[g++]=F}}return g}function _(m,w,T,y,k,S,b,M){for(var d=2*m,x=d*T,g=x,c=T,A=w,v=m+w,D=T;y>D;++D,x+=d){var E=k[x+A],R=k[x+v];if(!(E>=b)&&!(M>=R))if(c===D)c+=1,g+=d;else{for(var N=0;d>N;++N){var F=k[x+N];k[x+N]=k[g],k[g++]=F}var I=S[D];S[D]=S[c],S[c++]=I}}return c}},8107:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.min(l[0],u[0]),i[1]=Math.min(l[1],u[1]),i[2]=Math.min(l[2],u[2]),i}},8116:function(a,o,i){"use strict";var l=i(7518),u=i(870);function s(h){this.bindVertexArrayOES=h.bindVertexArray.bind(h),this.createVertexArrayOES=h.createVertexArray.bind(h),this.deleteVertexArrayOES=h.deleteVertexArray.bind(h)}function f(h,p,_,m){var w=h.createVertexArray?new s(h):h.getExtension("OES_vertex_array_object"),T;return w?T=l(h,w):T=u(h),T.update(p,_,m),T}a.exports=f},8192:function(a,o,i){a.exports=f;var l=i(2825),u=i(3536),s=i(244);function f(h,p){var _=l(h[0],h[1],h[2]),m=l(p[0],p[1],p[2]);u(_,_),u(m,m);var w=s(_,m);return w>1?0:Math.acos(w)}},8210:function(a){"use strict";a.exports=i;function o(l,u){var s=l+u,f=s-l,h=s-f,p=u-f,_=l-h,m=_+p;return m?[m,s]:[s]}function i(l,u){var s=l.length|0,f=u.length|0;if(s===1&&f===1)return o(l[0],u[0]);var h=s+f,p=new Array(h),_=0,m=0,w=0,T=Math.abs,y=l[m],k=T(y),S=u[w],b=T(S),M,d;k<b?(d=y,m+=1,m<s&&(y=l[m],k=T(y))):(d=S,w+=1,w<f&&(S=u[w],b=T(S))),m<s&&k<b||w>=f?(M=y,m+=1,m<s&&(y=l[m],k=T(y))):(M=S,w+=1,w<f&&(S=u[w],b=T(S)));for(var x=M+d,g=x-M,c=d-g,A=c,v=x,D,E,R,N,F;m<s&&w<f;)k<b?(M=y,m+=1,m<s&&(y=l[m],k=T(y))):(M=S,w+=1,w<f&&(S=u[w],b=T(S))),d=A,x=M+d,g=x-M,c=d-g,c&&(p[_++]=c),D=v+x,E=D-v,R=D-E,N=x-E,F=v-R,A=F+N,v=D;for(;m<s;)M=y,d=A,x=M+d,g=x-M,c=d-g,c&&(p[_++]=c),D=v+x,E=D-v,R=D-E,N=x-E,F=v-R,A=F+N,v=D,m+=1,m<s&&(y=l[m]);for(;w<f;)M=S,d=A,x=M+d,g=x-M,c=d-g,c&&(p[_++]=c),D=v+x,E=D-v,R=D-E,N=x-E,F=v-R,A=F+N,v=D,w+=1,w<f&&(S=u[w]);return A&&(p[_++]=A),v&&(p[_++]=v),_||(p[_++]=0),p.length=_,p}},8277:function(a){"use strict";function o(){return function(h,p,_,m,w){var T=h[0],y=h[1],k=h[2],S=_[0],b=_[1],M=_[2],d=[0,0,0];m|=0;var x=0,g=0,c=0,A=M,v=b-k*M,D=S-y*b;for(c=0;c<T;++c){for(g=0;g<y;++g){for(x=0;x<k;++x){{var E=w,R;for(R=0;R<d.length-1;++R)E=E[d[R]];p[m]=E[d[d.length-1]]}m+=A,++d[2]}m+=v,d[2]-=k,++d[1]}m+=D,d[1]-=y,++d[0]}}}function i(){return o()}var l=i;function u(h){var p={};return function(m,w){var T=m.dtype,y=m.order,k=[T,y.join()].join(),S=p[k];return S||(p[k]=S=h([T,y])),S(m.shape.slice(0),m.data,m.stride,m.offset|0,w)}}function s(h){return u(l.bind(void 0,h))}function f(h){return s({funcName:h.funcName})}a.exports=f({funcName:"convert"})},8284:function(a){a.exports=o;function o(i,l){var u={identity:l},s=i.valueOf;return Object.defineProperty(i,"valueOf",{value:function(f){return f!==l?s.apply(this,arguments):u},writable:!0}),u}},8406:function(a,o){var i=1e-6,l=1e-6;o.vertexNormals=function(u,s,f){for(var h=s.length,p=new Array(h),_=f===void 0?i:f,m=0;m<h;++m)p[m]=[0,0,0];for(var m=0;m<u.length;++m)for(var w=u[m],T=0,y=w[w.length-1],k=w[0],S=0;S<w.length;++S){T=y,y=k,k=w[(S+1)%w.length];for(var b=s[T],M=s[y],d=s[k],x=new Array(3),g=0,c=new Array(3),A=0,v=0;v<3;++v)x[v]=b[v]-M[v],g+=x[v]*x[v],c[v]=d[v]-M[v],A+=c[v]*c[v];if(g*A>_)for(var D=p[y],E=1/Math.sqrt(g*A),v=0;v<3;++v){var R=(v+1)%3,N=(v+2)%3;D[v]+=E*(c[R]*x[N]-c[N]*x[R])}}for(var m=0;m<h;++m){for(var D=p[m],F=0,v=0;v<3;++v)F+=D[v]*D[v];if(F>_)for(var E=1/Math.sqrt(F),v=0;v<3;++v)D[v]*=E;else for(var v=0;v<3;++v)D[v]=0}return p},o.faceNormals=function(u,s,f){for(var h=u.length,p=new Array(h),_=f===void 0?l:f,m=0;m<h;++m){for(var w=u[m],T=new Array(3),y=0;y<3;++y)T[y]=s[w[y]];for(var k=new Array(3),S=new Array(3),y=0;y<3;++y)k[y]=T[1][y]-T[0][y],S[y]=T[2][y]-T[0][y];for(var b=new Array(3),M=0,y=0;y<3;++y){var d=(y+1)%3,x=(y+2)%3;b[y]=k[d]*S[x]-k[x]*S[d],M+=b[y]*b[y]}M>_?M=1/Math.sqrt(M):M=0;for(var y=0;y<3;++y)b[y]*=M;p[m]=b}return p}},8418:function(a,o,i){"use strict";var l=i(5219),u=i(2762),s=i(8116),f=i(1888),h=i(6760),p=i(1283),_=i(9366),m=i(5964),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],T=ArrayBuffer,y=DataView;function k(Q){return T.isView(Q)&&!(Q instanceof y)}function S(Q){return Array.isArray(Q)||k(Q)}a.exports=ne;function b(Q,oe){var re=Q[0],H=Q[1],ee=Q[2],V=Q[3];return Q[0]=oe[0]*re+oe[4]*H+oe[8]*ee+oe[12]*V,Q[1]=oe[1]*re+oe[5]*H+oe[9]*ee+oe[13]*V,Q[2]=oe[2]*re+oe[6]*H+oe[10]*ee+oe[14]*V,Q[3]=oe[3]*re+oe[7]*H+oe[11]*ee+oe[15]*V,Q}function M(Q,oe,re,H){return b(H,H,re),b(H,H,oe),b(H,H,Q)}function d(Q,oe){this.index=Q,this.dataCoordinate=this.position=oe}function x(Q){return Q===!0||Q>1?1:Q}function g(Q,oe,re,H,ee,V,te,ue,ve,ke,Se,he){this.gl=Q,this.pixelRatio=1,this.shader=oe,this.orthoShader=re,this.projectShader=H,this.pointBuffer=ee,this.colorBuffer=V,this.glyphBuffer=te,this.idBuffer=ue,this.vao=ve,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ke,this.pickOrthoShader=Se,this.pickProjectShader=he,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var c=g.prototype;c.pickSlots=1,c.setPickBase=function(Q){this.pickId=Q},c.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},c.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var A=[0,0],v=[0,0,0],D=[0,0,0],E=[0,0,0,1],R=[0,0,0,1],N=w.slice(),F=[0,0,0],I=[[0,0,0],[0,0,0]];function L(Q){return Q[0]=Q[1]=Q[2]=0,Q}function P(Q,oe){return Q[0]=oe[0],Q[1]=oe[1],Q[2]=oe[2],Q[3]=1,Q}function O(Q,oe,re,H){return Q[0]=oe[0],Q[1]=oe[1],Q[2]=oe[2],Q[re]=H,Q}function U(Q){for(var oe=I,re=0;re<2;++re)for(var H=0;H<3;++H)oe[re][H]=Math.max(Math.min(Q[re][H],1e8),-1e8);return oe}function X(Q,oe,re,H){var ee=oe.axesProject,V=oe.gl,te=Q.uniforms,ue=re.model||w,ve=re.view||w,ke=re.projection||w,Se=oe.axesBounds,he=U(oe.clipBounds),Ae;oe.axes&&oe.axes.lastCubeProps?Ae=oe.axes.lastCubeProps.axis:Ae=[1,1,1],A[0]=2/V.drawingBufferWidth,A[1]=2/V.drawingBufferHeight,Q.bind(),te.view=ve,te.projection=ke,te.screenSize=A,te.highlightId=oe.highlightId,te.highlightScale=oe.highlightScale,te.clipBounds=he,te.pickGroup=oe.pickId/255,te.pixelRatio=H;for(var Ce=0;Ce<3;++Ce)if(ee[Ce]){te.scale=oe.projectScale[Ce],te.opacity=oe.projectOpacity[Ce];for(var Pe=N,Ee=0;Ee<16;++Ee)Pe[Ee]=0;for(var Ee=0;Ee<4;++Ee)Pe[5*Ee]=1;Pe[5*Ce]=0,Ae[Ce]<0?Pe[12+Ce]=Se[0][Ce]:Pe[12+Ce]=Se[1][Ce],h(Pe,ue,Pe),te.model=Pe;var Ne=(Ce+1)%3,Ue=(Ce+2)%3,ge=L(v),we=L(D);ge[Ne]=1,we[Ue]=1;var Te=M(ke,ve,ue,P(E,ge)),me=M(ke,ve,ue,P(R,we));if(Math.abs(Te[1])>Math.abs(me[1])){var ye=Te;Te=me,me=ye,ye=ge,ge=we,we=ye;var pe=Ne;Ne=Ue,Ue=pe}Te[0]<0&&(ge[Ne]=-1),me[1]>0&&(we[Ue]=-1);for(var ce=0,be=0,Ee=0;Ee<4;++Ee)ce+=Math.pow(ue[4*Ne+Ee],2),be+=Math.pow(ue[4*Ue+Ee],2);ge[Ne]/=Math.sqrt(ce),we[Ue]/=Math.sqrt(be),te.axes[0]=ge,te.axes[1]=we,te.fragClipBounds[0]=O(F,he[0],Ce,-1e8),te.fragClipBounds[1]=O(F,he[1],Ce,1e8),oe.vao.bind(),oe.vao.draw(V.TRIANGLES,oe.vertexCount),oe.lineWidth>0&&(V.lineWidth(oe.lineWidth*H),oe.vao.draw(V.LINES,oe.lineVertexCount,oe.vertexCount)),oe.vao.unbind()}}var $=[-1e8,-1e8,-1e8],j=[1e8,1e8,1e8],Y=[$,j];function q(Q,oe,re,H,ee,V,te){var ue=re.gl;if((V===re.projectHasAlpha||te)&&X(oe,re,H,ee),V===re.hasAlpha||te){Q.bind();var ve=Q.uniforms;ve.model=H.model||w,ve.view=H.view||w,ve.projection=H.projection||w,A[0]=2/ue.drawingBufferWidth,A[1]=2/ue.drawingBufferHeight,ve.screenSize=A,ve.highlightId=re.highlightId,ve.highlightScale=re.highlightScale,ve.fragClipBounds=Y,ve.clipBounds=re.axes.bounds,ve.opacity=re.opacity,ve.pickGroup=re.pickId/255,ve.pixelRatio=ee,re.vao.bind(),re.vao.draw(ue.TRIANGLES,re.vertexCount),re.lineWidth>0&&(ue.lineWidth(re.lineWidth*ee),re.vao.draw(ue.LINES,re.lineVertexCount,re.vertexCount)),re.vao.unbind()}}c.draw=function(Q){var oe=this.useOrtho?this.orthoShader:this.shader;q(oe,this.projectShader,this,Q,this.pixelRatio,!1,!1)},c.drawTransparent=function(Q){var oe=this.useOrtho?this.orthoShader:this.shader;q(oe,this.projectShader,this,Q,this.pixelRatio,!0,!1)},c.drawPick=function(Q){var oe=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;q(oe,this.pickProjectShader,this,Q,1,!0,!0)},c.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var oe=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(oe>=this.pointCount||oe<0)return null;var re=this.points[oe],H=this._selectResult;H.index=oe;for(var ee=0;ee<3;++ee)H.position[ee]=H.dataCoordinate[ee]=re[ee];return H},c.highlight=function(Q){if(!Q)this.highlightId=[1,1,1,1];else{var oe=Q.index,re=oe&255,H=oe>>8&255,ee=oe>>16&255;this.highlightId=[re/255,H/255,ee/255,0]}};function K(Q,oe,re,H){var ee;S(Q)?oe<Q.length?ee=Q[oe]:ee=void 0:ee=Q,ee=m(ee);var V=!0;l(ee)&&(ee="\u25BC",V=!1),re||(re={});var te=re.family;S(te)&&(te=te[oe]),te||(te="normal");var ue=re.weight;S(ue)&&(ue=ue[oe]),ue||(ue="normal");var ve=re.style;S(ve)&&(ve=ve[oe]),ve||(ve="normal");var ke=re.variant;S(ke)&&(ke=ke[oe]),ke||(ke="normal");var Se=_(ee,{family:te,weight:ue,style:ve,variant:ke},H),Se=_(ee,re,H);return{mesh:Se[0],lines:Se[1],bounds:Se[2],visible:V}}c.update=function(Q){if(Q=Q||{},"perspective"in Q&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(S(Q.project))this.axesProject=Q.project;else{var oe=!!Q.project;this.axesProject=[oe,oe,oe]}if("projectScale"in Q)if(S(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var re=+Q.projectScale;this.projectScale=[re,re,re]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){if(S(Q.projectOpacity))this.projectOpacity=Q.projectOpacity.slice();else{var re=+Q.projectOpacity;this.projectOpacity=[re,re,re]}for(var H=0;H<3;++H)this.projectOpacity[H]=x(this.projectOpacity[H]),this.projectOpacity[H]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=x(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ee=Q.position,V={family:Q.font||"normal",style:Q.fontStyle||"normal",weight:Q.fontWeight||"normal",variant:Q.fontVariant||"normal"},te=Q.alignment||[0,0],ue,ve;if(te.length===2)ue=te[0],ve=te[1];else{ue=[],ve=[];for(var H=0;H<te.length;++H)ue[H]=te[H][0],ve[H]=te[H][1]}var ke=[1/0,1/0,1/0],Se=[-1/0,-1/0,-1/0],he=Q.glyph,Ae=Q.color,Ce=Q.size,Pe=Q.angle,Ee=Q.lineColor,Ne=-1,Ue=0,ge=0,we=0;if(ee.length){we=ee.length;e:for(var H=0;H<we;++H){for(var Te=ee[H],me=0;me<3;++me)if(isNaN(Te[me])||!isFinite(Te[me]))continue e;var ye=K(he,H,V,this.pixelRatio),pe=ye.mesh,ce=ye.lines,be=ye.bounds;Ue+=pe.cells.length*3,ge+=ce.edges.length*2}}var Le=Ue+ge,qe=f.mallocFloat(3*Le),ze=f.mallocFloat(4*Le),$e=f.mallocFloat(2*Le),Ve=f.mallocUint32(Le);if(Le>0){var Be=0,Ye=Ue,Me=[0,0,0,1],Re=[0,0,0,1],Qe=S(Ae)&&S(Ae[0]),Ke=S(Ee)&&S(Ee[0]);e:for(var H=0;H<we;++H){Ne+=1;for(var Te=ee[H],me=0;me<3;++me){if(isNaN(Te[me])||!isFinite(Te[me]))continue e;Se[me]=Math.max(Se[me],Te[me]),ke[me]=Math.min(ke[me],Te[me])}var ye=K(he,H,V,this.pixelRatio),pe=ye.mesh,ce=ye.lines,be=ye.bounds,ar=ye.visible;if(!ar)Me=[1,1,1,0];else if(S(Ae)){var se;if(Qe?H<Ae.length?se=Ae[H]:se=[0,0,0,0]:se=Ae,se.length===3){for(var me=0;me<3;++me)Me[me]=se[me];Me[3]=1}else if(se.length===4){for(var me=0;me<4;++me)Me[me]=se[me];!this.hasAlpha&&se[3]<1&&(this.hasAlpha=!0)}}else Me[0]=Me[1]=Me[2]=0,Me[3]=1;if(!ar)Re=[1,1,1,0];else if(S(Ee)){var se;if(Ke?H<Ee.length?se=Ee[H]:se=[0,0,0,0]:se=Ee,se.length===3){for(var me=0;me<3;++me)Re[me]=se[me];Re[me]=1}else if(se.length===4){for(var me=0;me<4;++me)Re[me]=se[me];!this.hasAlpha&&se[3]<1&&(this.hasAlpha=!0)}}else Re[0]=Re[1]=Re[2]=0,Re[3]=1;var J=.5;ar?S(Ce)?H<Ce.length?J=+Ce[H]:J=12:Ce?J=+Ce:this.useOrtho&&(J=12):J=0;var ae=0;S(Pe)?H<Pe.length?ae=+Pe[H]:ae=0:Pe&&(ae=+Pe);for(var De=Math.cos(ae),He=Math.sin(ae),Te=ee[H],me=0;me<3;++me)Se[me]=Math.max(Se[me],Te[me]),ke[me]=Math.min(ke[me],Te[me]);var er=ue,nr=ve,er=0;S(ue)?H<ue.length?er=ue[H]:er=0:ue&&(er=ue);var nr=0;S(ve)?H<ve.length?nr=ve[H]:nr=0:ve&&(nr=ve),er*=er>0?1-be[0][0]:er<0?1+be[1][0]:1,nr*=nr>0?1-be[0][1]:nr<0?1+be[1][1]:1;for(var fr=[er,nr],ft=pe.cells||[],sr=pe.positions||[],me=0;me<ft.length;++me)for(var xr=ft[me],Sr=0;Sr<3;++Sr){for(var Mr=0;Mr<3;++Mr)qe[3*Be+Mr]=Te[Mr];for(var Mr=0;Mr<4;++Mr)ze[4*Be+Mr]=Me[Mr];Ve[Be]=Ne;var Ar=sr[xr[Sr]];$e[2*Be]=J*(De*Ar[0]-He*Ar[1]+fr[0]),$e[2*Be+1]=J*(He*Ar[0]+De*Ar[1]+fr[1]),Be+=1}for(var ft=ce.edges,sr=ce.positions,me=0;me<ft.length;++me)for(var xr=ft[me],Sr=0;Sr<2;++Sr){for(var Mr=0;Mr<3;++Mr)qe[3*Ye+Mr]=Te[Mr];for(var Mr=0;Mr<4;++Mr)ze[4*Ye+Mr]=Re[Mr];Ve[Ye]=Ne;var Ar=sr[xr[Sr]];$e[2*Ye]=J*(De*Ar[0]-He*Ar[1]+fr[0]),$e[2*Ye+1]=J*(He*Ar[0]+De*Ar[1]+fr[1]),Ye+=1}}}this.bounds=[ke,Se],this.points=ee,this.pointCount=ee.length,this.vertexCount=Ue,this.lineVertexCount=ge,this.pointBuffer.update(qe),this.colorBuffer.update(ze),this.glyphBuffer.update($e),this.idBuffer.update(Ve),f.free(qe),f.free(ze),f.free($e),f.free(Ve)},c.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ne(Q){var oe=Q.gl,re=p.createPerspective(oe),H=p.createOrtho(oe),ee=p.createProject(oe),V=p.createPickPerspective(oe),te=p.createPickOrtho(oe),ue=p.createPickProject(oe),ve=u(oe),ke=u(oe),Se=u(oe),he=u(oe),Ae=s(oe,[{buffer:ve,size:3,type:oe.FLOAT},{buffer:ke,size:4,type:oe.FLOAT},{buffer:Se,size:2,type:oe.FLOAT},{buffer:he,size:4,type:oe.UNSIGNED_BYTE,normalized:!0}]),Ce=new g(oe,re,H,ee,ve,ke,Se,he,Ae,V,te,ue);return Ce.update(Q),Ce}},8489:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l[0]+u[0]*s,i[1]=l[1]+u[1]*s,i[2]=l[2]+u[2]*s,i}},8507:function(a){a.exports=l;var o=Math.min;function i(u,s){return u-s}function l(u,s){var f=u.length,h=u.length-s.length;if(h)return h;switch(f){case 0:return 0;case 1:return u[0]-s[0];case 2:return u[0]+u[1]-s[0]-s[1]||o(u[0],u[1])-o(s[0],s[1]);case 3:var p=u[0]+u[1],_=s[0]+s[1];if(h=p+u[2]-(_+s[2]),h)return h;var m=o(u[0],u[1]),w=o(s[0],s[1]);return o(m,u[2])-o(w,s[2])||o(m+u[2],p)-o(w+s[2],_);case 4:var T=u[0],y=u[1],k=u[2],S=u[3],b=s[0],M=s[1],d=s[2],x=s[3];return T+y+k+S-(b+M+d+x)||o(T,y,k,S)-o(b,M,d,x,b)||o(T+y,T+k,T+S,y+k,y+S,k+S)-o(b+M,b+d,b+x,M+d,M+x,d+x)||o(T+y+k,T+y+S,T+k+S,y+k+S)-o(b+M+d,b+M+x,b+d+x,M+d+x);default:for(var g=u.slice().sort(i),c=s.slice().sort(i),A=0;A<f;++A)if(h=g[A]-c[A],h)return h;return 0}}},8512:function(a,o,i){"use strict";var l=i(665);a.exports=u;function u(s,f,h){typeof s=="function"&&(h=!!f,f=s,s=window);var p=l("ex",s),_=function(m){h&&m.preventDefault();var w=m.deltaX||0,T=m.deltaY||0,y=m.deltaZ||0,k=m.deltaMode,S=1;switch(k){case 1:S=p;break;case 2:S=window.innerHeight;break}if(w*=S,T*=S,y*=S,w||T||y)return f(w,T,y,m)};return s.addEventListener("wheel",_),_}},8545:function(a){"use strict";a.exports=i;function o(l,u){var s=l+u,f=s-l,h=s-f,p=u-f,_=l-h,m=_+p;return m?[m,s]:[s]}function i(l,u){var s=l.length|0,f=u.length|0;if(s===1&&f===1)return o(l[0],-u[0]);var h=s+f,p=new Array(h),_=0,m=0,w=0,T=Math.abs,y=l[m],k=T(y),S=-u[w],b=T(S),M,d;k<b?(d=y,m+=1,m<s&&(y=l[m],k=T(y))):(d=S,w+=1,w<f&&(S=-u[w],b=T(S))),m<s&&k<b||w>=f?(M=y,m+=1,m<s&&(y=l[m],k=T(y))):(M=S,w+=1,w<f&&(S=-u[w],b=T(S)));for(var x=M+d,g=x-M,c=d-g,A=c,v=x,D,E,R,N,F;m<s&&w<f;)k<b?(M=y,m+=1,m<s&&(y=l[m],k=T(y))):(M=S,w+=1,w<f&&(S=-u[w],b=T(S))),d=A,x=M+d,g=x-M,c=d-g,c&&(p[_++]=c),D=v+x,E=D-v,R=D-E,N=x-E,F=v-R,A=F+N,v=D;for(;m<s;)M=y,d=A,x=M+d,g=x-M,c=d-g,c&&(p[_++]=c),D=v+x,E=D-v,R=D-E,N=x-E,F=v-R,A=F+N,v=D,m+=1,m<s&&(y=l[m]);for(;w<f;)M=S,d=A,x=M+d,g=x-M,c=d-g,c&&(p[_++]=c),D=v+x,E=D-v,R=D-E,N=x-E,F=v-R,A=F+N,v=D,w+=1,w<f&&(S=-u[w]);return A&&(p[_++]=A),v&&(p[_++]=v),_||(p[_++]=0),p.length=_,p}},8572:function(a){"use strict";a.exports=function(i){return i<0?-1:i>0?1:0}},8648:function(a,o,i){a.exports=i(783)},8692:function(a){a.exports=o;function o(i,l,u,s){var f=u[0],h=u[1],p=l[0]-f,_=l[1]-h,m=Math.sin(s),w=Math.cos(s);return i[0]=f+p*w-_*m,i[1]=h+p*m+_*w,i[2]=l[2],i}},8697:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]),s[1].mul(f[0]))}},8731:function(a,o,i){"use strict";a.exports=_;var l=i(8866);function u(m,w,T,y,k,S){this._gl=m,this._wrapper=w,this._index=T,this._locations=y,this._dimension=k,this._constFunc=S}var s=u.prototype;s.pointer=function(w,T,y,k){var S=this,b=S._gl,M=S._locations[S._index];b.vertexAttribPointer(M,S._dimension,w||b.FLOAT,!!T,y||0,k||0),b.enableVertexAttribArray(M)},s.set=function(m,w,T,y){return this._constFunc(this._locations[this._index],m,w,T,y)},Object.defineProperty(s,"location",{get:function(){return this._locations[this._index]},set:function(m){return m!==this._locations[this._index]&&(this._locations[this._index]=m|0,this._wrapper.program=null),m|0}});var f=[function(m,w,T){return T.length===void 0?m.vertexAttrib1f(w,T):m.vertexAttrib1fv(w,T)},function(m,w,T,y){return T.length===void 0?m.vertexAttrib2f(w,T,y):m.vertexAttrib2fv(w,T)},function(m,w,T,y,k){return T.length===void 0?m.vertexAttrib3f(w,T,y,k):m.vertexAttrib3fv(w,T)},function(m,w,T,y,k,S){return T.length===void 0?m.vertexAttrib4f(w,T,y,k,S):m.vertexAttrib4fv(w,T)}];function h(m,w,T,y,k,S,b){var M=f[k],d=new u(m,w,T,y,k,M);Object.defineProperty(S,b,{set:function(x){return m.disableVertexAttribArray(y[T]),M(m,y[T],x),x},get:function(){return d},enumerable:!0})}function p(m,w,T,y,k,S,b){for(var M=new Array(k),d=new Array(k),x=0;x<k;++x)h(m,w,T[x],y,k,M,x),d[x]=M[x];Object.defineProperty(M,"location",{set:function(A){if(Array.isArray(A))for(var v=0;v<k;++v)d[v].location=A[v];else for(var v=0;v<k;++v)d[v].location=A+v;return A},get:function(){for(var A=new Array(k),v=0;v<k;++v)A[v]=y[T[v]];return A},enumerable:!0}),M.pointer=function(A,v,D,E){A=A||m.FLOAT,v=!!v,D=D||k*k,E=E||0;for(var R=0;R<k;++R){var N=y[T[R]];m.vertexAttribPointer(N,k,A,v,D,E+R*k),m.enableVertexAttribArray(N)}};var g=new Array(k),c=m["vertexAttrib"+k+"fv"];Object.defineProperty(S,b,{set:function(A){for(var v=0;v<k;++v){var D=y[T[v]];if(m.disableVertexAttribArray(D),Array.isArray(A[0]))c.call(m,D,A[v]);else{for(var E=0;E<k;++E)g[E]=A[k*v+E];c.call(m,D,g)}}return A},get:function(){return M},enumerable:!0})}function _(m,w,T,y){for(var k={},S=0,b=T.length;S<b;++S){var M=T[S],d=M.name,x=M.type,g=M.locations;switch(x){case"bool":case"int":case"float":h(m,w,g[0],y,1,k,d);break;default:if(x.indexOf("vec")>=0){var c=x.charCodeAt(x.length-1)-48;if(c<2||c>4)throw new l("","Invalid data type for attribute "+d+": "+x);h(m,w,g[0],y,c,k,d)}else if(x.indexOf("mat")>=0){var c=x.charCodeAt(x.length-1)-48;if(c<2||c>4)throw new l("","Invalid data type for attribute "+d+": "+x);p(m,w,g,y,c,k,d)}else throw new l("","Unknown data type for attribute "+d+": "+x);break}}return k}},8828:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(s){return(s>0)-(s<0)},o.abs=function(s){var f=s>>i-1;return(s^f)-f},o.min=function(s,f){return f^(s^f)&-(s<f)},o.max=function(s,f){return s^(s^f)&-(s<f)},o.isPow2=function(s){return!(s&s-1)&&!!s},o.log2=function(s){var f,h;return f=(s>65535)<<4,s>>>=f,h=(s>255)<<3,s>>>=h,f|=h,h=(s>15)<<2,s>>>=h,f|=h,h=(s>3)<<1,s>>>=h,f|=h,f|s>>1},o.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},o.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function l(s){var f=32;return s&=-s,s&&f--,s&65535&&(f-=16),s&16711935&&(f-=8),s&252645135&&(f-=4),s&858993459&&(f-=2),s&1431655765&&(f-=1),f}o.countTrailingZeros=l,o.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},o.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},o.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var u=new Array(256);(function(s){for(var f=0;f<256;++f){var h=f,p=f,_=7;for(h>>>=1;h;h>>>=1)p<<=1,p|=h&1,--_;s[f]=p<<_&255}})(u),o.reverse=function(s){return u[s&255]<<24|u[s>>>8&255]<<16|u[s>>>16&255]<<8|u[s>>>24&255]},o.interleave2=function(s,f){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,s|f<<1},o.deinterleave2=function(s,f){return s=s>>>f&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},o.interleave3=function(s,f,h){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,s|=f<<1,h&=1023,h=(h|h<<16)&4278190335,h=(h|h<<8)&251719695,h=(h|h<<4)&3272356035,h=(h|h<<2)&1227133513,s|h<<2},o.deinterleave3=function(s,f){return s=s>>>f&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},o.nextCombination=function(s){var f=s|s-1;return f+1|(~f&-~f)-1>>>l(s)+1}},8866:function(a){function o(i,l,u){this.shortMessage=l||"",this.longMessage=u||"",this.rawError=i||"",this.message="gl-shader: "+(l||i||"")+(u?`
`+u:""),this.stack=new Error().stack}o.prototype=new Error,o.prototype.name="GLError",o.prototype.constructor=o,a.exports=o},8902:function(a,o,i){"use strict";var l=i(2478),u=i(3250)[3],s=0,f=1,h=2;a.exports=b;function p(M,d,x,g,c){this.a=M,this.b=d,this.idx=x,this.lowerIds=g,this.upperIds=c}function _(M,d,x,g){this.a=M,this.b=d,this.type=x,this.idx=g}function m(M,d){var x=M.a[0]-d.a[0]||M.a[1]-d.a[1]||M.type-d.type;return x||M.type!==s&&(x=u(M.a,M.b,d.b),x)?x:M.idx-d.idx}function w(M,d){return u(M.a,M.b,d)}function T(M,d,x,g,c){for(var A=l.lt(d,g,w),v=l.gt(d,g,w),D=A;D<v;++D){for(var E=d[D],R=E.lowerIds,F=R.length;F>1&&u(x[R[F-2]],x[R[F-1]],g)>0;)M.push([R[F-1],R[F-2],c]),F-=1;R.length=F,R.push(c);for(var N=E.upperIds,F=N.length;F>1&&u(x[N[F-2]],x[N[F-1]],g)<0;)M.push([N[F-2],N[F-1],c]),F-=1;N.length=F,N.push(c)}}function y(M,d){var x;return M.a[0]<d.a[0]?x=u(M.a,M.b,d.a):x=u(d.b,d.a,M.a),x||(d.b[0]<M.b[0]?x=u(M.a,M.b,d.b):x=u(d.b,d.a,M.b),x||M.idx-d.idx)}function k(M,d,x){var g=l.le(M,x,y),c=M[g],A=c.upperIds,v=A[A.length-1];c.upperIds=[v],M.splice(g+1,0,new p(x.a,x.b,x.idx,[v],A))}function S(M,d,x){var g=x.a;x.a=x.b,x.b=g;var c=l.eq(M,x,y),A=M[c],v=M[c-1];v.upperIds=A.upperIds,M.splice(c,1)}function b(M,d){for(var x=M.length,g=d.length,c=[],A=0;A<x;++A)c.push(new _(M[A],null,s,A));for(var A=0;A<g;++A){var v=d[A],D=M[v[0]],E=M[v[1]];D[0]<E[0]?c.push(new _(D,E,h,A),new _(E,D,f,A)):D[0]>E[0]&&c.push(new _(E,D,h,A),new _(D,E,f,A))}c.sort(m);for(var R=c[0].a[0]-(1+Math.abs(c[0].a[0]))*Math.pow(2,-52),N=[new p([R,1],[R,0],-1,[],[],[],[])],F=[],A=0,I=c.length;A<I;++A){var L=c[A],P=L.type;P===s?T(F,N,M,L.a,L.idx):P===h?k(N,M,L):S(N,M,L)}return F}},8954:function(a,o,i){"use strict";a.exports=y;var l=i(3250),u=i(6803).Fw;function s(k,S,b){this.vertices=k,this.adjacent=S,this.boundary=b,this.lastVisited=-1}s.prototype.flip=function(){var k=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=k;var S=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=S};function f(k,S,b){this.vertices=k,this.cell=S,this.index=b}function h(k,S){return u(k.vertices,S.vertices)}function p(k){return function(){var S=this.tuple;return k.apply(this,S)}}function _(k){var S=l[k+1];return S||(S=l),p(S)}var m=[];function w(k,S,b){this.dimension=k,this.vertices=S,this.simplices=b,this.interior=b.filter(function(x){return!x.boundary}),this.tuple=new Array(k+1);for(var M=0;M<=k;++M)this.tuple[M]=this.vertices[M];var d=m[k];d||(d=m[k]=_(k)),this.orient=d}var T=w.prototype;T.handleBoundaryDegeneracy=function(k,S){var b=this.dimension,M=this.vertices.length-1,d=this.tuple,x=this.vertices,g=[k];for(k.lastVisited=-M;g.length>0;){k=g.pop();for(var c=k.adjacent,A=0;A<=b;++A){var v=c[A];if(!(!v.boundary||v.lastVisited<=-M)){for(var D=v.vertices,E=0;E<=b;++E){var R=D[E];R<0?d[E]=S:d[E]=x[R]}var N=this.orient();if(N>0)return v;v.lastVisited=-M,N===0&&g.push(v)}}}return null},T.walk=function(k,S){var b=this.vertices.length-1,M=this.dimension,d=this.vertices,x=this.tuple,g=S?this.interior.length*Math.random()|0:this.interior.length-1,c=this.interior[g];e:for(;!c.boundary;){for(var A=c.vertices,v=c.adjacent,D=0;D<=M;++D)x[D]=d[A[D]];c.lastVisited=b;for(var D=0;D<=M;++D){var E=v[D];if(!(E.lastVisited>=b)){var R=x[D];x[D]=k;var N=this.orient();if(x[D]=R,N<0){c=E;continue e}else E.boundary?E.lastVisited=-b:E.lastVisited=b}}return}return c},T.addPeaks=function(k,S){var b=this.vertices.length-1,M=this.dimension,d=this.vertices,x=this.tuple,g=this.interior,c=this.simplices,A=[S];S.lastVisited=b,S.vertices[S.vertices.indexOf(-1)]=b,S.boundary=!1,g.push(S);for(var v=[];A.length>0;){var S=A.pop(),D=S.vertices,E=S.adjacent,R=D.indexOf(b);if(!(R<0)){for(var N=0;N<=M;++N)if(N!==R){var F=E[N];if(!(!F.boundary||F.lastVisited>=b)){var I=F.vertices;if(F.lastVisited!==-b){for(var L=0,P=0;P<=M;++P)I[P]<0?(L=P,x[P]=k):x[P]=d[I[P]];var O=this.orient();if(O>0){I[L]=b,F.boundary=!1,g.push(F),A.push(F),F.lastVisited=b;continue}else F.lastVisited=-b}var U=F.adjacent,X=D.slice(),$=E.slice(),j=new s(X,$,!0);c.push(j);var Y=U.indexOf(S);if(!(Y<0)){U[Y]=j,$[R]=F,X[N]=-1,$[N]=S,E[N]=j,j.flip();for(var P=0;P<=M;++P){var q=X[P];if(!(q<0||q===b)){for(var K=new Array(M-1),ne=0,Q=0;Q<=M;++Q){var oe=X[Q];oe<0||Q===P||(K[ne++]=oe)}v.push(new f(K,j,P))}}}}}}}v.sort(h);for(var N=0;N+1<v.length;N+=2){var re=v[N],H=v[N+1],ee=re.index,V=H.index;ee<0||V<0||(re.cell.adjacent[re.index]=H.cell,H.cell.adjacent[H.index]=re.cell)}},T.insert=function(k,S){var b=this.vertices;b.push(k);var M=this.walk(k,S);if(M){for(var d=this.dimension,x=this.tuple,g=0;g<=d;++g){var c=M.vertices[g];c<0?x[g]=k:x[g]=b[c]}var A=this.orient(x);A<0||A===0&&(M=this.handleBoundaryDegeneracy(M,k),!M)||this.addPeaks(k,M)}},T.boundary=function(){for(var k=this.dimension,S=[],b=this.simplices,M=b.length,d=0;d<M;++d){var x=b[d];if(x.boundary){for(var g=new Array(k),c=x.vertices,A=0,v=0,D=0;D<=k;++D)c[D]>=0?g[A++]=c[D]:v=D&1;if(v===(k&1)){var E=g[0];g[0]=g[1],g[1]=E}S.push(g)}}return S};function y(k,S){var b=k.length;if(b===0)throw new Error("Must have at least d+1 points");var M=k[0].length;if(b<=M)throw new Error("Must input at least d+1 points");var d=k.slice(0,M+1),x=l.apply(void 0,d);if(x===0)throw new Error("Input not in general position");for(var g=new Array(M+1),c=0;c<=M;++c)g[c]=c;x<0&&(g[0]=1,g[1]=0);for(var A=new s(g,new Array(M+1),!1),v=A.adjacent,D=new Array(M+2),c=0;c<=M;++c){for(var E=g.slice(),R=0;R<=M;++R)R===c&&(E[R]=-1);var N=E[0];E[0]=E[1],E[1]=N;var F=new s(E,new Array(M+1),!0);v[c]=F,D[c]=F}D[M+1]=A;for(var c=0;c<=M;++c)for(var E=v[c].vertices,I=v[c].adjacent,R=0;R<=M;++R){var L=E[R];if(L<0){I[R]=A;continue}for(var P=0;P<=M;++P)v[P].vertices.indexOf(L)<0&&(I[R]=v[P])}for(var O=new w(M,d,D),U=!!S,c=M+1;c<b;++c)O.insert(k[c],U);return O.boundary()}},8987:function(a,o,i){"use strict";var l=i(7842),u=i(6504);a.exports=s;function s(f,h){for(var p=l(h),_=f.length,m=new Array(_),w=0;w<_;++w)m[w]=u(f[w],p);return m}},9060:function(a,o,i){"use strict";var l=i(9405),u=i(2762),s=i(8116),f=i(7766),h=i(6760),p=i(7608),_=i(9618),m=i(6729),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function T(x,g,c,A,v,D,E,R,N,F,I){this.gl=x,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=g,this.dirty=!0,this.triShader=c,this.pickShader=A,this.trianglePositions=v,this.triangleVectors=D,this.triangleColors=R,this.triangleUVs=N,this.triangleIds=E,this.triangleVAO=F,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=I,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var y=T.prototype;y.isOpaque=function(){return this.opacity>=1},y.isTransparent=function(){return this.opacity<1},y.pickSlots=1,y.setPickBase=function(x){this.pickId=x};function k(x){for(var g=m({colormap:x,nshades:256,format:"rgba"}),c=new Uint8Array(256*4),A=0;A<256;++A){for(var v=g[A],D=0;D<3;++D)c[4*A+D]=v[D];c[4*A+3]=v[3]*255}return _(c,[256,256,4],[4,0,1])}function S(x){for(var g=x.length,c=new Array(g),A=0;A<g;++A)c[A]=x[A][2];return c}y.update=function(x){x=x||{};var g=this.gl;this.dirty=!0,"lightPosition"in x&&(this.lightPosition=x.lightPosition),"opacity"in x&&(this.opacity=x.opacity),"ambient"in x&&(this.ambientLight=x.ambient),"diffuse"in x&&(this.diffuseLight=x.diffuse),"specular"in x&&(this.specularLight=x.specular),"roughness"in x&&(this.roughness=x.roughness),"fresnel"in x&&(this.fresnel=x.fresnel),x.tubeScale!==void 0&&(this.tubeScale=x.tubeScale),x.vectorScale!==void 0&&(this.vectorScale=x.vectorScale),x.coneScale!==void 0&&(this.coneScale=x.coneScale),x.coneOffset!==void 0&&(this.coneOffset=x.coneOffset),x.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=g.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=g.LINEAR,this.texture.setPixels(k(x.colormap)),this.texture.generateMipmap());var c=x.cells,A=x.positions,v=x.vectors;if(!(!A||!c||!v)){var D=[],E=[],R=[],N=[],F=[];this.cells=c,this.positions=A,this.vectors=v;var I=x.meshColor||[1,1,1,1],L=x.vertexIntensity,P=1/0,O=-1/0;if(L)if(x.vertexIntensityBounds)P=+x.vertexIntensityBounds[0],O=+x.vertexIntensityBounds[1];else for(var U=0;U<L.length;++U){var X=L[U];P=Math.min(P,X),O=Math.max(O,X)}else for(var U=0;U<A.length;++U){var X=A[U][2];P=Math.min(P,X),O=Math.max(O,X)}L?this.intensity=L:this.intensity=S(A),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var U=0;U<A.length;++U)for(var $=A[U],j=0;j<3;++j)isNaN($[j])||!isFinite($[j])||(this.bounds[0][j]=Math.min(this.bounds[0][j],$[j]),this.bounds[1][j]=Math.max(this.bounds[1][j],$[j]));var Y=0;e:for(var U=0;U<c.length;++U){var q=c[U];switch(q.length){case 3:for(var j=0;j<3;++j)for(var K=q[j],$=A[K],ne=0;ne<3;++ne)if(isNaN($[ne])||!isFinite($[ne]))continue e;for(var j=0;j<3;++j){var K=q[2-j],$=A[K];D.push($[0],$[1],$[2],$[3]);var Q=v[K];E.push(Q[0],Q[1],Q[2],Q[3]||0);var oe=I;oe.length===3?R.push(oe[0],oe[1],oe[2],1):R.push(oe[0],oe[1],oe[2],oe[3]);var re;L?re=[(L[K]-P)/(O-P),0]:re=[($[2]-P)/(O-P),0],N.push(re[0],re[1]),F.push(U)}Y+=1;break;default:break}}this.triangleCount=Y,this.trianglePositions.update(D),this.triangleVectors.update(E),this.triangleColors.update(R),this.triangleUVs.update(N),this.triangleIds.update(new Uint32Array(F))}},y.drawTransparent=y.draw=function(x){x=x||{};for(var g=this.gl,c=x.model||w,A=x.view||w,v=x.projection||w,D=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)D[0][E]=Math.max(D[0][E],this.clipBounds[0][E]),D[1][E]=Math.min(D[1][E],this.clipBounds[1][E]);var R={model:c,view:A,projection:v,inverseModel:w.slice(),clipBounds:D,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};R.inverseModel=p(R.inverseModel,R.model),g.disable(g.CULL_FACE),this.texture.bind(0);var N=new Array(16);h(N,R.view,R.model),h(N,R.projection,N),p(N,N);for(var E=0;E<3;++E)R.eyePosition[E]=N[12+E]/N[15];for(var F=N[15],E=0;E<3;++E)F+=this.lightPosition[E]*N[4*E+3];for(var E=0;E<3;++E){for(var I=N[12+E],L=0;L<3;++L)I+=N[4*L+E]*this.lightPosition[L];R.lightPosition[E]=I/F}if(this.triangleCount>0){var P=this.triShader;P.bind(),P.uniforms=R,this.triangleVAO.bind(),g.drawArrays(g.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},y.drawPick=function(x){x=x||{};for(var g=this.gl,c=x.model||w,A=x.view||w,v=x.projection||w,D=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)D[0][E]=Math.max(D[0][E],this.clipBounds[0][E]),D[1][E]=Math.min(D[1][E],this.clipBounds[1][E]);this._model=[].slice.call(c),this._view=[].slice.call(A),this._projection=[].slice.call(v),this._resolution=[g.drawingBufferWidth,g.drawingBufferHeight];var R={model:c,view:A,projection:v,clipBounds:D,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},N=this.pickShader;N.bind(),N.uniforms=R,this.triangleCount>0&&(this.triangleVAO.bind(),g.drawArrays(g.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},y.pick=function(x){if(!x||x.id!==this.pickId)return null;var g=x.value[0]+256*x.value[1]+65536*x.value[2],c=this.cells[g],A=this.positions[c[1]].slice(0,3),v={position:A,dataCoordinate:A,index:Math.floor(c[1]/48)};return this.traceType==="cone"?v.index=Math.floor(c[1]/48):this.traceType==="streamtube"&&(v.intensity=this.intensity[c[1]],v.velocity=this.vectors[c[1]].slice(0,3),v.divergence=this.vectors[c[1]][3],v.index=g),v},y.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function b(x,g){var c=l(x,g.meshShader.vertex,g.meshShader.fragment,null,g.meshShader.attributes);return c.attributes.position.location=0,c.attributes.color.location=2,c.attributes.uv.location=3,c.attributes.vector.location=4,c}function M(x,g){var c=l(x,g.pickShader.vertex,g.pickShader.fragment,null,g.pickShader.attributes);return c.attributes.position.location=0,c.attributes.id.location=1,c.attributes.vector.location=4,c}function d(x,g,c){var A=c.shaders;arguments.length===1&&(g=x,x=g.gl);var v=b(x,A),D=M(x,A),E=f(x,_(new Uint8Array([255,255,255,255]),[1,1,4]));E.generateMipmap(),E.minFilter=x.LINEAR_MIPMAP_LINEAR,E.magFilter=x.LINEAR;var R=u(x),N=u(x),F=u(x),I=u(x),L=u(x),P=s(x,[{buffer:R,type:x.FLOAT,size:4},{buffer:L,type:x.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:F,type:x.FLOAT,size:4},{buffer:I,type:x.FLOAT,size:2},{buffer:N,type:x.FLOAT,size:4}]),O=new T(x,E,v,D,R,N,L,F,I,P,c.traceType||"cone");return O.update(g),O}a.exports=d},9127:function(a,o,i){"use strict";a.exports=s;var l=i(6204),u=i(5771);function s(f){return u(l(f))}},9131:function(a,o,i){var l=i(5177),u=i(9288);a.exports=s;function s(f,h){return h=h||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),l(f,f),u(f,f,h),f}},9165:function(a,o,i){"use strict";a.exports=T;var l=i(2762),u=i(8116),s=i(3436),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(y,k,S,b){this.gl=y,this.shader=b,this.buffer=k,this.vao=S,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var p=h.prototype;p.isOpaque=function(){return!this.hasAlpha},p.isTransparent=function(){return this.hasAlpha},p.drawTransparent=p.draw=function(y){var k=this.gl,S=this.shader.uniforms;this.shader.bind();var b=S.view=y.view||f,M=S.projection=y.projection||f;S.model=y.model||f,S.clipBounds=this.clipBounds,S.opacity=this.opacity;var d=b[12],x=b[13],g=b[14],c=b[15],A=y._ortho||!1,v=A?2:1,D=v*this.pixelRatio*(M[3]*d+M[7]*x+M[11]*g+M[15]*c)/k.drawingBufferHeight;this.vao.bind();for(var E=0;E<3;++E)k.lineWidth(this.lineWidth[E]*this.pixelRatio),S.capSize=this.capSize[E]*D,this.lineCount[E]&&k.drawArrays(k.LINES,this.lineOffset[E],this.lineCount[E]);this.vao.unbind()};function _(y,k){for(var S=0;S<3;++S)y[0][S]=Math.min(y[0][S],k[S]),y[1][S]=Math.max(y[1][S],k[S])}var m=function(){for(var y=new Array(3),k=0;k<3;++k){for(var S=[],b=1;b<=2;++b)for(var M=-1;M<=1;M+=2){var d=(b+k)%3,x=[0,0,0];x[d]=M,S.push(x)}y[k]=S}return y}();function w(y,k,S,b){for(var M=m[b],d=0;d<M.length;++d){var x=M[d];y.push(k[0],k[1],k[2],S[0],S[1],S[2],S[3],x[0],x[1],x[2])}return M.length}p.update=function(y){y=y||{},"lineWidth"in y&&(this.lineWidth=y.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in y&&(this.capSize=y.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in y&&(this.opacity=+y.opacity,this.opacity<1&&(this.hasAlpha=!0));var k=y.color||[[0,0,0],[0,0,0],[0,0,0]],S=y.position,b=y.error;if(Array.isArray(k[0])||(k=[k,k,k]),S&&b){var M=[],d=S.length,x=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var g=0;g<3;++g){this.lineOffset[g]=x;e:for(var c=0;c<d;++c){for(var A=S[c],v=0;v<3;++v)if(isNaN(A[v])||!isFinite(A[v]))continue e;var D=b[c],E=k[g];if(Array.isArray(E[0])&&(E=k[c]),E.length===3?E=[E[0],E[1],E[2],1]:E.length===4&&(E=[E[0],E[1],E[2],E[3]],!this.hasAlpha&&E[3]<1&&(this.hasAlpha=!0)),!(isNaN(D[0][g])||isNaN(D[1][g]))){if(D[0][g]<0){var R=A.slice();R[g]+=D[0][g],M.push(A[0],A[1],A[2],E[0],E[1],E[2],E[3],0,0,0,R[0],R[1],R[2],E[0],E[1],E[2],E[3],0,0,0),_(this.bounds,R),x+=2+w(M,R,E,g)}if(D[1][g]>0){var R=A.slice();R[g]+=D[1][g],M.push(A[0],A[1],A[2],E[0],E[1],E[2],E[3],0,0,0,R[0],R[1],R[2],E[0],E[1],E[2],E[3],0,0,0),_(this.bounds,R),x+=2+w(M,R,E,g)}}}this.lineCount[g]=x-this.lineOffset[g]}this.buffer.update(M)}},p.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function T(y){var k=y.gl,S=l(k),b=u(k,[{buffer:S,type:k.FLOAT,size:3,offset:0,stride:40},{buffer:S,type:k.FLOAT,size:4,offset:12,stride:40},{buffer:S,type:k.FLOAT,size:3,offset:28,stride:40}]),M=s(k);M.attributes.position.location=0,M.attributes.color.location=1,M.attributes.offset.location=2;var d=new h(k,S,b,M);return d.update(y),d}},9215:function(a,o,i){"use strict";a.exports=_;var l=i(4769),u=i(2478);function s(m,w,T){return Math.min(w,Math.max(m,T))}function f(m,w,T){this.dimension=m.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var y=0;y<this.dimension;++y)this.bounds[0][y]=-1/0,this.bounds[1][y]=1/0;this._state=m.slice().reverse(),this._velocity=w.slice().reverse(),this._time=[T],this._scratch=[m.slice(),m.slice(),m.slice(),m.slice(),m.slice()]}var h=f.prototype;h.flush=function(m){var w=u.gt(this._time,m)-1;w<=0||(this._time.splice(0,w),this._state.splice(0,w*this.dimension),this._velocity.splice(0,w*this.dimension))},h.curve=function(m){var w=this._time,T=w.length,y=u.le(w,m),k=this._scratch[0],S=this._state,b=this._velocity,M=this.dimension,d=this.bounds;if(y<0)for(var x=M-1,g=0;g<M;++g,--x)k[g]=S[x];else if(y>=T-1)for(var x=S.length-1,c=m-w[T-1],g=0;g<M;++g,--x)k[g]=S[x]+c*b[x];else{for(var x=M*(y+1)-1,A=w[y],v=w[y+1],D=v-A||1,E=this._scratch[1],R=this._scratch[2],N=this._scratch[3],F=this._scratch[4],I=!0,g=0;g<M;++g,--x)E[g]=S[x],N[g]=b[x]*D,R[g]=S[x+M],F[g]=b[x+M]*D,I=I&&E[g]===R[g]&&N[g]===F[g]&&N[g]===0;if(I)for(var g=0;g<M;++g)k[g]=E[g];else l(E,N,R,F,(m-A)/D,k)}for(var L=d[0],P=d[1],g=0;g<M;++g)k[g]=s(L[g],P[g],k[g]);return k},h.dcurve=function(m){var w=this._time,T=w.length,y=u.le(w,m),k=this._scratch[0],S=this._state,b=this._velocity,M=this.dimension;if(y>=T-1)for(var d=S.length-1,x=m-w[T-1],g=0;g<M;++g,--d)k[g]=b[d];else{for(var d=M*(y+1)-1,c=w[y],A=w[y+1],v=A-c||1,D=this._scratch[1],E=this._scratch[2],R=this._scratch[3],N=this._scratch[4],F=!0,g=0;g<M;++g,--d)D[g]=S[d],R[g]=b[d]*v,E[g]=S[d+M],N[g]=b[d+M]*v,F=F&&D[g]===E[g]&&R[g]===N[g]&&R[g]===0;if(F)for(var g=0;g<M;++g)k[g]=0;else{l.derivative(D,R,E,N,(m-c)/v,k);for(var g=0;g<M;++g)k[g]/=v}}return k},h.lastT=function(){var m=this._time;return m[m.length-1]},h.stable=function(){for(var m=this._velocity,w=m.length,T=this.dimension-1;T>=0;--T)if(m[--w])return!1;return!0},h.jump=function(m){var w=this.lastT(),T=this.dimension;if(!(m<w||arguments.length!==T+1)){var y=this._state,k=this._velocity,S=y.length-this.dimension,b=this.bounds,M=b[0],d=b[1];this._time.push(w,m);for(var x=0;x<2;++x)for(var g=0;g<T;++g)y.push(y[S++]),k.push(0);this._time.push(m);for(var g=T;g>0;--g)y.push(s(M[g-1],d[g-1],arguments[g])),k.push(0)}},h.push=function(m){var w=this.lastT(),T=this.dimension;if(!(m<w||arguments.length!==T+1)){var y=this._state,k=this._velocity,S=y.length-this.dimension,b=m-w,M=this.bounds,d=M[0],x=M[1],g=b>1e-6?1/b:0;this._time.push(m);for(var c=T;c>0;--c){var A=s(d[c-1],x[c-1],arguments[c]);y.push(A),k.push((A-y[S++])*g)}}},h.set=function(m){var w=this.dimension;if(!(m<this.lastT()||arguments.length!==w+1)){var T=this._state,y=this._velocity,k=this.bounds,S=k[0],b=k[1];this._time.push(m);for(var M=w;M>0;--M)T.push(s(S[M-1],b[M-1],arguments[M])),y.push(0)}},h.move=function(m){var w=this.lastT(),T=this.dimension;if(!(m<=w||arguments.length!==T+1)){var y=this._state,k=this._velocity,S=y.length-this.dimension,b=this.bounds,M=b[0],d=b[1],x=m-w,g=x>1e-6?1/x:0;this._time.push(m);for(var c=T;c>0;--c){var A=arguments[c];y.push(s(M[c-1],d[c-1],y[S++]+A)),k.push(A*g)}}},h.idle=function(m){var w=this.lastT();if(!(m<w)){var T=this.dimension,y=this._state,k=this._velocity,S=y.length-T,b=this.bounds,M=b[0],d=b[1],x=m-w;this._time.push(m);for(var g=T-1;g>=0;--g)y.push(s(M[g],d[g],y[S]+x*k[S])),k.push(0),S+=1}};function p(m){for(var w=new Array(m),T=0;T<m;++T)w[T]=0;return w}function _(m,w,T){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof m=="number"){var y=p(m);return new f(y,y,0)}else return new f(m,p(m.length),0);case 2:if(typeof w=="number"){var y=p(m.length);return new f(m,y,+w)}else T=0;case 3:if(m.length!==w.length)throw new Error("state and velocity lengths must match");return new f(m,w,T)}}},9216:function(a){"use strict";a.exports=u,a.exports.isMobile=u,a.exports.default=u;var o=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,l=/android|ipad|playbook|silk/i;function u(s){s||(s={});var f=s.ua;if(!f&&typeof navigator!="undefined"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var h=o.test(f)&&!i.test(f)||!!s.tablet&&l.test(f);return!h&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(h=!0),h}},9226:function(a){a.exports=o;function o(i,l){return i[0]=Math.ceil(l[0]),i[1]=Math.ceil(l[1]),i[2]=Math.ceil(l[2]),i}},9265:function(a){a.exports=o;function o(i,l){return i[0]===l[0]&&i[1]===l[1]&&i[2]===l[2]}},9288:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u,i[1]=l[1]*u,i[2]=l[2]*u,i[3]=l[3]*u,i}},9346:function(a){"use strict";var o=new Float64Array(4),i=new Float64Array(4),l=new Float64Array(4);function u(s,f,h,p,_){o.length<p.length&&(o=new Float64Array(p.length),i=new Float64Array(p.length),l=new Float64Array(p.length));for(var m=0;m<p.length;++m)o[m]=s[m]-p[m],i[m]=f[m]-s[m],l[m]=h[m]-s[m];for(var w=0,T=0,y=0,k=0,S=0,b=0,m=0;m<p.length;++m){var M=i[m],d=l[m],x=o[m];w+=M*M,T+=M*d,y+=d*d,k+=x*M,S+=x*d,b+=x*x}var g=Math.abs(w*y-T*T),c=T*S-y*k,A=T*k-w*S,v;if(c+A<=g)if(c<0)A<0&&k<0?(A=0,-k>=w?(c=1,v=w+2*k+b):(c=-k/w,v=k*c+b)):(c=0,S>=0?(A=0,v=b):-S>=y?(A=1,v=y+2*S+b):(A=-S/y,v=S*A+b));else if(A<0)A=0,k>=0?(c=0,v=b):-k>=w?(c=1,v=w+2*k+b):(c=-k/w,v=k*c+b);else{var D=1/g;c*=D,A*=D,v=c*(w*c+T*A+2*k)+A*(T*c+y*A+2*S)+b}else{var E,R,N,F;c<0?(E=T+k,R=y+S,R>E?(N=R-E,F=w-2*T+y,N>=F?(c=1,A=0,v=w+2*k+b):(c=N/F,A=1-c,v=c*(w*c+T*A+2*k)+A*(T*c+y*A+2*S)+b)):(c=0,R<=0?(A=1,v=y+2*S+b):S>=0?(A=0,v=b):(A=-S/y,v=S*A+b))):A<0?(E=T+S,R=w+k,R>E?(N=R-E,F=w-2*T+y,N>=F?(A=1,c=0,v=y+2*S+b):(A=N/F,c=1-A,v=c*(w*c+T*A+2*k)+A*(T*c+y*A+2*S)+b)):(A=0,R<=0?(c=1,v=w+2*k+b):k>=0?(c=0,v=b):(c=-k/w,v=k*c+b))):(N=y+S-T-k,N<=0?(c=0,A=1,v=y+2*S+b):(F=w-2*T+y,N>=F?(c=1,A=0,v=w+2*k+b):(c=N/F,A=1-c,v=c*(w*c+T*A+2*k)+A*(T*c+y*A+2*S)+b)))}for(var I=1-c-A,m=0;m<p.length;++m)_[m]=I*s[m]+c*f[m]+A*h[m];return v<0?0:v}a.exports=u},9362:function(a){"use strict";a.exports=o;function o(i,l,u){var s=i+l,f=s-i,h=s-f,p=l-f,_=i-h;return u?(u[0]=_+p,u[1]=s,u):[_+p,s]}},9366:function(a,o,i){"use strict";var l=i(4359);a.exports=s;var u={};function s(f,h,p){var _=[h.style,h.weight,h.variant,h.family].join("_"),m=u[_];if(m||(m=u[_]={}),f in m)return m[f];var w={textAlign:"center",textBaseline:"middle",lineHeight:1,font:h.family,fontStyle:h.style,fontWeight:h.weight,fontVariant:h.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};w.triangles=!0;var T=l(f,w);w.triangles=!1;var y=l(f,w),k,S;if(p&&p!==1){for(k=0;k<T.positions.length;++k)for(S=0;S<T.positions[k].length;++S)T.positions[k][S]/=p;for(k=0;k<y.positions.length;++k)for(S=0;S<y.positions[k].length;++S)y.positions[k][S]/=p}var b=[[1/0,1/0],[-1/0,-1/0]],M=y.positions.length;for(k=0;k<M;++k){var d=y.positions[k];for(S=0;S<2;++S)b[0][S]=Math.min(b[0][S],d[S]),b[1][S]=Math.max(b[1][S],d[S])}return m[f]=[T,y,b]}},9405:function(a,o,i){"use strict";var l=i(3327),u=i(8731),s=i(216),f=i(5091),h=i(2145),p=i(8866);function _(y){this.gl=y,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var m=_.prototype;m.bind=function(){this.program||this._relink();var y,k=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),S=this.gl.lastAttribCount;if(k>S)for(y=S;y<k;y++)this.gl.enableVertexAttribArray(y);else if(S>k)for(y=k;y<S;y++)this.gl.disableVertexAttribArray(y);this.gl.lastAttribCount=k,this.gl.useProgram(this.program)},m.dispose=function(){for(var y=this.gl.lastAttribCount,k=0;k<y;k++)this.gl.disableVertexAttribArray(k);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function w(y,k){return y.name<k.name?-1:1}m.update=function(y,k,S,b){if(!k||arguments.length===1){var M=y;y=M.vertex,k=M.fragment,S=M.uniforms,b=M.attributes}var d=this,x=d.gl,g=d._vref;d._vref=f.shader(x,x.VERTEX_SHADER,y),g&&g.dispose(),d.vertShader=d._vref.shader;var c=this._fref;if(d._fref=f.shader(x,x.FRAGMENT_SHADER,k),c&&c.dispose(),d.fragShader=d._fref.shader,!S||!b){var A=x.createProgram();if(x.attachShader(A,d.fragShader),x.attachShader(A,d.vertShader),x.linkProgram(A),!x.getProgramParameter(A,x.LINK_STATUS)){var v=x.getProgramInfoLog(A);throw new p(v,"Error linking program:"+v)}S=S||h.uniforms(x,A),b=b||h.attributes(x,A),x.deleteProgram(A)}b=b.slice(),b.sort(w);var D=[],E=[],R=[],N;for(N=0;N<b.length;++N){var F=b[N];if(F.type.indexOf("mat")>=0){for(var I=F.type.charAt(F.type.length-1)|0,L=new Array(I),P=0;P<I;++P)L[P]=R.length,E.push(F.name+"["+P+"]"),typeof F.location=="number"?R.push(F.location+P):Array.isArray(F.location)&&F.location.length===I&&typeof F.location[P]=="number"?R.push(F.location[P]|0):R.push(-1);D.push({name:F.name,type:F.type,locations:L})}else D.push({name:F.name,type:F.type,locations:[R.length]}),E.push(F.name),typeof F.location=="number"?R.push(F.location|0):R.push(-1)}var O=0;for(N=0;N<R.length;++N)if(R[N]<0){for(;R.indexOf(O)>=0;)O+=1;R[N]=O}var U=new Array(S.length);function X(){d.program=f.program(x,d._vref,d._fref,E,R);for(var $=0;$<S.length;++$)U[$]=x.getUniformLocation(d.program,S[$].name)}X(),d._relink=X,d.types={uniforms:s(S),attributes:s(b)},d.attributes=u(x,d,D,R),Object.defineProperty(d,"uniforms",l(x,d,S,U))};function T(y,k,S,b,M){var d=new _(y);return d.update(k,S,b,M),d}a.exports=T},9499:function(a,o,i){"use strict";a.exports=oe;var l=i(8828),u=i(2762),s=i(8116),f=i(7766),h=i(1888),p=i(6729),_=i(5298),m=i(9994),w=i(9618),T=i(3711),y=i(6760),k=i(7608),S=i(2478),b=i(6199),M=i(990),d=M.createShader,x=M.createContourShader,g=M.createPickShader,c=M.createPickContourShader,A=4*10,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],D=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],E=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var re=0;re<3;++re){var H=E[re],ee=(re+1)%3,V=(re+2)%3;H[ee+0]=1,H[V+3]=1,H[re+6]=1}})();function R(re,H,ee,V,te){this.position=re,this.index=H,this.uv=ee,this.level=V,this.dataCoordinate=te}var N=256;function F(re,H,ee,V,te,ue,ve,ke,Se,he,Ae,Ce,Pe,Ee,Ne){this.gl=re,this.shape=H,this.bounds=ee,this.objectOffset=Ne,this.intensityBounds=[],this._shader=V,this._pickShader=te,this._coordinateBuffer=ue,this._vao=ve,this._colorMap=ke,this._contourShader=Se,this._contourPickShader=he,this._contourBuffer=Ae,this._contourVAO=Ce,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new R([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Pe,this._dynamicVAO=Ee,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(h.mallocFloat(1024),[0,0]),w(h.mallocFloat(1024),[0,0]),w(h.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var I=F.prototype;I.genColormap=function(re,H){var ee=!1,V=m([p({colormap:re,nshades:N,format:"rgba"}).map(function(te,ue){var ve=H?L(ue/255,H):te[3];return ve<1&&(ee=!0),[te[0],te[1],te[2],255*ve]})]);return _.divseq(V,255),this.hasAlphaScale=ee,V},I.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},I.isOpaque=function(){return!this.isTransparent()},I.pickSlots=1,I.setPickBase=function(re){this.pickId=re};function L(re,H){if(!H||!H.length)return 1;for(var ee=0;ee<H.length;++ee){if(H.length<2)return 1;if(H[ee][0]===re)return H[ee][1];if(H[ee][0]>re&&ee>0){var V=(H[ee][0]-re)/(H[ee][0]-H[ee-1][0]);return H[ee][1]*(1-V)+V*H[ee-1][1]}}return 1}var P=[0,0,0],O={showSurface:!1,showContour:!1,projections:[v.slice(),v.slice(),v.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function U(re,H){var ee,V,te,ue=H.axes&&H.axes.lastCubeProps.axis||P,ve=H.showSurface,ke=H.showContour;for(ee=0;ee<3;++ee)for(ve=ve||H.surfaceProject[ee],V=0;V<3;++V)ke=ke||H.contourProject[ee][V];for(ee=0;ee<3;++ee){var Se=O.projections[ee];for(V=0;V<16;++V)Se[V]=0;for(V=0;V<4;++V)Se[5*V]=1;Se[5*ee]=0,Se[12+ee]=H.axesBounds[+(ue[ee]>0)][ee],y(Se,re.model,Se);var he=O.clipBounds[ee];for(te=0;te<2;++te)for(V=0;V<3;++V)he[te][V]=re.clipBounds[te][V];he[0][ee]=-1e8,he[1][ee]=1e8}return O.showSurface=ve,O.showContour=ke,O}var X={model:v,view:v,projection:v,inverseModel:v.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},$=v.slice(),j=[1,0,0,0,1,0,0,0,1];function Y(re,H){re=re||{};var ee=this.gl;ee.disable(ee.CULL_FACE),this._colorMap.bind(0);var V=X;V.model=re.model||v,V.view=re.view||v,V.projection=re.projection||v,V.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],V.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],V.objectOffset=this.objectOffset,V.contourColor=this.contourColor[0],V.inverseModel=k(V.inverseModel,V.model);for(var te=0;te<2;++te)for(var ue=V.clipBounds[te],ve=0;ve<3;++ve)ue[ve]=Math.min(Math.max(this.clipBounds[te][ve],-1e8),1e8);V.kambient=this.ambientLight,V.kdiffuse=this.diffuseLight,V.kspecular=this.specularLight,V.roughness=this.roughness,V.fresnel=this.fresnel,V.opacity=this.opacity,V.height=0,V.permutation=j,V.vertexColor=this.vertexColor;var ke=$;for(y(ke,V.view,V.model),y(ke,V.projection,ke),k(ke,ke),te=0;te<3;++te)V.eyePosition[te]=ke[12+te]/ke[15];var Se=ke[15];for(te=0;te<3;++te)Se+=this.lightPosition[te]*ke[4*te+3];for(te=0;te<3;++te){var he=ke[12+te];for(ve=0;ve<3;++ve)he+=ke[4*ve+te]*this.lightPosition[ve];V.lightPosition[te]=he/Se}var Ae=U(V,this);if(Ae.showSurface){for(this._shader.bind(),this._shader.uniforms=V,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ee.TRIANGLES,this._vertexCount),te=0;te<3;++te)!this.surfaceProject[te]||!this.vertexCount||(this._shader.uniforms.model=Ae.projections[te],this._shader.uniforms.clipBounds=Ae.clipBounds[te],this._vao.draw(ee.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ae.showContour){var Ce=this._contourShader;V.kambient=1,V.kdiffuse=0,V.kspecular=0,V.opacity=1,Ce.bind(),Ce.uniforms=V;var Pe=this._contourVAO;for(Pe.bind(),te=0;te<3;++te)for(Ce.uniforms.permutation=E[te],ee.lineWidth(this.contourWidth[te]*this.pixelRatio),ve=0;ve<this.contourLevels[te].length;++ve)ve===this.highlightLevel[te]?(Ce.uniforms.contourColor=this.highlightColor[te],Ce.uniforms.contourTint=this.highlightTint[te]):(ve===0||ve-1===this.highlightLevel[te])&&(Ce.uniforms.contourColor=this.contourColor[te],Ce.uniforms.contourTint=this.contourTint[te]),this._contourCounts[te][ve]&&(Ce.uniforms.height=this.contourLevels[te][ve],Pe.draw(ee.LINES,this._contourCounts[te][ve],this._contourOffsets[te][ve]));for(te=0;te<3;++te)for(Ce.uniforms.model=Ae.projections[te],Ce.uniforms.clipBounds=Ae.clipBounds[te],ve=0;ve<3;++ve)if(this.contourProject[te][ve]){Ce.uniforms.permutation=E[ve],ee.lineWidth(this.contourWidth[ve]*this.pixelRatio);for(var Ee=0;Ee<this.contourLevels[ve].length;++Ee)Ee===this.highlightLevel[ve]?(Ce.uniforms.contourColor=this.highlightColor[ve],Ce.uniforms.contourTint=this.highlightTint[ve]):(Ee===0||Ee-1===this.highlightLevel[ve])&&(Ce.uniforms.contourColor=this.contourColor[ve],Ce.uniforms.contourTint=this.contourTint[ve]),this._contourCounts[ve][Ee]&&(Ce.uniforms.height=this.contourLevels[ve][Ee],Pe.draw(ee.LINES,this._contourCounts[ve][Ee],this._contourOffsets[ve][Ee]))}for(Pe.unbind(),Pe=this._dynamicVAO,Pe.bind(),te=0;te<3;++te)if(this._dynamicCounts[te]!==0)for(Ce.uniforms.model=V.model,Ce.uniforms.clipBounds=V.clipBounds,Ce.uniforms.permutation=E[te],ee.lineWidth(this.dynamicWidth[te]*this.pixelRatio),Ce.uniforms.contourColor=this.dynamicColor[te],Ce.uniforms.contourTint=this.dynamicTint[te],Ce.uniforms.height=this.dynamicLevel[te],Pe.draw(ee.LINES,this._dynamicCounts[te],this._dynamicOffsets[te]),ve=0;ve<3;++ve)this.contourProject[ve][te]&&(Ce.uniforms.model=Ae.projections[ve],Ce.uniforms.clipBounds=Ae.clipBounds[ve],Pe.draw(ee.LINES,this._dynamicCounts[te],this._dynamicOffsets[te]));Pe.unbind()}}I.draw=function(re){return Y.call(this,re,!1)},I.drawTransparent=function(re){return Y.call(this,re,!0)};var q={model:v,view:v,projection:v,inverseModel:v,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};I.drawPick=function(re){re=re||{};var H=this.gl;H.disable(H.CULL_FACE);var ee=q;ee.model=re.model||v,ee.view=re.view||v,ee.projection=re.projection||v,ee.shape=this._field[2].shape,ee.pickId=this.pickId/255,ee.lowerBound=this.bounds[0],ee.upperBound=this.bounds[1],ee.objectOffset=this.objectOffset,ee.permutation=j;for(var V=0;V<2;++V)for(var te=ee.clipBounds[V],ue=0;ue<3;++ue)te[ue]=Math.min(Math.max(this.clipBounds[V][ue],-1e8),1e8);var ve=U(ee,this);if(ve.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ee,this._vao.bind(),this._vao.draw(H.TRIANGLES,this._vertexCount),V=0;V<3;++V)this.surfaceProject[V]&&(this._pickShader.uniforms.model=ve.projections[V],this._pickShader.uniforms.clipBounds=ve.clipBounds[V],this._vao.draw(H.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ve.showContour){var ke=this._contourPickShader;ke.bind(),ke.uniforms=ee;var Se=this._contourVAO;for(Se.bind(),ue=0;ue<3;++ue)for(H.lineWidth(this.contourWidth[ue]*this.pixelRatio),ke.uniforms.permutation=E[ue],V=0;V<this.contourLevels[ue].length;++V)this._contourCounts[ue][V]&&(ke.uniforms.height=this.contourLevels[ue][V],Se.draw(H.LINES,this._contourCounts[ue][V],this._contourOffsets[ue][V]));for(V=0;V<3;++V)for(ke.uniforms.model=ve.projections[V],ke.uniforms.clipBounds=ve.clipBounds[V],ue=0;ue<3;++ue)if(this.contourProject[V][ue]){ke.uniforms.permutation=E[ue],H.lineWidth(this.contourWidth[ue]*this.pixelRatio);for(var he=0;he<this.contourLevels[ue].length;++he)this._contourCounts[ue][he]&&(ke.uniforms.height=this.contourLevels[ue][he],Se.draw(H.LINES,this._contourCounts[ue][he],this._contourOffsets[ue][he]))}Se.unbind()}},I.pick=function(re){if(!re||re.id!==this.pickId)return null;var H=this._field[2].shape,ee=this._pickResult,V=H[0]*(re.value[0]+(re.value[2]>>4)/16)/255,te=Math.floor(V),ue=V-te,ve=H[1]*(re.value[1]+(re.value[2]&15)/16)/255,ke=Math.floor(ve),Se=ve-ke;te+=1,ke+=1;var he=ee.position;he[0]=he[1]=he[2]=0;for(var Ae=0;Ae<2;++Ae)for(var Ce=Ae?ue:1-ue,Pe=0;Pe<2;++Pe)for(var Ee=Pe?Se:1-Se,Ne=te+Ae,Ue=ke+Pe,ge=Ce*Ee,we=0;we<3;++we)he[we]+=this._field[we].get(Ne,Ue)*ge;for(var Te=this._pickResult.level,me=0;me<3;++me)if(Te[me]=S.le(this.contourLevels[me],he[me]),Te[me]<0)this.contourLevels[me].length>0&&(Te[me]=0);else if(Te[me]<this.contourLevels[me].length-1){var ye=this.contourLevels[me][Te[me]],pe=this.contourLevels[me][Te[me]+1];Math.abs(ye-he[me])>Math.abs(pe-he[me])&&(Te[me]+=1)}for(ee.index[0]=ue<.5?te:te+1,ee.index[1]=Se<.5?ke:ke+1,ee.uv[0]=V/H[0],ee.uv[1]=ve/H[1],we=0;we<3;++we)ee.dataCoordinate[we]=this._field[we].get(ee.index[0],ee.index[1]);return ee},I.padField=function(re,H){var ee=H.shape.slice(),V=re.shape.slice();_.assign(re.lo(1,1).hi(ee[0],ee[1]),H),_.assign(re.lo(1).hi(ee[0],1),H.hi(ee[0],1)),_.assign(re.lo(1,V[1]-1).hi(ee[0],1),H.lo(0,ee[1]-1).hi(ee[0],1)),_.assign(re.lo(0,1).hi(1,ee[1]),H.hi(1)),_.assign(re.lo(V[0]-1,1).hi(1,ee[1]),H.lo(ee[0]-1)),re.set(0,0,H.get(0,0)),re.set(0,V[1]-1,H.get(0,ee[1]-1)),re.set(V[0]-1,0,H.get(ee[0]-1,0)),re.set(V[0]-1,V[1]-1,H.get(ee[0]-1,ee[1]-1))};function K(re,H){return Array.isArray(re)?[H(re[0]),H(re[1]),H(re[2])]:[H(re),H(re),H(re)]}function ne(re){return Array.isArray(re)?re.length===3?[re[0],re[1],re[2],1]:[re[0],re[1],re[2],re[3]]:[0,0,0,1]}function Q(re){if(Array.isArray(re)){if(Array.isArray(re))return[ne(re[0]),ne(re[1]),ne(re[2])];var H=ne(re);return[H.slice(),H.slice(),H.slice()]}}I.update=function(re){re=re||{},this.objectOffset=re.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in re&&(this.contourWidth=K(re.contourWidth,Number)),"showContour"in re&&(this.showContour=K(re.showContour,Boolean)),"showSurface"in re&&(this.showSurface=!!re.showSurface),"contourTint"in re&&(this.contourTint=K(re.contourTint,Boolean)),"contourColor"in re&&(this.contourColor=Q(re.contourColor)),"contourProject"in re&&(this.contourProject=K(re.contourProject,function(wa){return K(wa,Boolean)})),"surfaceProject"in re&&(this.surfaceProject=re.surfaceProject),"dynamicColor"in re&&(this.dynamicColor=Q(re.dynamicColor)),"dynamicTint"in re&&(this.dynamicTint=K(re.dynamicTint,Number)),"dynamicWidth"in re&&(this.dynamicWidth=K(re.dynamicWidth,Number)),"opacity"in re&&(this.opacity=re.opacity),"opacityscale"in re&&(this.opacityscale=re.opacityscale),"colorBounds"in re&&(this.colorBounds=re.colorBounds),"vertexColor"in re&&(this.vertexColor=re.vertexColor?1:0),"colormap"in re&&this._colorMap.setPixels(this.genColormap(re.colormap,this.opacityscale));var H=re.field||re.coords&&re.coords[2]||null,ee=!1;if(H||(this._field[2].shape[0]||this._field[2].shape[2]?H=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):H=this._field[2].hi(0,0)),"field"in re||"coords"in re){var V=(H.shape[0]+2)*(H.shape[1]+2);V>this._field[2].data.length&&(h.freeFloat(this._field[2].data),this._field[2].data=h.mallocFloat(l.nextPow2(V))),this._field[2]=w(this._field[2].data,[H.shape[0]+2,H.shape[1]+2]),this.padField(this._field[2],H),this.shape=H.shape.slice();for(var te=this.shape,ue=0;ue<2;++ue)this._field[2].size>this._field[ue].data.length&&(h.freeFloat(this._field[ue].data),this._field[ue].data=h.mallocFloat(this._field[2].size)),this._field[ue]=w(this._field[ue].data,[te[0]+2,te[1]+2]);if(re.coords){var ve=re.coords;if(!Array.isArray(ve)||ve.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ue=0;ue<2;++ue){var ke=ve[ue];for(Pe=0;Pe<2;++Pe)if(ke.shape[Pe]!==te[Pe])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ue],ke)}}else if(re.ticks){var Se=re.ticks;if(!Array.isArray(Se)||Se.length!==2)throw new Error("gl-surface: invalid ticks");for(ue=0;ue<2;++ue){var he=Se[ue];if((Array.isArray(he)||he.length)&&(he=w(he)),he.shape[0]!==te[ue])throw new Error("gl-surface: invalid tick length");var Ae=w(he.data,te);Ae.stride[ue]=he.stride[0],Ae.stride[ue^1]=0,this.padField(this._field[ue],Ae)}}else{for(ue=0;ue<2;++ue){var Ce=[0,0];Ce[ue]=1,this._field[ue]=w(this._field[ue].data,[te[0]+2,te[1]+2],Ce,0)}this._field[0].set(0,0,0);for(var Pe=0;Pe<te[0];++Pe)this._field[0].set(Pe+1,0,Pe);for(this._field[0].set(te[0]+1,0,te[0]-1),this._field[1].set(0,0,0),Pe=0;Pe<te[1];++Pe)this._field[1].set(0,Pe+1,Pe);this._field[1].set(0,te[1]+1,te[1]-1)}var Ee=this._field,Ne=w(h.mallocFloat(Ee[2].size*3*2),[3,te[0]+2,te[1]+2,2]);for(ue=0;ue<3;++ue)b(Ne.pick(ue),Ee[ue],"mirror");var Ue=w(h.mallocFloat(Ee[2].size*3),[te[0]+2,te[1]+2,3]);for(ue=0;ue<te[0]+2;++ue)for(Pe=0;Pe<te[1]+2;++Pe){var ge=Ne.get(0,ue,Pe,0),we=Ne.get(0,ue,Pe,1),Te=Ne.get(1,ue,Pe,0),me=Ne.get(1,ue,Pe,1),ye=Ne.get(2,ue,Pe,0),pe=Ne.get(2,ue,Pe,1),ce=Te*pe-me*ye,be=ye*we-pe*ge,Le=ge*me-we*Te,qe=Math.sqrt(ce*ce+be*be+Le*Le);qe<1e-8?(qe=Math.max(Math.abs(ce),Math.abs(be),Math.abs(Le)),qe<1e-8?(Le=1,be=ce=0,qe=1):qe=1/qe):qe=1/Math.sqrt(qe),Ue.set(ue,Pe,0,ce*qe),Ue.set(ue,Pe,1,be*qe),Ue.set(ue,Pe,2,Le*qe)}h.free(Ne.data);var ze=[1/0,1/0,1/0],$e=[-1/0,-1/0,-1/0],Ve=1/0,Be=-1/0,Ye=(te[0]-1)*(te[1]-1)*6,Me=h.mallocFloat(l.nextPow2(10*Ye)),Re=0,Qe=0;for(ue=0;ue<te[0]-1;++ue)e:for(Pe=0;Pe<te[1]-1;++Pe){for(var Ke=0;Ke<2;++Ke)for(var ar=0;ar<2;++ar)for(var se=0;se<3;++se){var J=this._field[se].get(1+ue+Ke,1+Pe+ar);if(isNaN(J)||!isFinite(J))continue e}for(se=0;se<6;++se){var ae=ue+D[se][0],De=Pe+D[se][1],He=this._field[0].get(ae+1,De+1),er=this._field[1].get(ae+1,De+1);J=this._field[2].get(ae+1,De+1),ce=Ue.get(ae+1,De+1,0),be=Ue.get(ae+1,De+1,1),Le=Ue.get(ae+1,De+1,2),re.intensity&&(nr=re.intensity.get(ae,De));var nr=re.intensity?re.intensity.get(ae,De):J+this.objectOffset[2];Me[Re++]=ae,Me[Re++]=De,Me[Re++]=He,Me[Re++]=er,Me[Re++]=J,Me[Re++]=0,Me[Re++]=nr,Me[Re++]=ce,Me[Re++]=be,Me[Re++]=Le,ze[0]=Math.min(ze[0],He+this.objectOffset[0]),ze[1]=Math.min(ze[1],er+this.objectOffset[1]),ze[2]=Math.min(ze[2],J+this.objectOffset[2]),Ve=Math.min(Ve,nr),$e[0]=Math.max($e[0],He+this.objectOffset[0]),$e[1]=Math.max($e[1],er+this.objectOffset[1]),$e[2]=Math.max($e[2],J+this.objectOffset[2]),Be=Math.max(Be,nr),Qe+=1}}for(re.intensityBounds&&(Ve=+re.intensityBounds[0],Be=+re.intensityBounds[1]),ue=6;ue<Re;ue+=10)Me[ue]=(Me[ue]-Ve)/(Be-Ve);this._vertexCount=Qe,this._coordinateBuffer.update(Me.subarray(0,Re)),h.freeFloat(Me),h.free(Ue.data),this.bounds=[ze,$e],this.intensity=re.intensity||this._field[2],(this.intensityBounds[0]!==Ve||this.intensityBounds[1]!==Be)&&(ee=!0),this.intensityBounds=[Ve,Be]}if("levels"in re){var fr=re.levels;for(Array.isArray(fr[0])?fr=fr.slice():fr=[[],[],fr],ue=0;ue<3;++ue)fr[ue]=fr[ue].slice(),fr[ue].sort(function(wa,bi){return wa-bi});for(ue=0;ue<3;++ue)for(Pe=0;Pe<fr[ue].length;++Pe)fr[ue][Pe]-=this.objectOffset[ue];e:for(ue=0;ue<3;++ue){if(fr[ue].length!==this.contourLevels[ue].length){ee=!0;break}for(Pe=0;Pe<fr[ue].length;++Pe)if(fr[ue][Pe]!==this.contourLevels[ue][Pe]){ee=!0;break e}}this.contourLevels=fr}if(ee){Ee=this._field,te=this.shape;for(var xr=[],Sr=0;Sr<3;++Sr){var Mr=this.contourLevels[Sr],Ar=[],ft=[],sr=[0,0,0];for(ue=0;ue<Mr.length;++ue){var Pr=T(this._field[Sr],Mr[ue]);Ar.push(xr.length/5|0),Qe=0;e:for(Pe=0;Pe<Pr.cells.length;++Pe){var $r=Pr.cells[Pe];for(se=0;se<2;++se){var Fr=Pr.positions[$r[se]],Gr=Fr[0],pt=Math.floor(Gr)|0,Rr=Gr-pt,jr=Fr[1],hn=Math.floor(jr)|0,Et=jr-hn,Tn=!1;r:for(var Ot=0;Ot<3;++Ot){sr[Ot]=0;var xt=(Sr+Ot+1)%3;for(Ke=0;Ke<2;++Ke){var gt=Ke?Rr:1-Rr;for(ae=Math.min(Math.max(pt+Ke,0),te[0])|0,ar=0;ar<2;++ar){var Ft=ar?Et:1-Et;if(De=Math.min(Math.max(hn+ar,0),te[1])|0,Ot<2?J=this._field[xt].get(ae,De):J=(this.intensity.get(ae,De)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(J)||isNaN(J)){Tn=!0;break r}var ha=gt*Ft;sr[Ot]+=ha*J}}}if(!Tn)xr.push(sr[0],sr[1],Fr[0],Fr[1],sr[2]),Qe+=1;else{if(se>0){for(var Qn=0;Qn<5;++Qn)xr.pop();Qe-=1}continue e}}}ft.push(Qe)}this._contourOffsets[Sr]=Ar,this._contourCounts[Sr]=ft}var In=h.mallocFloat(xr.length);for(ue=0;ue<xr.length;++ue)In[ue]=xr[ue];this._contourBuffer.update(In),h.freeFloat(In)}},I.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var re=0;re<3;++re)h.freeFloat(this._field[re].data)},I.highlight=function(re){var H;if(!re){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(H=0;H<3;++H)this.enableHighlight[H]?this.highlightLevel[H]=re.level[H]:this.highlightLevel[H]=-1;var ee;for(this.snapToData?ee=re.dataCoordinate:ee=re.position,H=0;H<3;++H)ee[H]-=this.objectOffset[H];if(!((!this.enableDynamic[0]||ee[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||ee[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||ee[2]===this.dynamicLevel[2]))){for(var V=0,te=this.shape,ue=h.mallocFloat(12*te[0]*te[1]),ve=0;ve<3;++ve){if(!this.enableDynamic[ve]){this.dynamicLevel[ve]=NaN,this._dynamicCounts[ve]=0;continue}this.dynamicLevel[ve]=ee[ve];var ke=(ve+1)%3,Se=(ve+2)%3,he=this._field[ve],Ae=this._field[ke],Ce=this._field[Se],Pe=T(he,ee[ve]),Ee=Pe.cells,Ne=Pe.positions;for(this._dynamicOffsets[ve]=V,H=0;H<Ee.length;++H)for(var Ue=Ee[H],ge=0;ge<2;++ge){var we=Ne[Ue[ge]],Te=+we[0],me=Te|0,ye=Math.min(me+1,te[0])|0,pe=Te-me,ce=1-pe,be=+we[1],Le=be|0,qe=Math.min(Le+1,te[1])|0,ze=be-Le,$e=1-ze,Ve=ce*$e,Be=ce*ze,Ye=pe*$e,Me=pe*ze,Re=Ve*Ae.get(me,Le)+Be*Ae.get(me,qe)+Ye*Ae.get(ye,Le)+Me*Ae.get(ye,qe),Qe=Ve*Ce.get(me,Le)+Be*Ce.get(me,qe)+Ye*Ce.get(ye,Le)+Me*Ce.get(ye,qe);if(isNaN(Re)||isNaN(Qe)){ge&&(V-=1);break}ue[2*V+0]=Re,ue[2*V+1]=Qe,V+=1}this._dynamicCounts[ve]=V-this._dynamicOffsets[ve]}this._dynamicBuffer.update(ue.subarray(0,2*V)),h.freeFloat(ue)}};function oe(re){var H=re.gl,ee=d(H),V=g(H),te=x(H),ue=c(H),ve=u(H),ke=s(H,[{buffer:ve,size:4,stride:A,offset:0},{buffer:ve,size:3,stride:A,offset:16},{buffer:ve,size:3,stride:A,offset:28}]),Se=u(H),he=s(H,[{buffer:Se,size:4,stride:20,offset:0},{buffer:Se,size:1,stride:20,offset:16}]),Ae=u(H),Ce=s(H,[{buffer:Ae,size:2,type:H.FLOAT}]),Pe=f(H,1,N,H.RGBA,H.UNSIGNED_BYTE);Pe.minFilter=H.LINEAR,Pe.magFilter=H.LINEAR;var Ee=new F(H,[0,0],[[0,0,0],[0,0,0]],ee,V,ve,ke,Pe,te,ue,Se,he,Ae,Ce,[0,0,0]),Ne={levels:[[],[],[]]};for(var Ue in re)Ne[Ue]=re[Ue];return Ne.colormap=Ne.colormap||"jet",Ee.update(Ne),Ee}},9507:function(a){a.exports=!0},9618:function(a,o,i){var l=i(7163),u=typeof Float64Array!="undefined";function s(T,y){return T[0]-y[0]}function f(){var T=this.stride,y=new Array(T.length),k;for(k=0;k<y.length;++k)y[k]=[Math.abs(T[k]),k];y.sort(s);var S=new Array(y.length);for(k=0;k<S.length;++k)S[k]=y[k][1];return S}var h={T:function(T){function y(S){this.data=S}var k=y.prototype;return k.dtype=T,k.index=function(){return-1},k.size=0,k.dimension=-1,k.shape=k.stride=k.order=[],k.lo=k.hi=k.transpose=k.step=function(){return new y(this.data)},k.get=k.set=function(){},k.pick=function(){return null},function(b){return new y(b)}},0:function(T,y){function k(b,M){this.data=b,this.offset=M}var S=k.prototype;return S.dtype=T,S.index=function(){return this.offset},S.dimension=0,S.size=1,S.shape=S.stride=S.order=[],S.lo=S.hi=S.transpose=S.step=function(){return new k(this.data,this.offset)},S.pick=function(){return y(this.data)},S.valueOf=S.get=function(){return T==="generic"?this.data.get(this.offset):this.data[this.offset]},S.set=function(M){return T==="generic"?this.data.set(this.offset,M):this.data[this.offset]=M},function(M,d,x,g){return new k(M,g)}},1:function(T,y,k){function S(M,d,x,g){this.data=M,this.shape=[d],this.stride=[x],this.offset=g|0}var b=S.prototype;return b.dtype=T,b.dimension=1,Object.defineProperty(b,"size",{get:function(){return this.shape[0]}}),b.order=[0],b.set=function(d,x){return T==="generic"?this.data.set(this.offset+this.stride[0]*d,x):this.data[this.offset+this.stride[0]*d]=x},b.get=function(d){return T==="generic"?this.data.get(this.offset+this.stride[0]*d):this.data[this.offset+this.stride[0]*d]},b.index=function(d){return this.offset+this.stride[0]*d},b.hi=function(d){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,this.stride[0],this.offset)},b.lo=function(d){var x=this.offset,g=0,c=this.shape[0],A=this.stride[0];return typeof d=="number"&&d>=0&&(g=d|0,x+=A*g,c-=g),new S(this.data,c,A,x)},b.step=function(d){var x=this.shape[0],g=this.stride[0],c=this.offset,A=0,v=Math.ceil;return typeof d=="number"&&(A=d|0,A<0?(c+=g*(x-1),x=v(-x/A)):x=v(x/A),g*=A),new S(this.data,x,g,c)},b.transpose=function(d){d=d===void 0?0:d|0;var x=this.shape,g=this.stride;return new S(this.data,x[d],g[d],this.offset)},b.pick=function(d){var x=[],g=[],c=this.offset;typeof d=="number"&&d>=0?c=c+this.stride[0]*d|0:(x.push(this.shape[0]),g.push(this.stride[0]));var A=y[x.length+1];return A(this.data,x,g,c)},function(d,x,g,c){return new S(d,x[0],g[0],c)}},2:function(T,y,k){function S(M,d,x,g,c,A){this.data=M,this.shape=[d,x],this.stride=[g,c],this.offset=A|0}var b=S.prototype;return b.dtype=T,b.dimension=2,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(b,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),b.set=function(d,x,g){return T==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*x,g):this.data[this.offset+this.stride[0]*d+this.stride[1]*x]=g},b.get=function(d,x){return T==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*x):this.data[this.offset+this.stride[0]*d+this.stride[1]*x]},b.index=function(d,x){return this.offset+this.stride[0]*d+this.stride[1]*x},b.hi=function(d,x){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof x!="number"||x<0?this.shape[1]:x|0,this.stride[0],this.stride[1],this.offset)},b.lo=function(d,x){var g=this.offset,c=0,A=this.shape[0],v=this.shape[1],D=this.stride[0],E=this.stride[1];return typeof d=="number"&&d>=0&&(c=d|0,g+=D*c,A-=c),typeof x=="number"&&x>=0&&(c=x|0,g+=E*c,v-=c),new S(this.data,A,v,D,E,g)},b.step=function(d,x){var g=this.shape[0],c=this.shape[1],A=this.stride[0],v=this.stride[1],D=this.offset,E=0,R=Math.ceil;return typeof d=="number"&&(E=d|0,E<0?(D+=A*(g-1),g=R(-g/E)):g=R(g/E),A*=E),typeof x=="number"&&(E=x|0,E<0?(D+=v*(c-1),c=R(-c/E)):c=R(c/E),v*=E),new S(this.data,g,c,A,v,D)},b.transpose=function(d,x){d=d===void 0?0:d|0,x=x===void 0?1:x|0;var g=this.shape,c=this.stride;return new S(this.data,g[d],g[x],c[d],c[x],this.offset)},b.pick=function(d,x){var g=[],c=[],A=this.offset;typeof d=="number"&&d>=0?A=A+this.stride[0]*d|0:(g.push(this.shape[0]),c.push(this.stride[0])),typeof x=="number"&&x>=0?A=A+this.stride[1]*x|0:(g.push(this.shape[1]),c.push(this.stride[1]));var v=y[g.length+1];return v(this.data,g,c,A)},function(d,x,g,c){return new S(d,x[0],x[1],g[0],g[1],c)}},3:function(T,y,k){function S(M,d,x,g,c,A,v,D){this.data=M,this.shape=[d,x,g],this.stride=[c,A,v],this.offset=D|0}var b=S.prototype;return b.dtype=T,b.dimension=3,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(b,"order",{get:function(){var d=Math.abs(this.stride[0]),x=Math.abs(this.stride[1]),g=Math.abs(this.stride[2]);return d>x?x>g?[2,1,0]:d>g?[1,2,0]:[1,0,2]:d>g?[2,0,1]:g>x?[0,1,2]:[0,2,1]}}),b.set=function(d,x,g,c){return T==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*x+this.stride[2]*g,c):this.data[this.offset+this.stride[0]*d+this.stride[1]*x+this.stride[2]*g]=c},b.get=function(d,x,g){return T==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*x+this.stride[2]*g):this.data[this.offset+this.stride[0]*d+this.stride[1]*x+this.stride[2]*g]},b.index=function(d,x,g){return this.offset+this.stride[0]*d+this.stride[1]*x+this.stride[2]*g},b.hi=function(d,x,g){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof x!="number"||x<0?this.shape[1]:x|0,typeof g!="number"||g<0?this.shape[2]:g|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},b.lo=function(d,x,g){var c=this.offset,A=0,v=this.shape[0],D=this.shape[1],E=this.shape[2],R=this.stride[0],N=this.stride[1],F=this.stride[2];return typeof d=="number"&&d>=0&&(A=d|0,c+=R*A,v-=A),typeof x=="number"&&x>=0&&(A=x|0,c+=N*A,D-=A),typeof g=="number"&&g>=0&&(A=g|0,c+=F*A,E-=A),new S(this.data,v,D,E,R,N,F,c)},b.step=function(d,x,g){var c=this.shape[0],A=this.shape[1],v=this.shape[2],D=this.stride[0],E=this.stride[1],R=this.stride[2],N=this.offset,F=0,I=Math.ceil;return typeof d=="number"&&(F=d|0,F<0?(N+=D*(c-1),c=I(-c/F)):c=I(c/F),D*=F),typeof x=="number"&&(F=x|0,F<0?(N+=E*(A-1),A=I(-A/F)):A=I(A/F),E*=F),typeof g=="number"&&(F=g|0,F<0?(N+=R*(v-1),v=I(-v/F)):v=I(v/F),R*=F),new S(this.data,c,A,v,D,E,R,N)},b.transpose=function(d,x,g){d=d===void 0?0:d|0,x=x===void 0?1:x|0,g=g===void 0?2:g|0;var c=this.shape,A=this.stride;return new S(this.data,c[d],c[x],c[g],A[d],A[x],A[g],this.offset)},b.pick=function(d,x,g){var c=[],A=[],v=this.offset;typeof d=="number"&&d>=0?v=v+this.stride[0]*d|0:(c.push(this.shape[0]),A.push(this.stride[0])),typeof x=="number"&&x>=0?v=v+this.stride[1]*x|0:(c.push(this.shape[1]),A.push(this.stride[1])),typeof g=="number"&&g>=0?v=v+this.stride[2]*g|0:(c.push(this.shape[2]),A.push(this.stride[2]));var D=y[c.length+1];return D(this.data,c,A,v)},function(d,x,g,c){return new S(d,x[0],x[1],x[2],g[0],g[1],g[2],c)}},4:function(T,y,k){function S(M,d,x,g,c,A,v,D,E,R){this.data=M,this.shape=[d,x,g,c],this.stride=[A,v,D,E],this.offset=R|0}var b=S.prototype;return b.dtype=T,b.dimension=4,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(b,"order",{get:k}),b.set=function(d,x,g,c,A){return T==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*x+this.stride[2]*g+this.stride[3]*c,A):this.data[this.offset+this.stride[0]*d+this.stride[1]*x+this.stride[2]*g+this.stride[3]*c]=A},b.get=function(d,x,g,c){return T==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*x+this.stride[2]*g+this.stride[3]*c):this.data[this.offset+this.stride[0]*d+this.stride[1]*x+this.stride[2]*g+this.stride[3]*c]},b.index=function(d,x,g,c){return this.offset+this.stride[0]*d+this.stride[1]*x+this.stride[2]*g+this.stride[3]*c},b.hi=function(d,x,g,c){return new S(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof x!="number"||x<0?this.shape[1]:x|0,typeof g!="number"||g<0?this.shape[2]:g|0,typeof c!="number"||c<0?this.shape[3]:c|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},b.lo=function(d,x,g,c){var A=this.offset,v=0,D=this.shape[0],E=this.shape[1],R=this.shape[2],N=this.shape[3],F=this.stride[0],I=this.stride[1],L=this.stride[2],P=this.stride[3];return typeof d=="number"&&d>=0&&(v=d|0,A+=F*v,D-=v),typeof x=="number"&&x>=0&&(v=x|0,A+=I*v,E-=v),typeof g=="number"&&g>=0&&(v=g|0,A+=L*v,R-=v),typeof c=="number"&&c>=0&&(v=c|0,A+=P*v,N-=v),new S(this.data,D,E,R,N,F,I,L,P,A)},b.step=function(d,x,g,c){var A=this.shape[0],v=this.shape[1],D=this.shape[2],E=this.shape[3],R=this.stride[0],N=this.stride[1],F=this.stride[2],I=this.stride[3],L=this.offset,P=0,O=Math.ceil;return typeof d=="number"&&(P=d|0,P<0?(L+=R*(A-1),A=O(-A/P)):A=O(A/P),R*=P),typeof x=="number"&&(P=x|0,P<0?(L+=N*(v-1),v=O(-v/P)):v=O(v/P),N*=P),typeof g=="number"&&(P=g|0,P<0?(L+=F*(D-1),D=O(-D/P)):D=O(D/P),F*=P),typeof c=="number"&&(P=c|0,P<0?(L+=I*(E-1),E=O(-E/P)):E=O(E/P),I*=P),new S(this.data,A,v,D,E,R,N,F,I,L)},b.transpose=function(d,x,g,c){d=d===void 0?0:d|0,x=x===void 0?1:x|0,g=g===void 0?2:g|0,c=c===void 0?3:c|0;var A=this.shape,v=this.stride;return new S(this.data,A[d],A[x],A[g],A[c],v[d],v[x],v[g],v[c],this.offset)},b.pick=function(d,x,g,c){var A=[],v=[],D=this.offset;typeof d=="number"&&d>=0?D=D+this.stride[0]*d|0:(A.push(this.shape[0]),v.push(this.stride[0])),typeof x=="number"&&x>=0?D=D+this.stride[1]*x|0:(A.push(this.shape[1]),v.push(this.stride[1])),typeof g=="number"&&g>=0?D=D+this.stride[2]*g|0:(A.push(this.shape[2]),v.push(this.stride[2])),typeof c=="number"&&c>=0?D=D+this.stride[3]*c|0:(A.push(this.shape[3]),v.push(this.stride[3]));var E=y[A.length+1];return E(this.data,A,v,D)},function(d,x,g,c){return new S(d,x[0],x[1],x[2],x[3],g[0],g[1],g[2],g[3],c)}},5:function(y,k,S){function b(d,x,g,c,A,v,D,E,R,N,F,I){this.data=d,this.shape=[x,g,c,A,v],this.stride=[D,E,R,N,F],this.offset=I|0}var M=b.prototype;return M.dtype=y,M.dimension=5,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(M,"order",{get:S}),M.set=function(x,g,c,A,v,D){return y==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*v,D):this.data[this.offset+this.stride[0]*x+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*v]=D},M.get=function(x,g,c,A,v){return y==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*v):this.data[this.offset+this.stride[0]*x+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*v]},M.index=function(x,g,c,A,v){return this.offset+this.stride[0]*x+this.stride[1]*g+this.stride[2]*c+this.stride[3]*A+this.stride[4]*v},M.hi=function(x,g,c,A,v){return new b(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof g!="number"||g<0?this.shape[1]:g|0,typeof c!="number"||c<0?this.shape[2]:c|0,typeof A!="number"||A<0?this.shape[3]:A|0,typeof v!="number"||v<0?this.shape[4]:v|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},M.lo=function(x,g,c,A,v){var D=this.offset,E=0,R=this.shape[0],N=this.shape[1],F=this.shape[2],I=this.shape[3],L=this.shape[4],P=this.stride[0],O=this.stride[1],U=this.stride[2],X=this.stride[3],$=this.stride[4];return typeof x=="number"&&x>=0&&(E=x|0,D+=P*E,R-=E),typeof g=="number"&&g>=0&&(E=g|0,D+=O*E,N-=E),typeof c=="number"&&c>=0&&(E=c|0,D+=U*E,F-=E),typeof A=="number"&&A>=0&&(E=A|0,D+=X*E,I-=E),typeof v=="number"&&v>=0&&(E=v|0,D+=$*E,L-=E),new b(this.data,R,N,F,I,L,P,O,U,X,$,D)},M.step=function(x,g,c,A,v){var D=this.shape[0],E=this.shape[1],R=this.shape[2],N=this.shape[3],F=this.shape[4],I=this.stride[0],L=this.stride[1],P=this.stride[2],O=this.stride[3],U=this.stride[4],X=this.offset,$=0,j=Math.ceil;return typeof x=="number"&&($=x|0,$<0?(X+=I*(D-1),D=j(-D/$)):D=j(D/$),I*=$),typeof g=="number"&&($=g|0,$<0?(X+=L*(E-1),E=j(-E/$)):E=j(E/$),L*=$),typeof c=="number"&&($=c|0,$<0?(X+=P*(R-1),R=j(-R/$)):R=j(R/$),P*=$),typeof A=="number"&&($=A|0,$<0?(X+=O*(N-1),N=j(-N/$)):N=j(N/$),O*=$),typeof v=="number"&&($=v|0,$<0?(X+=U*(F-1),F=j(-F/$)):F=j(F/$),U*=$),new b(this.data,D,E,R,N,F,I,L,P,O,U,X)},M.transpose=function(x,g,c,A,v){x=x===void 0?0:x|0,g=g===void 0?1:g|0,c=c===void 0?2:c|0,A=A===void 0?3:A|0,v=v===void 0?4:v|0;var D=this.shape,E=this.stride;return new b(this.data,D[x],D[g],D[c],D[A],D[v],E[x],E[g],E[c],E[A],E[v],this.offset)},M.pick=function(x,g,c,A,v){var D=[],E=[],R=this.offset;typeof x=="number"&&x>=0?R=R+this.stride[0]*x|0:(D.push(this.shape[0]),E.push(this.stride[0])),typeof g=="number"&&g>=0?R=R+this.stride[1]*g|0:(D.push(this.shape[1]),E.push(this.stride[1])),typeof c=="number"&&c>=0?R=R+this.stride[2]*c|0:(D.push(this.shape[2]),E.push(this.stride[2])),typeof A=="number"&&A>=0?R=R+this.stride[3]*A|0:(D.push(this.shape[3]),E.push(this.stride[3])),typeof v=="number"&&v>=0?R=R+this.stride[4]*v|0:(D.push(this.shape[4]),E.push(this.stride[4]));var N=k[D.length+1];return N(this.data,D,E,R)},function(x,g,c,A){return new b(x,g[0],g[1],g[2],g[3],g[4],c[0],c[1],c[2],c[3],c[4],A)}}};function p(T,y){var k=y===-1?"T":String(y),S=h[k];return y===-1?S(T):y===0?S(T,m[T][0]):S(T,m[T],f)}function _(T){if(l(T))return"buffer";if(u)switch(Object.prototype.toString.call(T)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(T)?"array":"generic"}var m={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function w(T,y,k,S){if(T===void 0){var c=m.array[0];return c([])}else typeof T=="number"&&(T=[T]);y===void 0&&(y=[T.length]);var b=y.length;if(k===void 0){k=new Array(b);for(var M=b-1,d=1;M>=0;--M)k[M]=d,d*=y[M]}if(S===void 0){S=0;for(var M=0;M<b;++M)k[M]<0&&(S-=(y[M]-1)*k[M])}for(var x=_(T),g=m[x];g.length<=b+1;)g.push(p(x,g.length-1));var c=g[b+1];return c(T,y,k,S)}a.exports=w},9921:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3],h=i[4],p=i[5],_=i[6],m=i[7],w=i[8],T=i[9],y=i[10],k=i[11],S=i[12],b=i[13],M=i[14],d=i[15],x=l*p-u*h,g=l*_-s*h,c=l*m-f*h,A=u*_-s*p,v=u*m-f*p,D=s*m-f*_,E=w*b-T*S,R=w*M-y*S,N=w*d-k*S,F=T*M-y*b,I=T*d-k*b,L=y*d-k*M;return x*L-g*I+c*F+A*N-v*R+D*E}},9922:function(a,o,i){a.exports=u;var l=i(2613);function u(s,f){var h=s[0],p=s[1],_=s[2],m=f[0],w=f[1],T=f[2];return Math.abs(h-m)<=l*Math.max(1,Math.abs(h),Math.abs(m))&&Math.abs(p-w)<=l*Math.max(1,Math.abs(p),Math.abs(w))&&Math.abs(_-T)<=l*Math.max(1,Math.abs(_),Math.abs(T))}},9970:function(a,o,i){a.exports={create:i(7536),clone:i(2335),fromValues:i(3390),copy:i(2933),set:i(4578),add:i(4361),subtract:i(6860),multiply:i(3576),divide:i(1373),min:i(2334),max:i(160),scale:i(9288),scaleAndAdd:i(4844),distance:i(4691),squaredDistance:i(7960),length:i(6808),squaredLength:i(483),negate:i(1498),inverse:i(4494),normalize:i(5177),dot:i(3750),lerp:i(2573),random:i(9131),transformMat4:i(5352),transformQuat:i(4041)}},9977:function(a,o,i){"use strict";a.exports=y;var l=i(9215),u=i(6582),s=i(7399),f=i(7608),h=i(4081);function p(k,S,b){return Math.sqrt(Math.pow(k,2)+Math.pow(S,2)+Math.pow(b,2))}function _(k,S,b,M){return Math.sqrt(Math.pow(k,2)+Math.pow(S,2)+Math.pow(b,2)+Math.pow(M,2))}function m(k,S){var b=S[0],M=S[1],d=S[2],x=S[3],g=_(b,M,d,x);g>1e-6?(k[0]=b/g,k[1]=M/g,k[2]=d/g,k[3]=x/g):(k[0]=k[1]=k[2]=0,k[3]=1)}function w(k,S,b){this.radius=l([b]),this.center=l(S),this.rotation=l(k),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var T=w.prototype;T.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},T.recalcMatrix=function(k){this.radius.curve(k),this.center.curve(k),this.rotation.curve(k);var S=this.computedRotation;m(S,S);var b=this.computedMatrix;s(b,S);var M=this.computedCenter,d=this.computedEye,x=this.computedUp,g=Math.exp(this.computedRadius[0]);d[0]=M[0]+g*b[2],d[1]=M[1]+g*b[6],d[2]=M[2]+g*b[10],x[0]=b[1],x[1]=b[5],x[2]=b[9];for(var c=0;c<3;++c){for(var A=0,v=0;v<3;++v)A+=b[c+4*v]*d[v];b[12+c]=-A}},T.getMatrix=function(k,S){this.recalcMatrix(k);var b=this.computedMatrix;if(S){for(var M=0;M<16;++M)S[M]=b[M];return S}return b},T.idle=function(k){this.center.idle(k),this.radius.idle(k),this.rotation.idle(k)},T.flush=function(k){this.center.flush(k),this.radius.flush(k),this.rotation.flush(k)},T.pan=function(k,S,b,M){S=S||0,b=b||0,M=M||0,this.recalcMatrix(k);var d=this.computedMatrix,x=d[1],g=d[5],c=d[9],A=p(x,g,c);x/=A,g/=A,c/=A;var v=d[0],D=d[4],E=d[8],R=v*x+D*g+E*c;v-=x*R,D-=g*R,E-=c*R;var N=p(v,D,E);v/=N,D/=N,E/=N;var F=d[2],I=d[6],L=d[10],P=F*x+I*g+L*c,O=F*v+I*D+L*E;F-=P*x+O*v,I-=P*g+O*D,L-=P*c+O*E;var U=p(F,I,L);F/=U,I/=U,L/=U;var X=v*S+x*b,$=D*S+g*b,j=E*S+c*b;this.center.move(k,X,$,j);var Y=Math.exp(this.computedRadius[0]);Y=Math.max(1e-4,Y+M),this.radius.set(k,Math.log(Y))},T.rotate=function(k,S,b,M){this.recalcMatrix(k),S=S||0,b=b||0;var d=this.computedMatrix,x=d[0],g=d[4],c=d[8],A=d[1],v=d[5],D=d[9],E=d[2],R=d[6],N=d[10],F=S*x+b*A,I=S*g+b*v,L=S*c+b*D,P=-(R*L-N*I),O=-(N*F-E*L),U=-(E*I-R*F),X=Math.sqrt(Math.max(0,1-Math.pow(P,2)-Math.pow(O,2)-Math.pow(U,2))),$=_(P,O,U,X);$>1e-6?(P/=$,O/=$,U/=$,X/=$):(P=O=U=0,X=1);var j=this.computedRotation,Y=j[0],q=j[1],K=j[2],ne=j[3],Q=Y*X+ne*P+q*U-K*O,oe=q*X+ne*O+K*P-Y*U,re=K*X+ne*U+Y*O-q*P,H=ne*X-Y*P-q*O-K*U;if(M){P=E,O=R,U=N;var ee=Math.sin(M)/p(P,O,U);P*=ee,O*=ee,U*=ee,X=Math.cos(S),Q=Q*X+H*P+oe*U-re*O,oe=oe*X+H*O+re*P-Q*U,re=re*X+H*U+Q*O-oe*P,H=H*X-Q*P-oe*O-re*U}var V=_(Q,oe,re,H);V>1e-6?(Q/=V,oe/=V,re/=V,H/=V):(Q=oe=re=0,H=1),this.rotation.set(k,Q,oe,re,H)},T.lookAt=function(k,S,b,M){this.recalcMatrix(k),b=b||this.computedCenter,S=S||this.computedEye,M=M||this.computedUp;var d=this.computedMatrix;u(d,S,b,M);var x=this.computedRotation;h(x,d[0],d[1],d[2],d[4],d[5],d[6],d[8],d[9],d[10]),m(x,x),this.rotation.set(k,x[0],x[1],x[2],x[3]);for(var g=0,c=0;c<3;++c)g+=Math.pow(b[c]-S[c],2);this.radius.set(k,.5*Math.log(Math.max(g,1e-6))),this.center.set(k,b[0],b[1],b[2])},T.translate=function(k,S,b,M){this.center.move(k,S||0,b||0,M||0)},T.setMatrix=function(k,S){var b=this.computedRotation;h(b,S[0],S[1],S[2],S[4],S[5],S[6],S[8],S[9],S[10]),m(b,b),this.rotation.set(k,b[0],b[1],b[2],b[3]);var M=this.computedMatrix;f(M,S);var d=M[15];if(Math.abs(d)>1e-6){var x=M[12]/d,g=M[13]/d,c=M[14]/d;this.recalcMatrix(k);var A=Math.exp(this.computedRadius[0]);this.center.set(k,x-M[2]*A,g-M[6]*A,c-M[10]*A),this.radius.idle(k)}else this.center.idle(k),this.radius.idle(k)},T.setDistance=function(k,S){S>0&&this.radius.set(k,Math.log(S))},T.setDistanceLimits=function(k,S){k>0?k=Math.log(k):k=-1/0,S>0?S=Math.log(S):S=1/0,S=Math.max(S,k),this.radius.bounds[0][0]=k,this.radius.bounds[1][0]=S},T.getDistanceLimits=function(k){var S=this.radius.bounds;return k?(k[0]=Math.exp(S[0][0]),k[1]=Math.exp(S[1][0]),k):[Math.exp(S[0][0]),Math.exp(S[1][0])]},T.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},T.fromJSON=function(k){var S=this.lastT(),b=k.center;b&&this.center.set(S,b[0],b[1],b[2]);var M=k.rotation;M&&this.rotation.set(S,M[0],M[1],M[2],M[3]);var d=k.distance;d&&d>0&&this.radius.set(S,Math.log(d)),this.setDistanceLimits(k.zoomMin,k.zoomMax)};function y(k){k=k||{};var S=k.center||[0,0,0],b=k.rotation||[0,0,0,1],M=k.radius||1;S=[].slice.call(S,0,3),b=[].slice.call(b,0,4),m(b,b);var d=new w(b,S,Math.log(M));return d.setDistanceLimits(k.zoomMin,k.zoomMax),("eye"in k||"up"in k)&&d.lookAt(0,k.eye,k.center,k.up),d}},9994:function(a,o,i){"use strict";var l=i(9618),u=i(8277);a.exports=function(f,h){for(var p=[],_=f,m=1;Array.isArray(_);)p.push(_.length),m*=_.length,_=_[0];return p.length===0?l():(h||(h=l(new Float64Array(m),p)),u(h,f),h)}}},r={};function t(a){var o=r[a];if(o!==void 0)return o.exports;var i=r[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}(function(){t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}}()})(),function(){t.nmd=function(a){return a.paths=[],a.children||(a.children=[]),a}}();var n=t(1964);kI.exports=n})()});var CI=de((Pde,SI)=>{"use strict";SI.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var RI=de((Ide,DI)=>{"use strict";var EI=CI();DI.exports=hie;var LI={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function hie(e){var r,t=[],n=1,a;if(typeof e=="string")if(e=e.toLowerCase(),EI[e])t=EI[e].slice(),a="rgb";else if(e==="transparent")n=0,a="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var o=e.slice(1),i=o.length,l=i<=4;n=1,l?(t=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],i===4&&(n=parseInt(o[3]+o[3],16)/255)):(t=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],i===8&&(n=parseInt(o[6]+o[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),a="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var u=r[1],s=u==="rgb",o=u.replace(/a$/,"");a=o;var i=o==="cmyk"?4:o==="gray"?1:3;t=r[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(p,_){if(/%$/.test(p))return _===i?parseFloat(p)/100:o==="rgb"?parseFloat(p)*255/100:parseFloat(p);if(o[_]==="h"){if(/deg$/.test(p))return parseFloat(p);if(LI[p]!==void 0)return LI[p]}return parseFloat(p)}),u===o&&t.push(1),n=s||t[i]===void 0?1:t[i],t=t.slice(0,i)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(t=e.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),a=e.match(/([a-z])/ig).join("").toLowerCase());else isNaN(e)?Array.isArray(e)||e.length?(t=[e[0],e[1],e[2]],a="rgb",n=e.length===4?e[3]:1):e instanceof Object&&(e.r!=null||e.red!=null||e.R!=null?(a="rgb",t=[e.r||e.red||e.R||0,e.g||e.green||e.G||0,e.b||e.blue||e.B||0]):(a="hsl",t=[e.h||e.hue||e.H||0,e.s||e.saturation||e.S||0,e.l||e.lightness||e.L||e.b||e.brightness]),n=e.a||e.alpha||e.opacity||1,e.opacity!=null&&(n/=100)):(a="rgb",t=[e>>>16,(e&65280)>>>8,e&255]);return{space:a,values:t,alpha:n}}});var II=de((Fde,PI)=>{"use strict";var vie=RI();PI.exports=function(r){Array.isArray(r)&&r.raw&&(r=String.raw.apply(null,arguments));var t,n,a,o=vie(r);if(!o.space)return[];var i=[0,0,0],l=o.space[0]==="h"?[360,100,100]:[255,255,255];return t=Array(3),t[0]=Math.min(Math.max(o.values[0],i[0]),l[0]),t[1]=Math.min(Math.max(o.values[1],i[1]),l[1]),t[2]=Math.min(Math.max(o.values[2],i[2]),l[2]),o.space[0]==="h"&&(t=die(t)),t.push(Math.min(Math.max(o.alpha,0),1)),t};function die(e){var r=e[0]/360,t=e[1]/100,n=e[2]/100,a,o,i,l,u,s=0;if(t===0)return u=n*255,[u,u,u];for(o=n<.5?n*(1+t):n+t-n*t,a=2*n-o,l=[0,0,0];s<3;)i=r+1/3*-(s-1),i<0?i++:i>1&&i--,u=6*i<1?a+(o-a)*6*i:2*i<1?o:3*i<2?a+(o-a)*(2/3-i)*6:a,l[s++]=u*255;return l}});var NI=de((Nde,FI)=>{FI.exports=pie;function pie(e,r,t){return r<t?e<r?r:e>t?t:e:e<t?t:e>r?r:e}});var qI=de((zde,zI)=>{zI.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}});var A3=de((qde,OI)=>{"use strict";var gie=II(),ld=NI(),yie=qI();OI.exports=function(r,t){(t==="float"||!t)&&(t="array"),t==="uint"&&(t="uint8"),t==="uint_clamped"&&(t="uint8_clamped");var n=yie(t),a=new n(4),o=t!=="uint8"&&t!=="uint8_clamped";return(!r.length||typeof r=="string")&&(r=gie(r),r[0]/=255,r[1]/=255,r[2]/=255),mie(r)?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:255,o&&(a[0]/=255,a[1]/=255,a[2]/=255,a[3]/=255),a):(o?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:1):(a[0]=ld(Math.floor(r[0]*255),0,255),a[1]=ld(Math.floor(r[1]*255),0,255),a[2]=ld(Math.floor(r[2]*255),0,255),a[3]=r[3]==null?255:ld(Math.floor(r[3]*255),0,255)),a)};function mie(e){return!!(e instanceof Uint8Array||e instanceof Uint8ClampedArray||Array.isArray(e)&&(e[0]>1||e[0]===0)&&(e[1]>1||e[1]===0)&&(e[2]>1||e[2]===0)&&(!e[3]||e[3]>1))}});var po=de((Ode,BI)=>{"use strict";var bie=A3();function xie(e){return e?bie(e):[0,0,0,1]}BI.exports=xie});var al=de((Bde,XI)=>{"use strict";var YI=nt(),_ie=ka(),sd=A3(),ud=Li(),wie=Ti().defaultLine,UI=ea().isArrayOrTypedArray,k3=sd(wie),WI=1;function HI(e,r){var t=e;return t[3]*=r,t}function VI(e){if(YI(e))return k3;var r=sd(e);return r.length?r:k3}function GI(e){return YI(e)?e:WI}function Mie(e,r,t){var n=e.color;n&&n._inputArray&&(n=n._inputArray);var a=UI(n),o=UI(r),i=ud.extractOpts(e),l=[],u,s,f,h,p;if(i.colorscale!==void 0?u=ud.makeColorScaleFuncFromTrace(e):u=VI,a?s=function(m,w){return m[w]===void 0?k3:sd(u(m[w]))}:s=VI,o?f=function(m,w){return m[w]===void 0?WI:GI(m[w])}:f=GI,a||o)for(var _=0;_<t;_++)h=s(n,_),p=f(r,_),l[_]=HI(h,p);else l=HI(sd(n),r);return l}function Tie(e){var r=ud.extractOpts(e),t=r.colorscale;return r.reversescale&&(t=ud.flipScale(r.colorscale)),t.map(function(n){var a=n[0],o=_ie(n[1]),i=o.toRgb();return{index:a,rgb:[i.r,i.g,i.b,i.a]}})}XI.exports={formatColor:Mie,parseColorScale:Tie}});var S3=de((Ude,ZI)=>{"use strict";ZI.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}});var fd=de((Hde,JI)=>{"use strict";JI.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}});var QI=de((Vde,KI)=>{"use strict";var Aie=Cr();function C3(e,r,t,n){if(!r||!r.visible)return null;for(var a=Aie.getComponentMethod("errorbars","makeComputeError")(r),o=new Array(e.length),i=0;i<e.length;i++){var l=a(+e[i],i);if(n.type==="log"){var u=n.c2l(e[i]),s=e[i]-l[0],f=e[i]+l[1];if(o[i]=[(n.c2l(s,!0)-u)*t,(n.c2l(f,!0)-u)*t],s>0){var h=n.c2l(s);n._lowerLogErrorBound||(n._lowerLogErrorBound=h),n._lowerErrorBound=Math.min(n._lowerLogErrorBound,h)}}else o[i]=[-l[0]*t,l[1]*t]}return o}function kie(e){for(var r=0;r<e.length;r++)if(e[r])return e[r].length;return 0}function Sie(e,r,t){var n=[C3(e.x,e.error_x,r[0],t.xaxis),C3(e.y,e.error_y,r[1],t.yaxis),C3(e.z,e.error_z,r[2],t.zaxis)],a=kie(n);if(a===0)return null;for(var o=new Array(a),i=0;i<a;i++){for(var l=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(n[u])for(var s=0;s<2;s++)l[s][u]=n[u][i][s];o[i]=l}return o}KI.exports=Sie});var oF=de((Gde,iF)=>{"use strict";var Cie=pn().gl_line3d,$I=pn().gl_scatter3d,Eie=pn().gl_error3d,Lie=pn().gl_mesh3d,Die=pn().delaunay_triangulate,go=ir(),nF=po(),cd=al().formatColor,Rie=Sg(),E3=S3(),Pie=fd(),Iie=Lt(),Fie=to().appendArrayPointValue,Nie=QI();function aF(e,r){this.scene=e,this.uid=r,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var D3=aF.prototype;D3.handlePick=function(e){if(e.object&&(e.object===this.linePlot||e.object===this.delaunayMesh||e.object===this.textMarkers||e.object===this.scatterPlot)){var r=e.index=e.data.index;return e.object.highlight&&e.object.highlight(null),this.scatterPlot&&(e.object=this.scatterPlot,this.scatterPlot.highlight(e.data)),e.textLabel="",this.textLabels&&(go.isArrayOrTypedArray(this.textLabels)?(this.textLabels[r]||this.textLabels[r]===0)&&(e.textLabel=this.textLabels[r]):e.textLabel=this.textLabels),e.traceCoordinate=[this.data.x[r],this.data.y[r],this.data.z[r]],!0}};function zie(e,r,t){var n=(t+1)%3,a=(t+2)%3,o=[],i=[],l;for(l=0;l<e.length;++l){var u=e[l];isNaN(u[n])||!isFinite(u[n])||isNaN(u[a])||!isFinite(u[a])||(o.push([u[n],u[a]]),i.push(l))}var s=Die(o);for(l=0;l<s.length;++l)for(var f=s[l],h=0;h<f.length;++h)f[h]=i[f[h]];return{positions:e,cells:s,meshColor:r}}function qie(e){for(var r=[0,0,0],t=[[0,0,0],[0,0,0],[0,0,0]],n=[1,1,1],a=0;a<3;a++){var o=e[a];o&&o.copy_zstyle!==!1&&e[2].visible!==!1&&(o=e[2]),!(!o||!o.visible)&&(r[a]=o.width/2,t[a]=nF(o.color),n[a]=o.thickness)}return{capSize:r,color:t,lineWidth:n}}function jI(e){return e==null?0:e.indexOf("left")>-1?-1:e.indexOf("right")>-1?1:0}function eF(e){return e==null?0:e.indexOf("top")>-1?-1:e.indexOf("bottom")>-1?1:0}function Oie(e){var r=0,t=0,n=[r,t];if(Array.isArray(e))for(var a=0;a<e.length;a++)n[a]=[r,t],e[a]&&(n[a][0]=jI(e[a]),n[a][1]=eF(e[a]));else n[0]=jI(e),n[1]=eF(e);return n}function Bie(e,r){return r(e*4)}function Uie(e){return Pie[e]}function L3(e,r,t,n,a){var o=null;if(go.isArrayOrTypedArray(e)){o=[];for(var i=0;i<r;i++)e[i]===void 0?o[i]=n:o[i]=t(e[i],a)}else o=t(e,go.identity);return o}function Hie(e,r){var t=[],n=e.fullSceneLayout,a=e.dataScale,o=n.xaxis,i=n.yaxis,l=n.zaxis,u=r.marker,s=r.line,f=r.x||[],h=r.y||[],p=r.z||[],_=f.length,m=r.xcalendar,w=r.ycalendar,T=r.zcalendar,y,k,S,b,M,d;for(M=0;M<_;M++)y=o.d2l(f[M],0,m)*a[0],k=i.d2l(h[M],0,w)*a[1],S=l.d2l(p[M],0,T)*a[2],t[M]=[y,k,S];if(Array.isArray(r.text))d=r.text;else if(go.isTypedArray(r.text))d=Array.from(r.text);else if(r.text!==void 0)for(d=new Array(_),M=0;M<_;M++)d[M]=r.text;function x(U,X){var $=n[U];return Iie.tickText($,$.d2l(X),!0).text}var g=r.texttemplate;if(g){var c=e.fullLayout,A=c._d3locale,v=Array.isArray(g),D=v?Math.min(g.length,_):_,E=v?function(U){return g[U]}:function(){return g};for(d=new Array(D),M=0;M<D;M++){var R={x:f[M],y:h[M],z:p[M]},N={xLabel:x("xaxis",f[M]),yLabel:x("yaxis",h[M]),zLabel:x("zaxis",p[M])},F={};Fie(F,r,M),d[M]=go.texttemplateString({data:[F,R,r._meta],fallback:r.texttemplatefallback,labels:N,locale:A,template:E(M)})}}if(b={position:t,mode:r.mode,text:d},"line"in r&&(b.lineColor=cd(s,1,_),b.lineWidth=s.width,b.lineDashes=s.dash),"marker"in r){var I=Rie(r);b.scatterColor=cd(u,1,_),b.scatterSize=L3(u.size,_,Bie,20,I),b.scatterMarker=L3(u.symbol,_,Uie,"\u25CF"),b.scatterLineWidth=u.line.width,b.scatterLineColor=cd(u.line,1,_),b.scatterAngle=0}"textposition"in r&&(b.textOffset=Oie(r.textposition),b.textColor=cd(r.textfont,1,_),b.textSize=L3(r.textfont.size,_,go.identity,12),b.textFontFamily=r.textfont.family,b.textFontWeight=r.textfont.weight,b.textFontStyle=r.textfont.style,b.textFontVariant=r.textfont.variant,b.textAngle=0);var L=["x","y","z"];for(b.project=[!1,!1,!1],b.projectScale=[1,1,1],b.projectOpacity=[1,1,1],M=0;M<3;++M){var P=r.projection[L[M]];(b.project[M]=P.show)&&(b.projectOpacity[M]=P.opacity,b.projectScale[M]=P.scale)}b.errorBounds=Nie(r,a,n);var O=qie([r.error_x,r.error_y,r.error_z]);return b.errorColor=O.color,b.errorLineWidth=O.lineWidth,b.errorCapSize=O.capSize,b.delaunayAxis=r.surfaceaxis,b.delaunayColor=nF(r.surfacecolor),b}function rF(e){if(go.isArrayOrTypedArray(e)){var r=e[0];return go.isArrayOrTypedArray(r)&&(e=r),"rgb("+e.slice(0,3).map(function(t){return Math.round(t*255)})+")"}return null}function tF(e){return go.isArrayOrTypedArray(e)?e.length===4&&typeof e[0]=="number"?rF(e):e.map(rF):null}D3.update=function(e){var r=this.scene.glplot.gl,t,n,a,o,i=E3.solid;this.data=e;var l=Hie(this.scene,e);"mode"in l&&(this.mode=l.mode),"lineDashes"in l&&l.lineDashes in E3&&(i=E3[l.lineDashes]),this.color=tF(l.scatterColor)||tF(l.lineColor),this.dataPoints=l.position,t={gl:this.scene.glplot.gl,position:l.position,color:l.lineColor,lineWidth:l.lineWidth||1,dashes:i[0],dashScale:i[1],opacity:e.opacity,connectGaps:e.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(t):(this.linePlot=Cie(t),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var u=e.opacity;if(e.marker&&e.marker.opacity!==void 0&&(u*=e.marker.opacity),n={gl:this.scene.glplot.gl,position:l.position,color:l.scatterColor,size:l.scatterSize,glyph:l.scatterMarker,opacity:u,orthographic:!0,lineWidth:l.scatterLineWidth,lineColor:l.scatterLineColor,project:l.project,projectScale:l.projectScale,projectOpacity:l.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=$I(n),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),o={gl:this.scene.glplot.gl,position:l.position,glyph:l.text,color:l.textColor,size:l.textSize,angle:l.textAngle,alignment:l.textOffset,font:l.textFontFamily,fontWeight:l.textFontWeight,fontStyle:l.textFontStyle,fontVariant:l.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:e.opacity},this.textLabels=e.hovertext||e.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(o):(this.textMarkers=$I(o),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),a={gl:this.scene.glplot.gl,position:l.position,color:l.errorColor,error:l.errorBounds,lineWidth:l.errorLineWidth,capSize:l.errorCapSize,opacity:e.opacity},this.errorBars?l.errorBounds?this.errorBars.update(a):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):l.errorBounds&&(this.errorBars=Eie(a),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),l.delaunayAxis>=0){var s=zie(l.position,l.delaunayColor,l.delaunayAxis);s.opacity=e.opacity,this.delaunayMesh?this.delaunayMesh.update(s):(s.gl=r,this.delaunayMesh=Lie(s),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)};D3.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function Vie(e,r){var t=new aF(e,r.uid);return t.update(r),t}iF.exports=Vie});var N3=de((Yde,fF)=>{"use strict";var yo=jl(),Gie=kn(),F3=ei(),R3=ro().axisHoverFormat,{hovertemplateAttrs:Yie,texttemplateAttrs:Wie,templatefallbackAttrs:lF}=Ka(),sF=Sn(),Xie=S3(),Zie=fd(),gi=Tt().extendFlat,Jie=zn().overrideAll,uF=Jc(),Kie=yo.line,cs=yo.marker,Qie=cs.line,$ie=gi({width:Kie.width,dash:{valType:"enumerated",values:uF(Xie),dflt:"solid"}},F3("line"));function P3(e){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}}var I3=fF.exports=Jie({x:yo.x,y:yo.y,z:{valType:"data_array"},text:gi({},yo.text,{}),texttemplate:Wie(),texttemplatefallback:lF({editType:"calc"}),hovertext:gi({},yo.hovertext,{}),hovertemplate:Yie(),hovertemplatefallback:lF(),xhoverformat:R3("x"),yhoverformat:R3("y"),zhoverformat:R3("z"),mode:gi({},yo.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:P3("x"),y:P3("y"),z:P3("z")},connectgaps:yo.connectgaps,line:$ie,marker:gi({symbol:{valType:"enumerated",values:uF(Zie),dflt:"circle",arrayOk:!0},size:gi({},cs.size,{dflt:8}),sizeref:cs.sizeref,sizemin:cs.sizemin,sizemode:cs.sizemode,opacity:gi({},cs.opacity,{arrayOk:!1}),colorbar:cs.colorbar,line:gi({width:gi({},Qie.width,{arrayOk:!1})},F3("marker.line"))},F3("marker")),textposition:gi({},yo.textposition,{dflt:"top center"}),textfont:Gie({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:sF.opacity,hoverinfo:gi({},sF.hoverinfo)},"calc","nested");I3.x.editType=I3.y.editType=I3.z.editType="calc+clearAxisTypes"});var vF=de((Wde,hF)=>{"use strict";var cF=Cr(),jie=ir(),z3=oa(),eoe=tm(),roe=nm(),toe=am(),noe=N3();hF.exports=function(r,t,n,a){function o(_,m){return jie.coerce(r,t,noe,_,m)}var i=aoe(r,t,o,a);if(!i){t.visible=!1;return}o("text"),o("hovertext"),o("hovertemplate"),o("hovertemplatefallback"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),z3.hasMarkers(t)&&eoe(r,t,n,a,o,{noSelect:!0,noAngle:!0}),z3.hasLines(t)&&(o("connectgaps"),roe(r,t,n,a,o)),z3.hasText(t)&&(o("texttemplate"),o("texttemplatefallback"),toe(r,t,a,o,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var l=(t.line||{}).color,u=(t.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",l||u);for(var s=["x","y","z"],f=0;f<3;++f){var h="projection."+s[f];o(h+".show")&&(o(h+".opacity"),o(h+".scale"))}var p=cF.getComponentMethod("errorbars","supplyDefaults");p(r,t,l||u||n,{axis:"z"}),p(r,t,l||u||n,{axis:"y",inherit:"z"}),p(r,t,l||u||n,{axis:"x",inherit:"z"})};function aoe(e,r,t,n){var a=0,o=t("x"),i=t("y"),l=t("z"),u=cF.getComponentMethod("calendars","handleTraceDefaults");return u(e,r,["x","y","z"],n),o&&i&&l&&(a=Math.min(o.length,i.length,l.length),r._length=r._xlength=r._ylength=r._zlength=a),a}});var pF=de((Xde,dF)=>{"use strict";var ioe=b1(),ooe=lm();dF.exports=function(r,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return ioe(n,t),ooe(r,t),n}});var yF=de((Zde,gF)=>{gF.exports=loe;function loe(e,r){if(typeof e!="string")throw new TypeError("must specify type string");if(r=r||{},typeof document=="undefined"&&!r.canvas)return null;var t=r.canvas||document.createElement("canvas");typeof r.width=="number"&&(t.width=r.width),typeof r.height=="number"&&(t.height=r.height);var n=r,a;try{var o=[e];e.indexOf("webgl")===0&&o.push("experimental-"+e);for(var i=0;i<o.length;i++)if(a=t.getContext(o[i],n),a)return a}catch(l){a=null}return a||null}});var bF=de((Jde,mF)=>{var soe=yF();mF.exports=function(r){return soe("webgl",r)}});var wF=de((Kde,_F)=>{"use strict";var xF=Xr(),uoe=function(){};_F.exports=function(r){for(var t in r)typeof r[t]=="function"&&(r[t]=uoe);r.destroy=function(){r.container.parentNode.removeChild(r.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=xF.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=xF.lightLine,n.style["z-index"]=30;var a=document.createElement("p");return a.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",a.style.position="relative",a.style.top="50%",a.style.left="50%",a.style.height="30%",a.style.width="50%",a.style.margin="-15% 0 0 -25%",n.appendChild(a),r.container.appendChild(n),r.container.style.background="#FFFFFF",r.container.onclick=function(){window.open("https://get.webgl.org")},!1}});var AF=de((Qde,TF)=>{"use strict";var hs=po(),foe=ir(),coe=["xaxis","yaxis","zaxis"];function MF(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var hoe=MF.prototype;hoe.merge=function(e,r){for(var t=this,n=0;n<3;++n){var a=r[coe[n]];if(!a.visible){t.tickEnable[n]=!1,t.labelEnable[n]=!1,t.lineEnable[n]=!1,t.lineTickEnable[n]=!1,t.gridEnable[n]=!1,t.zeroEnable[n]=!1,t.backgroundEnable[n]=!1;continue}t.labels[n]=e._meta?foe.templateString(a.title.text,e._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(t.labelColor[n]=hs(a.title.font.color)),a.title.font.family&&(t.labelFont[n]=a.title.font.family),a.title.font.size&&(t.labelSize[n]=a.title.font.size),a.title.font.weight&&(t.labelFontWeight[n]=a.title.font.weight),a.title.font.style&&(t.labelFontStyle[n]=a.title.font.style),a.title.font.variant&&(t.labelFontVariant[n]=a.title.font.variant)),"showline"in a&&(t.lineEnable[n]=a.showline),"linecolor"in a&&(t.lineColor[n]=hs(a.linecolor)),"linewidth"in a&&(t.lineWidth[n]=a.linewidth),"showgrid"in a&&(t.gridEnable[n]=a.showgrid),"gridcolor"in a&&(t.gridColor[n]=hs(a.gridcolor)),"gridwidth"in a&&(t.gridWidth[n]=a.gridwidth),a.type==="log"?t.zeroEnable[n]=!1:"zeroline"in a&&(t.zeroEnable[n]=a.zeroline),"zerolinecolor"in a&&(t.zeroLineColor[n]=hs(a.zerolinecolor)),"zerolinewidth"in a&&(t.zeroLineWidth[n]=a.zerolinewidth),"ticks"in a&&a.ticks?t.lineTickEnable[n]=!0:t.lineTickEnable[n]=!1,"ticklen"in a&&(t.lineTickLength[n]=t._defaultLineTickLength[n]=a.ticklen),"tickcolor"in a&&(t.lineTickColor[n]=hs(a.tickcolor)),"tickwidth"in a&&(t.lineTickWidth[n]=a.tickwidth),"tickangle"in a&&(t.tickAngle[n]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(t.tickEnable[n]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(t.tickColor[n]=hs(a.tickfont.color)),a.tickfont.family&&(t.tickFont[n]=a.tickfont.family),a.tickfont.size&&(t.tickSize[n]=a.tickfont.size),a.tickfont.weight&&(t.tickFontWeight[n]=a.tickfont.weight),a.tickfont.style&&(t.tickFontStyle[n]=a.tickfont.style),a.tickfont.variant&&(t.tickFontVariant[n]=a.tickfont.variant)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(t.lineTickMirror[n]=!0,t.lineMirror[n]=!0):a.mirror===!0?(t.lineTickMirror[n]=!1,t.lineMirror[n]=!0):(t.lineTickMirror[n]=!1,t.lineMirror[n]=!1):t.lineMirror[n]=!1,"showbackground"in a&&a.showbackground!==!1?(t.backgroundEnable[n]=!0,t.backgroundColor[n]=hs(a.backgroundcolor)):t.backgroundEnable[n]=!1}};function voe(e,r){var t=new MF;return t.merge(e,r),t}TF.exports=voe});var CF=de(($de,SF)=>{"use strict";var doe=po(),poe=["xaxis","yaxis","zaxis"];function kF(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var goe=kF.prototype;goe.merge=function(e){for(var r=0;r<3;++r){var t=e[poe[r]];if(!t.visible){this.enabled[r]=!1,this.drawSides[r]=!1;continue}this.enabled[r]=t.showspikes,this.colors[r]=doe(t.spikecolor),this.drawSides[r]=t.spikesides,this.lineWidth[r]=t.spikethickness}};function yoe(e){var r=new kF;return r.merge(e),r}SF.exports=yoe});var DF=de((jde,LF)=>{"use strict";LF.exports=woe;var EF=Lt(),moe=ir(),boe=["xaxis","yaxis","zaxis"],xoe=[0,0,0];function _oe(e){for(var r=new Array(3),t=0;t<3;++t){for(var n=e[t],a=new Array(n.length),o=0;o<n.length;++o)a[o]=n[o].x;r[t]=a}return r}function woe(e){for(var r=e.axesOptions,t=e.glplot.axesPixels,n=e.fullSceneLayout,a=[[],[],[]],o=0;o<3;++o){var i=n[boe[o]];if(i._length=(t[o].hi-t[o].lo)*t[o].pixelsPerDataUnit/e.dataScale[o],Math.abs(i._length)===1/0||isNaN(i._length))a[o]=[];else{i._input_range=i.range.slice(),i.range[0]=t[o].lo/e.dataScale[o],i.range[1]=t[o].hi/e.dataScale[o],i._m=1/(e.dataScale[o]*t[o].pixelsPerDataUnit),i.range[0]===i.range[1]&&(i.range[0]-=1,i.range[1]+=1);var l=i.tickmode;if(i.tickmode==="auto"){i.tickmode="linear";var u=i.nticks||moe.constrain(i._length/40,4,9);EF.autoTicks(i,Math.abs(i.range[1]-i.range[0])/u)}for(var s=EF.calcTicks(i,{msUTC:!0}),f=0;f<s.length;++f)s[f].x=s[f].x*e.dataScale[o],i.type==="date"&&(s[f].text=s[f].text.replace(/\<br\>/g," "));a[o]=s,i.tickmode=l}}r.ticks=a;for(var o=0;o<3;++o){xoe[o]=.5*(e.glplot.bounds[0][o]+e.glplot.bounds[1][o]);for(var f=0;f<2;++f)r.bounds[f][o]=e.glplot.bounds[f][o]}e.contourLevels=_oe(a)}});var qF=de((epe,zF)=>{"use strict";var IF=pn().gl_plot3d,Moe=IF.createCamera,RF=IF.createScene,Toe=bF(),Aoe=Qh(),dd=Cr(),Jn=ir(),vd=Jn.preserveDrawingBuffer(),pd=Lt(),yi=io(),koe=po(),Soe=wF(),Coe=Vm(),Eoe=AF(),Loe=CF(),Doe=DF(),Roe=eu().applyAutorangeOptions,U0,hd,FF=!1;function NF(e,r){var t=document.createElement("div"),n=e.container;this.graphDiv=e.graphDiv;var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.position="absolute",a.style.top=a.style.left="0px",a.style.width=a.style.height="100%",a.style["z-index"]=20,a.style["pointer-events"]="none",t.appendChild(a),this.svgContainer=a,t.id=e.id,t.style.position="absolute",t.style.top=t.style.left="0px",t.style.width=t.style.height="100%",n.appendChild(t),this.fullLayout=r,this.id=e.id||"scene",this.fullSceneLayout=r[this.id],this.plotArgs=[[],{},{}],this.axesOptions=Eoe(r,r[this.id]),this.spikeOptions=Loe(r[this.id]),this.container=t,this.staticMode=!!e.staticPlot,this.pixelRatio=this.pixelRatio||e.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=dd.getComponentMethod("annotations3d","convert"),this.drawAnnotations=dd.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var Dn=NF.prototype;Dn.prepareOptions=function(){var e=this,r={canvas:e.canvas,gl:e.gl,glOptions:{preserveDrawingBuffer:vd,premultipliedAlpha:!0,antialias:!0},container:e.container,axes:e.axesOptions,spikes:e.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:e.camera,pixelRatio:e.pixelRatio};if(e.staticMode){if(!hd&&(U0=document.createElement("canvas"),hd=Toe({canvas:U0,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!hd))throw new Error("error creating static canvas/context for image server");r.gl=hd,r.canvas=U0}return r};var PF=!0;Dn.tryCreatePlot=function(){var e=this,r=e.prepareOptions(),t=!0;try{e.glplot=RF(r)}catch(n){if(e.staticMode||!PF||vd)t=!1;else{Jn.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{vd=r.glOptions.preserveDrawingBuffer=!0,e.glplot=RF(r)}catch(a){vd=r.glOptions.preserveDrawingBuffer=!1,t=!1}}}return PF=!1,t};Dn.initializeGLCamera=function(){var e=this,r=e.fullSceneLayout.camera,t=r.projection.type==="orthographic";e.camera=Moe(e.container,{center:[r.center.x,r.center.y,r.center.z],eye:[r.eye.x,r.eye.y,r.eye.z],up:[r.up.x,r.up.y,r.up.z],_ortho:t,zoomMin:.01,zoomMax:100,mode:"orbit"})};Dn.initializeGLPlot=function(){var e=this;e.initializeGLCamera();var r=e.tryCreatePlot();if(!r)return Soe(e);e.traces={},e.make4thDimension();var t=e.graphDiv,n=t.layout,a=function(){var i={};return e.isCameraChanged(n)&&(i[e.id+".camera"]=e.getCamera()),e.isAspectChanged(n)&&(i[e.id+".aspectratio"]=e.glplot.getAspectratio(),n[e.id].aspectmode!=="manual"&&(e.fullSceneLayout.aspectmode=n[e.id].aspectmode=i[e.id+".aspectmode"]="manual")),i},o=function(i){if(i.fullSceneLayout.dragmode!==!1){var l=a();i.saveLayout(n),i.graphDiv.emit("plotly_relayout",l)}};return e.glplot.canvas&&(e.glplot.canvas.addEventListener("mouseup",function(){o(e)}),e.glplot.canvas.addEventListener("touchstart",function(){FF=!0}),e.glplot.canvas.addEventListener("wheel",function(i){if(t._context._scrollZoom.gl3d){if(e.camera._ortho){var l=i.deltaX>i.deltaY?1.1:.9090909090909091,u=e.glplot.getAspectratio();e.glplot.setAspectratio({x:l*u.x,y:l*u.y,z:l*u.z})}o(e)}},Aoe?{passive:!1}:!1),e.glplot.canvas.addEventListener("mousemove",function(){if(e.fullSceneLayout.dragmode!==!1&&e.camera.mouseListener.buttons!==0){var i=a();e.graphDiv.emit("plotly_relayouting",i)}}),e.staticMode||e.glplot.canvas.addEventListener("webglcontextlost",function(i){t&&t.emit&&t.emit("plotly_webglcontextlost",{event:i,layer:e.id})},!1)),e.glplot.oncontextloss=function(){e.recoverContext()},e.glplot.onrender=function(){e.render()},!0};Dn.render=function(){var e=this,r=e.graphDiv,t,n=e.svgContainer,a=e.container.getBoundingClientRect();r._fullLayout._calcInverseTransform(r);var o=r._fullLayout._invScaleX,i=r._fullLayout._invScaleY,l=a.width*o,u=a.height*i;n.setAttributeNS(null,"viewBox","0 0 "+l+" "+u),n.setAttributeNS(null,"width",l),n.setAttributeNS(null,"height",u),Doe(e),e.glplot.axes.update(e.axesOptions);for(var s=Object.keys(e.traces),f=null,h=e.glplot.selection,p=0;p<s.length;++p)t=e.traces[s[p]],t.data.hoverinfo!=="skip"&&t.handlePick(h)&&(f=t),t.setContourLevels&&t.setContourLevels();function _(A,v,D){var E=e.fullSceneLayout[A+"axis"];return E.type!=="log"&&(v=E.d2l(v)),pd.hoverLabelText(E,v,D)}if(f!==null){var m=Coe(e.glplot.cameraParams,h.dataCoordinate);t=f.data;var w=r._fullData[t.index],T=h.index,y={xLabel:_("x",h.traceCoordinate[0],t.xhoverformat),yLabel:_("y",h.traceCoordinate[1],t.yhoverformat),zLabel:_("z",h.traceCoordinate[2],t.zhoverformat)},k=yi.castHoverinfo(w,e.fullLayout,T),S=(k||"").split("+"),b=k&&k==="all";!w.hovertemplate&&!b&&(S.indexOf("x")===-1&&(y.xLabel=void 0),S.indexOf("y")===-1&&(y.yLabel=void 0),S.indexOf("z")===-1&&(y.zLabel=void 0),S.indexOf("text")===-1&&(h.textLabel=void 0),S.indexOf("name")===-1&&(f.name=void 0));var M,d=[];t.type==="cone"||t.type==="streamtube"?(y.uLabel=_("x",h.traceCoordinate[3],t.uhoverformat),(b||S.indexOf("u")!==-1)&&d.push("u: "+y.uLabel),y.vLabel=_("y",h.traceCoordinate[4],t.vhoverformat),(b||S.indexOf("v")!==-1)&&d.push("v: "+y.vLabel),y.wLabel=_("z",h.traceCoordinate[5],t.whoverformat),(b||S.indexOf("w")!==-1)&&d.push("w: "+y.wLabel),y.normLabel=h.traceCoordinate[6].toPrecision(3),(b||S.indexOf("norm")!==-1)&&d.push("norm: "+y.normLabel),t.type==="streamtube"&&(y.divergenceLabel=h.traceCoordinate[7].toPrecision(3),(b||S.indexOf("divergence")!==-1)&&d.push("divergence: "+y.divergenceLabel)),h.textLabel&&d.push(h.textLabel),M=d.join("<br>")):t.type==="isosurface"||t.type==="volume"?(y.valueLabel=pd.hoverLabelText(e._mockAxis,e._mockAxis.d2l(h.traceCoordinate[3]),t.valuehoverformat),d.push("value: "+y.valueLabel),h.textLabel&&d.push(h.textLabel),M=d.join("<br>")):M=h.textLabel;var x={x:h.traceCoordinate[0],y:h.traceCoordinate[1],z:h.traceCoordinate[2],data:w._input,fullData:w,curveNumber:w.index,pointNumber:T};yi.appendArrayPointValue(x,w,T),t._module.eventData&&(x=w._module.eventData(x,h,w,{},T));var g={points:[x]};if(e.fullSceneLayout.hovermode){var c=[];yi.loneHover({trace:w,x:(.5+.5*m[0]/m[3])*l,y:(.5-.5*m[1]/m[3])*u,xLabel:y.xLabel,yLabel:y.yLabel,zLabel:y.zLabel,text:M,name:f.name,color:yi.castHoverOption(w,T,"bgcolor")||f.color,borderColor:yi.castHoverOption(w,T,"bordercolor"),fontFamily:yi.castHoverOption(w,T,"font.family"),fontSize:yi.castHoverOption(w,T,"font.size"),fontColor:yi.castHoverOption(w,T,"font.color"),nameLength:yi.castHoverOption(w,T,"namelength"),textAlign:yi.castHoverOption(w,T,"align"),hovertemplate:Jn.castOption(w,T,"hovertemplate"),hovertemplateLabels:Jn.extendFlat({},x,y),eventData:[x]},{container:n,gd:r,inOut_bbox:c}),x.bbox=c[0]}h.distance<5&&(h.buttons||FF)?r.emit("plotly_click",g):r.emit("plotly_hover",g),this.oldEventData=g}else yi.loneUnhover(n),this.oldEventData&&r.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;e.drawAnnotations(e)};Dn.recoverContext=function(){var e=this;e.glplot.dispose();var r=function(){if(e.glplot.gl.isContextLost()){requestAnimationFrame(r);return}if(!e.initializeGLPlot()){Jn.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}e.plot.apply(e,e.plotArgs)};requestAnimationFrame(r)};var H0=["xaxis","yaxis","zaxis"];function Poe(e,r,t){for(var n=e.fullSceneLayout,a=0;a<3;a++){var o=H0[a],i=o.charAt(0),l=n[o],u=r[i],s=r[i+"calendar"],f=r["_"+i+"length"];if(!Jn.isArrayOrTypedArray(u))t[0][a]=Math.min(t[0][a],0),t[1][a]=Math.max(t[1][a],f-1);else for(var h,p=0;p<(f||u.length);p++)if(Jn.isArrayOrTypedArray(u[p]))for(var _=0;_<u[p].length;++_)h=l.d2l(u[p][_],0,s),!isNaN(h)&&isFinite(h)&&(t[0][a]=Math.min(t[0][a],h),t[1][a]=Math.max(t[1][a],h));else h=l.d2l(u[p],0,s),!isNaN(h)&&isFinite(h)&&(t[0][a]=Math.min(t[0][a],h),t[1][a]=Math.max(t[1][a],h))}}function Ioe(e,r){for(var t=e.fullSceneLayout,n=t.annotations||[],a=0;a<3;a++)for(var o=H0[a],i=o.charAt(0),l=t[o],u=0;u<n.length;u++){var s=n[u];if(s.visible){var f=l.r2l(s[i]);!isNaN(f)&&isFinite(f)&&(r[0][a]=Math.min(r[0][a],f),r[1][a]=Math.max(r[1][a],f))}}}Dn.plot=function(e,r,t){var n=this;if(n.plotArgs=[e,r,t],!n.glplot.contextLost){var a,o,i,l,u,s,f=r[n.id],h=t[n.id];n.fullLayout=r,n.fullSceneLayout=f,n.axesOptions.merge(r,f),n.spikeOptions.merge(f),n.setViewport(f),n.updateFx(f.dragmode,f.hovermode),n.camera.enableWheel=n.graphDiv._context._scrollZoom.gl3d,n.glplot.setClearColor(koe(f.bgcolor)),n.setConvert(u),e?Array.isArray(e)||(e=[e]):e=[];var p=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(i=0;i<e.length;++i)a=e[i],!(a.visible!==!0||a._length===0)&&Poe(this,a,p);Ioe(this,p);var _=[1,1,1];for(l=0;l<3;++l)p[1][l]===p[0][l]?_[l]=1:_[l]=1/(p[1][l]-p[0][l]);for(n.dataScale=_,n.convertAnnotations(this),i=0;i<e.length;++i)a=e[i],!(a.visible!==!0||a._length===0)&&(o=n.traces[a.uid],o?o.data.type===a.type?o.update(a):(o.dispose(),o=a._module.plot(this,a),n.traces[a.uid]=o):(o=a._module.plot(this,a),n.traces[a.uid]=o),o.name=a.name);var m=Object.keys(n.traces);e:for(i=0;i<m.length;++i){for(l=0;l<e.length;++l)if(e[l].uid===m[i]&&e[l].visible===!0&&e[l]._length!==0)continue e;o=n.traces[m[i]],o.dispose(),delete n.traces[m[i]]}n.glplot.objects.sort(function(U,X){return U._trace.data.index-X._trace.data.index});var w=[[0,0,0],[0,0,0]],T=[],y={};for(i=0;i<3;++i){u=f[H0[i]],s=u.type,s in y?(y[s].acc*=_[i],y[s].count+=1):y[s]={acc:_[i],count:1};var k;if(u.autorange){w[0][i]=1/0,w[1][i]=-1/0;var S=n.glplot.objects,b=n.fullSceneLayout.annotations||[],M=u._name.charAt(0);for(l=0;l<S.length;l++){var d=S[l],x=d.bounds,g=d._trace.data._pad||0;d.constructor.name==="ErrorBars"&&u._lowerLogErrorBound?w[0][i]=Math.min(w[0][i],u._lowerLogErrorBound):w[0][i]=Math.min(w[0][i],x[0][i]/_[i]-g),w[1][i]=Math.max(w[1][i],x[1][i]/_[i]+g)}for(l=0;l<b.length;l++){var c=b[l];if(c.visible){var A=u.r2l(c[M]);w[0][i]=Math.min(w[0][i],A),w[1][i]=Math.max(w[1][i],A)}}if("rangemode"in u&&u.rangemode==="tozero"&&(w[0][i]=Math.min(w[0][i],0),w[1][i]=Math.max(w[1][i],0)),w[0][i]>w[1][i])w[0][i]=-1,w[1][i]=1;else{var v=w[1][i]-w[0][i];w[0][i]-=v/32,w[1][i]+=v/32}if(k=[w[0][i],w[1][i]],k=Roe(k,u),w[0][i]=k[0],w[1][i]=k[1],u.isReversed()){var D=w[0][i];w[0][i]=w[1][i],w[1][i]=D}}else k=u.range,w[0][i]=u.r2l(k[0]),w[1][i]=u.r2l(k[1]);w[0][i]===w[1][i]&&(w[0][i]-=1,w[1][i]+=1),T[i]=w[1][i]-w[0][i],u.range=[w[0][i],w[1][i]],u.limitRange(),n.glplot.setBounds(i,{min:u.range[0]*_[i],max:u.range[1]*_[i]})}var E,R=f.aspectmode;if(R==="cube")E=[1,1,1];else if(R==="manual"){var N=f.aspectratio;E=[N.x,N.y,N.z]}else if(R==="auto"||R==="data"){var F=[1,1,1];for(i=0;i<3;++i){u=f[H0[i]],s=u.type;var I=y[s];F[i]=Math.pow(I.acc,1/I.count)/_[i]}R==="data"||Math.max.apply(null,F)/Math.min.apply(null,F)<=4?E=F:E=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");f.aspectratio.x=h.aspectratio.x=E[0],f.aspectratio.y=h.aspectratio.y=E[1],f.aspectratio.z=h.aspectratio.z=E[2],n.glplot.setAspectratio(f.aspectratio),n.viewInitial.aspectratio||(n.viewInitial.aspectratio={x:f.aspectratio.x,y:f.aspectratio.y,z:f.aspectratio.z}),n.viewInitial.aspectmode||(n.viewInitial.aspectmode=f.aspectmode);var L=f.domain||null,P=r._size||null;if(L&&P){var O=n.container.style;O.position="absolute",O.left=P.l+L.x[0]*P.w+"px",O.top=P.t+(1-L.y[1])*P.h+"px",O.width=P.w*(L.x[1]-L.x[0])+"px",O.height=P.h*(L.y[1]-L.y[0])+"px"}n.glplot.redraw()}};Dn.destroy=function(){var e=this;e.glplot&&(e.camera.mouseListener.enabled=!1,e.container.removeEventListener("wheel",e.camera.wheelListener),e.camera=null,e.glplot.dispose(),e.container.parentNode.removeChild(e.container),e.glplot=null)};function Foe(e){return[[e.eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]}function Noe(e){return{up:{x:e.up[0],y:e.up[1],z:e.up[2]},center:{x:e.center[0],y:e.center[1],z:e.center[2]},eye:{x:e.eye[0],y:e.eye[1],z:e.eye[2]},projection:{type:e._ortho===!0?"orthographic":"perspective"}}}Dn.getCamera=function(){var e=this;return e.camera.view.recalcMatrix(e.camera.view.lastT()),Noe(e.camera)};Dn.setViewport=function(e){var r=this,t=e.camera;r.camera.lookAt.apply(this,Foe(t)),r.glplot.setAspectratio(e.aspectratio);var n=t.projection.type==="orthographic",a=r.camera._ortho;n!==a&&(r.glplot.redraw(),r.glplot.clearRGBA(),r.glplot.dispose(),r.initializeGLPlot())};Dn.isCameraChanged=function(e){var r=this,t=r.getCamera(),n=Jn.nestedProperty(e,r.id+".camera"),a=n.get();function o(s,f,h,p){var _=["up","center","eye"],m=["x","y","z"];return f[_[h]]&&s[_[h]][m[p]]===f[_[h]][m[p]]}var i=!1;if(a===void 0)i=!0;else{for(var l=0;l<3;l++)for(var u=0;u<3;u++)if(!o(t,a,l,u)){i=!0;break}(!a.projection||t.projection&&t.projection.type!==a.projection.type)&&(i=!0)}return i};Dn.isAspectChanged=function(e){var r=this,t=r.glplot.getAspectratio(),n=Jn.nestedProperty(e,r.id+".aspectratio"),a=n.get();return a===void 0||a.x!==t.x||a.y!==t.y||a.z!==t.z};Dn.saveLayout=function(e){var r=this,t=r.fullLayout,n,a,o,i,l,u,s=r.isCameraChanged(e),f=r.isAspectChanged(e),h=s||f;if(h){var p={};if(s&&(n=r.getCamera(),a=Jn.nestedProperty(e,r.id+".camera"),o=a.get(),p[r.id+".camera"]=o),f&&(i=r.glplot.getAspectratio(),l=Jn.nestedProperty(e,r.id+".aspectratio"),u=l.get(),p[r.id+".aspectratio"]=u),dd.call("_storeDirectGUIEdit",e,t._preGUI,p),s){a.set(n);var _=Jn.nestedProperty(t,r.id+".camera");_.set(n)}if(f){l.set(i);var m=Jn.nestedProperty(t,r.id+".aspectratio");m.set(i),r.glplot.redraw()}}return h};Dn.updateFx=function(e,r){var t=this,n=t.camera;if(n)if(e==="orbit")n.mode="orbit",n.keyBindingMode="rotate";else if(e==="turntable"){n.up=[0,0,1],n.mode="turntable",n.keyBindingMode="rotate";var a=t.graphDiv,o=a._fullLayout,i=t.fullSceneLayout.camera,l=i.up.x,u=i.up.y,s=i.up.z;if(s/Math.sqrt(l*l+u*u+s*s)<.999){var f=t.id+".camera.up",h={x:0,y:0,z:1},p={};p[f]=h;var _=a.layout;dd.call("_storeDirectGUIEdit",_,o._preGUI,p),i.up=h,Jn.nestedProperty(_,f).set(h)}}else n.keyBindingMode=e;t.fullSceneLayout.hovermode=r};function zoe(e,r,t){for(var n=0,a=t-1;n<a;++n,--a)for(var o=0;o<r;++o)for(var i=0;i<4;++i){var l=4*(r*n+o)+i,u=4*(r*a+o)+i,s=e[l];e[l]=e[u],e[u]=s}}function qoe(e,r,t){for(var n=0;n<t;++n)for(var a=0;a<r;++a){var o=4*(r*n+a),i=e[o+3];if(i>0)for(var l=255/i,u=0;u<3;++u)e[o+u]=Math.min(l*e[o+u],255)}}Dn.toImage=function(e){var r=this;e||(e="png"),r.staticMode&&r.container.appendChild(U0),r.glplot.redraw();var t=r.glplot.gl,n=t.drawingBufferWidth,a=t.drawingBufferHeight;t.bindFramebuffer(t.FRAMEBUFFER,null);var o=new Uint8Array(n*a*4);t.readPixels(0,0,n,a,t.RGBA,t.UNSIGNED_BYTE,o),zoe(o,n,a),qoe(o,n,a);var i=document.createElement("canvas");i.width=n,i.height=a;var l=i.getContext("2d",{willReadFrequently:!0}),u=l.createImageData(n,a);u.data.set(o),l.putImageData(u,0,0);var s;switch(e){case"jpeg":s=i.toDataURL("image/jpeg");break;case"webp":s=i.toDataURL("image/webp");break;default:s=i.toDataURL("image/png")}return r.staticMode&&r.container.removeChild(U0),s};Dn.setConvert=function(){for(var e=this,r=0;r<3;r++){var t=e.fullSceneLayout[H0[r]];pd.setConvert(t,e.fullLayout),t.setScale=Jn.noop}};Dn.make4thDimension=function(){var e=this,r=e.graphDiv,t=r._fullLayout;e._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},pd.setConvert(e._mockAxis,t)};zF.exports=NF});var BF=de((rpe,OF)=>{"use strict";OF.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}});var O3=de((tpe,UF)=>{"use strict";var Ooe=Xr(),Ur=La(),q3=Tt().extendFlat,Boe=zn().overrideAll;UF.exports=Boe({visible:Ur.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:Ooe.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:Ur.color,categoryorder:Ur.categoryorder,categoryarray:Ur.categoryarray,title:{text:Ur.title.text,font:Ur.title.font},type:q3({},Ur.type,{values:["-","linear","log","date","category"]}),autotypenumbers:Ur.autotypenumbers,autorange:Ur.autorange,autorangeoptions:{minallowed:Ur.autorangeoptions.minallowed,maxallowed:Ur.autorangeoptions.maxallowed,clipmin:Ur.autorangeoptions.clipmin,clipmax:Ur.autorangeoptions.clipmax,include:Ur.autorangeoptions.include,editType:"plot"},rangemode:Ur.rangemode,minallowed:Ur.minallowed,maxallowed:Ur.maxallowed,range:q3({},Ur.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:Ur.minor.tickmode,nticks:Ur.nticks,tick0:Ur.tick0,dtick:Ur.dtick,tickvals:Ur.tickvals,ticktext:Ur.ticktext,ticks:Ur.ticks,mirror:Ur.mirror,ticklen:Ur.ticklen,tickwidth:Ur.tickwidth,tickcolor:Ur.tickcolor,showticklabels:Ur.showticklabels,labelalias:Ur.labelalias,tickfont:Ur.tickfont,tickangle:Ur.tickangle,tickprefix:Ur.tickprefix,showtickprefix:Ur.showtickprefix,ticksuffix:Ur.ticksuffix,showticksuffix:Ur.showticksuffix,showexponent:Ur.showexponent,exponentformat:Ur.exponentformat,minexponent:Ur.minexponent,separatethousands:Ur.separatethousands,tickformat:Ur.tickformat,tickformatstops:Ur.tickformatstops,hoverformat:Ur.hoverformat,showline:Ur.showline,linecolor:Ur.linecolor,linewidth:Ur.linewidth,showgrid:Ur.showgrid,gridcolor:q3({},Ur.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:Ur.gridwidth,zeroline:Ur.zeroline,zerolinecolor:Ur.zerolinecolor,zerolinewidth:Ur.zerolinewidth},"plot","from-root")});var V3=de((npe,HF)=>{"use strict";var B3=O3(),Uoe=rd().attributes,U3=Tt().extendFlat,Hoe=ir().counterRegex;function H3(e,r,t){return{x:{valType:"number",dflt:e,editType:"camera"},y:{valType:"number",dflt:r,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}HF.exports={_arrayAttrRegexps:[Hoe("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:U3(H3(0,0,1),{}),center:U3(H3(0,0,0),{}),eye:U3(H3(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:Uoe({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:B3,yaxis:B3,zaxis:B3,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot"}});var GF=de((ape,VF)=>{"use strict";var Voe=ir(),Goe=yt(),Yoe=rd().defaults;VF.exports=function(r,t,n,a){var o=a.type,i=a.attributes,l=a.handleDefaults,u=a.partition||"x",s=t._subplots[o],f=s.length,h=f&&s[0].replace(/\d+$/,""),p,_;function m(k,S){return Voe.coerce(p,_,i,k,S)}for(var w=0;w<f;w++){var T=s[w];r[T]?p=r[T]:p=r[T]={},_=Goe.newContainer(t,T,h),a.noUirevision||m("uirevision",t.uirevision);var y={};y[u]=[w/f,(w+1)/f],Yoe(_,t,m,y),a.id=T,l(p,_,m,a)}}});var ZF=de((ipe,XF)=>{"use strict";var Woe=ka().mix,YF=ir(),Xoe=yt(),Zoe=O3(),Joe=Am(),Koe=S1(),WF=["xaxis","yaxis","zaxis"],Qoe=100*136/187;XF.exports=function(r,t,n){var a,o;function i(s,f){return YF.coerce(a,o,Zoe,s,f)}for(var l=0;l<WF.length;l++){var u=WF[l];a=r[u]||{},o=Xoe.newContainer(t,u),o._id=u[0]+n.scene,o._name=u,Joe(a,o,i,n),Koe(a,o,i,{font:n.font,letter:u[0],data:n.data,showGrid:!0,noAutotickangles:!0,noMinorloglabels:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,noUnifiedhovertitle:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),i("gridcolor",Woe(o.color,n.bgColor,Qoe).toRgbString()),i("title.text",u[0]),o.setScale=YF.noop,i("showspikes")&&(i("spikesides"),i("spikethickness"),i("spikecolor",o.color)),i("showaxeslabels"),i("showbackground")&&i("backgroundcolor")}}});var $F=de((ope,QF)=>{"use strict";var $oe=ir(),joe=Xr(),ele=Cr(),rle=GF(),tle=ZF(),JF=V3(),nle=kf().getSubplotData,KF="gl3d";QF.exports=function(r,t,n){var a=t._basePlotModules.length>1;function o(i){if(!a){var l=$oe.validate(r[i],JF[i]);if(l)return r[i]}}rle(r,t,n,{type:KF,attributes:JF,handleDefaults:ale,fullLayout:t,font:t.font,fullData:n,getDfltFromLayout:o,autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})};function ale(e,r,t,n){for(var a=t("bgcolor"),o=joe.combine(a,n.paper_bgcolor),i=["up","center","eye"],l=0;l<i.length;l++)t("camera."+i[l]+".x"),t("camera."+i[l]+".y"),t("camera."+i[l]+".z");t("camera.projection.type");var u=!!t("aspectratio.x")&&!!t("aspectratio.y")&&!!t("aspectratio.z"),s=u?"manual":"auto",f=t("aspectmode",s);u||(e.aspectratio=r.aspectratio={x:1,y:1,z:1},f==="manual"&&(r.aspectmode="auto"),e.aspectmode=r.aspectmode);var h=nle(n.fullData,KF,n.id);tle(e,r,{font:n.font,scene:n.id,data:h,bgColor:o,calendar:n.calendar,autotypenumbersDflt:n.autotypenumbersDflt,fullLayout:n.fullLayout}),ele.getComponentMethod("annotations3d","handleDefaults")(e,r,n);var p=n.getDfltFromLayout("dragmode");if(p!==!1&&!p)if(p="orbit",e.camera&&e.camera.up){var _=e.camera.up.x,m=e.camera.up.y,w=e.camera.up.z;w!==0&&(!_||!m||!w||w/Math.sqrt(_*_+m*m+w*w)>.999)&&(p="turntable")}else p="turntable";t("dragmode",p),t("hovermode",n.getDfltFromLayout("hovermode"))}});var il=de(Kn=>{"use strict";var ile=zn().overrideAll,ole=wl(),lle=qF(),sle=kf().getSubplotData,ule=ir(),fle=Fo(),Uu="gl3d",G3="scene";Kn.name=Uu;Kn.attr=G3;Kn.idRoot=G3;Kn.idRegex=Kn.attrRegex=ule.counterRegex("scene");Kn.attributes=BF();Kn.layoutAttributes=V3();Kn.baseLayoutAttrOverrides=ile({hoverlabel:ole.hoverlabel},"plot","nested");Kn.supplyLayoutDefaults=$F();Kn.plot=function(r){for(var t=r._fullLayout,n=r._fullData,a=t._subplots[Uu],o=0;o<a.length;o++){var i=a[o],l=sle(n,Uu,i),u=t[i],s=u.camera,f=u._scene;f||(f=new lle({id:i,graphDiv:r,container:r.querySelector(".gl-container"),staticPlot:r._context.staticPlot,plotGlPixelRatio:r._context.plotGlPixelRatio,camera:s},t),u._scene=f),f.viewInitial||(f.viewInitial={up:{x:s.up.x,y:s.up.y,z:s.up.z},eye:{x:s.eye.x,y:s.eye.y,z:s.eye.z},center:{x:s.center.x,y:s.center.y,z:s.center.z}}),f.plot(l,t,r.layout)}};Kn.clean=function(e,r,t,n){for(var a=n._subplots[Uu]||[],o=0;o<a.length;o++){var i=a[o];!r[i]&&n[i]._scene&&(n[i]._scene.destroy(),n._infolayer&&n._infolayer.selectAll(".annotation-"+i).remove())}};Kn.toSVG=function(e){for(var r=e._fullLayout,t=r._subplots[Uu],n=r._size,a=0;a<t.length;a++){var o=r[t[a]],i=o.domain,l=o._scene,u=l.toImage("png"),s=r._glimages.append("svg:image");s.attr({xmlns:fle.svg,"xlink:href":u,x:n.l+n.w*i.x[0],y:n.t+n.h*(1-i.y[1]),width:n.w*(i.x[1]-i.x[0]),height:n.h*(i.y[1]-i.y[0]),preserveAspectRatio:"none"}),l.destroy()}};Kn.cleanId=function(r){if(r.match(/^scene[0-9]*$/)){var t=r.substr(5);return t==="1"&&(t=""),G3+t}};Kn.updateFx=function(e){for(var r=e._fullLayout,t=r._subplots[Uu],n=0;n<t.length;n++){var a=r[t[n]]._scene;a.updateFx(r.dragmode,r.hovermode)}}});var eN=de((spe,jF)=>{"use strict";jF.exports={plot:oF(),attributes:N3(),markerSymbols:fd(),supplyDefaults:vF(),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:pF(),moduleType:"trace",name:"scatter3d",basePlotModule:il(),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}});var tN=de((upe,rN)=>{"use strict";rN.exports=eN()});var V0=de((fpe,iN)=>{"use strict";var nN=Xr(),cle=ei(),Y3=ro().axisHoverFormat,{hovertemplateAttrs:hle,templatefallbackAttrs:vle}=Ka(),aN=Sn(),W3=Tt().extendFlat,dle=zn().overrideAll;function X3(e){return{valType:"boolean",dflt:!1}}function Z3(e){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:X3("x"),y:X3("y"),z:X3("z")},color:{valType:"color",dflt:nN.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:nN.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var J3=iN.exports=dle(W3({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:hle(),hovertemplatefallback:vle(),xhoverformat:Y3("x"),yhoverformat:Y3("y"),zhoverformat:Y3("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},cle("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:Z3("x"),y:Z3("y"),z:Z3("z")},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05,description:"Represents the level that incident rays are reflected in a single direction, causing shine."},roughness:{valType:"number",min:0,max:1,dflt:.5,description:"Alters specular reflection; the rougher the surface, the wider and less contrasty the shine."},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},hoverinfo:W3({},aN.hoverinfo),showlegend:W3({},aN.showlegend,{dflt:!1})}),"calc","nested");J3.x.editType=J3.y.editType=J3.z.editType="calc+clearAxisTypes"});var Q3=de((cpe,sN)=>{"use strict";var ple=Cr(),oN=ir(),gle=Ei(),yle=V0(),K3=.1;function mle(e,r){for(var t=[],n=32,a=0;a<n;a++){var o=a/(n-1),i=r+(1-r)*(1-Math.pow(Math.sin(e*o*Math.PI),2));t.push([o,Math.max(0,Math.min(1,i))])}return t}function ble(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(n.length!==2||+n[0]<r)return!1;r=+n[0]}return!0}function xle(e,r,t,n){var a,o;function i(T,y){return oN.coerce(e,r,yle,T,y)}var l=i("x"),u=i("y"),s=i("z");if(!s||!s.length||l&&l.length<1||u&&u.length<1){r.visible=!1;return}r._xlength=Array.isArray(l)&&oN.isArrayOrTypedArray(l[0])?s.length:s[0].length,r._ylength=s.length;var f=ple.getComponentMethod("calendars","handleTraceDefaults");f(e,r,["x","y","z"],n),i("text"),i("hovertext"),i("hovertemplate"),i("hovertemplatefallback"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(T){i(T)});var h=i("surfacecolor"),p=["x","y","z"];for(a=0;a<3;++a){var _="contours."+p[a],m=i(_+".show"),w=i(_+".highlight");if(m||w)for(o=0;o<3;++o)i(_+".project."+p[o]);m&&(i(_+".color"),i(_+".width"),i(_+".usecolormap")),w&&(i(_+".highlightcolor"),i(_+".highlightwidth")),i(_+".start"),i(_+".end"),i(_+".size")}gle(e,r,n,i,{prefix:"",cLetter:"c"}),lN(e,r,n,i),r._length=null}function lN(e,r,t,n){var a=n("opacityscale");a==="max"?r.opacityscale=[[0,K3],[1,1]]:a==="min"?r.opacityscale=[[0,1],[1,K3]]:a==="extremes"?r.opacityscale=mle(1,K3):ble(a)||(r.opacityscale=void 0)}sN.exports={supplyDefaults:xle,opacityscaleDefaults:lN}});var cN=de((hpe,fN)=>{"use strict";var uN=zo();fN.exports=function(r,t){t.surfacecolor?uN(r,t,{vals:t.surfacecolor,containerStr:"",cLetter:"c"}):uN(r,t,{vals:t.z,containerStr:"",cLetter:"c"})}});var pN=de((vpe,dN)=>{"use strict";var _le=ir(),hN=.01,wle=[[-1,0],[1,0],[0,-1],[0,1]];function Mle(e){return .5-.25*Math.min(1,e*.5)}dN.exports=function(r,t){var n=1,a;for(vN(r,t),a=0;a<t.length&&!(t[a][2]<4);a++);for(t=t.slice(a),a=0;a<100&&n>hN;a++)n=vN(r,t,Mle(n));return n>hN&&_le.log("interp2d didn't converge quickly",n),r};function vN(e,r,t){var n=0,a,o,i,l,u,s,f,h,p,_,m,w,T;for(l=0;l<r.length;l++){for(a=r[l],o=a[0],i=a[1],m=e[o][i],_=0,p=0,u=0;u<4;u++)s=wle[u],f=e[o+s[0]],f&&(h=f[i+s[1]],h!==void 0&&(_===0?w=T=h:(w=Math.min(w,h),T=Math.max(T,h)),p++,_+=h));if(p===0)throw"iterateInterp2d order is wrong: no defined neighbors";e[o][i]=_/p,m===void 0?p<4&&(n=1):(e[o][i]=(1+t)*e[o][i]-t*m,T>w&&(n=Math.max(n,Math.abs(e[o][i]-m)/(T-w))))}return n}});var yN=de((dpe,gN)=>{"use strict";var Tle=ir().maxRowLength;gN.exports=function(r){var t=[],n={},a=[],o=r[0],i=[],l=[0,0,0],u=Tle(r),s,f,h,p,_,m,w,T;for(f=0;f<r.length;f++)for(s=i,i=o,o=r[f+1]||[],h=0;h<u;h++)i[h]===void 0&&(m=(i[h-1]!==void 0?1:0)+(i[h+1]!==void 0?1:0)+(s[h]!==void 0?1:0)+(o[h]!==void 0?1:0),m?(f===0&&m++,h===0&&m++,f===r.length-1&&m++,h===i.length-1&&m++,m<4&&(n[[f,h]]=[f,h,m]),t.push([f,h,m])):a.push([f,h]));for(;a.length;){for(w={},T=!1,_=a.length-1;_>=0;_--)p=a[_],f=p[0],h=p[1],m=((n[[f-1,h]]||l)[2]+(n[[f+1,h]]||l)[2]+(n[[f,h-1]]||l)[2]+(n[[f,h+1]]||l)[2])/20,m&&(w[p]=[f,h,m],a.splice(_,1),T=!0);if(!T)throw"findEmpties iterated with no new neighbors";for(p in w)n[p]=w[p],t.push(w[p])}return t.sort(function(y,k){return k[2]-y[2]})}});var MN=de((ppe,wN)=>{"use strict";var Ale=pn().gl_surface3d,Hu=pn().ndarray,kle=pn().ndarray_linear_interpolate.d2,Sle=pN(),Cle=yN(),G0=ir().isArrayOrTypedArray,Ele=al().parseColorScale,mN=po(),Lle=Li().extractOpts;function xN(e,r,t){this.scene=e,this.uid=t,this.surface=r,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var mi=xN.prototype;mi.getXat=function(e,r,t,n){var a=G0(this.data.x)?G0(this.data.x[0])?this.data.x[r][e]:this.data.x[e]:e;return t===void 0?a:n.d2l(a,0,t)};mi.getYat=function(e,r,t,n){var a=G0(this.data.y)?G0(this.data.y[0])?this.data.y[r][e]:this.data.y[r]:r;return t===void 0?a:n.d2l(a,0,t)};mi.getZat=function(e,r,t,n){var a=this.data.z[r][e];return a===null&&this.data.connectgaps&&this.data._interpolatedZ&&(a=this.data._interpolatedZ[r][e]),t===void 0?a:n.d2l(a,0,t)};mi.handlePick=function(e){if(e.object===this.surface){var r=(e.data.index[0]-1)/this.dataScaleX-1,t=(e.data.index[1]-1)/this.dataScaleY-1,n=Math.max(Math.min(Math.round(r),this.data.z[0].length-1),0),a=Math.max(Math.min(Math.round(t),this.data._ylength-1),0);e.index=[n,a],e.traceCoordinate=[this.getXat(n,a),this.getYat(n,a),this.getZat(n,a)],e.dataCoordinate=[this.getXat(n,a,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(n,a,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(n,a,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var o=0;o<3;o++){var i=e.dataCoordinate[o];i!=null&&(e.dataCoordinate[o]*=this.scene.dataScale[o])}var l=this.data.hovertext||this.data.text;return G0(l)&&l[a]&&l[a][n]!==void 0?e.textLabel=l[a][n]:l?e.textLabel=l:e.textLabel="",e.data.dataCoordinate=e.dataCoordinate.slice(),this.surface.highlight(e.data),this.scene.glplot.spikes.position=e.dataCoordinate,!0}};function Dle(e){var r=e[0].rgb,t=e[e.length-1].rgb;return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]&&r[3]===t[3]}var Vu=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function Rle(e,r){if(e<r)return 0;for(var t=0;Math.floor(e%r)===0;)e/=r,t++;return t}function $3(e){for(var r=[],t=0;t<Vu.length;t++){var n=Vu[t];r.push(Rle(e,n))}return r}function Ple(e){for(var r=$3(e),t=e,n=0;n<Vu.length;n++)if(r[n]>0){t=Vu[n];break}return t}function Ile(e,r){if(!(e<1||r<1)){for(var t=$3(e),n=$3(r),a=1,o=0;o<Vu.length;o++)a*=Math.pow(Vu[o],Math.max(t[o],n[o]));return a}}function Fle(e){if(e.length!==0){for(var r=1,t=0;t<e.length;t++)r=Ile(r,e[t]);return r}}mi.calcXnums=function(e){var r,t=[];for(r=1;r<e;r++){var n=this.getXat(r-1,0),a=this.getXat(r,0);a!==n&&n!==void 0&&n!==null&&a!==void 0&&a!==null?t[r-1]=Math.abs(a-n):t[r-1]=0}var o=0;for(r=1;r<e;r++)o+=t[r-1];for(r=1;r<e;r++)t[r-1]===0?t[r-1]=1:t[r-1]=Math.round(o/t[r-1]);return t};mi.calcYnums=function(e){var r,t=[];for(r=1;r<e;r++){var n=this.getYat(0,r-1),a=this.getYat(0,r);a!==n&&n!==void 0&&n!==null&&a!==void 0&&a!==null?t[r-1]=Math.abs(a-n):t[r-1]=0}var o=0;for(r=1;r<e;r++)o+=t[r-1];for(r=1;r<e;r++)t[r-1]===0?t[r-1]=1:t[r-1]=Math.round(o/t[r-1]);return t};var _N=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],bN=_N[9],gd=_N[13];mi.estimateScale=function(e,r){for(var t=r===0?this.calcXnums(e):this.calcYnums(e),n=1+Fle(t);n<bN;)n*=2;for(;n>gd;)n--,n/=Ple(n),n++,n<bN&&(n=gd);var a=Math.round(n/e);return a>1?a:1};function Nle(e,r,t){var n=t[8]+t[2]*r[0]+t[5]*r[1];return e[0]=(t[6]+t[0]*r[0]+t[3]*r[1])/n,e[1]=(t[7]+t[1]*r[0]+t[4]*r[1])/n,e}function zle(e,r,t){return qle(e,r,Nle,t),e}function qle(e,r,t,n){for(var a=[0,0],o=e.shape[0],i=e.shape[1],l=0;l<o;l++)for(var u=0;u<i;u++)t(a,[l,u],n),e.set(l,u,kle(r,a[0],a[1]));return e}mi.refineCoords=function(e){for(var r=this.dataScaleX,t=this.dataScaleY,n=e[0].shape[0],a=e[0].shape[1],o=Math.floor(e[0].shape[0]*r+1)|0,i=Math.floor(e[0].shape[1]*t+1)|0,l=1+n+1,u=1+a+1,s=Hu(new Float32Array(l*u),[l,u]),f=[1/r,0,0,0,1/t,0,0,0,1],h=0;h<e.length;++h){this.surface.padField(s,e[h]);var p=Hu(new Float32Array(o*i),[o,i]);zle(p,s,f),e[h]=p}};function Ole(e,r){for(var t=!1,n=0;n<e.length;n++)if(r===e[n]){t=!0;break}t===!1&&e.push(r)}mi.setContourLevels=function(){var e=[[],[],[]],r=[!1,!1,!1],t=!1,n,a,o;for(n=0;n<3;++n)if(this.showContour[n]&&(t=!0,this.contourSize[n]>0&&this.contourStart[n]!==null&&this.contourEnd[n]!==null&&this.contourEnd[n]>this.contourStart[n]))for(r[n]=!0,a=this.contourStart[n];a<this.contourEnd[n];a+=this.contourSize[n])o=a*this.scene.dataScale[n],Ole(e[n],o);if(t){var i=[[],[],[]];for(n=0;n<3;++n)this.showContour[n]&&(i[n]=r[n]?e[n]:this.scene.contourLevels[n]);this.surface.update({levels:i})}};mi.update=function(e){var r=this.scene,t=r.fullSceneLayout,n=this.surface,a=Ele(e),o=r.dataScale,i=e.z[0].length,l=e._ylength,u=r.contourLevels;this.data=e;var s,f,h,p,_=[];for(s=0;s<3;s++)for(_[s]=[],f=0;f<i;f++)_[s][f]=[];for(f=0;f<i;f++)for(h=0;h<l;h++)_[0][f][h]=this.getXat(f,h,e.xcalendar,t.xaxis),_[1][f][h]=this.getYat(f,h,e.ycalendar,t.yaxis),_[2][f][h]=this.getZat(f,h,e.zcalendar,t.zaxis);if(e.connectgaps)for(e._emptypoints=Cle(_[2]),Sle(_[2],e._emptypoints),e._interpolatedZ=[],f=0;f<i;f++)for(e._interpolatedZ[f]=[],h=0;h<l;h++)e._interpolatedZ[f][h]=_[2][f][h];for(s=0;s<3;s++)for(f=0;f<i;f++)for(h=0;h<l;h++)p=_[s][f][h],p==null?_[s][f][h]=NaN:p=_[s][f][h]*=o[s];for(s=0;s<3;s++)for(f=0;f<i;f++)for(h=0;h<l;h++)p=_[s][f][h],p!=null&&(this.minValues[s]>p&&(this.minValues[s]=p),this.maxValues[s]<p&&(this.maxValues[s]=p));for(s=0;s<3;s++)this.objectOffset[s]=.5*(this.minValues[s]+this.maxValues[s]);for(s=0;s<3;s++)for(f=0;f<i;f++)for(h=0;h<l;h++)p=_[s][f][h],p!=null&&(_[s][f][h]-=this.objectOffset[s]);var m=[Hu(new Float32Array(i*l),[i,l]),Hu(new Float32Array(i*l),[i,l]),Hu(new Float32Array(i*l),[i,l])];for(s=0;s<3;s++)for(f=0;f<i;f++)for(h=0;h<l;h++)m[s].set(f,h,_[s][f][h]);_=[];var w={colormap:a,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!e.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:e.opacityscale,opacity:e.opacity},T=Lle(e);if(w.intensityBounds=[T.min,T.max],e.surfacecolor){var y=Hu(new Float32Array(i*l),[i,l]);for(f=0;f<i;f++)for(h=0;h<l;h++)y.set(f,h,e.surfacecolor[h][f]);m.push(y)}else w.intensityBounds[0]*=o[2],w.intensityBounds[1]*=o[2];(gd<m[0].shape[0]||gd<m[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(m[0].shape[0],0),this.dataScaleY=this.estimateScale(m[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(m)),e.surfacecolor&&(w.intensity=m.pop());var k=[!0,!0,!0],S=["x","y","z"];for(s=0;s<3;++s){var b=e.contours[S[s]];k[s]=b.highlight,w.showContour[s]=b.show||b.highlight,w.showContour[s]&&(w.contourProject[s]=[b.project.x,b.project.y,b.project.z],b.show?(this.showContour[s]=!0,w.levels[s]=u[s],n.highlightColor[s]=w.contourColor[s]=mN(b.color),b.usecolormap?n.highlightTint[s]=w.contourTint[s]=0:n.highlightTint[s]=w.contourTint[s]=1,w.contourWidth[s]=b.width,this.contourStart[s]=b.start,this.contourEnd[s]=b.end,this.contourSize[s]=b.size):(this.showContour[s]=!1,this.contourStart[s]=null,this.contourEnd[s]=null,this.contourSize[s]=0),b.highlight&&(w.dynamicColor[s]=mN(b.highlightcolor),w.dynamicWidth[s]=b.highlightwidth))}Dle(a)&&(w.vertexColor=!0),w.objectOffset=this.objectOffset,w.coords=m,n.update(w),n.visible=e.visible,n.enableDynamic=k,n.enableHighlight=k,n.snapToData=!0,"lighting"in e&&(n.ambientLight=e.lighting.ambient,n.diffuseLight=e.lighting.diffuse,n.specularLight=e.lighting.specular,n.roughness=e.lighting.roughness,n.fresnel=e.lighting.fresnel),"lightposition"in e&&(n.lightPosition=[e.lightposition.x,e.lightposition.y,e.lightposition.z])};mi.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function Ble(e,r){var t=e.glplot.gl,n=Ale({gl:t}),a=new xN(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}wN.exports=Ble});var AN=de((gpe,TN)=>{"use strict";TN.exports={attributes:V0(),supplyDefaults:Q3().supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:cN(),plot:MN(),moduleType:"trace",name:"surface",basePlotModule:il(),categories:["gl3d","2dMap","showLegend"],meta:{}}});var SN=de((ype,kN)=>{"use strict";kN.exports=AN()});var Gu=de((mpe,EN)=>{"use strict";var Ule=ei(),j3=ro().axisHoverFormat,{hovertemplateAttrs:Hle,templatefallbackAttrs:Vle}=Ka(),ol=V0(),CN=Sn(),ll=Tt().extendFlat;EN.exports=ll({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:Hle({editType:"calc"}),hovertemplatefallback:Vle({editType:"calc"}),xhoverformat:j3("x"),yhoverformat:j3("y"),zhoverformat:j3("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"}},Ule("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:ol.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:ll({},ol.contours.x.show,{}),color:ol.contours.x.color,width:ol.contours.x.width,editType:"calc"},lightposition:{x:ll({},ol.lightposition.x,{dflt:1e5}),y:ll({},ol.lightposition.y,{dflt:1e5}),z:ll({},ol.lightposition.z,{dflt:0}),editType:"calc"},lighting:ll({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc",description:"Epsilon for vertex normals calculation avoids math issues arising from degenerate geometry."},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc",description:"Epsilon for face normals calculation avoids math issues arising from degenerate geometry."},editType:"calc"},ol.lighting),hoverinfo:ll({},CN.hoverinfo,{editType:"calc"}),showlegend:ll({},CN.showlegend,{dflt:!1})})});var md=de((bpe,DN)=>{"use strict";var Gle=ei(),yd=ro().axisHoverFormat,{hovertemplateAttrs:Yle,templatefallbackAttrs:Wle}=Ka(),Y0=Gu(),LN=Sn(),e5=Tt().extendFlat,Xle=zn().overrideAll;function r5(e){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t5(e){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var Yu=DN.exports=Xle(e5({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r5("x"),y:r5("y"),z:r5("z")},caps:{x:t5("x"),y:t5("y"),z:t5("z")},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:Yle(),hovertemplatefallback:Wle(),xhoverformat:yd("x"),yhoverformat:yd("y"),zhoverformat:yd("z"),valuehoverformat:yd("value",1),showlegend:e5({},LN.showlegend,{dflt:!1})},Gle("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:Y0.opacity,lightposition:Y0.lightposition,lighting:Y0.lighting,flatshading:Y0.flatshading,contour:Y0.contour,hoverinfo:e5({},LN.hoverinfo)}),"calc","nested");Yu.flatshading.dflt=!0;Yu.lighting.facenormalsepsilon.dflt=0;Yu.x.editType=Yu.y.editType=Yu.z.editType=Yu.value.editType="calc+clearAxisTypes"});var n5=de((xpe,PN)=>{"use strict";var Zle=ir(),Jle=Cr(),Kle=md(),Qle=Ei();function $le(e,r,t,n){function a(o,i){return Zle.coerce(e,r,Kle,o,i)}RN(e,r,t,n,a)}function RN(e,r,t,n,a){var o=a("isomin"),i=a("isomax");i!=null&&o!==void 0&&o!==null&&o>i&&(r.isomin=null,r.isomax=null);var l=a("x"),u=a("y"),s=a("z"),f=a("value");if(!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length){r.visible=!1;return}var h=Jle.getComponentMethod("calendars","handleTraceDefaults");h(e,r,["x","y","z"],n),a("valuehoverformat"),["x","y","z"].forEach(function(w){a(w+"hoverformat");var T="caps."+w,y=a(T+".show");y&&a(T+".fill");var k="slices."+w,S=a(k+".show");S&&(a(k+".fill"),a(k+".locations"))});var p=a("spaceframe.show");p&&a("spaceframe.fill");var _=a("surface.show");_&&(a("surface.count"),a("surface.fill"),a("surface.pattern"));var m=a("contour.show");m&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){a(w)}),Qle(e,r,n,a,{prefix:"",cLetter:"c"}),r._length=null}PN.exports={supplyDefaults:$le,supplyIsoDefaults:RN}});var bd=de((_pe,FN)=>{"use strict";var i5=ir(),jle=zo();function ese(e,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=Hi(r.u,r._len),r._v=Hi(r.v,r._len),r._w=Hi(r.w,r._len),r._x=Hi(r.x,r._len),r._y=Hi(r.y,r._len),r._z=Hi(r.z,r._len);var t=IN(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var n=0,a,o,i;r.starts&&(a=Hi(r.starts.x||[]),o=Hi(r.starts.y||[]),i=Hi(r.starts.z||[]),n=Math.min(a.length,o.length,i.length)),r._startsX=a||[],r._startsY=o||[],r._startsZ=i||[];var l=0,u=1/0,s;for(s=0;s<r._len;s++){var f=r._u[s],h=r._v[s],p=r._w[s],_=Math.sqrt(f*f+h*h+p*p);l=Math.max(l,_),u=Math.min(u,_)}for(jle(e,r,{vals:[u,l],containerStr:"",cLetter:"c"}),s=0;s<n;s++){var m=a[s];t.xMax=Math.max(t.xMax,m),t.xMin=Math.min(t.xMin,m);var w=o[s];t.yMax=Math.max(t.yMax,w),t.yMin=Math.min(t.yMin,w);var T=i[s];t.zMax=Math.max(t.zMax,T),t.zMin=Math.min(t.zMin,T)}r._slen=n,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function IN(e){var r=e._x,t=e._y,n=e._z,a=e._len,o,i,l,u=-1/0,s=1/0,f=-1/0,h=1/0,p=-1/0,_=1/0,m="",w,T,y,k,S,b,M,d,x;for(a&&(k=r[0],b=t[0],d=n[0]),a>1&&(S=r[a-1],M=t[a-1],x=n[a-1]),o=0;o<a;o++)u=Math.max(u,r[o]),s=Math.min(s,r[o]),f=Math.max(f,t[o]),h=Math.min(h,t[o]),p=Math.max(p,n[o]),_=Math.min(_,n[o]),!w&&r[o]!==k&&(w=!0,m+="x"),!T&&t[o]!==b&&(T=!0,m+="y"),!y&&n[o]!==d&&(y=!0,m+="z");w||(m+="x"),T||(m+="y"),y||(m+="z");var g=a5(e._x),c=a5(e._y),A=a5(e._z);m=m.replace("x",(k>S?"-":"+")+"x"),m=m.replace("y",(b>M?"-":"+")+"y"),m=m.replace("z",(d>x?"-":"+")+"z");var v=function(){a=0,g=[],c=[],A=[]};(!a||a<g.length*c.length*A.length)&&v();var D=function(oe){return oe==="x"?r:oe==="y"?t:n},E=function(oe){return oe==="x"?g:oe==="y"?c:A},R=function(oe){return oe[a-1]<oe[0]?-1:1},N=D(m[1]),F=D(m[3]),I=D(m[5]),L=E(m[1]).length,P=E(m[3]).length,O=E(m[5]).length,U=!1,X=function(oe,re,H){return L*(P*oe+re)+H},$=R(D(m[1])),j=R(D(m[3])),Y=R(D(m[5]));for(o=0;o<O-1;o++){for(i=0;i<P-1;i++){for(l=0;l<L-1;l++){var q=X(o,i,l),K=X(o,i,l+1),ne=X(o,i+1,l),Q=X(o+1,i,l);if((!(N[q]*$<N[K]*$)||!(F[q]*j<F[ne]*j)||!(I[q]*Y<I[Q]*Y))&&(U=!0),U)break}if(U)break}if(U)break}return U&&(i5.warn("Encountered arbitrary coordinates! Unable to input data grid."),v()),{xMin:s,yMin:h,zMin:_,xMax:u,yMax:f,zMax:p,Xs:g,Ys:c,Zs:A,len:a,fill:m}}function a5(e){return i5.distinctVals(e).vals}function Hi(e,r){if(r===void 0&&(r=e.length),i5.isTypedArray(e))return e.subarray(0,r);for(var t=[],n=0;n<r;n++)t[n]=+e[n];return t}FN.exports={calc:ese,filter:Hi,processGrid:IN}});var o5=de((wpe,NN)=>{"use strict";var rse=zo(),tse=bd().processGrid,xd=bd().filter;NN.exports=function(r,t){t._len=Math.min(t.x.length,t.y.length,t.z.length,t.value.length),t._x=xd(t.x,t._len),t._y=xd(t.y,t._len),t._z=xd(t.z,t._len),t._value=xd(t.value,t._len);var n=tse(t);t._gridFill=n.fill,t._Xs=n.Xs,t._Ys=n.Ys,t._Zs=n.Zs,t._len=n.len;for(var a=1/0,o=-1/0,i=0;i<t._len;i++){var l=t._value[i];a=Math.min(a,l),o=Math.max(o,l)}t._minValues=a,t._maxValues=o,t._vMin=t.isomin===void 0||t.isomin===null?a:t.isomin,t._vMax=t.isomax===void 0||t.isomax===null?o:t.isomax,rse(r,t,{vals:[t._vMin,t._vMax],containerStr:"",cLetter:"c"})}});var Wu=de((Mpe,zN)=>{"use strict";zN.exports=function(r,t,n,a){a=a||r.length;for(var o=new Array(a),i=0;i<a;i++)o[i]=[r[i],t[i],n[i]];return o}});var _d=de((Tpe,UN)=>{"use strict";var nse=pn().gl_mesh3d,ase=al().parseColorScale,ise=ir().isArrayOrTypedArray,ose=po(),lse=Li().extractOpts,qN=Wu(),W0=function(e,r){for(var t=r.length-1;t>0;t--){var n=Math.min(r[t],r[t-1]),a=Math.max(r[t],r[t-1]);if(a>n&&n<e&&e<=a)return{id:t,distRatio:(a-e)/(a-n)}}return{id:0,distRatio:0}};function ON(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.data=null,this.showContour=!1}var l5=ON.prototype;l5.handlePick=function(e){if(e.object===this.mesh){var r=e.data.index,t=this.data._meshX[r],n=this.data._meshY[r],a=this.data._meshZ[r],o=this.data._Ys.length,i=this.data._Zs.length,l=W0(t,this.data._Xs).id,u=W0(n,this.data._Ys).id,s=W0(a,this.data._Zs).id,f=e.index=s+i*u+i*o*l;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var h=this.data.hovertext||this.data.text;return ise(h)&&h[f]!==void 0?e.textLabel=h[f]:h&&(e.textLabel=h),!0}};l5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=BN(e);function n(u,s,f,h){return s.map(function(p){return u.d2l(p,0,h)*f})}var a=qN(n(t.xaxis,e._meshX,r.dataScale[0],e.xcalendar),n(t.yaxis,e._meshY,r.dataScale[1],e.ycalendar),n(t.zaxis,e._meshZ,r.dataScale[2],e.zcalendar)),o=qN(e._meshI,e._meshJ,e._meshK),i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:ose(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},l=lse(e);i.vertexIntensity=e._meshIntensity,i.vertexIntensityBounds=[l.min,l.max],i.colormap=ase(e),this.mesh.update(i)};l5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var sse=["xyz","xzy","yxz","yzx","zxy","zyx"];function BN(e){e._meshI=[],e._meshJ=[],e._meshK=[];var r=e.surface.show,t=e.spaceframe.show,n=e.surface.fill,a=e.spaceframe.fill,o=!1,i=!1,l=0,u,s,f=e._Xs,h=e._Ys,p=e._Zs,_=f.length,m=h.length,w=p.length,T=sse.indexOf(e._gridFill.replace(/-/g,"").replace(/\+/g,"")),y=function(Te,me,ye){switch(T){case 5:return ye+w*me+w*m*Te;case 4:return ye+w*Te+w*_*me;case 3:return me+m*ye+m*w*Te;case 2:return me+m*Te+m*_*ye;case 1:return Te+_*ye+_*w*me;default:return Te+_*me+_*m*ye}},k=e._minValues,S=e._maxValues,b=e._vMin,M=e._vMax,d,x,g,c;function A(Te,me,ye){for(var pe=c.length,ce=s;ce<pe;ce++)if(Te===d[ce]&&me===x[ce]&&ye===g[ce])return ce;return-1}function v(){s=u}function D(){d=[],x=[],g=[],c=[],u=0,v()}function E(Te,me,ye,pe){return d.push(Te),x.push(me),g.push(ye),c.push(pe),u++,u-1}function R(Te,me,ye){return e._meshI.push(Te),e._meshJ.push(me),e._meshK.push(ye),l++,l-1}function N(Te,me,ye){for(var pe=[],ce=0;ce<Te.length;ce++)pe[ce]=(Te[ce]+me[ce]+ye[ce])/3;return pe}function F(Te,me,ye){for(var pe=[],ce=0;ce<Te.length;ce++)pe[ce]=Te[ce]*(1-ye)+ye*me[ce];return pe}var I;function L(Te){I=Te}function P(Te,me){var ye=Te[0],pe=Te[1],ce=Te[2],be=N(ye,pe,ce),Le=Math.sqrt(1-I),qe=F(be,ye,Le),ze=F(be,pe,Le),$e=F(be,ce,Le),Ve=me[0],Be=me[1],Ye=me[2];return{xyzv:[[ye,pe,ze],[ze,qe,ye],[pe,ce,$e],[$e,ze,pe],[ce,ye,qe],[qe,$e,ce]],abc:[[Ve,Be,-1],[-1,-1,Ve],[Be,Ye,-1],[-1,-1,Be],[Ye,Ve,-1],[-1,-1,Ye]]}}function O(Te,me){return Te==="all"||Te===null?!0:Te.indexOf(me)>-1}function U(Te,me){return Te===null?me:Te}function X(Te,me,ye){v();var pe=[me],ce=[ye];if(I>=1)pe=[me],ce=[ye];else if(I>0){var be=P(me,ye);pe=be.xyzv,ce=be.abc}for(var Le=0;Le<pe.length;Le++){me=pe[Le],ye=ce[Le];for(var qe=[],ze=0;ze<3;ze++){var $e=me[ze][0],Ve=me[ze][1],Be=me[ze][2],Ye=me[ze][3],Me=ye[ze]>-1?ye[ze]:A($e,Ve,Be);Me>-1?qe[ze]=Me:qe[ze]=E($e,Ve,Be,U(Te,Ye))}R(qe[0],qe[1],qe[2])}}function $(Te,me,ye){var pe=function(ce,be,Le){X(Te,[me[ce],me[be],me[Le]],[ye[ce],ye[be],ye[Le]])};pe(0,1,2),pe(2,3,0)}function j(Te,me,ye){var pe=function(ce,be,Le){X(Te,[me[ce],me[be],me[Le]],[ye[ce],ye[be],ye[Le]])};pe(0,1,2),pe(3,0,1),pe(2,3,0),pe(1,2,3)}function Y(Te,me,ye,pe){var ce=Te[3];ce<ye&&(ce=ye),ce>pe&&(ce=pe);for(var be=(Te[3]-ce)/(Te[3]-me[3]+1e-9),Le=[],qe=0;qe<4;qe++)Le[qe]=(1-be)*Te[qe]+be*me[qe];return Le}function q(Te,me,ye){return Te>=me&&Te<=ye}function K(Te){var me=.001*(M-b);return Te>=b-me&&Te<=M+me}function ne(Te){for(var me=[],ye=0;ye<4;ye++){var pe=Te[ye];me.push([e._x[pe],e._y[pe],e._z[pe],e._value[pe]])}return me}var Q=3;function oe(Te,me,ye,pe,ce,be){be||(be=1),ye=[-1,-1,-1];var Le=!1,qe=[q(me[0][3],pe,ce),q(me[1][3],pe,ce),q(me[2][3],pe,ce)];if(!qe[0]&&!qe[1]&&!qe[2])return!1;var ze=function(Ve,Be,Ye){return K(Be[0][3])&&K(Be[1][3])&&K(Be[2][3])?(X(Ve,Be,Ye),!0):be<Q?oe(Ve,Be,Ye,b,M,++be):!1};if(qe[0]&&qe[1]&&qe[2])return ze(Te,me,ye)||Le;var $e=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(Ve){if(qe[Ve[0]]&&qe[Ve[1]]&&!qe[Ve[2]]){var Be=me[Ve[0]],Ye=me[Ve[1]],Me=me[Ve[2]],Re=Y(Me,Be,pe,ce),Qe=Y(Me,Ye,pe,ce);Le=ze(Te,[Qe,Re,Be],[-1,-1,ye[Ve[0]]])||Le,Le=ze(Te,[Be,Ye,Qe],[ye[Ve[0]],ye[Ve[1]],-1])||Le,$e=!0}}),$e||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(Ve){if(qe[Ve[0]]&&!qe[Ve[1]]&&!qe[Ve[2]]){var Be=me[Ve[0]],Ye=me[Ve[1]],Me=me[Ve[2]],Re=Y(Ye,Be,pe,ce),Qe=Y(Me,Be,pe,ce);Le=ze(Te,[Qe,Re,Be],[-1,-1,ye[Ve[0]]])||Le,$e=!0}}),Le}function re(Te,me,ye,pe){var ce=!1,be=ne(me),Le=[q(be[0][3],ye,pe),q(be[1][3],ye,pe),q(be[2][3],ye,pe),q(be[3][3],ye,pe)];if(!Le[0]&&!Le[1]&&!Le[2]&&!Le[3])return ce;if(Le[0]&&Le[1]&&Le[2]&&Le[3])return i&&(ce=j(Te,be,me)||ce),ce;var qe=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(ze){if(Le[ze[0]]&&Le[ze[1]]&&Le[ze[2]]&&!Le[ze[3]]){var $e=be[ze[0]],Ve=be[ze[1]],Be=be[ze[2]],Ye=be[ze[3]];if(i)ce=X(Te,[$e,Ve,Be],[me[ze[0]],me[ze[1]],me[ze[2]]])||ce;else{var Me=Y(Ye,$e,ye,pe),Re=Y(Ye,Ve,ye,pe),Qe=Y(Ye,Be,ye,pe);ce=X(null,[Me,Re,Qe],[-1,-1,-1])||ce}qe=!0}}),qe||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(ze){if(Le[ze[0]]&&Le[ze[1]]&&!Le[ze[2]]&&!Le[ze[3]]){var $e=be[ze[0]],Ve=be[ze[1]],Be=be[ze[2]],Ye=be[ze[3]],Me=Y(Be,$e,ye,pe),Re=Y(Be,Ve,ye,pe),Qe=Y(Ye,Ve,ye,pe),Ke=Y(Ye,$e,ye,pe);i?(ce=X(Te,[$e,Ke,Me],[me[ze[0]],-1,-1])||ce,ce=X(Te,[Ve,Re,Qe],[me[ze[1]],-1,-1])||ce):ce=$(null,[Me,Re,Qe,Ke],[-1,-1,-1,-1])||ce,qe=!0}}),qe)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(ze){if(Le[ze[0]]&&!Le[ze[1]]&&!Le[ze[2]]&&!Le[ze[3]]){var $e=be[ze[0]],Ve=be[ze[1]],Be=be[ze[2]],Ye=be[ze[3]],Me=Y(Ve,$e,ye,pe),Re=Y(Be,$e,ye,pe),Qe=Y(Ye,$e,ye,pe);i?(ce=X(Te,[$e,Me,Re],[me[ze[0]],-1,-1])||ce,ce=X(Te,[$e,Re,Qe],[me[ze[0]],-1,-1])||ce,ce=X(Te,[$e,Qe,Me],[me[ze[0]],-1,-1])||ce):ce=X(null,[Me,Re,Qe],[-1,-1,-1])||ce,qe=!0}}),ce}function H(Te,me,ye,pe,ce,be,Le,qe,ze,$e,Ve){var Be=!1;return o&&(O(Te,"A")&&(Be=re(null,[me,ye,pe,be],$e,Ve)||Be),O(Te,"B")&&(Be=re(null,[ye,pe,ce,ze],$e,Ve)||Be),O(Te,"C")&&(Be=re(null,[ye,be,Le,ze],$e,Ve)||Be),O(Te,"D")&&(Be=re(null,[pe,be,qe,ze],$e,Ve)||Be),O(Te,"E")&&(Be=re(null,[ye,pe,be,ze],$e,Ve)||Be)),i&&(Be=re(Te,[ye,pe,be,ze],$e,Ve)||Be),Be}function ee(Te,me,ye,pe,ce,be,Le,qe){return[qe[0]===!0?!0:oe(Te,ne([me,ye,pe]),[me,ye,pe],be,Le),qe[1]===!0?!0:oe(Te,ne([pe,ce,me]),[pe,ce,me],be,Le)]}function V(Te,me,ye,pe,ce,be,Le,qe,ze){return qe?ee(Te,me,ye,ce,pe,be,Le,ze):ee(Te,ye,ce,pe,me,be,Le,ze)}function te(Te,me,ye,pe,ce,be,Le){var qe=!1,ze,$e,Ve,Be,Ye=function(){qe=oe(Te,[ze,$e,Ve],[-1,-1,-1],ce,be)||qe,qe=oe(Te,[Ve,Be,ze],[-1,-1,-1],ce,be)||qe},Me=Le[0],Re=Le[1],Qe=Le[2];return Me&&(ze=F(ne([y(me,ye-0,pe-0)])[0],ne([y(me-1,ye-0,pe-0)])[0],Me),$e=F(ne([y(me,ye-0,pe-1)])[0],ne([y(me-1,ye-0,pe-1)])[0],Me),Ve=F(ne([y(me,ye-1,pe-1)])[0],ne([y(me-1,ye-1,pe-1)])[0],Me),Be=F(ne([y(me,ye-1,pe-0)])[0],ne([y(me-1,ye-1,pe-0)])[0],Me),Ye()),Re&&(ze=F(ne([y(me-0,ye,pe-0)])[0],ne([y(me-0,ye-1,pe-0)])[0],Re),$e=F(ne([y(me-0,ye,pe-1)])[0],ne([y(me-0,ye-1,pe-1)])[0],Re),Ve=F(ne([y(me-1,ye,pe-1)])[0],ne([y(me-1,ye-1,pe-1)])[0],Re),Be=F(ne([y(me-1,ye,pe-0)])[0],ne([y(me-1,ye-1,pe-0)])[0],Re),Ye()),Qe&&(ze=F(ne([y(me-0,ye-0,pe)])[0],ne([y(me-0,ye-0,pe-1)])[0],Qe),$e=F(ne([y(me-0,ye-1,pe)])[0],ne([y(me-0,ye-1,pe-1)])[0],Qe),Ve=F(ne([y(me-1,ye-1,pe)])[0],ne([y(me-1,ye-1,pe-1)])[0],Qe),Be=F(ne([y(me-1,ye-0,pe)])[0],ne([y(me-1,ye-0,pe-1)])[0],Qe),Ye()),qe}function ue(Te,me,ye,pe,ce,be,Le,qe,ze,$e,Ve,Be){var Ye=Te;return Be?(o&&Te==="even"&&(Ye=null),H(Ye,me,ye,pe,ce,be,Le,qe,ze,$e,Ve)):(o&&Te==="odd"&&(Ye=null),H(Ye,ze,qe,Le,be,ce,pe,ye,me,$e,Ve))}function ve(Te,me,ye,pe,ce){for(var be=[],Le=0,qe=0;qe<me.length;qe++)for(var ze=me[qe],$e=1;$e<w;$e++)for(var Ve=1;Ve<m;Ve++)be.push(V(Te,y(ze,Ve-1,$e-1),y(ze,Ve-1,$e),y(ze,Ve,$e-1),y(ze,Ve,$e),ye,pe,(ze+Ve+$e)%2,ce&&ce[Le]?ce[Le]:[])),Le++;return be}function ke(Te,me,ye,pe,ce){for(var be=[],Le=0,qe=0;qe<me.length;qe++)for(var ze=me[qe],$e=1;$e<_;$e++)for(var Ve=1;Ve<w;Ve++)be.push(V(Te,y($e-1,ze,Ve-1),y($e,ze,Ve-1),y($e-1,ze,Ve),y($e,ze,Ve),ye,pe,($e+ze+Ve)%2,ce&&ce[Le]?ce[Le]:[])),Le++;return be}function Se(Te,me,ye,pe,ce){for(var be=[],Le=0,qe=0;qe<me.length;qe++)for(var ze=me[qe],$e=1;$e<m;$e++)for(var Ve=1;Ve<_;Ve++)be.push(V(Te,y(Ve-1,$e-1,ze),y(Ve-1,$e,ze),y(Ve,$e-1,ze),y(Ve,$e,ze),ye,pe,(Ve+$e+ze)%2,ce&&ce[Le]?ce[Le]:[])),Le++;return be}function he(Te,me,ye){for(var pe=1;pe<w;pe++)for(var ce=1;ce<m;ce++)for(var be=1;be<_;be++)ue(Te,y(be-1,ce-1,pe-1),y(be-1,ce-1,pe),y(be-1,ce,pe-1),y(be-1,ce,pe),y(be,ce-1,pe-1),y(be,ce-1,pe),y(be,ce,pe-1),y(be,ce,pe),me,ye,(be+ce+pe)%2)}function Ae(Te,me,ye){i=!0,he(Te,me,ye),i=!1}function Ce(Te,me,ye){o=!0,he(Te,me,ye),o=!1}function Pe(Te,me,ye,pe,ce,be){for(var Le=[],qe=0,ze=0;ze<me.length;ze++)for(var $e=me[ze],Ve=1;Ve<w;Ve++)for(var Be=1;Be<m;Be++)Le.push(te(Te,$e,Be,Ve,ye,pe,ce[ze],be&&be[qe]?be[qe]:[])),qe++;return Le}function Ee(Te,me,ye,pe,ce,be){for(var Le=[],qe=0,ze=0;ze<me.length;ze++)for(var $e=me[ze],Ve=1;Ve<_;Ve++)for(var Be=1;Be<w;Be++)Le.push(te(Te,Ve,$e,Be,ye,pe,ce[ze],be&&be[qe]?be[qe]:[])),qe++;return Le}function Ne(Te,me,ye,pe,ce,be){for(var Le=[],qe=0,ze=0;ze<me.length;ze++)for(var $e=me[ze],Ve=1;Ve<m;Ve++)for(var Be=1;Be<_;Be++)Le.push(te(Te,Be,Ve,$e,ye,pe,ce[ze],be&&be[qe]?be[qe]:[])),qe++;return Le}function Ue(Te,me){for(var ye=[],pe=Te;pe<me;pe++)ye.push(pe);return ye}function ge(){for(var Te=0;Te<_;Te++)for(var me=0;me<m;me++)for(var ye=0;ye<w;ye++){var pe=y(Te,me,ye);E(e._x[pe],e._y[pe],e._z[pe],e._value[pe])}}function we(){D(),ge();var Te=null;if(t&&a&&(L(a),Ae(Te,b,M)),r&&n){L(n);for(var me=e.surface.pattern,ye=e.surface.count,pe=0;pe<ye;pe++){var ce=ye===1?.5:pe/(ye-1),be=(1-ce)*b+ce*M,Le=Math.abs(be-k),qe=Math.abs(be-S),ze=Le>qe?[k,be]:[be,S];Ce(me,ze[0],ze[1])}}var $e=[[Math.min(b,S),Math.max(b,S)],[Math.min(k,M),Math.max(k,M)]];["x","y","z"].forEach(function(Ve){for(var Be=[],Ye=0;Ye<$e.length;Ye++){var Me=0,Re=$e[Ye][0],Qe=$e[Ye][1],Ke=e.slices[Ve];if(Ke.show&&Ke.fill){L(Ke.fill);var ar=[],se=[],J=[];if(Ke.locations.length)for(var ae=0;ae<Ke.locations.length;ae++){var De=W0(Ke.locations[ae],Ve==="x"?f:Ve==="y"?h:p);De.distRatio===0?ar.push(De.id):De.id>0&&(se.push(De.id),Ve==="x"?J.push([De.distRatio,0,0]):Ve==="y"?J.push([0,De.distRatio,0]):J.push([0,0,De.distRatio]))}else Ve==="x"?ar=Ue(1,_-1):Ve==="y"?ar=Ue(1,m-1):ar=Ue(1,w-1);se.length>0&&(Ve==="x"?Be[Me]=Pe(Te,se,Re,Qe,J,Be[Me]):Ve==="y"?Be[Me]=Ee(Te,se,Re,Qe,J,Be[Me]):Be[Me]=Ne(Te,se,Re,Qe,J,Be[Me]),Me++),ar.length>0&&(Ve==="x"?Be[Me]=ve(Te,ar,Re,Qe,Be[Me]):Ve==="y"?Be[Me]=ke(Te,ar,Re,Qe,Be[Me]):Be[Me]=Se(Te,ar,Re,Qe,Be[Me]),Me++)}var He=e.caps[Ve];He.show&&He.fill&&(L(He.fill),Ve==="x"?Be[Me]=ve(Te,[0,_-1],Re,Qe,Be[Me]):Ve==="y"?Be[Me]=ke(Te,[0,m-1],Re,Qe,Be[Me]):Be[Me]=Se(Te,[0,w-1],Re,Qe,Be[Me]),Me++)}}),l===0&&D(),e._meshX=d,e._meshY=x,e._meshZ=g,e._meshIntensity=c,e._Xs=f,e._Ys=h,e._Zs=p}return we(),e}function use(e,r){var t=e.glplot.gl,n=nse({gl:t}),a=new ON(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}UN.exports={findNearestOnAxis:W0,generateIsoMeshes:BN,createIsosurfaceTrace:use}});var VN=de((Ape,HN)=>{"use strict";HN.exports={attributes:md(),supplyDefaults:n5().supplyDefaults,calc:o5(),colorbar:{min:"cmin",max:"cmax"},plot:_d().createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:il(),categories:["gl3d","showLegend"],meta:{}}});var YN=de((kpe,GN)=>{"use strict";GN.exports=VN()});var u5=de((Spe,XN)=>{"use strict";var fse=ei(),Yt=md(),cse=V0(),WN=Sn(),s5=Tt().extendFlat,hse=zn().overrideAll,wd=XN.exports=hse(s5({x:Yt.x,y:Yt.y,z:Yt.z,value:Yt.value,isomin:Yt.isomin,isomax:Yt.isomax,surface:Yt.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:Yt.slices,caps:Yt.caps,text:Yt.text,hovertext:Yt.hovertext,xhoverformat:Yt.xhoverformat,yhoverformat:Yt.yhoverformat,zhoverformat:Yt.zhoverformat,valuehoverformat:Yt.valuehoverformat,hovertemplate:Yt.hovertemplate,hovertemplatefallback:Yt.hovertemplatefallback},fse("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:Yt.colorbar,opacity:Yt.opacity,opacityscale:cse.opacityscale,lightposition:Yt.lightposition,lighting:Yt.lighting,flatshading:Yt.flatshading,contour:Yt.contour,hoverinfo:s5({},WN.hoverinfo),showlegend:s5({},WN.showlegend,{dflt:!1})}),"calc","nested");wd.x.editType=wd.y.editType=wd.z.editType=wd.value.editType="calc+clearAxisTypes"});var JN=de((Cpe,ZN)=>{"use strict";var vse=ir(),dse=u5(),pse=n5().supplyIsoDefaults,gse=Q3().opacityscaleDefaults;ZN.exports=function(r,t,n,a){function o(i,l){return vse.coerce(r,t,dse,i,l)}pse(r,t,n,a,o),gse(r,t,a,o)}});var jN=de((Epe,$N)=>{"use strict";var yse=pn().gl_mesh3d,mse=al().parseColorScale,bse=ir().isArrayOrTypedArray,xse=po(),_se=Li().extractOpts,KN=Wu(),f5=_d().findNearestOnAxis,wse=_d().generateIsoMeshes;function QN(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.data=null,this.showContour=!1}var c5=QN.prototype;c5.handlePick=function(e){if(e.object===this.mesh){var r=e.data.index,t=this.data._meshX[r],n=this.data._meshY[r],a=this.data._meshZ[r],o=this.data._Ys.length,i=this.data._Zs.length,l=f5(t,this.data._Xs).id,u=f5(n,this.data._Ys).id,s=f5(a,this.data._Zs).id,f=e.index=s+i*u+i*o*l;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var h=this.data.hovertext||this.data.text;return bse(h)&&h[f]!==void 0?e.textLabel=h[f]:h&&(e.textLabel=h),!0}};c5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=wse(e);function n(u,s,f,h){return s.map(function(p){return u.d2l(p,0,h)*f})}var a=KN(n(t.xaxis,e._meshX,r.dataScale[0],e.xcalendar),n(t.yaxis,e._meshY,r.dataScale[1],e.ycalendar),n(t.zaxis,e._meshZ,r.dataScale[2],e.zcalendar)),o=KN(e._meshI,e._meshJ,e._meshK),i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,opacityscale:e.opacityscale,contourEnable:e.contour.show,contourColor:xse(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},l=_se(e);i.vertexIntensity=e._meshIntensity,i.vertexIntensityBounds=[l.min,l.max],i.colormap=mse(e),this.mesh.update(i)};c5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function Mse(e,r){var t=e.glplot.gl,n=yse({gl:t}),a=new QN(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}$N.exports=Mse});var rz=de((Lpe,ez)=>{"use strict";ez.exports={attributes:u5(),supplyDefaults:JN(),calc:o5(),colorbar:{min:"cmin",max:"cmax"},plot:jN(),moduleType:"trace",name:"volume",basePlotModule:il(),categories:["gl3d","showLegend"],meta:{}}});var nz=de((Dpe,tz)=>{"use strict";tz.exports=rz()});var oz=de((Rpe,iz)=>{"use strict";var Tse=Cr(),az=ir(),Ase=Ei(),kse=Gu();iz.exports=function(r,t,n,a){function o(f,h){return az.coerce(r,t,kse,f,h)}function i(f){var h=f.map(function(p){var _=o(p);return _&&az.isArrayOrTypedArray(_)?_:null});return h.every(function(p){return p&&p.length===h[0].length})&&h}var l=i(["x","y","z"]);if(!l){t.visible=!1;return}if(i(["i","j","k"]),t.i&&(!t.j||!t.k)||t.j&&(!t.k||!t.i)||t.k&&(!t.i||!t.j)){t.visible=!1;return}var u=Tse.getComponentMethod("calendars","handleTraceDefaults");u(r,t,["x","y","z"],a),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(f){o(f)});var s=o("contour.show");s&&(o("contour.color"),o("contour.width")),"intensity"in r?(o("intensity"),o("intensitymode"),Ase(r,t,a,o,{prefix:"",cLetter:"c"})):(t.showscale=!1,"facecolor"in r?o("facecolor"):"vertexcolor"in r?o("vertexcolor"):o("color",n)),o("text"),o("hovertext"),o("hovertemplate"),o("hovertemplatefallback"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var sz=de((Ppe,lz)=>{"use strict";var Sse=zo();lz.exports=function(r,t){t.intensity&&Sse(r,t,{vals:t.intensity,containerStr:"",cLetter:"c"})}});var vz=de((Ipe,hz)=>{"use strict";var Cse=pn().gl_mesh3d,Ese=pn().delaunay_triangulate,Lse=pn().alpha_shape,Dse=pn().convex_hull,Rse=al().parseColorScale,Pse=ir().isArrayOrTypedArray,p5=po(),Ise=Li().extractOpts,uz=Wu();function cz(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var g5=cz.prototype;g5.handlePick=function(e){if(e.object===this.mesh){var r=e.index=e.data.index;e.data._cellCenter?e.traceCoordinate=e.data.dataCoordinate:e.traceCoordinate=[this.data.x[r],this.data.y[r],this.data.z[r]];var t=this.data.hovertext||this.data.text;return Pse(t)&&t[r]!==void 0?e.textLabel=t[r]:t&&(e.textLabel=t),!0}};function fz(e){for(var r=[],t=e.length,n=0;n<t;n++)r[n]=p5(e[n]);return r}function h5(e,r,t,n){for(var a=[],o=r.length,i=0;i<o;i++)a[i]=e.d2l(r[i],0,n)*t;return a}function v5(e){for(var r=[],t=e.length,n=0;n<t;n++)r[n]=Math.round(e[n]);return r}function Fse(e,r){for(var t=["x","y","z"].indexOf(e),n=[],a=r.length,o=0;o<a;o++)n[o]=[r[o][(t+1)%3],r[o][(t+2)%3]];return Ese(n)}function d5(e,r){for(var t=e.length,n=0;n<t;n++)if(e[n]<=-.5||e[n]>=r-.5)return!1;return!0}g5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=e;var n=e.x.length,a=uz(h5(t.xaxis,e.x,r.dataScale[0],e.xcalendar),h5(t.yaxis,e.y,r.dataScale[1],e.ycalendar),h5(t.zaxis,e.z,r.dataScale[2],e.zcalendar)),o;if(e.i&&e.j&&e.k){if(e.i.length!==e.j.length||e.j.length!==e.k.length||!d5(e.i,n)||!d5(e.j,n)||!d5(e.k,n))return;o=uz(v5(e.i),v5(e.j),v5(e.k))}else e.alphahull===0?o=Dse(a):e.alphahull>0?o=Lse(e.alphahull,a):o=Fse(e.delaunayaxis,a);var i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:p5(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading};if(e.intensity){var l=Ise(e);this.color="#fff";var u=e.intensitymode;i[u+"Intensity"]=e.intensity,i[u+"IntensityBounds"]=[l.min,l.max],i.colormap=Rse(e)}else e.vertexcolor?(this.color=e.vertexcolor[0],i.vertexColors=fz(e.vertexcolor)):e.facecolor?(this.color=e.facecolor[0],i.cellColors=fz(e.facecolor)):(this.color=e.color,i.meshColor=p5(e.color));this.mesh.update(i)};g5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function Nse(e,r){var t=e.glplot.gl,n=Cse({gl:t}),a=new cz(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}hz.exports=Nse});var pz=de((Fpe,dz)=>{"use strict";dz.exports={attributes:Gu(),supplyDefaults:oz(),calc:sz(),colorbar:{min:"cmin",max:"cmax"},plot:vz(),moduleType:"trace",name:"mesh3d",basePlotModule:il(),categories:["gl3d","showLegend"],meta:{}}});var yz=de((Npe,gz)=>{"use strict";gz.exports=pz()});var m5=de((zpe,bz)=>{"use strict";var zse=ei(),Xu=ro().axisHoverFormat,{hovertemplateAttrs:qse,templatefallbackAttrs:Ose}=Ka(),Bse=Gu(),mz=Sn(),y5=Tt().extendFlat,Md={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:qse({editType:"calc"},{keys:["norm"]}),hovertemplatefallback:Ose({editType:"calc"}),uhoverformat:Xu("u",1),vhoverformat:Xu("v",1),whoverformat:Xu("w",1),xhoverformat:Xu("x"),yhoverformat:Xu("y"),zhoverformat:Xu("z"),showlegend:y5({},mz.showlegend,{dflt:!1})};y5(Md,zse("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var Use=["opacity","lightposition","lighting"];Use.forEach(function(e){Md[e]=Bse[e]});Md.hoverinfo=y5({},mz.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"});bz.exports=Md});var _z=de((qpe,xz)=>{"use strict";var Hse=ir(),Vse=Ei(),Gse=m5();xz.exports=function(r,t,n,a){function o(_,m){return Hse.coerce(r,t,Gse,_,m)}var i=o("u"),l=o("v"),u=o("w"),s=o("x"),f=o("y"),h=o("z");if(!i||!i.length||!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length||!h||!h.length){t.visible=!1;return}var p=o("sizemode");o("sizeref",p==="raw"?1:.5),o("anchor"),o("lighting.ambient"),o("lighting.diffuse"),o("lighting.specular"),o("lighting.roughness"),o("lighting.fresnel"),o("lightposition.x"),o("lightposition.y"),o("lightposition.z"),Vse(r,t,a,o,{prefix:"",cLetter:"c"}),o("text"),o("hovertext"),o("hovertemplate"),o("hovertemplatefallback"),o("uhoverformat"),o("vhoverformat"),o("whoverformat"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var Mz=de((Ope,wz)=>{"use strict";var Yse=zo();wz.exports=function(r,t){for(var n=t.u,a=t.v,o=t.w,i=Math.min(t.x.length,t.y.length,t.z.length,n.length,a.length,o.length),l=-1/0,u=1/0,s=0;s<i;s++){var f=n[s],h=a[s],p=o[s],_=Math.sqrt(f*f+h*h+p*p);l=Math.max(l,_),u=Math.min(u,_)}t._len=i,t._normMax=l,Yse(r,t,{vals:[u,l],containerStr:"",cLetter:"c"})}});var Cz=de((Bpe,Sz)=>{"use strict";var Wse=pn().gl_cone3d,Xse=pn().gl_cone3d.createConeMesh,Zse=ir().simpleMap,Jse=al().parseColorScale,Kse=Li().extractOpts,Qse=ir().isArrayOrTypedArray,Tz=Wu();function Az(e,r){this.scene=e,this.uid=r,this.mesh=null,this.data=null}var b5=Az.prototype;b5.handlePick=function(e){if(e.object===this.mesh){var r=e.index=e.data.index,t=this.data.x[r],n=this.data.y[r],a=this.data.z[r],o=this.data.u[r],i=this.data.v[r],l=this.data.w[r];e.traceCoordinate=[t,n,a,o,i,l,Math.sqrt(o*o+i*i+l*l)];var u=this.data.hovertext||this.data.text;return Qse(u)&&u[r]!==void 0?e.textLabel=u[r]:u&&(e.textLabel=u),!0}};var $se={xaxis:0,yaxis:1,zaxis:2},jse={tip:1,tail:0,cm:.25,center:.5},eue={tip:1,tail:1,cm:.75,center:.5};function kz(e,r){var t=e.fullSceneLayout,n=e.dataScale,a={};function o(f,h){var p=t[h],_=n[$se[h]];return Zse(f,function(m){return p.d2l(m)*_})}a.vectors=Tz(o(r.u,"xaxis"),o(r.v,"yaxis"),o(r.w,"zaxis"),r._len),a.positions=Tz(o(r.x,"xaxis"),o(r.y,"yaxis"),o(r.z,"zaxis"),r._len);var i=Kse(r);a.colormap=Jse(r),a.vertexIntensityBounds=[i.min/r._normMax,i.max/r._normMax],a.coneOffset=jse[r.anchor];var l=r.sizemode;l==="scaled"?a.coneSize=r.sizeref||.5:l==="absolute"?a.coneSize=r.sizeref&&r._normMax?r.sizeref/r._normMax:.5:l==="raw"&&(a.coneSize=r.sizeref),a.coneSizemode=l;var u=Wse(a),s=r.lightposition;return u.lightPosition=[s.x,s.y,s.z],u.ambient=r.lighting.ambient,u.diffuse=r.lighting.diffuse,u.specular=r.lighting.specular,u.roughness=r.lighting.roughness,u.fresnel=r.lighting.fresnel,u.opacity=r.opacity,r._pad=eue[r.anchor]*u.vectorScale*u.coneScale*r._normMax,u}b5.update=function(e){this.data=e;var r=kz(this.scene,e);this.mesh.update(r)};b5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function rue(e,r){var t=e.glplot.gl,n=kz(e,r),a=Xse(t,n),o=new Az(e,r.uid);return o.mesh=a,o.data=r,a._trace=o,e.glplot.add(a),o}Sz.exports=rue});var Lz=de((Upe,Ez)=>{"use strict";Ez.exports={moduleType:"trace",name:"cone",basePlotModule:il(),categories:["gl3d","showLegend"],attributes:m5(),supplyDefaults:_z(),colorbar:{min:"cmin",max:"cmax"},calc:Mz(),plot:Cz(),eventData:function(e,r){return e.norm=r.traceCoordinate[6],e},meta:{}}});var Rz=de((Hpe,Dz)=>{"use strict";Dz.exports=Lz()});var _5=de((Vpe,Iz)=>{"use strict";var tue=ei(),Zu=ro().axisHoverFormat,{hovertemplateAttrs:nue,templatefallbackAttrs:aue}=Ka(),iue=Gu(),Pz=Sn(),x5=Tt().extendFlat,Td={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:nue({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),hovertemplatefallback:aue({editType:"calc"}),uhoverformat:Zu("u",1),vhoverformat:Zu("v",1),whoverformat:Zu("w",1),xhoverformat:Zu("x"),yhoverformat:Zu("y"),zhoverformat:Zu("z"),showlegend:x5({},Pz.showlegend,{dflt:!1})};x5(Td,tue("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var oue=["opacity","lightposition","lighting"];oue.forEach(function(e){Td[e]=iue[e]});Td.hoverinfo=x5({},Pz.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"});Iz.exports=Td});var Nz=de((Gpe,Fz)=>{"use strict";var lue=ir(),sue=Ei(),uue=_5();Fz.exports=function(r,t,n,a){function o(p,_){return lue.coerce(r,t,uue,p,_)}var i=o("u"),l=o("v"),u=o("w"),s=o("x"),f=o("y"),h=o("z");if(!i||!i.length||!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length||!h||!h.length){t.visible=!1;return}o("starts.x"),o("starts.y"),o("starts.z"),o("maxdisplayed"),o("sizeref"),o("lighting.ambient"),o("lighting.diffuse"),o("lighting.specular"),o("lighting.roughness"),o("lighting.fresnel"),o("lightposition.x"),o("lightposition.y"),o("lightposition.z"),sue(r,t,a,o,{prefix:"",cLetter:"c"}),o("text"),o("hovertext"),o("hovertemplate"),o("hovertemplatefallback"),o("uhoverformat"),o("vhoverformat"),o("whoverformat"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var Gz=de((Ype,Vz)=>{"use strict";var Oz=pn().gl_streamtube3d,fue=Oz.createTubeMesh,cue=ir(),hue=al().parseColorScale,vue=Li().extractOpts,zz=Wu(),Bz={xaxis:0,yaxis:1,zaxis:2};function Uz(e,r){this.scene=e,this.uid=r,this.mesh=null,this.data=null}var M5=Uz.prototype;M5.handlePick=function(e){var r=this.scene.fullSceneLayout,t=this.scene.dataScale;function n(i,l){var u=r[l],s=t[Bz[l]];return u.l2c(i)/s}if(e.object===this.mesh){var a=e.data.position,o=e.data.velocity;return e.traceCoordinate=[n(a[0],"xaxis"),n(a[1],"yaxis"),n(a[2],"zaxis"),n(o[0],"xaxis"),n(o[1],"yaxis"),n(o[2],"zaxis"),e.data.intensity*this.data._normMax,e.data.divergence],e.textLabel=this.data.hovertext||this.data.text,!0}};function qz(e){var r=e.length,t;return r>2?t=e.slice(1,r-1):r===2?t=[(e[0]+e[1])/2]:t=e,t}function w5(e){var r=e.length;return r===1?[.5,.5]:[e[1]-e[0],e[r-1]-e[r-2]]}function Hz(e,r){var t=e.fullSceneLayout,n=e.dataScale,a=r._len,o={};function i(D,E){var R=t[E],N=n[Bz[E]];return cue.simpleMap(D,function(F){return R.d2l(F)*N})}if(o.vectors=zz(i(r._u,"xaxis"),i(r._v,"yaxis"),i(r._w,"zaxis"),a),!a)return{positions:[],cells:[]};var l=i(r._Xs,"xaxis"),u=i(r._Ys,"yaxis"),s=i(r._Zs,"zaxis");o.meshgrid=[l,u,s],o.gridFill=r._gridFill;var f=r._slen;if(f)o.startingPositions=zz(i(r._startsX,"xaxis"),i(r._startsY,"yaxis"),i(r._startsZ,"zaxis"));else{for(var h=u[0],p=qz(l),_=qz(s),m=new Array(p.length*_.length),w=0,T=0;T<p.length;T++)for(var y=0;y<_.length;y++)m[w++]=[p[T],h,_[y]];o.startingPositions=m}o.colormap=hue(r),o.tubeSize=r.sizeref,o.maxLength=r.maxdisplayed;var k=i(r._xbnds,"xaxis"),S=i(r._ybnds,"yaxis"),b=i(r._zbnds,"zaxis"),M=w5(l),d=w5(u),x=w5(s),g=[[k[0]-M[0],S[0]-d[0],b[0]-x[0]],[k[1]+M[1],S[1]+d[1],b[1]+x[1]]],c=Oz(o,g),A=vue(r);c.vertexIntensityBounds=[A.min/r._normMax,A.max/r._normMax];var v=r.lightposition;return c.lightPosition=[v.x,v.y,v.z],c.ambient=r.lighting.ambient,c.diffuse=r.lighting.diffuse,c.specular=r.lighting.specular,c.roughness=r.lighting.roughness,c.fresnel=r.lighting.fresnel,c.opacity=r.opacity,r._pad=c.tubeScale*r.sizeref*2,c}M5.update=function(e){this.data=e;var r=Hz(this.scene,e);this.mesh.update(r)};M5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function due(e,r){var t=e.glplot.gl,n=Hz(e,r),a=fue(t,n),o=new Uz(e,r.uid);return o.mesh=a,o.data=r,a._trace=o,e.glplot.add(a),o}Vz.exports=due});var Wz=de((Wpe,Yz)=>{"use strict";Yz.exports={moduleType:"trace",name:"streamtube",basePlotModule:il(),categories:["gl3d","showLegend"],attributes:_5(),supplyDefaults:Nz(),colorbar:{min:"cmin",max:"cmax"},calc:bd().calc,plot:Gz(),eventData:function(e,r){return e.tubex=e.x,e.tubey=e.y,e.tubez=e.z,e.tubeu=r.traceCoordinate[3],e.tubev=r.traceCoordinate[4],e.tubew=r.traceCoordinate[5],e.norm=r.traceCoordinate[6],e.divergence=r.traceCoordinate[7],delete e.x,delete e.y,delete e.z,e},meta:{}}});var Zz=de((Xpe,Xz)=>{"use strict";Xz.exports=Wz()});var Rn=de((Zpe,Kz)=>{"use strict";var Jz=Object.getOwnPropertySymbols,pue=Object.prototype.hasOwnProperty,gue=Object.prototype.propertyIsEnumerable;function yue(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function mue(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(r).map(function(o){return r[o]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}Kz.exports=mue()?Object.assign:function(e,r){for(var t,n=yue(e),a,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var i in t)pue.call(t,i)&&(n[i]=t[i]);if(Jz){a=Jz(t);for(var l=0;l<a.length;l++)gue.call(t,a[l])&&(n[a[l]]=t[a[l]])}}return n}});var Pn=de((Jpe,$z)=>{var kd=Rn();function Qz(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}kd(Qz.prototype,{instance:function(e,r){e=(e||"gregorian").toLowerCase(),r=r||"";var t=this._localCals[e+"-"+r];if(!t&&this.calendars[e]&&(t=new this.calendars[e](r),this._localCals[e+"-"+r]=t),!t)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return t},newDate:function(e,r,t,n,a){return n=(e!=null&&e.year?e.calendar():typeof n=="string"?this.instance(n,a):n)||this.instance(),n.newDate(e,r,t)},substituteDigits:function(e){return function(r){return(r+"").replace(/[0-9]/g,function(t){return e[t]})}},substituteChineseDigits:function(e,r){return function(t){for(var n="",a=0;t>0;){var o=t%10;n=(o===0?"":e[o]+r[a])+n,a++,t=Math.floor(t/10)}return n.indexOf(e[1]+r[1])===0&&(n=n.substr(1)),n||e[0]}}});function T5(e,r,t,n){if(this._calendar=e,this._year=r,this._month=t,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function Ad(e,r){return e=""+e,"000000".substring(0,r-e.length)+e}kd(T5.prototype,{newDate:function(e,r,t){return this._calendar.newDate(e==null?this:e,r,t)},year:function(e){return arguments.length===0?this._year:this.set(e,"y")},month:function(e){return arguments.length===0?this._month:this.set(e,"m")},day:function(e){return arguments.length===0?this._day:this.set(e,"d")},date:function(e,r,t){if(!this._calendar.isValid(e,r,t))throw(Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=r,this._day=t,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,r){return this._calendar.add(this,e,r)},set:function(e,r){return this._calendar.set(this,e,r)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(Yr.local.differentCalendars||Yr.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var r=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+Ad(Math.abs(this.year()),4)+"-"+Ad(this.month(),2)+"-"+Ad(this.day(),2)}});function A5(){this.shortYearCutoff="+10"}kd(A5.prototype,{_validateLevel:0,newDate:function(e,r,t){return e==null?this.today():(e.year&&(this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate),t=e.day(),r=e.month(),e=e.year()),new T5(this,e,r,t))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){var r=this._validate(e,this.minMonth,this.minDay,Yr.local.invalidYear||Yr.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Yr.local.invalidYear||Yr.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+Ad(Math.abs(r.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Yr.local.invalidYear||Yr.regionalOptions[""].invalidYear),12},monthOfYear:function(e,r){var t=this._validate(e,r,this.minDay,Yr.local.invalidMonth||Yr.regionalOptions[""].invalidMonth);return(t.month()+this.monthsInYear(t)-this.firstMonth)%this.monthsInYear(t)+this.minMonth},fromMonthOfYear:function(e,r){var t=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,t,this.minDay,Yr.local.invalidMonth||Yr.regionalOptions[""].invalidMonth),t},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Yr.local.invalidYear||Yr.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(e,r,t){var n=this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(e,r,t){return this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate),{}},add:function(e,r,t){return this._validate(e,this.minMonth,this.minDay,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,r,t),r,t)},_add:function(e,r,t){if(this._validateLevel++,t==="d"||t==="w"){var n=e.toJD()+r*(t==="w"?this.daysInWeek():1),a=e.calendar().fromJD(n);return this._validateLevel--,[a.year(),a.month(),a.day()]}try{var o=e.year()+(t==="y"?r:0),i=e.monthOfYear()+(t==="m"?r:0),a=e.day(),l=function(f){for(;i<f.minMonth;)o--,i+=f.monthsInYear(o);for(var h=f.monthsInYear(o);i>h-1+f.minMonth;)o++,i-=h,h=f.monthsInYear(o)};t==="y"?(e.month()!==this.fromMonthOfYear(o,i)&&(i=this.newDate(o,e.month(),this.minDay).monthOfYear()),i=Math.min(i,this.monthsInYear(o)),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i)))):t==="m"&&(l(this),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i))));var u=[o,this.fromMonthOfYear(o,i),a];return this._validateLevel--,u}catch(s){throw this._validateLevel--,s}},_correctAdd:function(e,r,t,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||e.year()>0!=r[0]>0)){var a={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],o=t<0?-1:1;r=this._add(e,t*a[0]+o*a[1],a[2])}return e.date(r[0],r[1],r[2])},set:function(e,r,t){this._validate(e,this.minMonth,this.minDay,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate);var n=t==="y"?r:e.year(),a=t==="m"?r:e.month(),o=t==="d"?r:e.day();return(t==="y"||t==="m")&&(o=Math.min(o,this.daysInMonth(n,a))),e.date(n,a,o)},isValid:function(e,r,t){this._validateLevel++;var n=this.hasYearZero||e!==0;if(n){var a=this.newDate(e,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(a)&&t>=this.minDay&&t-this.minDay<this.daysInMonth(a)}return this._validateLevel--,n},toJSDate:function(e,r,t){var n=this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate);return Yr.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(e){return this.fromJD(Yr.instance().fromJSDate(e).toJD())},_validate:function(e,r,t,n){if(e.year){if(this._validateLevel===0&&this.name!==e.calendar().name)throw(Yr.local.differentCalendars||Yr.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(e,r,t))throw n.replace(/\{0\}/,this.local.name);var a=this.newDate(e,r,t);return this._validateLevel--,a}catch(o){throw this._validateLevel--,o}}});function k5(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}k5.prototype=new A5;kd(k5.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Yr.local.invalidYear||Yr.regionalOptions[""].invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===0&&(t%100!==0||t%400===0)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Yr.local.invalidMonth||Yr.regionalOptions[""].invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate);e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<3&&(r+=12,e--);var a=Math.floor(e/100),o=2-a+Math.floor(a/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t+o-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=Math.floor((r-186721625e-2)/36524.25);t=r+1+t-Math.floor(t/4);var n=t+1524,a=Math.floor((n-122.1)/365.25),o=Math.floor(365.25*a),i=Math.floor((n-o)/30.6001),l=n-o-Math.floor(i*30.6001),u=i-(i>13.5?13:1),s=a-(u>2.5?4716:4715);return s<=0&&s--,this.newDate(s,u,l)},toJSDate:function(e,r,t){var n=this._validate(e,r,t,Yr.local.invalidDate||Yr.regionalOptions[""].invalidDate),a=new Date(n.year(),n.month()-1,n.day());return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(a.getHours()>12?a.getHours()+2:0),a},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var Yr=$z.exports=new Qz;Yr.cdate=T5;Yr.baseCalendar=A5;Yr.calendars.gregorian=k5});var jz=de(()=>{var S5=Rn(),gn=Pn();S5(gn.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"});gn.local=gn.regionalOptions[""];S5(gn.cdate.prototype,{formatDate:function(e,r){return typeof e!="string"&&(r=e,e=""),this._calendar.formatDate(e||"",this,r)}});S5(gn.baseCalendar.prototype,{UNIX_EPOCH:gn.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:gn.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,r,t){if(typeof e!="string"&&(t=r,r=e,e=""),!r)return"";if(r.calendar()!==this)throw gn.local.invalidFormat||gn.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat,t=t||{};for(var n=t.dayNamesShort||this.local.dayNamesShort,a=t.dayNames||this.local.dayNames,o=t.monthNumbers||this.local.monthNumbers,i=t.monthNamesShort||this.local.monthNamesShort,l=t.monthNames||this.local.monthNames,u=t.calculateWeek||this.local.calculateWeek,s=function(b,M){for(var d=1;S+d<e.length&&e.charAt(S+d)===b;)d++;return S+=d-1,Math.floor(d/(M||1))>1},f=function(b,M,d,x){var g=""+M;if(s(b,x))for(;g.length<d;)g="0"+g;return g},h=function(b,M,d,x){return s(b)?x[M]:d[M]},p=this,_=function(b){return typeof o=="function"?o.call(p,b,s("m")):T(f("m",b.month(),2))},m=function(b,M){return M?typeof l=="function"?l.call(p,b):l[b.month()-p.minMonth]:typeof i=="function"?i.call(p,b):i[b.month()-p.minMonth]},w=this.local.digits,T=function(b){return t.localNumbers&&w?w(b):b},y="",k=!1,S=0;S<e.length;S++)if(k)e.charAt(S)==="'"&&!s("'")?k=!1:y+=e.charAt(S);else switch(e.charAt(S)){case"d":y+=T(f("d",r.day(),2));break;case"D":y+=h("D",r.dayOfWeek(),n,a);break;case"o":y+=f("o",r.dayOfYear(),3);break;case"w":y+=f("w",r.weekOfYear(),2);break;case"m":y+=_(r);break;case"M":y+=m(r,s("M"));break;case"y":y+=s("y",2)?r.year():(r.year()%100<10?"0":"")+r.year()%100;break;case"Y":s("Y",2),y+=r.formatYear();break;case"J":y+=r.toJD();break;case"@":y+=(r.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":y+=(r.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":s("'")?y+="'":k=!0;break;default:y+=e.charAt(S)}return y},parseDate:function(e,r,t){if(r==null)throw gn.local.invalidArguments||gn.regionalOptions[""].invalidArguments;if(r=typeof r=="object"?r.toString():r+"",r==="")return null;e=e||this.local.dateFormat,t=t||{};var n=t.shortYearCutoff||this.shortYearCutoff;n=typeof n!="string"?n:this.today().year()%100+parseInt(n,10);for(var a=t.dayNamesShort||this.local.dayNamesShort,o=t.dayNames||this.local.dayNames,i=t.parseMonth||this.local.parseMonth,l=t.monthNumbers||this.local.monthNumbers,u=t.monthNamesShort||this.local.monthNamesShort,s=t.monthNames||this.local.monthNames,f=-1,h=-1,p=-1,_=-1,m=-1,w=!1,T=!1,y=function(D,E){for(var R=1;c+R<e.length&&e.charAt(c+R)===D;)R++;return c+=R-1,Math.floor(R/(E||1))>1},k=function(D,E){var R=y(D,E),N=[2,3,R?4:2,R?4:2,10,11,20]["oyYJ@!".indexOf(D)+1],F=new RegExp("^-?\\d{1,"+N+"}"),I=r.substring(g).match(F);if(!I)throw(gn.local.missingNumberAt||gn.regionalOptions[""].missingNumberAt).replace(/\{0\}/,g);return g+=I[0].length,parseInt(I[0],10)},S=this,b=function(){if(typeof l=="function"){y("m");var D=l.call(S,r.substring(g));return g+=D.length,D}return k("m")},M=function(D,E,R,N){for(var F=y(D,N)?R:E,I=0;I<F.length;I++)if(r.substr(g,F[I].length).toLowerCase()===F[I].toLowerCase())return g+=F[I].length,I+S.minMonth;throw(gn.local.unknownNameAt||gn.regionalOptions[""].unknownNameAt).replace(/\{0\}/,g)},d=function(){if(typeof s=="function"){var D=y("M")?s.call(S,r.substring(g)):u.call(S,r.substring(g));return g+=D.length,D}return M("M",u,s)},x=function(){if(r.charAt(g)!==e.charAt(c))throw(gn.local.unexpectedLiteralAt||gn.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,g);g++},g=0,c=0;c<e.length;c++)if(T)e.charAt(c)==="'"&&!y("'")?T=!1:x();else switch(e.charAt(c)){case"d":_=k("d");break;case"D":M("D",a,o);break;case"o":m=k("o");break;case"w":k("w");break;case"m":p=b();break;case"M":p=d();break;case"y":var A=c;w=!y("y",2),c=A,h=k("y",2);break;case"Y":h=k("Y",2);break;case"J":f=k("J")+.5,r.charAt(g)==="."&&(g++,k("J"));break;case"@":f=k("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=k("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":g=r.length;break;case"'":y("'")?x():T=!0;break;default:x()}if(g<r.length)throw gn.local.unexpectedText||gn.regionalOptions[""].unexpectedText;if(h===-1?h=this.today().year():h<100&&w&&(h+=n===-1?1900:this.today().year()-this.today().year()%100-(h<=n?0:100)),typeof p=="string"&&(p=i.call(this,h,p)),m>-1){p=1,_=m;for(var v=this.daysInMonth(h,p);_>v;v=this.daysInMonth(h,p))p++,_-=v}return f>-1?this.fromJD(f):this.newDate(h,p,_)},determineDate:function(e,r,t,n,a){t&&typeof t!="object"&&(a=n,n=t,t=null),typeof n!="string"&&(a=n,n="");var o=this,i=function(l){try{return o.parseDate(n,l,a)}catch(h){}l=l.toLowerCase();for(var u=(l.match(/^c/)&&t?t.newDate():null)||o.today(),s=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=s.exec(l);f;)u.add(parseInt(f[1],10),f[2]||"d"),f=s.exec(l);return u};return r=r?r.newDate():null,e=e==null?r:typeof e=="string"?i(e):typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?r:o.today().add(e,"d"):o.newDate(e),e}})});var eq=de(()=>{var sl=Pn(),bue=Rn(),C5=sl.instance();function Sd(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}Sd.prototype=new sl.baseCalendar;bue(Sd.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,r){if(typeof e=="string"){var t=e.match(_ue);return t?t[0]:""}var n=this._validateYear(e),a=e.month(),o=""+this.toChineseMonth(n,a);return r&&o.length<2&&(o="0"+o),this.isIntercalaryMonth(n,a)&&(o+="i"),o},monthNames:function(e){if(typeof e=="string"){var r=e.match(wue);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},monthNamesShort:function(e){if(typeof e=="string"){var r=e.match(Mue);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},parseMonth:function(e,r){e=this._validateYear(e);var t=parseInt(r),n;if(isNaN(t))r[0]==="\u95F0"&&(n=!0,r=r.substring(1)),r[r.length-1]==="\u6708"&&(r=r.substring(0,r.length-1)),t=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(r);else{var a=r[r.length-1];n=a==="i"||a==="I"}var o=this.toMonthIndex(e,t,n);return o},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(e,r){if(e.year&&(e=e.year()),typeof e!="number"||e<1888||e>2111)throw r.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,r,t){var n=this.intercalaryMonth(e),a=t&&r!==n;if(a||r<1||r>12)throw sl.local.invalidMonth.replace(/\{0\}/,this.local.name);var o;return n?!t&&r<=n?o=r-1:o=r:o=r-1,o},toChineseMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e),n=t?12:11;if(r<0||r>n)throw sl.local.invalidMonth.replace(/\{0\}/,this.local.name);var a;return t?r<t?a=r+1:a=r:a=r+1,a},intercalaryMonth:function(e){e=this._validateYear(e);var r=ul[e-ul[0]],t=r>>13;return t},isIntercalaryMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e);return!!t&&t===r},leapYear:function(e){return this.intercalaryMonth(e)!==0},weekOfYear:function(e,r,t){var n=this._validateYear(e,sl.local.invalidyear),a=fl[n-fl[0]],o=a>>9&4095,i=a>>5&15,l=a&31,u;u=C5.newDate(o,i,l),u.add(4-(u.dayOfWeek()||7),"d");var s=this.toJD(e,r,t)-u.toJD();return 1+Math.floor(s/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,r){e.year&&(r=e.month(),e=e.year()),e=this._validateYear(e);var t=ul[e-ul[0]],n=t>>13,a=n?12:11;if(r>a)throw sl.local.invalidMonth.replace(/\{0\}/,this.local.name);var o=t&1<<12-r?30:29;return o},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,o,t,sl.local.invalidDate);e=this._validateYear(n.year()),r=n.month(),t=n.day();var a=this.isIntercalaryMonth(e,r),o=this.toChineseMonth(e,r),i=Aue(e,o,t,a);return C5.toJD(i.year,i.month,i.day)},fromJD:function(e){var r=C5.fromJD(e),t=Tue(r.year(),r.month(),r.day()),n=this.toMonthIndex(t.year,t.month,t.isIntercalary);return this.newDate(t.year,n,t.day)},fromString:function(e){var r=e.match(xue),t=this._validateYear(+r[1]),n=+r[2],a=!!r[3],o=this.toMonthIndex(t,n,a),i=+r[4];return this.newDate(t,o,i)},add:function(e,r,t){var n=e.year(),a=e.month(),o=this.isIntercalaryMonth(n,a),i=this.toChineseMonth(n,a),l=Object.getPrototypeOf(Sd.prototype).add.call(this,e,r,t);if(t==="y"){var u=l.year(),s=l.month(),f=this.isIntercalaryMonth(u,i),h=o&&f?this.toMonthIndex(u,i,!0):this.toMonthIndex(u,i,!1);h!==s&&l.month(h)}return l}});var xue=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,_ue=/^\d?\d[iI]?/m,wue=/^闰?十?[一二三四五六七八九]?月/m,Mue=/^闰?十?[一二三四五六七八九]?/m;sl.calendars.chinese=Sd;var ul=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],fl=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function Tue(e,r,t,n){var a,o;if(typeof e=="object")a=e,o=r||{};else{var i=typeof e=="number"&&e>=1888&&e<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var l=typeof r=="number"&&r>=1&&r<=12;if(!l)throw new Error("Solar month outside range 1 - 12");var u=typeof t=="number"&&t>=1&&t<=31;if(!u)throw new Error("Solar day outside range 1 - 31");a={year:e,month:r,day:t},o=n||{}}var s=fl[a.year-fl[0]],f=a.year<<9|a.month<<5|a.day;o.year=f>=s?a.year:a.year-1,s=fl[o.year-fl[0]];var h=s>>9&4095,p=s>>5&15,_=s&31,m,w=new Date(h,p-1,_),T=new Date(a.year,a.month-1,a.day);m=Math.round((T-w)/(24*3600*1e3));var y=ul[o.year-ul[0]],k;for(k=0;k<13;k++){var S=y&1<<12-k?30:29;if(m<S)break;m-=S}var b=y>>13;return!b||k<b?(o.isIntercalary=!1,o.month=1+k):k===b?(o.isIntercalary=!0,o.month=k):(o.isIntercalary=!1,o.month=k),o.day=1+m,o}function Aue(e,r,t,n,a){var o,i;if(typeof e=="object")i=e,o=r||{};else{var l=typeof e=="number"&&e>=1888&&e<=2111;if(!l)throw new Error("Lunar year outside range 1888-2111");var u=typeof r=="number"&&r>=1&&r<=12;if(!u)throw new Error("Lunar month outside range 1 - 12");var s=typeof t=="number"&&t>=1&&t<=30;if(!s)throw new Error("Lunar day outside range 1 - 30");var f;typeof n=="object"?(f=!1,o=n):(f=!!n,o=a||{}),i={year:e,month:r,day:t,isIntercalary:f}}var h;h=i.day-1;var p=ul[i.year-ul[0]],_=p>>13,m;_&&(i.month>_||i.isIntercalary)?m=i.month:m=i.month-1;for(var w=0;w<m;w++){var T=p&1<<12-w?30:29;h+=T}var y=fl[i.year-fl[0]],k=y>>9&4095,S=y>>5&15,b=y&31,M=new Date(k,S-1,b+h);return o.year=M.getFullYear(),o.month=1+M.getMonth(),o.day=M.getDate(),o}});var rq=de(()=>{var vs=Pn(),kue=Rn();function E5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}E5.prototype=new vs.baseCalendar;kue(E5.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,vs.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,vs.local.invalidYear||vs.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,vs.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,vs.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});vs.calendars.coptic=E5});var tq=de(()=>{var mo=Pn(),Sue=Rn();function L5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}L5.prototype=new mo.baseCalendar;Sue(L5.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,mo.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,mo.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,mo.local.invalidYear),400},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,mo.local.invalidMonth);return this.daysPerMonth[t.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,mo.local.invalidDate);return(n.day()+1)%8},weekDay:function(e,r,t){var n=this.dayOfWeek(e,r,t);return n>=2&&n<=6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,mo.local.invalidDate);return{century:Cue[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(e,r,t){var n=this._validate(e,r,t,mo.local.invalidDate);return e=n.year()+(n.year()<0?1:0),r=n.month(),t=n.day(),t+(r>1?16:0)+(r>2?(r-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var r=Math.floor(e/400)+1;e-=(r-1)*400,e+=e>15?16:0;var t=Math.floor(e/32)+1,n=e-(t-1)*32+1;return this.newDate(r<=0?r-1:r,t,n)}});var Cue={20:"Fruitbat",21:"Anchovy"};mo.calendars.discworld=L5});var nq=de(()=>{var ds=Pn(),Eue=Rn();function D5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}D5.prototype=new ds.baseCalendar;Eue(D5.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,ds.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,ds.local.invalidYear||ds.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,ds.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,ds.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});ds.calendars.ethiopian=D5});var aq=de(()=>{var cl=Pn(),Lue=Rn();function R5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}R5.prototype=new cl.baseCalendar;Lue(R5.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,cl.local.invalidYear);return this._leapYear(r.year())},_leapYear:function(e){return e=e<0?e+1:e,Cd(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,cl.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,cl.local.invalidYear);return e=r.year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,cl.local.invalidMonth),r===12&&this.leapYear(e)||r===8&&Cd(this.daysInYear(e),10)===5?30:r===9&&Cd(this.daysInYear(e),10)===3?29:this.daysPerMonth[r-1]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,cl.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(e,r,t){var n=this._validate(e,r,t,cl.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=e<=0?e+1:e,o=this.jdEpoch+this._delay1(a)+this._delay2(a)+t+1;if(r<7){for(var i=7;i<=this.monthsInYear(e);i++)o+=this.daysInMonth(e,i);for(var i=1;i<r;i++)o+=this.daysInMonth(e,i)}else for(var i=7;i<r;i++)o+=this.daysInMonth(e,i);return o},_delay1:function(e){var r=Math.floor((235*e-234)/19),t=12084+13753*r,n=r*29+Math.floor(t/25920);return Cd(3*(n+1),7)<3&&n++,n},_delay2:function(e){var r=this._delay1(e-1),t=this._delay1(e),n=this._delay1(e+1);return n-t===356?2:t-r===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var r=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(r===-1?1:r+1,7,1);)r++;for(var t=e<this.toJD(r,1,1)?7:1;e>this.toJD(r,t,this.daysInMonth(r,t));)t++;var n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});function Cd(e,r){return e-r*Math.floor(e/r)}cl.calendars.hebrew=R5});var iq=de(()=>{var X0=Pn(),Due=Rn();function P5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}P5.prototype=new X0.baseCalendar;Due(P5.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,X0.local.invalidYear);return(r.year()*11+14)%30<11},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,X0.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,X0.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e=e<=0?e+1:e,t+Math.ceil(29.5*(r-1))+(e-1)*354+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=Math.floor((30*(e-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var t=Math.min(12,Math.ceil((e-29-this.toJD(r,1,1))/29.5)+1),n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});X0.calendars.islamic=P5});var oq=de(()=>{var Z0=Pn(),Rue=Rn();function I5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}I5.prototype=new Z0.baseCalendar;Rue(I5.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Z0.local.invalidYear),t=r.year()<0?r.year()+1:r.year();return t%4===0},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Z0.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,Z0.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<=2&&(e--,r+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=r+1524,n=Math.floor((t-122.1)/365.25),a=Math.floor(365.25*n),o=Math.floor((t-a)/30.6001),i=o-Math.floor(o<14?1:13),l=n-Math.floor(i>2?4716:4715),u=t-a-Math.floor(30.6001*o);return l<=0&&l--,this.newDate(l,i,u)}});Z0.calendars.julian=I5});var sq=de(()=>{var Ya=Pn(),Pue=Rn();function N5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}N5.prototype=new Ya.baseCalendar;Pue(N5.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ya.local.invalidYear),!1},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Ya.local.invalidYear);e=r.year();var t=Math.floor(e/400);e=e%400,e+=e<0?400:0;var n=Math.floor(e/20);return t+"."+n+"."+e%20},forYear:function(e){if(e=e.split("."),e.length<3)throw"Invalid Mayan year";for(var r=0,t=0;t<e.length;t++){var n=parseInt(e[t],10);if(Math.abs(n)>19||t>0&&n<0)throw"Invalid Mayan year";r=r*20+n}return r},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ya.local.invalidYear),18},weekOfYear:function(e,r,t){return this._validate(e,r,t,Ya.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ya.local.invalidYear),360},daysInMonth:function(e,r){return this._validate(e,r,this.minDay,Ya.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Ya.local.invalidDate);return n.day()},weekDay:function(e,r,t){return this._validate(e,r,t,Ya.local.invalidDate),!0},extraInfo:function(e,r,t){var n=this._validate(e,r,t,Ya.local.invalidDate),a=n.toJD(),o=this._toHaab(a),i=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[i[0]-1],tzolkinDay:i[0],tzolkinTrecena:i[1]}},_toHaab:function(e){e-=this.jdEpoch;var r=F5(e+8+17*20,365);return[Math.floor(r/20)+1,F5(r,20)]},_toTzolkin:function(e){return e-=this.jdEpoch,[lq(e+20,20),lq(e+4,13)]},toJD:function(e,r,t){var n=this._validate(e,r,t,Ya.local.invalidDate);return n.day()+n.month()*20+n.year()*360+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var r=Math.floor(e/360);e=e%360,e+=e<0?360:0;var t=Math.floor(e/20),n=e%20;return this.newDate(r,t,n)}});function F5(e,r){return e-r*Math.floor(e/r)}function lq(e,r){return F5(e-1,r)+1}Ya.calendars.mayan=N5});var fq=de(()=>{var ps=Pn(),Iue=Rn();function z5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}z5.prototype=new ps.baseCalendar;var uq=ps.instance("gregorian");Iue(z5.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,ps.local.invalidYear||ps.regionalOptions[""].invalidYear);return uq.leapYear(r.year()+(r.year()<1?1:0)+1469)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,ps.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,ps.local.invalidMonth),a=n.year();a<0&&a++;for(var o=n.day(),i=1;i<n.month();i++)o+=this.daysPerMonth[i-1];return o+uq.toJD(a+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var r=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(r+1,1,1);)r++;for(var t=e-Math.floor(this.toJD(r,1,1)+.5)+1,n=1;t>this.daysInMonth(r,n);)t-=this.daysInMonth(r,n),n++;return this.newDate(r,n,t)}});ps.calendars.nanakshahi=z5});var cq=de(()=>{var gs=Pn(),Fue=Rn();function q5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}q5.prototype=new gs.baseCalendar;Fue(q5.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,gs.local.invalidYear);if(e=r.year(),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined")return this.daysPerYear;for(var t=0,n=this.minMonth;n<=12;n++)t+=this.NEPALI_CALENDAR_DATA[e][n];return t},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,gs.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined"?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[e][r]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},toJD:function(e,r,t){var n=this._validate(e,r,t,gs.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=gs.instance(),o=0,i=r,l=e;this._createMissingCalendarData(e);var u=e-(i>9||i===9&&t>=this.NEPALI_CALENDAR_DATA[l][0]?56:57);for(r!==9&&(o=t,i--);i!==9;)i<=0&&(i=12,l--),o+=this.NEPALI_CALENDAR_DATA[l][i],i--;return r===9?(o+=t-this.NEPALI_CALENDAR_DATA[l][0],o<0&&(o+=a.daysInYear(u))):o+=this.NEPALI_CALENDAR_DATA[l][9]-this.NEPALI_CALENDAR_DATA[l][0],a.newDate(u,1,1).add(o,"d").toJD()},fromJD:function(e){var r=gs.instance(),t=r.fromJD(e),n=t.year(),a=t.dayOfYear(),o=n+56;this._createMissingCalendarData(o);for(var i=9,l=this.NEPALI_CALENDAR_DATA[o][0],u=this.NEPALI_CALENDAR_DATA[o][i]-l+1;a>u;)i++,i>12&&(i=1,o++),u+=this.NEPALI_CALENDAR_DATA[o][i];var s=this.NEPALI_CALENDAR_DATA[o][i]-(u-a);return this.newDate(o,i,s)},_createMissingCalendarData:function(e){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var t=e-1;t<e+2;t++)typeof this.NEPALI_CALENDAR_DATA[t]=="undefined"&&(this.NEPALI_CALENDAR_DATA[t]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}});gs.calendars.nepali=q5});var hq=de(()=>{var Ju=Pn(),Nue=Rn();function Ld(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function Ed(e){var r=e-475;e<0&&r++;var t=.242197,n=t*r,a=t*(r+1),o=n-Math.floor(n),i=a-Math.floor(a);return o>i}Ld.prototype=new Ju.baseCalendar;Nue(Ld.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Dey","Bah","Esf"],dayNames:["Yekshanbeh","Doshanbeh","Seshanbeh","Chah\u0101rshanbeh","Panjshanbeh","Jom'eh","Shanbeh"],dayNamesShort:["Yek","Do","Se","Cha","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Ju.local.invalidYear);return Ed(r.year())},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-((n.dayOfWeek()+1)%7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Ju.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,Ju.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=0;if(e>0)for(var o=1;o<e;o++)Ed(o)&&a++;else if(e<0)for(var o=e;o<0;o++)Ed(o)&&a--;return t+(r<=7?(r-1)*31:(r-1)*30+6)+(e>0?e-1:e)*365+a+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=475+(e-this.toJD(475,1,1))/365.242197,t=Math.floor(r);t<=0&&t--,e>this.toJD(t,12,Ed(t)?30:29)&&(t++,t===0&&t++);var n=e-this.toJD(t,1,1)+1,a=n<=186?Math.ceil(n/31):Math.ceil((n-6)/30),o=e-this.toJD(t,a,1)+1;return this.newDate(t,a,o)}});Ju.calendars.persian=Ld;Ju.calendars.jalali=Ld});var vq=de(()=>{var ys=Pn(),zue=Rn(),Dd=ys.instance();function O5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}O5.prototype=new ys.baseCalendar;zue(O5.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,ys.local.invalidYear),t=this._t2gYear(r.year());return Dd.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,ys.local.invalidYear),a=this._t2gYear(n.year());return Dd.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,ys.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,ys.local.invalidDate),a=this._t2gYear(n.year());return Dd.toJD(a,n.month(),n.day())},fromJD:function(e){var r=Dd.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}});ys.calendars.taiwan=O5});var dq=de(()=>{var ms=Pn(),que=Rn(),Rd=ms.instance();function B5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}B5.prototype=new ms.baseCalendar;que(B5.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,ms.local.invalidYear),t=this._t2gYear(r.year());return Rd.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,ms.local.invalidYear),a=this._t2gYear(n.year());return Rd.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,ms.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,ms.local.invalidDate),a=this._t2gYear(n.year());return Rd.toJD(a,n.month(),n.day())},fromJD:function(e){var r=Rd.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}});ms.calendars.thai=B5});var pq=de(()=>{var bs=Pn(),Oue=Rn();function U5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}U5.prototype=new bs.baseCalendar;Oue(U5.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,bs.local.invalidYear);return this.daysInYear(r.year())===355},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var r=0,t=1;t<=12;t++)r+=this.daysInMonth(e,t);return r},daysInMonth:function(e,r){for(var t=this._validate(e,r,this.minDay,bs.local.invalidMonth),n=t.toJD()-24e5+.5,a=0,o=0;o<hl.length;o++){if(hl[o]>n)return hl[a]-hl[a-1];a++}return 30},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,bs.local.invalidDate),a=12*(n.year()-1)+n.month()-15292,o=n.day()+hl[a-1]-1;return o+24e5-.5},fromJD:function(e){for(var r=e-24e5+.5,t=0,n=0;n<hl.length&&!(hl[n]>r);n++)t++;var a=t+15292,o=Math.floor((a-1)/12),i=o+1,l=a-12*o,u=r-hl[t-1]+1;return this.newDate(i,l,u)},isValid:function(e,r,t){var n=bs.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(e=e.year!=null?e.year:e,n=e>=1276&&e<=1500),n},_validate:function(e,r,t,n){var a=bs.baseCalendar.prototype._validate.apply(this,arguments);if(a.year<1276||a.year>1500)throw n.replace(/\{0\}/,this.local.name);return a}});bs.calendars.ummalqura=U5;var hl=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]});var yq=de((kge,gq)=>{"use strict";gq.exports=Pn();jz();eq();rq();tq();nq();aq();iq();oq();sq();fq();cq();hq();vq();dq();pq()});var Tq=de((Sge,Mq)=>{"use strict";var bq=yq(),J0=ir(),xq=nn(),Bue=xq.EPOCHJD,Uue=xq.ONEDAY,G5={valType:"enumerated",values:J0.sortObjectKeys(bq.calendars),editType:"calc",dflt:"gregorian"},_q=function(e,r,t,n){var a={};return a[t]=G5,J0.coerce(e,r,a,t,n)},Hue=function(e,r,t,n){for(var a=0;a<t.length;a++)_q(e,r,t[a]+"calendar",n.calendar)},Vue={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},Gue={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},Yue={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},Pd="##",Wue={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:Pd,w:Pd,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function Xue(e,r,t){for(var n=Math.floor((r+.05)/Uue)+Bue,a=wq(t).fromJD(n),o=0,i,l,u,s,f;(o=e.indexOf("%",o))!==-1;)i=e.charAt(o+1),i==="0"||i==="-"||i==="_"?(u=3,l=e.charAt(o+2),i==="_"&&(i="-")):(l=i,i="0",u=2),s=Wue[l],s?(s===Pd?f=Pd:f=a.formatDate(s[i]),e=e.substr(0,o)+f+e.substr(o+u),o+=f.length):o+=u;return e}var mq={};function wq(e){var r=mq[e];return r||(r=mq[e]=bq.instance(e),r)}function K0(e){return J0.extendFlat({},G5,{description:e})}function Y5(e){return"Sets the calendar system to use with `"+e+"` date data."}var V5={xcalendar:K0(Y5("x"))},Vi=J0.extendFlat({},V5,{ycalendar:K0(Y5("y"))}),H5=J0.extendFlat({},Vi,{zcalendar:K0(Y5("z"))}),Ku=K0(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));Mq.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:Vi,bar:Vi,box:Vi,heatmap:Vi,contour:Vi,histogram:Vi,histogram2d:Vi,histogram2dcontour:Vi,scatter3d:H5,surface:H5,mesh3d:H5,scattergl:Vi,ohlc:V5,candlestick:V5},layout:{calendar:K0(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:Ku},yaxis:{calendar:Ku},scene:{xaxis:{calendar:Ku},yaxis:{calendar:Ku},zaxis:{calendar:Ku}},polar:{radialaxis:{calendar:Ku}}}},layoutAttributes:G5,handleDefaults:_q,handleTraceDefaults:Hue,CANONICAL_SUNDAY:Gue,CANONICAL_TICK:Vue,DFLTRANGE:Yue,getCal:wq,worldCalFmt:Xue}});var kq=de((Cge,Aq)=>{"use strict";Aq.exports=Tq()});var Zue=de((Ege,Cq)=>{var Sq=AI();Sq.register([tN(),SN(),YN(),nz(),yz(),Rz(),Zz(),kq()]);Cq.exports=Sq});return Zue();})();
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! Bundled license information:

native-promise-only/lib/npo.src.js:
  (*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  *)

polybooljs/index.js:
  (*
   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
   * @license MIT
   * @preserve Project Home: https://github.com/voidqk/polybooljs
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)
*/

window.Plotly = Plotly;
return Plotly;
}));